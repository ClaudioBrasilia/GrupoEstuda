var iue=Object.defineProperty;var L5=t=>{throw TypeError(t)};var sue=(t,e,r)=>e in t?iue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ie=(t,e,r)=>sue(t,typeof e!="symbol"?e+"":e,r),wN=(t,e,r)=>e.has(t)||L5("Cannot "+r);var p=(t,e,r)=>(wN(t,e,"read from private field"),r?r.call(t):e.get(t)),M=(t,e,r)=>e.has(t)?L5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),k=(t,e,r,n)=>(wN(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),$=(t,e,r)=>(wN(t,e,"access private method"),r);var Fr=(t,e,r,n)=>({set _(i){k(t,e,i,r)},get _(){return p(t,e,n)}});function aue(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var HA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b9={exports:{}},nj={},x9={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA=Symbol.for("react.element"),oue=Symbol.for("react.portal"),lue=Symbol.for("react.fragment"),cue=Symbol.for("react.strict_mode"),uue=Symbol.for("react.profiler"),due=Symbol.for("react.provider"),hue=Symbol.for("react.context"),fue=Symbol.for("react.forward_ref"),pue=Symbol.for("react.suspense"),mue=Symbol.for("react.memo"),gue=Symbol.for("react.lazy"),F5=Symbol.iterator;function vue(t){return t===null||typeof t!="object"?null:(t=F5&&t[F5]||t["@@iterator"],typeof t=="function"?t:null)}var w9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S9=Object.assign,_9={};function f0(t,e,r){this.props=t,this.context=e,this.refs=_9,this.updater=r||w9}f0.prototype.isReactComponent={};f0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};f0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A9(){}A9.prototype=f0.prototype;function nF(t,e,r){this.props=t,this.context=e,this.refs=_9,this.updater=r||w9}var iF=nF.prototype=new A9;iF.constructor=nF;S9(iF,f0.prototype);iF.isPureReactComponent=!0;var B5=Array.isArray,E9=Object.prototype.hasOwnProperty,sF={current:null},C9={key:!0,ref:!0,__self:!0,__source:!0};function T9(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)E9.call(e,n)&&!C9.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:aA,type:t,key:s,ref:a,props:i,_owner:sF.current}}function yue(t,e){return{$$typeof:aA,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function aF(t){return typeof t=="object"&&t!==null&&t.$$typeof===aA}function bue(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var U5=/\/+/g;function SN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bue(""+t.key):e.toString(36)}function tC(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case aA:case oue:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+SN(a,0):n,B5(i)?(r="",t!=null&&(r=t.replace(U5,"$&/")+"/"),tC(i,e,r,"",function(c){return c})):i!=null&&(aF(i)&&(i=yue(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(U5,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",B5(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+SN(s,o);a+=tC(s,e,r,l,i)}else if(l=vue(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+SN(s,o++),a+=tC(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function WA(t,e,r){if(t==null)return t;var n=[],i=0;return tC(t,n,"","",function(s){return e.call(r,s,i++)}),n}function xue(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ts={current:null},rC={transition:null},wue={ReactCurrentDispatcher:ts,ReactCurrentBatchConfig:rC,ReactCurrentOwner:sF};function P9(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:WA,forEach:function(t,e,r){WA(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return WA(t,function(){e++}),e},toArray:function(t){return WA(t,function(e){return e})||[]},only:function(t){if(!aF(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ft.Component=f0;ft.Fragment=lue;ft.Profiler=uue;ft.PureComponent=nF;ft.StrictMode=cue;ft.Suspense=pue;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wue;ft.act=P9;ft.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=S9({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=sF.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)E9.call(e,l)&&!C9.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:aA,type:t.type,key:i,ref:s,props:n,_owner:a}};ft.createContext=function(t){return t={$$typeof:hue,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:due,_context:t},t.Consumer=t};ft.createElement=T9;ft.createFactory=function(t){var e=T9.bind(null,t);return e.type=t,e};ft.createRef=function(){return{current:null}};ft.forwardRef=function(t){return{$$typeof:fue,render:t}};ft.isValidElement=aF;ft.lazy=function(t){return{$$typeof:gue,_payload:{_status:-1,_result:t},_init:xue}};ft.memo=function(t,e){return{$$typeof:mue,type:t,compare:e===void 0?null:e}};ft.startTransition=function(t){var e=rC.transition;rC.transition={};try{t()}finally{rC.transition=e}};ft.unstable_act=P9;ft.useCallback=function(t,e){return ts.current.useCallback(t,e)};ft.useContext=function(t){return ts.current.useContext(t)};ft.useDebugValue=function(){};ft.useDeferredValue=function(t){return ts.current.useDeferredValue(t)};ft.useEffect=function(t,e){return ts.current.useEffect(t,e)};ft.useId=function(){return ts.current.useId()};ft.useImperativeHandle=function(t,e,r){return ts.current.useImperativeHandle(t,e,r)};ft.useInsertionEffect=function(t,e){return ts.current.useInsertionEffect(t,e)};ft.useLayoutEffect=function(t,e){return ts.current.useLayoutEffect(t,e)};ft.useMemo=function(t,e){return ts.current.useMemo(t,e)};ft.useReducer=function(t,e,r){return ts.current.useReducer(t,e,r)};ft.useRef=function(t){return ts.current.useRef(t)};ft.useState=function(t){return ts.current.useState(t)};ft.useSyncExternalStore=function(t,e,r){return ts.current.useSyncExternalStore(t,e,r)};ft.useTransition=function(){return ts.current.useTransition()};ft.version="18.3.1";x9.exports=ft;var E=x9.exports;const W=Mt(E),ij=aue({__proto__:null,default:W},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sue=E,_ue=Symbol.for("react.element"),Aue=Symbol.for("react.fragment"),Eue=Object.prototype.hasOwnProperty,Cue=Sue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tue={key:!0,ref:!0,__self:!0,__source:!0};function k9(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Eue.call(e,n)&&!Tue.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:_ue,type:t,key:s,ref:a,props:i,_owner:Cue.current}}nj.Fragment=Aue;nj.jsx=k9;nj.jsxs=k9;b9.exports=nj;var m=b9.exports,j9={exports:{}},Sa={},O9={exports:{}},N9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,F){var z=L.length;L.push(F);e:for(;0<z;){var K=z-1>>>1,V=L[K];if(0<i(V,F))L[K]=F,L[z]=V,z=K;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var F=L[0],z=L.pop();if(z!==F){L[0]=z;e:for(var K=0,V=L.length,G=V>>>1;K<G;){var X=2*(K+1)-1,H=L[X],Z=X+1,J=L[Z];if(0>i(H,z))Z<V&&0>i(J,H)?(L[K]=J,L[Z]=z,K=Z):(L[K]=H,L[X]=z,K=X);else if(Z<V&&0>i(J,z))L[K]=J,L[Z]=z,K=Z;else break e}}return F}function i(L,F){var z=L.sortIndex-F.sortIndex;return z!==0?z:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var F=r(c);F!==null;){if(F.callback===null)n(c);else if(F.startTime<=L)n(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=r(c)}}function S(L){if(v=!1,w(L),!g)if(r(l)!==null)g=!0,N(_);else{var F=r(c);F!==null&&j(S,F.startTime-L)}}function _(L,F){g=!1,v&&(v=!1,b(T),T=-1),f=!0;var z=h;try{for(w(F),d=r(l);d!==null&&(!(d.expirationTime>F)||L&&!I());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var V=K(d.expirationTime<=F);F=t.unstable_now(),typeof V=="function"?d.callback=V:d===r(l)&&n(l),w(F)}else n(l);d=r(l)}if(d!==null)var G=!0;else{var X=r(c);X!==null&&j(S,X.startTime-F),G=!1}return G}finally{d=null,h=z,f=!1}}var A=!1,C=null,T=-1,P=5,O=-1;function I(){return!(t.unstable_now()-O<P)}function R(){if(C!==null){var L=t.unstable_now();O=L;var F=!0;try{F=C(!0,L)}finally{F?B():(A=!1,C=null)}}else A=!1}var B;if(typeof x=="function")B=function(){x(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,U=D.port2;D.port1.onmessage=R,B=function(){U.postMessage(null)}}else B=function(){y(R,0)};function N(L){C=L,A||(A=!0,B())}function j(L,F){T=y(function(){L(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,N(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var z=h;h=F;try{return L()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=h;h=L;try{return F()}finally{h=z}},t.unstable_scheduleCallback=function(L,F,z){var K=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,L){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=z+V,L={id:u++,callback:F,priorityLevel:L,startTime:z,expirationTime:V,sortIndex:-1},z>K?(L.sortIndex=z,e(c,L),r(l)===null&&L===r(c)&&(v?(b(T),T=-1):v=!0,j(S,z-K))):(L.sortIndex=V,e(l,L),g||f||(g=!0,N(_))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var F=h;return function(){var z=h;h=F;try{return L.apply(this,arguments)}finally{h=z}}}})(N9);O9.exports=N9;var Pue=O9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kue=E,xa=Pue;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R9=new Set,Nw={};function Xm(t,e){bb(t,e),bb(t+"Capture",e)}function bb(t,e){for(Nw[t]=e,t=0;t<e.length;t++)R9.add(e[t])}var ku=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kR=Object.prototype.hasOwnProperty,jue=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V5={},z5={};function Oue(t){return kR.call(z5,t)?!0:kR.call(V5,t)?!1:jue.test(t)?z5[t]=!0:(V5[t]=!0,!1)}function Nue(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Rue(t,e,r,n){if(e===null||typeof e>"u"||Nue(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rs(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var mi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mi[t]=new rs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mi[e]=new rs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mi[t]=new rs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mi[t]=new rs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mi[t]=new rs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mi[t]=new rs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mi[t]=new rs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mi[t]=new rs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mi[t]=new rs(t,5,!1,t.toLowerCase(),null,!1,!1)});var oF=/[\-:]([a-z])/g;function lF(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oF,lF);mi[e]=new rs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oF,lF);mi[e]=new rs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oF,lF);mi[e]=new rs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mi[t]=new rs(t,1,!1,t.toLowerCase(),null,!1,!1)});mi.xlinkHref=new rs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mi[t]=new rs(t,1,!1,t.toLowerCase(),null,!0,!0)});function cF(t,e,r,n){var i=mi.hasOwnProperty(e)?mi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Rue(e,r,i,n)&&(r=null),n||i===null?Oue(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Gu=kue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,GA=Symbol.for("react.element"),zg=Symbol.for("react.portal"),Hg=Symbol.for("react.fragment"),uF=Symbol.for("react.strict_mode"),jR=Symbol.for("react.profiler"),M9=Symbol.for("react.provider"),I9=Symbol.for("react.context"),dF=Symbol.for("react.forward_ref"),OR=Symbol.for("react.suspense"),NR=Symbol.for("react.suspense_list"),hF=Symbol.for("react.memo"),hd=Symbol.for("react.lazy"),D9=Symbol.for("react.offscreen"),H5=Symbol.iterator;function G0(t){return t===null||typeof t!="object"?null:(t=H5&&t[H5]||t["@@iterator"],typeof t=="function"?t:null)}var $r=Object.assign,_N;function Ex(t){if(_N===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_N=e&&e[1]||""}return`
`+_N+t}var AN=!1;function EN(t,e){if(!t||AN)return"";AN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{AN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ex(t):""}function Mue(t){switch(t.tag){case 5:return Ex(t.type);case 16:return Ex("Lazy");case 13:return Ex("Suspense");case 19:return Ex("SuspenseList");case 0:case 2:case 15:return t=EN(t.type,!1),t;case 11:return t=EN(t.type.render,!1),t;case 1:return t=EN(t.type,!0),t;default:return""}}function RR(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hg:return"Fragment";case zg:return"Portal";case jR:return"Profiler";case uF:return"StrictMode";case OR:return"Suspense";case NR:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case I9:return(t.displayName||"Context")+".Consumer";case M9:return(t._context.displayName||"Context")+".Provider";case dF:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hF:return e=t.displayName||null,e!==null?e:RR(t.type)||"Memo";case hd:e=t._payload,t=t._init;try{return RR(t(e))}catch{}}return null}function Iue(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return RR(e);case 8:return e===uF?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Due(t){var e=$9(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qA(t){t._valueTracker||(t._valueTracker=Due(t))}function L9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=$9(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function dT(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function MR(t,e){var r=e.checked;return $r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function W5(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=zh(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F9(t,e){e=e.checked,e!=null&&cF(t,"checked",e,!1)}function IR(t,e){F9(t,e);var r=zh(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?DR(t,e.type,r):e.hasOwnProperty("defaultValue")&&DR(t,e.type,zh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function G5(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function DR(t,e,r){(e!=="number"||dT(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Cx=Array.isArray;function wv(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+zh(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $R(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return $r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function q5(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(fe(92));if(Cx(r)){if(1<r.length)throw Error(fe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:zh(r)}}function B9(t,e){var r=zh(e.value),n=zh(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function K5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LR(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var KA,V9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(KA=KA||document.createElement("div"),KA.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=KA.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rw(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var aw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$ue=["Webkit","ms","Moz","O"];Object.keys(aw).forEach(function(t){$ue.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),aw[e]=aw[t]})});function z9(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||aw.hasOwnProperty(t)&&aw[t]?(""+e).trim():e+"px"}function H9(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=z9(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Lue=$r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function FR(t,e){if(e){if(Lue[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function BR(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UR=null;function fF(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var VR=null,Sv=null,_v=null;function X5(t){if(t=cA(t)){if(typeof VR!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=cj(e),VR(t.stateNode,t.type,e))}}function W9(t){Sv?_v?_v.push(t):_v=[t]:Sv=t}function G9(){if(Sv){var t=Sv,e=_v;if(_v=Sv=null,X5(t),e)for(t=0;t<e.length;t++)X5(e[t])}}function q9(t,e){return t(e)}function K9(){}var CN=!1;function X9(t,e,r){if(CN)return t(e,r);CN=!0;try{return q9(t,e,r)}finally{CN=!1,(Sv!==null||_v!==null)&&(K9(),G9())}}function Mw(t,e){var r=t.stateNode;if(r===null)return null;var n=cj(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(fe(231,e,typeof r));return r}var zR=!1;if(ku)try{var q0={};Object.defineProperty(q0,"passive",{get:function(){zR=!0}}),window.addEventListener("test",q0,q0),window.removeEventListener("test",q0,q0)}catch{zR=!1}function Fue(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var ow=!1,hT=null,fT=!1,HR=null,Bue={onError:function(t){ow=!0,hT=t}};function Uue(t,e,r,n,i,s,a,o,l){ow=!1,hT=null,Fue.apply(Bue,arguments)}function Vue(t,e,r,n,i,s,a,o,l){if(Uue.apply(this,arguments),ow){if(ow){var c=hT;ow=!1,hT=null}else throw Error(fe(198));fT||(fT=!0,HR=c)}}function Ym(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Y9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Y5(t){if(Ym(t)!==t)throw Error(fe(188))}function zue(t){var e=t.alternate;if(!e){if(e=Ym(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Y5(i),t;if(s===n)return Y5(i),e;s=s.sibling}throw Error(fe(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?t:e}function Q9(t){return t=zue(t),t!==null?Z9(t):null}function Z9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z9(t);if(e!==null)return e;t=t.sibling}return null}var J9=xa.unstable_scheduleCallback,Q5=xa.unstable_cancelCallback,Hue=xa.unstable_shouldYield,Wue=xa.unstable_requestPaint,tn=xa.unstable_now,Gue=xa.unstable_getCurrentPriorityLevel,pF=xa.unstable_ImmediatePriority,eK=xa.unstable_UserBlockingPriority,pT=xa.unstable_NormalPriority,que=xa.unstable_LowPriority,tK=xa.unstable_IdlePriority,sj=null,ec=null;function Kue(t){if(ec&&typeof ec.onCommitFiberRoot=="function")try{ec.onCommitFiberRoot(sj,t,void 0,(t.current.flags&128)===128)}catch{}}var Zo=Math.clz32?Math.clz32:Que,Xue=Math.log,Yue=Math.LN2;function Que(t){return t>>>=0,t===0?32:31-(Xue(t)/Yue|0)|0}var XA=64,YA=4194304;function Tx(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mT(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Tx(o):(s&=a,s!==0&&(n=Tx(s)))}else a=r&~i,a!==0?n=Tx(a):s!==0&&(n=Tx(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Zo(e),i=1<<r,n|=t[r],e&=~i;return n}function Zue(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jue(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Zo(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=Zue(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function WR(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rK(){var t=XA;return XA<<=1,!(XA&4194240)&&(XA=64),t}function TN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function oA(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zo(e),t[e]=r}function ede(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Zo(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function mF(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Zo(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ht=0;function nK(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iK,gF,sK,aK,oK,GR=!1,QA=[],jh=null,Oh=null,Nh=null,Iw=new Map,Dw=new Map,yd=[],tde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z5(t,e){switch(t){case"focusin":case"focusout":jh=null;break;case"dragenter":case"dragleave":Oh=null;break;case"mouseover":case"mouseout":Nh=null;break;case"pointerover":case"pointerout":Iw.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dw.delete(e.pointerId)}}function K0(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cA(e),e!==null&&gF(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rde(t,e,r,n,i){switch(e){case"focusin":return jh=K0(jh,t,e,r,n,i),!0;case"dragenter":return Oh=K0(Oh,t,e,r,n,i),!0;case"mouseover":return Nh=K0(Nh,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Iw.set(s,K0(Iw.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Dw.set(s,K0(Dw.get(s)||null,t,e,r,n,i)),!0}return!1}function lK(t){var e=Bf(t.target);if(e!==null){var r=Ym(e);if(r!==null){if(e=r.tag,e===13){if(e=Y9(r),e!==null){t.blockedOn=e,oK(t.priority,function(){sK(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nC(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=qR(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);UR=n,r.target.dispatchEvent(n),UR=null}else return e=cA(r),e!==null&&gF(e),t.blockedOn=r,!1;e.shift()}return!0}function J5(t,e,r){nC(t)&&r.delete(e)}function nde(){GR=!1,jh!==null&&nC(jh)&&(jh=null),Oh!==null&&nC(Oh)&&(Oh=null),Nh!==null&&nC(Nh)&&(Nh=null),Iw.forEach(J5),Dw.forEach(J5)}function X0(t,e){t.blockedOn===e&&(t.blockedOn=null,GR||(GR=!0,xa.unstable_scheduleCallback(xa.unstable_NormalPriority,nde)))}function $w(t){function e(i){return X0(i,t)}if(0<QA.length){X0(QA[0],t);for(var r=1;r<QA.length;r++){var n=QA[r];n.blockedOn===t&&(n.blockedOn=null)}}for(jh!==null&&X0(jh,t),Oh!==null&&X0(Oh,t),Nh!==null&&X0(Nh,t),Iw.forEach(e),Dw.forEach(e),r=0;r<yd.length;r++)n=yd[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<yd.length&&(r=yd[0],r.blockedOn===null);)lK(r),r.blockedOn===null&&yd.shift()}var Av=Gu.ReactCurrentBatchConfig,gT=!0;function ide(t,e,r,n){var i=Ht,s=Av.transition;Av.transition=null;try{Ht=1,vF(t,e,r,n)}finally{Ht=i,Av.transition=s}}function sde(t,e,r,n){var i=Ht,s=Av.transition;Av.transition=null;try{Ht=4,vF(t,e,r,n)}finally{Ht=i,Av.transition=s}}function vF(t,e,r,n){if(gT){var i=qR(t,e,r,n);if(i===null)$N(t,e,n,vT,r),Z5(t,n);else if(rde(i,t,e,r,n))n.stopPropagation();else if(Z5(t,n),e&4&&-1<tde.indexOf(t)){for(;i!==null;){var s=cA(i);if(s!==null&&iK(s),s=qR(t,e,r,n),s===null&&$N(t,e,n,vT,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else $N(t,e,n,null,r)}}var vT=null;function qR(t,e,r,n){if(vT=null,t=fF(n),t=Bf(t),t!==null)if(e=Ym(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Y9(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vT=t,null}function cK(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gue()){case pF:return 1;case eK:return 4;case pT:case que:return 16;case tK:return 536870912;default:return 16}default:return 16}}var _h=null,yF=null,iC=null;function uK(){if(iC)return iC;var t,e=yF,r=e.length,n,i="value"in _h?_h.value:_h.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return iC=i.slice(t,1<n?1-n:void 0)}function sC(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ZA(){return!0}function eU(){return!1}function _a(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ZA:eU,this.isPropagationStopped=eU,this}return $r(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ZA)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ZA)},persist:function(){},isPersistent:ZA}),e}var p0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bF=_a(p0),lA=$r({},p0,{view:0,detail:0}),ade=_a(lA),PN,kN,Y0,aj=$r({},lA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xF,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Y0&&(Y0&&t.type==="mousemove"?(PN=t.screenX-Y0.screenX,kN=t.screenY-Y0.screenY):kN=PN=0,Y0=t),PN)},movementY:function(t){return"movementY"in t?t.movementY:kN}}),tU=_a(aj),ode=$r({},aj,{dataTransfer:0}),lde=_a(ode),cde=$r({},lA,{relatedTarget:0}),jN=_a(cde),ude=$r({},p0,{animationName:0,elapsedTime:0,pseudoElement:0}),dde=_a(ude),hde=$r({},p0,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fde=_a(hde),pde=$r({},p0,{data:0}),rU=_a(pde),mde={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gde={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vde={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yde(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vde[t])?!!e[t]:!1}function xF(){return yde}var bde=$r({},lA,{key:function(t){if(t.key){var e=mde[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sC(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gde[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xF,charCode:function(t){return t.type==="keypress"?sC(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sC(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xde=_a(bde),wde=$r({},aj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nU=_a(wde),Sde=$r({},lA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xF}),_de=_a(Sde),Ade=$r({},p0,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ede=_a(Ade),Cde=$r({},aj,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tde=_a(Cde),Pde=[9,13,27,32],wF=ku&&"CompositionEvent"in window,lw=null;ku&&"documentMode"in document&&(lw=document.documentMode);var kde=ku&&"TextEvent"in window&&!lw,dK=ku&&(!wF||lw&&8<lw&&11>=lw),iU=" ",sU=!1;function hK(t,e){switch(t){case"keyup":return Pde.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fK(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wg=!1;function jde(t,e){switch(t){case"compositionend":return fK(e);case"keypress":return e.which!==32?null:(sU=!0,iU);case"textInput":return t=e.data,t===iU&&sU?null:t;default:return null}}function Ode(t,e){if(Wg)return t==="compositionend"||!wF&&hK(t,e)?(t=uK(),iC=yF=_h=null,Wg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dK&&e.locale!=="ko"?null:e.data;default:return null}}var Nde={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aU(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nde[t.type]:e==="textarea"}function pK(t,e,r,n){W9(n),e=yT(e,"onChange"),0<e.length&&(r=new bF("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var cw=null,Lw=null;function Rde(t){EK(t,0)}function oj(t){var e=Kg(t);if(L9(e))return t}function Mde(t,e){if(t==="change")return e}var mK=!1;if(ku){var ON;if(ku){var NN="oninput"in document;if(!NN){var oU=document.createElement("div");oU.setAttribute("oninput","return;"),NN=typeof oU.oninput=="function"}ON=NN}else ON=!1;mK=ON&&(!document.documentMode||9<document.documentMode)}function lU(){cw&&(cw.detachEvent("onpropertychange",gK),Lw=cw=null)}function gK(t){if(t.propertyName==="value"&&oj(Lw)){var e=[];pK(e,Lw,t,fF(t)),X9(Rde,e)}}function Ide(t,e,r){t==="focusin"?(lU(),cw=e,Lw=r,cw.attachEvent("onpropertychange",gK)):t==="focusout"&&lU()}function Dde(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oj(Lw)}function $de(t,e){if(t==="click")return oj(e)}function Lde(t,e){if(t==="input"||t==="change")return oj(e)}function Fde(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rl=typeof Object.is=="function"?Object.is:Fde;function Fw(t,e){if(rl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!kR.call(e,i)||!rl(t[i],e[i]))return!1}return!0}function cU(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uU(t,e){var r=cU(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cU(r)}}function vK(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vK(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yK(){for(var t=window,e=dT();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=dT(t.document)}return e}function SF(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bde(t){var e=yK(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&vK(r.ownerDocument.documentElement,r)){if(n!==null&&SF(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=uU(r,s);var a=uU(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ude=ku&&"documentMode"in document&&11>=document.documentMode,Gg=null,KR=null,uw=null,XR=!1;function dU(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;XR||Gg==null||Gg!==dT(n)||(n=Gg,"selectionStart"in n&&SF(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),uw&&Fw(uw,n)||(uw=n,n=yT(KR,"onSelect"),0<n.length&&(e=new bF("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Gg)))}function JA(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var qg={animationend:JA("Animation","AnimationEnd"),animationiteration:JA("Animation","AnimationIteration"),animationstart:JA("Animation","AnimationStart"),transitionend:JA("Transition","TransitionEnd")},RN={},bK={};ku&&(bK=document.createElement("div").style,"AnimationEvent"in window||(delete qg.animationend.animation,delete qg.animationiteration.animation,delete qg.animationstart.animation),"TransitionEvent"in window||delete qg.transitionend.transition);function lj(t){if(RN[t])return RN[t];if(!qg[t])return t;var e=qg[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in bK)return RN[t]=e[r];return t}var xK=lj("animationend"),wK=lj("animationiteration"),SK=lj("animationstart"),_K=lj("transitionend"),AK=new Map,hU="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sf(t,e){AK.set(t,e),Xm(e,[t])}for(var MN=0;MN<hU.length;MN++){var IN=hU[MN],Vde=IN.toLowerCase(),zde=IN[0].toUpperCase()+IN.slice(1);sf(Vde,"on"+zde)}sf(xK,"onAnimationEnd");sf(wK,"onAnimationIteration");sf(SK,"onAnimationStart");sf("dblclick","onDoubleClick");sf("focusin","onFocus");sf("focusout","onBlur");sf(_K,"onTransitionEnd");bb("onMouseEnter",["mouseout","mouseover"]);bb("onMouseLeave",["mouseout","mouseover"]);bb("onPointerEnter",["pointerout","pointerover"]);bb("onPointerLeave",["pointerout","pointerover"]);Xm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Px="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hde=new Set("cancel close invalid load scroll toggle".split(" ").concat(Px));function fU(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Vue(n,e,void 0,t),t.currentTarget=null}function EK(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;fU(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;fU(i,o,c),s=l}}}if(fT)throw t=HR,fT=!1,HR=null,t}function mr(t,e){var r=e[eM];r===void 0&&(r=e[eM]=new Set);var n=t+"__bubble";r.has(n)||(CK(e,t,2,!1),r.add(n))}function DN(t,e,r){var n=0;e&&(n|=4),CK(r,t,n,e)}var eE="_reactListening"+Math.random().toString(36).slice(2);function Bw(t){if(!t[eE]){t[eE]=!0,R9.forEach(function(r){r!=="selectionchange"&&(Hde.has(r)||DN(r,!1,t),DN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[eE]||(e[eE]=!0,DN("selectionchange",!1,e))}}function CK(t,e,r,n){switch(cK(e)){case 1:var i=ide;break;case 4:i=sde;break;default:i=vF}r=i.bind(null,e,r,t),i=void 0,!zR||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function $N(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Bf(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}X9(function(){var c=s,u=fF(r),d=[];e:{var h=AK.get(t);if(h!==void 0){var f=bF,g=t;switch(t){case"keypress":if(sC(r)===0)break e;case"keydown":case"keyup":f=xde;break;case"focusin":g="focus",f=jN;break;case"focusout":g="blur",f=jN;break;case"beforeblur":case"afterblur":f=jN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=tU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=lde;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=_de;break;case xK:case wK:case SK:f=dde;break;case _K:f=Ede;break;case"scroll":f=ade;break;case"wheel":f=Tde;break;case"copy":case"cut":case"paste":f=fde;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=nU}var v=(e&4)!==0,y=!v&&t==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var x=c,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,b!==null&&(S=Mw(x,b),S!=null&&v.push(Uw(x,S,w)))),y)break;x=x.return}0<v.length&&(h=new f(h,g,null,r,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==UR&&(g=r.relatedTarget||r.fromElement)&&(Bf(g)||g[ju]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=c,g=g?Bf(g):null,g!==null&&(y=Ym(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(v=tU,S="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=nU,S="onPointerLeave",b="onPointerEnter",x="pointer"),y=f==null?h:Kg(f),w=g==null?h:Kg(g),h=new v(S,x+"leave",f,r,u),h.target=y,h.relatedTarget=w,S=null,Bf(u)===c&&(v=new v(b,x+"enter",g,r,u),v.target=w,v.relatedTarget=y,S=v),y=S,f&&g)t:{for(v=f,b=g,x=0,w=v;w;w=lg(w))x++;for(w=0,S=b;S;S=lg(S))w++;for(;0<x-w;)v=lg(v),x--;for(;0<w-x;)b=lg(b),w--;for(;x--;){if(v===b||b!==null&&v===b.alternate)break t;v=lg(v),b=lg(b)}v=null}else v=null;f!==null&&pU(d,h,f,v,!1),g!==null&&y!==null&&pU(d,y,g,v,!0)}}e:{if(h=c?Kg(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var _=Mde;else if(aU(h))if(mK)_=Lde;else{_=Dde;var A=Ide}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=$de);if(_&&(_=_(t,c))){pK(d,_,r,u);break e}A&&A(t,h,c),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&DR(h,"number",h.value)}switch(A=c?Kg(c):window,t){case"focusin":(aU(A)||A.contentEditable==="true")&&(Gg=A,KR=c,uw=null);break;case"focusout":uw=KR=Gg=null;break;case"mousedown":XR=!0;break;case"contextmenu":case"mouseup":case"dragend":XR=!1,dU(d,r,u);break;case"selectionchange":if(Ude)break;case"keydown":case"keyup":dU(d,r,u)}var C;if(wF)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Wg?hK(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(dK&&r.locale!=="ko"&&(Wg||T!=="onCompositionStart"?T==="onCompositionEnd"&&Wg&&(C=uK()):(_h=u,yF="value"in _h?_h.value:_h.textContent,Wg=!0)),A=yT(c,T),0<A.length&&(T=new rU(T,t,null,r,u),d.push({event:T,listeners:A}),C?T.data=C:(C=fK(r),C!==null&&(T.data=C)))),(C=kde?jde(t,r):Ode(t,r))&&(c=yT(c,"onBeforeInput"),0<c.length&&(u=new rU("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=C))}EK(d,e)})}function Uw(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yT(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Mw(t,r),s!=null&&n.unshift(Uw(t,s,i)),s=Mw(t,e),s!=null&&n.push(Uw(t,s,i))),t=t.return}return n}function lg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pU(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Mw(r,s),l!=null&&a.unshift(Uw(r,l,o))):i||(l=Mw(r,s),l!=null&&a.push(Uw(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Wde=/\r\n?/g,Gde=/\u0000|\uFFFD/g;function mU(t){return(typeof t=="string"?t:""+t).replace(Wde,`
`).replace(Gde,"")}function tE(t,e,r){if(e=mU(e),mU(t)!==e&&r)throw Error(fe(425))}function bT(){}var YR=null,QR=null;function ZR(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var JR=typeof setTimeout=="function"?setTimeout:void 0,qde=typeof clearTimeout=="function"?clearTimeout:void 0,gU=typeof Promise=="function"?Promise:void 0,Kde=typeof queueMicrotask=="function"?queueMicrotask:typeof gU<"u"?function(t){return gU.resolve(null).then(t).catch(Xde)}:JR;function Xde(t){setTimeout(function(){throw t})}function LN(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),$w(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);$w(e)}function Rh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vU(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var m0=Math.random().toString(36).slice(2),Ul="__reactFiber$"+m0,Vw="__reactProps$"+m0,ju="__reactContainer$"+m0,eM="__reactEvents$"+m0,Yde="__reactListeners$"+m0,Qde="__reactHandles$"+m0;function Bf(t){var e=t[Ul];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ju]||r[Ul]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=vU(t);t!==null;){if(r=t[Ul])return r;t=vU(t)}return e}t=r,r=t.parentNode}return null}function cA(t){return t=t[Ul]||t[ju],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function cj(t){return t[Vw]||null}var tM=[],Xg=-1;function af(t){return{current:t}}function br(t){0>Xg||(t.current=tM[Xg],tM[Xg]=null,Xg--)}function ur(t,e){Xg++,tM[Xg]=t.current,t.current=e}var Hh={},Mi=af(Hh),_s=af(!1),_m=Hh;function xb(t,e){var r=t.type.contextTypes;if(!r)return Hh;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function As(t){return t=t.childContextTypes,t!=null}function xT(){br(_s),br(Mi)}function yU(t,e,r){if(Mi.current!==Hh)throw Error(fe(168));ur(Mi,e),ur(_s,r)}function TK(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(fe(108,Iue(t)||"Unknown",i));return $r({},r,n)}function wT(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hh,_m=Mi.current,ur(Mi,t),ur(_s,_s.current),!0}function bU(t,e,r){var n=t.stateNode;if(!n)throw Error(fe(169));r?(t=TK(t,e,_m),n.__reactInternalMemoizedMergedChildContext=t,br(_s),br(Mi),ur(Mi,t)):br(_s),ur(_s,r)}var Oc=null,uj=!1,FN=!1;function PK(t){Oc===null?Oc=[t]:Oc.push(t)}function Zde(t){uj=!0,PK(t)}function of(){if(!FN&&Oc!==null){FN=!0;var t=0,e=Ht;try{var r=Oc;for(Ht=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Oc=null,uj=!1}catch(i){throw Oc!==null&&(Oc=Oc.slice(t+1)),J9(pF,of),i}finally{Ht=e,FN=!1}}return null}var Yg=[],Qg=0,ST=null,_T=0,Ga=[],qa=0,Am=null,vu=1,yu="";function Af(t,e){Yg[Qg++]=_T,Yg[Qg++]=ST,ST=t,_T=e}function kK(t,e,r){Ga[qa++]=vu,Ga[qa++]=yu,Ga[qa++]=Am,Am=t;var n=vu;t=yu;var i=32-Zo(n)-1;n&=~(1<<i),r+=1;var s=32-Zo(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,vu=1<<32-Zo(e)+i|r<<i|n,yu=s+t}else vu=1<<s|r<<i|n,yu=t}function _F(t){t.return!==null&&(Af(t,1),kK(t,1,0))}function AF(t){for(;t===ST;)ST=Yg[--Qg],Yg[Qg]=null,_T=Yg[--Qg],Yg[Qg]=null;for(;t===Am;)Am=Ga[--qa],Ga[qa]=null,yu=Ga[--qa],Ga[qa]=null,vu=Ga[--qa],Ga[qa]=null}var ma=null,fa=null,Er=!1,Go=null;function jK(t,e){var r=Ya(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function xU(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ma=t,fa=Rh(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ma=t,fa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Am!==null?{id:vu,overflow:yu}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ya(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ma=t,fa=null,!0):!1;default:return!1}}function rM(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nM(t){if(Er){var e=fa;if(e){var r=e;if(!xU(t,e)){if(rM(t))throw Error(fe(418));e=Rh(r.nextSibling);var n=ma;e&&xU(t,e)?jK(n,r):(t.flags=t.flags&-4097|2,Er=!1,ma=t)}}else{if(rM(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Er=!1,ma=t}}}function wU(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ma=t}function rE(t){if(t!==ma)return!1;if(!Er)return wU(t),Er=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ZR(t.type,t.memoizedProps)),e&&(e=fa)){if(rM(t))throw OK(),Error(fe(418));for(;e;)jK(t,e),e=Rh(e.nextSibling)}if(wU(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fa=Rh(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fa=null}}else fa=ma?Rh(t.stateNode.nextSibling):null;return!0}function OK(){for(var t=fa;t;)t=Rh(t.nextSibling)}function wb(){fa=ma=null,Er=!1}function EF(t){Go===null?Go=[t]:Go.push(t)}var Jde=Gu.ReactCurrentBatchConfig;function Q0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,t))}return t}function nE(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function SU(t){var e=t._init;return e(t._payload)}function NK(t){function e(b,x){if(t){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function r(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=$h(b,x),b.index=0,b.sibling=null,b}function s(b,x,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function o(b,x,w,S){return x===null||x.tag!==6?(x=GN(w,b.mode,S),x.return=b,x):(x=i(x,w),x.return=b,x)}function l(b,x,w,S){var _=w.type;return _===Hg?u(b,x,w.props.children,S,w.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===hd&&SU(_)===x.type)?(S=i(x,w.props),S.ref=Q0(b,x,w),S.return=b,S):(S=hC(w.type,w.key,w.props,null,b.mode,S),S.ref=Q0(b,x,w),S.return=b,S)}function c(b,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=qN(w,b.mode,S),x.return=b,x):(x=i(x,w.children||[]),x.return=b,x)}function u(b,x,w,S,_){return x===null||x.tag!==7?(x=vm(w,b.mode,S,_),x.return=b,x):(x=i(x,w),x.return=b,x)}function d(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=GN(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case GA:return w=hC(x.type,x.key,x.props,null,b.mode,w),w.ref=Q0(b,null,x),w.return=b,w;case zg:return x=qN(x,b.mode,w),x.return=b,x;case hd:var S=x._init;return d(b,S(x._payload),w)}if(Cx(x)||G0(x))return x=vm(x,b.mode,w,null),x.return=b,x;nE(b,x)}return null}function h(b,x,w,S){var _=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(b,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case GA:return w.key===_?l(b,x,w,S):null;case zg:return w.key===_?c(b,x,w,S):null;case hd:return _=w._init,h(b,x,_(w._payload),S)}if(Cx(w)||G0(w))return _!==null?null:u(b,x,w,S,null);nE(b,w)}return null}function f(b,x,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(w)||null,o(x,b,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case GA:return b=b.get(S.key===null?w:S.key)||null,l(x,b,S,_);case zg:return b=b.get(S.key===null?w:S.key)||null,c(x,b,S,_);case hd:var A=S._init;return f(b,x,w,A(S._payload),_)}if(Cx(S)||G0(S))return b=b.get(w)||null,u(x,b,S,_,null);nE(x,S)}return null}function g(b,x,w,S){for(var _=null,A=null,C=x,T=x=0,P=null;C!==null&&T<w.length;T++){C.index>T?(P=C,C=null):P=C.sibling;var O=h(b,C,w[T],S);if(O===null){C===null&&(C=P);break}t&&C&&O.alternate===null&&e(b,C),x=s(O,x,T),A===null?_=O:A.sibling=O,A=O,C=P}if(T===w.length)return r(b,C),Er&&Af(b,T),_;if(C===null){for(;T<w.length;T++)C=d(b,w[T],S),C!==null&&(x=s(C,x,T),A===null?_=C:A.sibling=C,A=C);return Er&&Af(b,T),_}for(C=n(b,C);T<w.length;T++)P=f(C,b,T,w[T],S),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),x=s(P,x,T),A===null?_=P:A.sibling=P,A=P);return t&&C.forEach(function(I){return e(b,I)}),Er&&Af(b,T),_}function v(b,x,w,S){var _=G0(w);if(typeof _!="function")throw Error(fe(150));if(w=_.call(w),w==null)throw Error(fe(151));for(var A=_=null,C=x,T=x=0,P=null,O=w.next();C!==null&&!O.done;T++,O=w.next()){C.index>T?(P=C,C=null):P=C.sibling;var I=h(b,C,O.value,S);if(I===null){C===null&&(C=P);break}t&&C&&I.alternate===null&&e(b,C),x=s(I,x,T),A===null?_=I:A.sibling=I,A=I,C=P}if(O.done)return r(b,C),Er&&Af(b,T),_;if(C===null){for(;!O.done;T++,O=w.next())O=d(b,O.value,S),O!==null&&(x=s(O,x,T),A===null?_=O:A.sibling=O,A=O);return Er&&Af(b,T),_}for(C=n(b,C);!O.done;T++,O=w.next())O=f(C,b,T,O.value,S),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?T:O.key),x=s(O,x,T),A===null?_=O:A.sibling=O,A=O);return t&&C.forEach(function(R){return e(b,R)}),Er&&Af(b,T),_}function y(b,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Hg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case GA:e:{for(var _=w.key,A=x;A!==null;){if(A.key===_){if(_=w.type,_===Hg){if(A.tag===7){r(b,A.sibling),x=i(A,w.props.children),x.return=b,b=x;break e}}else if(A.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===hd&&SU(_)===A.type){r(b,A.sibling),x=i(A,w.props),x.ref=Q0(b,A,w),x.return=b,b=x;break e}r(b,A);break}else e(b,A);A=A.sibling}w.type===Hg?(x=vm(w.props.children,b.mode,S,w.key),x.return=b,b=x):(S=hC(w.type,w.key,w.props,null,b.mode,S),S.ref=Q0(b,x,w),S.return=b,b=S)}return a(b);case zg:e:{for(A=w.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(b,x.sibling),x=i(x,w.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else e(b,x);x=x.sibling}x=qN(w,b.mode,S),x.return=b,b=x}return a(b);case hd:return A=w._init,y(b,x,A(w._payload),S)}if(Cx(w))return g(b,x,w,S);if(G0(w))return v(b,x,w,S);nE(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(b,x.sibling),x=i(x,w),x.return=b,b=x):(r(b,x),x=GN(w,b.mode,S),x.return=b,b=x),a(b)):r(b,x)}return y}var Sb=NK(!0),RK=NK(!1),AT=af(null),ET=null,Zg=null,CF=null;function TF(){CF=Zg=ET=null}function PF(t){var e=AT.current;br(AT),t._currentValue=e}function iM(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ev(t,e){ET=t,CF=Zg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ws=!0),t.firstContext=null)}function io(t){var e=t._currentValue;if(CF!==t)if(t={context:t,memoizedValue:e,next:null},Zg===null){if(ET===null)throw Error(fe(308));Zg=t,ET.dependencies={lanes:0,firstContext:t}}else Zg=Zg.next=t;return e}var Uf=null;function kF(t){Uf===null?Uf=[t]:Uf.push(t)}function MK(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,kF(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ou(t,n)}function Ou(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var fd=!1;function jF(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IK(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _u(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mh(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,xt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ou(t,r)}return i=n.interleaved,i===null?(e.next=e,kF(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ou(t,r)}function aC(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mF(t,r)}}function _U(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function CT(t,e,r,n){var i=t.updateQueue;fd=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var h=o.lane,f=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,v=o;switch(h=e,f=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=$r({},d,h);break e;case 2:fd=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cm|=a,t.lanes=a,t.memoizedState=d}}function AU(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(fe(191,i));i.call(n)}}}var uA={},tc=af(uA),zw=af(uA),Hw=af(uA);function Vf(t){if(t===uA)throw Error(fe(174));return t}function OF(t,e){switch(ur(Hw,e),ur(zw,t),ur(tc,uA),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:LR(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=LR(e,t)}br(tc),ur(tc,e)}function _b(){br(tc),br(zw),br(Hw)}function DK(t){Vf(Hw.current);var e=Vf(tc.current),r=LR(e,t.type);e!==r&&(ur(zw,t),ur(tc,r))}function NF(t){zw.current===t&&(br(tc),br(zw))}var Nr=af(0);function TT(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var BN=[];function RF(){for(var t=0;t<BN.length;t++)BN[t]._workInProgressVersionPrimary=null;BN.length=0}var oC=Gu.ReactCurrentDispatcher,UN=Gu.ReactCurrentBatchConfig,Em=0,Ir=null,Pn=null,Hn=null,PT=!1,dw=!1,Ww=0,ehe=0;function yi(){throw Error(fe(321))}function MF(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!rl(t[r],e[r]))return!1;return!0}function IF(t,e,r,n,i,s){if(Em=s,Ir=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oC.current=t===null||t.memoizedState===null?ihe:she,t=r(n,i),dw){s=0;do{if(dw=!1,Ww=0,25<=s)throw Error(fe(301));s+=1,Hn=Pn=null,e.updateQueue=null,oC.current=ahe,t=r(n,i)}while(dw)}if(oC.current=kT,e=Pn!==null&&Pn.next!==null,Em=0,Hn=Pn=Ir=null,PT=!1,e)throw Error(fe(300));return t}function DF(){var t=Ww!==0;return Ww=0,t}function hl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Ir.memoizedState=Hn=t:Hn=Hn.next=t,Hn}function so(){if(Pn===null){var t=Ir.alternate;t=t!==null?t.memoizedState:null}else t=Pn.next;var e=Hn===null?Ir.memoizedState:Hn.next;if(e!==null)Hn=e,Pn=t;else{if(t===null)throw Error(fe(310));Pn=t,t={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},Hn===null?Ir.memoizedState=Hn=t:Hn=Hn.next=t}return Hn}function Gw(t,e){return typeof e=="function"?e(t):e}function VN(t){var e=so(),r=e.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=t;var n=Pn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Em&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,Ir.lanes|=u,Cm|=u}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,rl(n,e.memoizedState)||(ws=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ir.lanes|=s,Cm|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function zN(t){var e=so(),r=e.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);rl(s,e.memoizedState)||(ws=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function $K(){}function LK(t,e){var r=Ir,n=so(),i=e(),s=!rl(n.memoizedState,i);if(s&&(n.memoizedState=i,ws=!0),n=n.queue,$F(UK.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Hn!==null&&Hn.memoizedState.tag&1){if(r.flags|=2048,qw(9,BK.bind(null,r,n,i,e),void 0,null),Kn===null)throw Error(fe(349));Em&30||FK(r,e,i)}return i}function FK(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ir.updateQueue,e===null?(e={lastEffect:null,stores:null},Ir.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function BK(t,e,r,n){e.value=r,e.getSnapshot=n,VK(e)&&zK(t)}function UK(t,e,r){return r(function(){VK(e)&&zK(t)})}function VK(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!rl(t,r)}catch{return!0}}function zK(t){var e=Ou(t,1);e!==null&&Jo(e,t,1,-1)}function EU(t){var e=hl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gw,lastRenderedState:t},e.queue=t,t=t.dispatch=nhe.bind(null,Ir,t),[e.memoizedState,t]}function qw(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ir.updateQueue,e===null?(e={lastEffect:null,stores:null},Ir.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function HK(){return so().memoizedState}function lC(t,e,r,n){var i=hl();Ir.flags|=t,i.memoizedState=qw(1|e,r,void 0,n===void 0?null:n)}function dj(t,e,r,n){var i=so();n=n===void 0?null:n;var s=void 0;if(Pn!==null){var a=Pn.memoizedState;if(s=a.destroy,n!==null&&MF(n,a.deps)){i.memoizedState=qw(e,r,s,n);return}}Ir.flags|=t,i.memoizedState=qw(1|e,r,s,n)}function CU(t,e){return lC(8390656,8,t,e)}function $F(t,e){return dj(2048,8,t,e)}function WK(t,e){return dj(4,2,t,e)}function GK(t,e){return dj(4,4,t,e)}function qK(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KK(t,e,r){return r=r!=null?r.concat([t]):null,dj(4,4,qK.bind(null,e,t),r)}function LF(){}function XK(t,e){var r=so();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&MF(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function YK(t,e){var r=so();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&MF(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function QK(t,e,r){return Em&21?(rl(r,e)||(r=rK(),Ir.lanes|=r,Cm|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ws=!0),t.memoizedState=r)}function the(t,e){var r=Ht;Ht=r!==0&&4>r?r:4,t(!0);var n=UN.transition;UN.transition={};try{t(!1),e()}finally{Ht=r,UN.transition=n}}function ZK(){return so().memoizedState}function rhe(t,e,r){var n=Dh(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},JK(t))e7(e,r);else if(r=MK(t,e,r,n),r!==null){var i=Ji();Jo(r,t,n,i),t7(r,e,n)}}function nhe(t,e,r){var n=Dh(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(JK(t))e7(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,rl(o,a)){var l=e.interleaved;l===null?(i.next=i,kF(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=MK(t,e,i,n),r!==null&&(i=Ji(),Jo(r,t,n,i),t7(r,e,n))}}function JK(t){var e=t.alternate;return t===Ir||e!==null&&e===Ir}function e7(t,e){dw=PT=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function t7(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mF(t,r)}}var kT={readContext:io,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},ihe={readContext:io,useCallback:function(t,e){return hl().memoizedState=[t,e===void 0?null:e],t},useContext:io,useEffect:CU,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,lC(4194308,4,qK.bind(null,e,t),r)},useLayoutEffect:function(t,e){return lC(4194308,4,t,e)},useInsertionEffect:function(t,e){return lC(4,2,t,e)},useMemo:function(t,e){var r=hl();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=hl();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=rhe.bind(null,Ir,t),[n.memoizedState,t]},useRef:function(t){var e=hl();return t={current:t},e.memoizedState=t},useState:EU,useDebugValue:LF,useDeferredValue:function(t){return hl().memoizedState=t},useTransition:function(){var t=EU(!1),e=t[0];return t=the.bind(null,t[1]),hl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ir,i=hl();if(Er){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=e(),Kn===null)throw Error(fe(349));Em&30||FK(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,CU(UK.bind(null,n,s,t),[t]),n.flags|=2048,qw(9,BK.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=hl(),e=Kn.identifierPrefix;if(Er){var r=yu,n=vu;r=(n&~(1<<32-Zo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ww++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ehe++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},she={readContext:io,useCallback:XK,useContext:io,useEffect:$F,useImperativeHandle:KK,useInsertionEffect:WK,useLayoutEffect:GK,useMemo:YK,useReducer:VN,useRef:HK,useState:function(){return VN(Gw)},useDebugValue:LF,useDeferredValue:function(t){var e=so();return QK(e,Pn.memoizedState,t)},useTransition:function(){var t=VN(Gw)[0],e=so().memoizedState;return[t,e]},useMutableSource:$K,useSyncExternalStore:LK,useId:ZK,unstable_isNewReconciler:!1},ahe={readContext:io,useCallback:XK,useContext:io,useEffect:$F,useImperativeHandle:KK,useInsertionEffect:WK,useLayoutEffect:GK,useMemo:YK,useReducer:zN,useRef:HK,useState:function(){return zN(Gw)},useDebugValue:LF,useDeferredValue:function(t){var e=so();return Pn===null?e.memoizedState=t:QK(e,Pn.memoizedState,t)},useTransition:function(){var t=zN(Gw)[0],e=so().memoizedState;return[t,e]},useMutableSource:$K,useSyncExternalStore:LK,useId:ZK,unstable_isNewReconciler:!1};function Co(t,e){if(t&&t.defaultProps){e=$r({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function sM(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:$r({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hj={isMounted:function(t){return(t=t._reactInternals)?Ym(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ji(),i=Dh(t),s=_u(n,i);s.payload=e,r!=null&&(s.callback=r),e=Mh(t,s,i),e!==null&&(Jo(e,t,i,n),aC(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ji(),i=Dh(t),s=_u(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Mh(t,s,i),e!==null&&(Jo(e,t,i,n),aC(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ji(),n=Dh(t),i=_u(r,n);i.tag=2,e!=null&&(i.callback=e),e=Mh(t,i,n),e!==null&&(Jo(e,t,n,r),aC(e,t,n))}};function TU(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Fw(r,n)||!Fw(i,s):!0}function r7(t,e,r){var n=!1,i=Hh,s=e.contextType;return typeof s=="object"&&s!==null?s=io(s):(i=As(e)?_m:Mi.current,n=e.contextTypes,s=(n=n!=null)?xb(t,i):Hh),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hj,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function PU(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&hj.enqueueReplaceState(e,e.state,null)}function aM(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},jF(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=io(s):(s=As(e)?_m:Mi.current,i.context=xb(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sM(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hj.enqueueReplaceState(i,i.state,null),CT(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ab(t,e){try{var r="",n=e;do r+=Mue(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function HN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function oM(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ohe=typeof WeakMap=="function"?WeakMap:Map;function n7(t,e,r){r=_u(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){OT||(OT=!0,vM=n),oM(t,e)},r}function i7(t,e,r){r=_u(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){oM(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){oM(t,e),typeof n!="function"&&(Ih===null?Ih=new Set([this]):Ih.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function kU(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ohe;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=whe.bind(null,t,e,r),e.then(t,t))}function jU(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function OU(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=_u(-1,1),e.tag=2,Mh(r,e,1))),r.lanes|=1),t)}var lhe=Gu.ReactCurrentOwner,ws=!1;function Hi(t,e,r,n){e.child=t===null?RK(e,null,r,n):Sb(e,t.child,r,n)}function NU(t,e,r,n,i){r=r.render;var s=e.ref;return Ev(e,i),n=IF(t,e,r,n,s,i),r=DF(),t!==null&&!ws?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nu(t,e,i)):(Er&&r&&_F(e),e.flags|=1,Hi(t,e,n,i),e.child)}function RU(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!GF(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,s7(t,e,s,n,i)):(t=hC(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Fw,r(a,n)&&t.ref===e.ref)return Nu(t,e,i)}return e.flags|=1,t=$h(s,n),t.ref=e.ref,t.return=e,e.child=t}function s7(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Fw(s,n)&&t.ref===e.ref)if(ws=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ws=!0);else return e.lanes=t.lanes,Nu(t,e,i)}return lM(t,e,r,n,i)}function a7(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ur(ev,ta),ta|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ur(ev,ta),ta|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ur(ev,ta),ta|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ur(ev,ta),ta|=n;return Hi(t,e,i,r),e.child}function o7(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function lM(t,e,r,n,i){var s=As(r)?_m:Mi.current;return s=xb(e,s),Ev(e,i),r=IF(t,e,r,n,s,i),n=DF(),t!==null&&!ws?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nu(t,e,i)):(Er&&n&&_F(e),e.flags|=1,Hi(t,e,r,i),e.child)}function MU(t,e,r,n,i){if(As(r)){var s=!0;wT(e)}else s=!1;if(Ev(e,i),e.stateNode===null)cC(t,e),r7(e,r,n),aM(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=io(c):(c=As(r)?_m:Mi.current,c=xb(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&PU(e,a,n,c),fd=!1;var h=e.memoizedState;a.state=h,CT(e,n,a,i),l=e.memoizedState,o!==n||h!==l||_s.current||fd?(typeof u=="function"&&(sM(e,r,u,n),l=e.memoizedState),(o=fd||TU(e,r,o,n,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,IK(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Co(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=io(l):(l=As(r)?_m:Mi.current,l=xb(e,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&PU(e,a,n,l),fd=!1,h=e.memoizedState,a.state=h,CT(e,n,a,i);var g=e.memoizedState;o!==d||h!==g||_s.current||fd?(typeof f=="function"&&(sM(e,r,f,n),g=e.memoizedState),(c=fd||TU(e,r,c,n,h,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return cM(t,e,r,n,s,i)}function cM(t,e,r,n,i,s){o7(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&bU(e,r,!1),Nu(t,e,s);n=e.stateNode,lhe.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Sb(e,t.child,null,s),e.child=Sb(e,null,o,s)):Hi(t,e,o,s),e.memoizedState=n.state,i&&bU(e,r,!0),e.child}function l7(t){var e=t.stateNode;e.pendingContext?yU(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yU(t,e.context,!1),OF(t,e.containerInfo)}function IU(t,e,r,n,i){return wb(),EF(i),e.flags|=256,Hi(t,e,r,n),e.child}var uM={dehydrated:null,treeContext:null,retryLane:0};function dM(t){return{baseLanes:t,cachePool:null,transitions:null}}function c7(t,e,r){var n=e.pendingProps,i=Nr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ur(Nr,i&1),t===null)return nM(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=mj(a,n,0,null),t=vm(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dM(r),e.memoizedState=uM,t):FF(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return che(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=$h(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=$h(o,s):(s=vm(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?dM(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=uM,n}return s=t.child,t=s.sibling,n=$h(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function FF(t,e){return e=mj({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function iE(t,e,r,n){return n!==null&&EF(n),Sb(e,t.child,null,r),t=FF(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function che(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=HN(Error(fe(422))),iE(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=mj({mode:"visible",children:n.children},i,0,null),s=vm(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Sb(e,t.child,null,a),e.child.memoizedState=dM(a),e.memoizedState=uM,s);if(!(e.mode&1))return iE(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(fe(419)),n=HN(s,n,void 0),iE(t,e,a,n)}if(o=(a&t.childLanes)!==0,ws||o){if(n=Kn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ou(t,i),Jo(n,t,i,-1))}return WF(),n=HN(Error(fe(421))),iE(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=She.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fa=Rh(i.nextSibling),ma=e,Er=!0,Go=null,t!==null&&(Ga[qa++]=vu,Ga[qa++]=yu,Ga[qa++]=Am,vu=t.id,yu=t.overflow,Am=e),e=FF(e,n.children),e.flags|=4096,e)}function DU(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),iM(t.return,e,r)}function WN(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function u7(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Hi(t,e,n.children,r),n=Nr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DU(t,r,e);else if(t.tag===19)DU(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ur(Nr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&TT(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),WN(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&TT(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}WN(e,!0,r,null,s);break;case"together":WN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cC(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nu(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Cm|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,r=$h(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=$h(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function uhe(t,e,r){switch(e.tag){case 3:l7(e),wb();break;case 5:DK(e);break;case 1:As(e.type)&&wT(e);break;case 4:OF(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ur(AT,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ur(Nr,Nr.current&1),e.flags|=128,null):r&e.child.childLanes?c7(t,e,r):(ur(Nr,Nr.current&1),t=Nu(t,e,r),t!==null?t.sibling:null);ur(Nr,Nr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return u7(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ur(Nr,Nr.current),n)break;return null;case 22:case 23:return e.lanes=0,a7(t,e,r)}return Nu(t,e,r)}var d7,hM,h7,f7;d7=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hM=function(){};h7=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Vf(tc.current);var s=null;switch(r){case"input":i=MR(t,i),n=MR(t,n),s=[];break;case"select":i=$r({},i,{value:void 0}),n=$r({},n,{value:void 0}),s=[];break;case"textarea":i=$R(t,i),n=$R(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=bT)}FR(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nw.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nw.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&mr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};f7=function(t,e,r,n){r!==n&&(e.flags|=4)};function Z0(t,e){if(!Er)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function bi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function dhe(t,e,r){var n=e.pendingProps;switch(AF(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(e),null;case 1:return As(e.type)&&xT(),bi(e),null;case 3:return n=e.stateNode,_b(),br(_s),br(Mi),RF(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(rE(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Go!==null&&(xM(Go),Go=null))),hM(t,e),bi(e),null;case 5:NF(e);var i=Vf(Hw.current);if(r=e.type,t!==null&&e.stateNode!=null)h7(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(fe(166));return bi(e),null}if(t=Vf(tc.current),rE(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ul]=e,n[Vw]=s,t=(e.mode&1)!==0,r){case"dialog":mr("cancel",n),mr("close",n);break;case"iframe":case"object":case"embed":mr("load",n);break;case"video":case"audio":for(i=0;i<Px.length;i++)mr(Px[i],n);break;case"source":mr("error",n);break;case"img":case"image":case"link":mr("error",n),mr("load",n);break;case"details":mr("toggle",n);break;case"input":W5(n,s),mr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},mr("invalid",n);break;case"textarea":q5(n,s),mr("invalid",n)}FR(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&tE(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&tE(n.textContent,o,t),i=["children",""+o]):Nw.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&mr("scroll",n)}switch(r){case"input":qA(n),G5(n,s,!0);break;case"textarea":qA(n),K5(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=bT)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U9(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ul]=e,t[Vw]=n,d7(t,e,!1,!1),e.stateNode=t;e:{switch(a=BR(r,n),r){case"dialog":mr("cancel",t),mr("close",t),i=n;break;case"iframe":case"object":case"embed":mr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Px.length;i++)mr(Px[i],t);i=n;break;case"source":mr("error",t),i=n;break;case"img":case"image":case"link":mr("error",t),mr("load",t),i=n;break;case"details":mr("toggle",t),i=n;break;case"input":W5(t,n),i=MR(t,n),mr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=$r({},n,{value:void 0}),mr("invalid",t);break;case"textarea":q5(t,n),i=$R(t,n),mr("invalid",t);break;default:i=n}FR(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?H9(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V9(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Rw(t,l):typeof l=="number"&&Rw(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nw.hasOwnProperty(s)?l!=null&&s==="onScroll"&&mr("scroll",t):l!=null&&cF(t,s,l,a))}switch(r){case"input":qA(t),G5(t,n,!1);break;case"textarea":qA(t),K5(t);break;case"option":n.value!=null&&t.setAttribute("value",""+zh(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?wv(t,!!n.multiple,s,!1):n.defaultValue!=null&&wv(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bT)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bi(e),null;case 6:if(t&&e.stateNode!=null)f7(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(fe(166));if(r=Vf(Hw.current),Vf(tc.current),rE(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ul]=e,(s=n.nodeValue!==r)&&(t=ma,t!==null))switch(t.tag){case 3:tE(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tE(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ul]=e,e.stateNode=n}return bi(e),null;case 13:if(br(Nr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Er&&fa!==null&&e.mode&1&&!(e.flags&128))OK(),wb(),e.flags|=98560,s=!1;else if(s=rE(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[Ul]=e}else wb(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bi(e),s=!1}else Go!==null&&(xM(Go),Go=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Nr.current&1?kn===0&&(kn=3):WF())),e.updateQueue!==null&&(e.flags|=4),bi(e),null);case 4:return _b(),hM(t,e),t===null&&Bw(e.stateNode.containerInfo),bi(e),null;case 10:return PF(e.type._context),bi(e),null;case 17:return As(e.type)&&xT(),bi(e),null;case 19:if(br(Nr),s=e.memoizedState,s===null)return bi(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Z0(s,!1);else{if(kn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=TT(t),a!==null){for(e.flags|=128,Z0(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ur(Nr,Nr.current&1|2),e.child}t=t.sibling}s.tail!==null&&tn()>Eb&&(e.flags|=128,n=!0,Z0(s,!1),e.lanes=4194304)}else{if(!n)if(t=TT(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Z0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Er)return bi(e),null}else 2*tn()-s.renderingStartTime>Eb&&r!==1073741824&&(e.flags|=128,n=!0,Z0(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tn(),e.sibling=null,r=Nr.current,ur(Nr,n?r&1|2:r&1),e):(bi(e),null);case 22:case 23:return HF(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ta&1073741824&&(bi(e),e.subtreeFlags&6&&(e.flags|=8192)):bi(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function hhe(t,e){switch(AF(e),e.tag){case 1:return As(e.type)&&xT(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _b(),br(_s),br(Mi),RF(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return NF(e),null;case 13:if(br(Nr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));wb()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return br(Nr),null;case 4:return _b(),null;case 10:return PF(e.type._context),null;case 22:case 23:return HF(),null;case 24:return null;default:return null}}var sE=!1,ji=!1,fhe=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Jg(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){qr(t,e,n)}else r.current=null}function fM(t,e,r){try{r()}catch(n){qr(t,e,n)}}var $U=!1;function phe(t,e){if(YR=gT,t=yK(),SF(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===r&&++c===i&&(o=a),h===s&&++u===n&&(l=a),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(QR={focusedElem:t,selectionRange:r},gT=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:Co(e.type,v),y);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(S){qr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return g=$U,$U=!1,g}function hw(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&fM(e,r,s)}i=i.next}while(i!==n)}}function fj(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function pM(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function p7(t){var e=t.alternate;e!==null&&(t.alternate=null,p7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ul],delete e[Vw],delete e[eM],delete e[Yde],delete e[Qde])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function m7(t){return t.tag===5||t.tag===3||t.tag===4}function LU(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mM(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=bT));else if(n!==4&&(t=t.child,t!==null))for(mM(t,e,r),t=t.sibling;t!==null;)mM(t,e,r),t=t.sibling}function gM(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(gM(t,e,r),t=t.sibling;t!==null;)gM(t,e,r),t=t.sibling}var ai=null,zo=!1;function id(t,e,r){for(r=r.child;r!==null;)g7(t,e,r),r=r.sibling}function g7(t,e,r){if(ec&&typeof ec.onCommitFiberUnmount=="function")try{ec.onCommitFiberUnmount(sj,r)}catch{}switch(r.tag){case 5:ji||Jg(r,e);case 6:var n=ai,i=zo;ai=null,id(t,e,r),ai=n,zo=i,ai!==null&&(zo?(t=ai,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ai.removeChild(r.stateNode));break;case 18:ai!==null&&(zo?(t=ai,r=r.stateNode,t.nodeType===8?LN(t.parentNode,r):t.nodeType===1&&LN(t,r),$w(t)):LN(ai,r.stateNode));break;case 4:n=ai,i=zo,ai=r.stateNode.containerInfo,zo=!0,id(t,e,r),ai=n,zo=i;break;case 0:case 11:case 14:case 15:if(!ji&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&fM(r,e,a),i=i.next}while(i!==n)}id(t,e,r);break;case 1:if(!ji&&(Jg(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){qr(r,e,o)}id(t,e,r);break;case 21:id(t,e,r);break;case 22:r.mode&1?(ji=(n=ji)||r.memoizedState!==null,id(t,e,r),ji=n):id(t,e,r);break;default:id(t,e,r)}}function FU(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new fhe),e.forEach(function(n){var i=_he.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function go(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ai=o.stateNode,zo=!1;break e;case 3:ai=o.stateNode.containerInfo,zo=!0;break e;case 4:ai=o.stateNode.containerInfo,zo=!0;break e}o=o.return}if(ai===null)throw Error(fe(160));g7(s,a,i),ai=null,zo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){qr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)v7(e,t),e=e.sibling}function v7(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(go(e,t),ll(t),n&4){try{hw(3,t,t.return),fj(3,t)}catch(v){qr(t,t.return,v)}try{hw(5,t,t.return)}catch(v){qr(t,t.return,v)}}break;case 1:go(e,t),ll(t),n&512&&r!==null&&Jg(r,r.return);break;case 5:if(go(e,t),ll(t),n&512&&r!==null&&Jg(r,r.return),t.flags&32){var i=t.stateNode;try{Rw(i,"")}catch(v){qr(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&F9(i,s),BR(o,a);var c=BR(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?H9(i,d):u==="dangerouslySetInnerHTML"?V9(i,d):u==="children"?Rw(i,d):cF(i,u,d,c)}switch(o){case"input":IR(i,s);break;case"textarea":B9(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?wv(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?wv(i,!!s.multiple,s.defaultValue,!0):wv(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vw]=s}catch(v){qr(t,t.return,v)}}break;case 6:if(go(e,t),ll(t),n&4){if(t.stateNode===null)throw Error(fe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){qr(t,t.return,v)}}break;case 3:if(go(e,t),ll(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$w(e.containerInfo)}catch(v){qr(t,t.return,v)}break;case 4:go(e,t),ll(t);break;case 13:go(e,t),ll(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(VF=tn())),n&4&&FU(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(ji=(c=ji)||u,go(e,t),ji=c):go(e,t),ll(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ce=t,u=t.child;u!==null;){for(d=Ce=u;Ce!==null;){switch(h=Ce,f=h.child,h.tag){case 0:case 11:case 14:case 15:hw(4,h,h.return);break;case 1:Jg(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){qr(n,r,v)}}break;case 5:Jg(h,h.return);break;case 22:if(h.memoizedState!==null){UU(d);continue}}f!==null?(f.return=h,Ce=f):UU(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=z9("display",a))}catch(v){qr(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){qr(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:go(e,t),ll(t),n&4&&FU(t);break;case 21:break;default:go(e,t),ll(t)}}function ll(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(m7(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Rw(i,""),n.flags&=-33);var s=LU(t);gM(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=LU(t);mM(t,o,a);break;default:throw Error(fe(161))}}catch(l){qr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mhe(t,e,r){Ce=t,y7(t)}function y7(t,e,r){for(var n=(t.mode&1)!==0;Ce!==null;){var i=Ce,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||sE;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ji;o=sE;var c=ji;if(sE=a,(ji=l)&&!c)for(Ce=i;Ce!==null;)a=Ce,l=a.child,a.tag===22&&a.memoizedState!==null?VU(i):l!==null?(l.return=a,Ce=l):VU(i);for(;s!==null;)Ce=s,y7(s),s=s.sibling;Ce=i,sE=o,ji=c}BU(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ce=s):BU(t)}}function BU(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ji||fj(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ji)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Co(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&AU(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}AU(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&$w(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}ji||e.flags&512&&pM(e)}catch(h){qr(e,e.return,h)}}if(e===t){Ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function UU(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function VU(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{fj(4,e)}catch(l){qr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){qr(e,i,l)}}var s=e.return;try{pM(e)}catch(l){qr(e,s,l)}break;case 5:var a=e.return;try{pM(e)}catch(l){qr(e,a,l)}}}catch(l){qr(e,e.return,l)}if(e===t){Ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ce=o;break}Ce=e.return}}var ghe=Math.ceil,jT=Gu.ReactCurrentDispatcher,BF=Gu.ReactCurrentOwner,Ja=Gu.ReactCurrentBatchConfig,xt=0,Kn=null,mn=null,fi=0,ta=0,ev=af(0),kn=0,Kw=null,Cm=0,pj=0,UF=0,fw=null,bs=null,VF=0,Eb=1/0,Cc=null,OT=!1,vM=null,Ih=null,aE=!1,Ah=null,NT=0,pw=0,yM=null,uC=-1,dC=0;function Ji(){return xt&6?tn():uC!==-1?uC:uC=tn()}function Dh(t){return t.mode&1?xt&2&&fi!==0?fi&-fi:Jde.transition!==null?(dC===0&&(dC=rK()),dC):(t=Ht,t!==0||(t=window.event,t=t===void 0?16:cK(t.type)),t):1}function Jo(t,e,r,n){if(50<pw)throw pw=0,yM=null,Error(fe(185));oA(t,r,n),(!(xt&2)||t!==Kn)&&(t===Kn&&(!(xt&2)&&(pj|=r),kn===4&&bd(t,fi)),Es(t,n),r===1&&xt===0&&!(e.mode&1)&&(Eb=tn()+500,uj&&of()))}function Es(t,e){var r=t.callbackNode;Jue(t,e);var n=mT(t,t===Kn?fi:0);if(n===0)r!==null&&Q5(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Q5(r),e===1)t.tag===0?Zde(zU.bind(null,t)):PK(zU.bind(null,t)),Kde(function(){!(xt&6)&&of()}),r=null;else{switch(nK(n)){case 1:r=pF;break;case 4:r=eK;break;case 16:r=pT;break;case 536870912:r=tK;break;default:r=pT}r=C7(r,b7.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function b7(t,e){if(uC=-1,dC=0,xt&6)throw Error(fe(327));var r=t.callbackNode;if(Cv()&&t.callbackNode!==r)return null;var n=mT(t,t===Kn?fi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=RT(t,n);else{e=n;var i=xt;xt|=2;var s=w7();(Kn!==t||fi!==e)&&(Cc=null,Eb=tn()+500,gm(t,e));do try{bhe();break}catch(o){x7(t,o)}while(!0);TF(),jT.current=s,xt=i,mn!==null?e=0:(Kn=null,fi=0,e=kn)}if(e!==0){if(e===2&&(i=WR(t),i!==0&&(n=i,e=bM(t,i))),e===1)throw r=Kw,gm(t,0),bd(t,n),Es(t,tn()),r;if(e===6)bd(t,n);else{if(i=t.current.alternate,!(n&30)&&!vhe(i)&&(e=RT(t,n),e===2&&(s=WR(t),s!==0&&(n=s,e=bM(t,s))),e===1))throw r=Kw,gm(t,0),bd(t,n),Es(t,tn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(fe(345));case 2:Ef(t,bs,Cc);break;case 3:if(bd(t,n),(n&130023424)===n&&(e=VF+500-tn(),10<e)){if(mT(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ji(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=JR(Ef.bind(null,t,bs,Cc),e);break}Ef(t,bs,Cc);break;case 4:if(bd(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Zo(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=tn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ghe(n/1960))-n,10<n){t.timeoutHandle=JR(Ef.bind(null,t,bs,Cc),n);break}Ef(t,bs,Cc);break;case 5:Ef(t,bs,Cc);break;default:throw Error(fe(329))}}}return Es(t,tn()),t.callbackNode===r?b7.bind(null,t):null}function bM(t,e){var r=fw;return t.current.memoizedState.isDehydrated&&(gm(t,e).flags|=256),t=RT(t,e),t!==2&&(e=bs,bs=r,e!==null&&xM(e)),t}function xM(t){bs===null?bs=t:bs.push.apply(bs,t)}function vhe(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!rl(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bd(t,e){for(e&=~UF,e&=~pj,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Zo(e),n=1<<r;t[r]=-1,e&=~n}}function zU(t){if(xt&6)throw Error(fe(327));Cv();var e=mT(t,0);if(!(e&1))return Es(t,tn()),null;var r=RT(t,e);if(t.tag!==0&&r===2){var n=WR(t);n!==0&&(e=n,r=bM(t,n))}if(r===1)throw r=Kw,gm(t,0),bd(t,e),Es(t,tn()),r;if(r===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ef(t,bs,Cc),Es(t,tn()),null}function zF(t,e){var r=xt;xt|=1;try{return t(e)}finally{xt=r,xt===0&&(Eb=tn()+500,uj&&of())}}function Tm(t){Ah!==null&&Ah.tag===0&&!(xt&6)&&Cv();var e=xt;xt|=1;var r=Ja.transition,n=Ht;try{if(Ja.transition=null,Ht=1,t)return t()}finally{Ht=n,Ja.transition=r,xt=e,!(xt&6)&&of()}}function HF(){ta=ev.current,br(ev)}function gm(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,qde(r)),mn!==null)for(r=mn.return;r!==null;){var n=r;switch(AF(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xT();break;case 3:_b(),br(_s),br(Mi),RF();break;case 5:NF(n);break;case 4:_b();break;case 13:br(Nr);break;case 19:br(Nr);break;case 10:PF(n.type._context);break;case 22:case 23:HF()}r=r.return}if(Kn=t,mn=t=$h(t.current,null),fi=ta=e,kn=0,Kw=null,UF=pj=Cm=0,bs=fw=null,Uf!==null){for(e=0;e<Uf.length;e++)if(r=Uf[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Uf=null}return t}function x7(t,e){do{var r=mn;try{if(TF(),oC.current=kT,PT){for(var n=Ir.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}PT=!1}if(Em=0,Hn=Pn=Ir=null,dw=!1,Ww=0,BF.current=null,r===null||r.return===null){kn=1,Kw=e,mn=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=fi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=jU(a);if(f!==null){f.flags&=-257,OU(f,a,o,s,e),f.mode&1&&kU(s,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){kU(s,c,e),WF();break e}l=Error(fe(426))}}else if(Er&&o.mode&1){var y=jU(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),OU(y,a,o,s,e),EF(Ab(l,o));break e}}s=l=Ab(l,o),kn!==4&&(kn=2),fw===null?fw=[s]:fw.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=n7(s,l,e);_U(s,b);break e;case 1:o=l;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ih===null||!Ih.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=i7(s,o,e);_U(s,S);break e}}s=s.return}while(s!==null)}_7(r)}catch(_){e=_,mn===r&&r!==null&&(mn=r=r.return);continue}break}while(!0)}function w7(){var t=jT.current;return jT.current=kT,t===null?kT:t}function WF(){(kn===0||kn===3||kn===2)&&(kn=4),Kn===null||!(Cm&268435455)&&!(pj&268435455)||bd(Kn,fi)}function RT(t,e){var r=xt;xt|=2;var n=w7();(Kn!==t||fi!==e)&&(Cc=null,gm(t,e));do try{yhe();break}catch(i){x7(t,i)}while(!0);if(TF(),xt=r,jT.current=n,mn!==null)throw Error(fe(261));return Kn=null,fi=0,kn}function yhe(){for(;mn!==null;)S7(mn)}function bhe(){for(;mn!==null&&!Hue();)S7(mn)}function S7(t){var e=E7(t.alternate,t,ta);t.memoizedProps=t.pendingProps,e===null?_7(t):mn=e,BF.current=null}function _7(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=hhe(r,e),r!==null){r.flags&=32767,mn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kn=6,mn=null;return}}else if(r=dhe(r,e,ta),r!==null){mn=r;return}if(e=e.sibling,e!==null){mn=e;return}mn=e=t}while(e!==null);kn===0&&(kn=5)}function Ef(t,e,r){var n=Ht,i=Ja.transition;try{Ja.transition=null,Ht=1,xhe(t,e,r,n)}finally{Ja.transition=i,Ht=n}return null}function xhe(t,e,r,n){do Cv();while(Ah!==null);if(xt&6)throw Error(fe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(ede(t,s),t===Kn&&(mn=Kn=null,fi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||aE||(aE=!0,C7(pT,function(){return Cv(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ja.transition,Ja.transition=null;var a=Ht;Ht=1;var o=xt;xt|=4,BF.current=null,phe(t,r),v7(r,t),Bde(QR),gT=!!YR,QR=YR=null,t.current=r,mhe(r),Wue(),xt=o,Ht=a,Ja.transition=s}else t.current=r;if(aE&&(aE=!1,Ah=t,NT=i),s=t.pendingLanes,s===0&&(Ih=null),Kue(r.stateNode),Es(t,tn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(OT)throw OT=!1,t=vM,vM=null,t;return NT&1&&t.tag!==0&&Cv(),s=t.pendingLanes,s&1?t===yM?pw++:(pw=0,yM=t):pw=0,of(),null}function Cv(){if(Ah!==null){var t=nK(NT),e=Ja.transition,r=Ht;try{if(Ja.transition=null,Ht=16>t?16:t,Ah===null)var n=!1;else{if(t=Ah,Ah=null,NT=0,xt&6)throw Error(fe(331));var i=xt;for(xt|=4,Ce=t.current;Ce!==null;){var s=Ce,a=s.child;if(Ce.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ce=c;Ce!==null;){var u=Ce;switch(u.tag){case 0:case 11:case 15:hw(8,u,s)}var d=u.child;if(d!==null)d.return=u,Ce=d;else for(;Ce!==null;){u=Ce;var h=u.sibling,f=u.return;if(p7(u),u===c){Ce=null;break}if(h!==null){h.return=f,Ce=h;break}Ce=f}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Ce=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ce=a;else e:for(;Ce!==null;){if(s=Ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hw(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Ce=b;break e}Ce=s.return}}var x=t.current;for(Ce=x;Ce!==null;){a=Ce;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Ce=w;else e:for(a=x;Ce!==null;){if(o=Ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:fj(9,o)}}catch(_){qr(o,o.return,_)}if(o===a){Ce=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Ce=S;break e}Ce=o.return}}if(xt=i,of(),ec&&typeof ec.onPostCommitFiberRoot=="function")try{ec.onPostCommitFiberRoot(sj,t)}catch{}n=!0}return n}finally{Ht=r,Ja.transition=e}}return!1}function HU(t,e,r){e=Ab(r,e),e=n7(t,e,1),t=Mh(t,e,1),e=Ji(),t!==null&&(oA(t,1,e),Es(t,e))}function qr(t,e,r){if(t.tag===3)HU(t,t,r);else for(;e!==null;){if(e.tag===3){HU(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ih===null||!Ih.has(n))){t=Ab(r,t),t=i7(e,t,1),e=Mh(e,t,1),t=Ji(),e!==null&&(oA(e,1,t),Es(e,t));break}}e=e.return}}function whe(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ji(),t.pingedLanes|=t.suspendedLanes&r,Kn===t&&(fi&r)===r&&(kn===4||kn===3&&(fi&130023424)===fi&&500>tn()-VF?gm(t,0):UF|=r),Es(t,e)}function A7(t,e){e===0&&(t.mode&1?(e=YA,YA<<=1,!(YA&130023424)&&(YA=4194304)):e=1);var r=Ji();t=Ou(t,e),t!==null&&(oA(t,e,r),Es(t,r))}function She(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),A7(t,r)}function _he(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(e),A7(t,r)}var E7;E7=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||_s.current)ws=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ws=!1,uhe(t,e,r);ws=!!(t.flags&131072)}else ws=!1,Er&&e.flags&1048576&&kK(e,_T,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;cC(t,e),t=e.pendingProps;var i=xb(e,Mi.current);Ev(e,r),i=IF(null,e,n,t,i,r);var s=DF();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,As(n)?(s=!0,wT(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jF(e),i.updater=hj,e.stateNode=i,i._reactInternals=e,aM(e,n,t,r),e=cM(null,e,n,!0,s,r)):(e.tag=0,Er&&s&&_F(e),Hi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(cC(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Ehe(n),t=Co(n,t),i){case 0:e=lM(null,e,n,t,r);break e;case 1:e=MU(null,e,n,t,r);break e;case 11:e=NU(null,e,n,t,r);break e;case 14:e=RU(null,e,n,Co(n.type,t),r);break e}throw Error(fe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Co(n,i),lM(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Co(n,i),MU(t,e,n,i,r);case 3:e:{if(l7(e),t===null)throw Error(fe(387));n=e.pendingProps,s=e.memoizedState,i=s.element,IK(t,e),CT(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ab(Error(fe(423)),e),e=IU(t,e,n,r,i);break e}else if(n!==i){i=Ab(Error(fe(424)),e),e=IU(t,e,n,r,i);break e}else for(fa=Rh(e.stateNode.containerInfo.firstChild),ma=e,Er=!0,Go=null,r=RK(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wb(),n===i){e=Nu(t,e,r);break e}Hi(t,e,n,r)}e=e.child}return e;case 5:return DK(e),t===null&&nM(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,ZR(n,i)?a=null:s!==null&&ZR(n,s)&&(e.flags|=32),o7(t,e),Hi(t,e,a,r),e.child;case 6:return t===null&&nM(e),null;case 13:return c7(t,e,r);case 4:return OF(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Sb(e,null,n,r):Hi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Co(n,i),NU(t,e,n,i,r);case 7:return Hi(t,e,e.pendingProps,r),e.child;case 8:return Hi(t,e,e.pendingProps.children,r),e.child;case 12:return Hi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ur(AT,n._currentValue),n._currentValue=a,s!==null)if(rl(s.value,a)){if(s.children===i.children&&!_s.current){e=Nu(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=_u(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),iM(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(fe(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),iM(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Hi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ev(e,r),i=io(i),n=n(i),e.flags|=1,Hi(t,e,n,r),e.child;case 14:return n=e.type,i=Co(n,e.pendingProps),i=Co(n.type,i),RU(t,e,n,i,r);case 15:return s7(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Co(n,i),cC(t,e),e.tag=1,As(n)?(t=!0,wT(e)):t=!1,Ev(e,r),r7(e,n,i),aM(e,n,i,r),cM(null,e,n,!0,t,r);case 19:return u7(t,e,r);case 22:return a7(t,e,r)}throw Error(fe(156,e.tag))};function C7(t,e){return J9(t,e)}function Ahe(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(t,e,r,n){return new Ahe(t,e,r,n)}function GF(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ehe(t){if(typeof t=="function")return GF(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dF)return 11;if(t===hF)return 14}return 2}function $h(t,e){var r=t.alternate;return r===null?(r=Ya(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function hC(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")GF(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Hg:return vm(r.children,i,s,e);case uF:a=8,i|=8;break;case jR:return t=Ya(12,r,e,i|2),t.elementType=jR,t.lanes=s,t;case OR:return t=Ya(13,r,e,i),t.elementType=OR,t.lanes=s,t;case NR:return t=Ya(19,r,e,i),t.elementType=NR,t.lanes=s,t;case D9:return mj(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M9:a=10;break e;case I9:a=9;break e;case dF:a=11;break e;case hF:a=14;break e;case hd:a=16,n=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Ya(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function vm(t,e,r,n){return t=Ya(7,t,n,e),t.lanes=r,t}function mj(t,e,r,n){return t=Ya(22,t,n,e),t.elementType=D9,t.lanes=r,t.stateNode={isHidden:!1},t}function GN(t,e,r){return t=Ya(6,t,null,e),t.lanes=r,t}function qN(t,e,r){return e=Ya(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Che(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=TN(0),this.expirationTimes=TN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=TN(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qF(t,e,r,n,i,s,a,o,l){return t=new Che(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ya(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jF(s),t}function The(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zg,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function T7(t){if(!t)return Hh;t=t._reactInternals;e:{if(Ym(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(As(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var r=t.type;if(As(r))return TK(t,r,e)}return e}function P7(t,e,r,n,i,s,a,o,l){return t=qF(r,n,!0,t,i,s,a,o,l),t.context=T7(null),r=t.current,n=Ji(),i=Dh(r),s=_u(n,i),s.callback=e??null,Mh(r,s,i),t.current.lanes=i,oA(t,i,n),Es(t,n),t}function gj(t,e,r,n){var i=e.current,s=Ji(),a=Dh(i);return r=T7(r),e.context===null?e.context=r:e.pendingContext=r,e=_u(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Mh(i,e,a),t!==null&&(Jo(t,i,a,s),aC(t,i,a)),a}function MT(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function WU(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function KF(t,e){WU(t,e),(t=t.alternate)&&WU(t,e)}function Phe(){return null}var k7=typeof reportError=="function"?reportError:function(t){console.error(t)};function XF(t){this._internalRoot=t}vj.prototype.render=XF.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));gj(t,e,null,null)};vj.prototype.unmount=XF.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Tm(function(){gj(null,t,null,null)}),e[ju]=null}};function vj(t){this._internalRoot=t}vj.prototype.unstable_scheduleHydration=function(t){if(t){var e=aK();t={blockedOn:null,target:t,priority:e};for(var r=0;r<yd.length&&e!==0&&e<yd[r].priority;r++);yd.splice(r,0,t),r===0&&lK(t)}};function YF(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yj(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function GU(){}function khe(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=MT(a);s.call(c)}}var a=P7(e,n,t,0,null,!1,!1,"",GU);return t._reactRootContainer=a,t[ju]=a.current,Bw(t.nodeType===8?t.parentNode:t),Tm(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=MT(l);o.call(c)}}var l=qF(t,0,!1,null,null,!1,!1,"",GU);return t._reactRootContainer=l,t[ju]=l.current,Bw(t.nodeType===8?t.parentNode:t),Tm(function(){gj(e,l,r,n)}),l}function bj(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=MT(a);o.call(l)}}gj(e,a,t,i)}else a=khe(r,e,t,i,n);return MT(a)}iK=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Tx(e.pendingLanes);r!==0&&(mF(e,r|1),Es(e,tn()),!(xt&6)&&(Eb=tn()+500,of()))}break;case 13:Tm(function(){var n=Ou(t,1);if(n!==null){var i=Ji();Jo(n,t,1,i)}}),KF(t,1)}};gF=function(t){if(t.tag===13){var e=Ou(t,134217728);if(e!==null){var r=Ji();Jo(e,t,134217728,r)}KF(t,134217728)}};sK=function(t){if(t.tag===13){var e=Dh(t),r=Ou(t,e);if(r!==null){var n=Ji();Jo(r,t,e,n)}KF(t,e)}};aK=function(){return Ht};oK=function(t,e){var r=Ht;try{return Ht=t,e()}finally{Ht=r}};VR=function(t,e,r){switch(e){case"input":if(IR(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=cj(n);if(!i)throw Error(fe(90));L9(n),IR(n,i)}}}break;case"textarea":B9(t,r);break;case"select":e=r.value,e!=null&&wv(t,!!r.multiple,e,!1)}};q9=zF;K9=Tm;var jhe={usingClientEntryPoint:!1,Events:[cA,Kg,cj,W9,G9,zF]},J0={findFiberByHostInstance:Bf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ohe={bundleType:J0.bundleType,version:J0.version,rendererPackageName:J0.rendererPackageName,rendererConfig:J0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q9(t),t===null?null:t.stateNode},findFiberByHostInstance:J0.findFiberByHostInstance||Phe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oE.isDisabled&&oE.supportsFiber)try{sj=oE.inject(Ohe),ec=oE}catch{}}Sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jhe;Sa.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YF(e))throw Error(fe(200));return The(t,e,null,r)};Sa.createRoot=function(t,e){if(!YF(t))throw Error(fe(299));var r=!1,n="",i=k7;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qF(t,1,!1,null,null,r,!1,n,i),t[ju]=e.current,Bw(t.nodeType===8?t.parentNode:t),new XF(e)};Sa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=Q9(e),t=t===null?null:t.stateNode,t};Sa.flushSync=function(t){return Tm(t)};Sa.hydrate=function(t,e,r){if(!yj(e))throw Error(fe(200));return bj(null,t,e,!0,r)};Sa.hydrateRoot=function(t,e,r){if(!YF(t))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=k7;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=P7(e,null,t,1,r??null,i,!1,s,a),t[ju]=e.current,Bw(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new vj(e)};Sa.render=function(t,e,r){if(!yj(e))throw Error(fe(200));return bj(null,t,e,!1,r)};Sa.unmountComponentAtNode=function(t){if(!yj(t))throw Error(fe(40));return t._reactRootContainer?(Tm(function(){bj(null,null,t,!1,function(){t._reactRootContainer=null,t[ju]=null})}),!0):!1};Sa.unstable_batchedUpdates=zF;Sa.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!yj(r))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return bj(t,e,r,!1,n)};Sa.version="18.3.1-next-f1338f8080-20240426";function j7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j7)}catch(t){console.error(t)}}j7(),j9.exports=Sa;var Qm=j9.exports;const O7=Mt(Qm);var N7,qU=Qm;N7=qU.createRoot,qU.hydrateRoot;const Nhe=1,Rhe=1e6;let KN=0;function Mhe(){return KN=(KN+1)%Number.MAX_SAFE_INTEGER,KN.toString()}const XN=new Map,KU=t=>{if(XN.has(t))return;const e=setTimeout(()=>{XN.delete(t),mw({type:"REMOVE_TOAST",toastId:t})},Rhe);XN.set(t,e)},Ihe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Nhe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?KU(r):t.toasts.forEach(n=>{KU(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},fC=[];let pC={toasts:[]};function mw(t){pC=Ihe(pC,t),fC.forEach(e=>{e(pC)})}function mC({...t}){const e=Mhe(),r=i=>mw({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>mw({type:"DISMISS_TOAST",toastId:e});return mw({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function R7(){const[t,e]=E.useState(pC);return E.useEffect(()=>(fC.push(e),()=>{const r=fC.indexOf(e);r>-1&&fC.splice(r,1)}),[t]),{...t,toast:mC,dismiss:r=>mw({type:"DISMISS_TOAST",toastId:r})}}function he(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function XU(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oc(...t){return e=>{let r=!1;const n=t.map(i=>{const s=XU(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():XU(t[i],null)}}}}function Fe(...t){return E.useCallback(oc(...t),t)}function Dhe(t,e){const r=E.createContext(e),n=s=>{const{children:a,...o}=s,l=E.useMemo(()=>o,Object.values(o));return m.jsx(r.Provider,{value:l,children:a})};n.displayName=t+"Provider";function i(s){const a=E.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function gi(t,e=[]){let r=[];function n(s,a){const o=E.createContext(a),l=r.length;r=[...r,a];const c=d=>{var b;const{scope:h,children:f,...g}=d,v=((b=h==null?void 0:h[t])==null?void 0:b[l])||o,y=E.useMemo(()=>g,Object.values(g));return m.jsx(v.Provider,{value:y,children:f})};c.displayName=s+"Provider";function u(d,h){var v;const f=((v=h==null?void 0:h[t])==null?void 0:v[l])||o,g=E.useContext(f);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=r.map(a=>E.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,$he(i,...e)]}function $he(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...o,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function Cb(t){const e=Lhe(t),r=E.forwardRef((n,i)=>{const{children:s,...a}=n,o=E.Children.toArray(s),l=o.find(Fhe);if(l){const c=l.props.children,u=o.map(d=>d===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:d);return m.jsx(e,{...a,ref:i,children:E.isValidElement(c)?E.cloneElement(c,void 0,u):null})}return m.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function Lhe(t){const e=E.forwardRef((r,n)=>{const{children:i,...s}=r;if(E.isValidElement(i)){const a=Uhe(i),o=Bhe(s,i.props);return i.type!==E.Fragment&&(o.ref=n?oc(n,a):a),E.cloneElement(i,o)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var M7=Symbol("radix.slottable");function I7(t){const e=({children:r})=>m.jsx(m.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=M7,e}function Fhe(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===M7}function Bhe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Uhe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function dA(t){const e=t+"CollectionProvider",[r,n]=gi(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:y,children:b}=v,x=W.useRef(null),w=W.useRef(new Map).current;return m.jsx(i,{scope:y,itemMap:w,collectionRef:x,children:b})};a.displayName=e;const o=t+"CollectionSlot",l=Cb(o),c=W.forwardRef((v,y)=>{const{scope:b,children:x}=v,w=s(o,b),S=Fe(y,w.collectionRef);return m.jsx(l,{ref:S,children:x})});c.displayName=o;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Cb(u),f=W.forwardRef((v,y)=>{const{scope:b,children:x,...w}=v,S=W.useRef(null),_=Fe(y,S),A=s(u,b);return W.useEffect(()=>(A.itemMap.set(S,{ref:S,...w}),()=>void A.itemMap.delete(S))),m.jsx(h,{[d]:"",ref:_,children:x})});f.displayName=u;function g(v){const y=s(t+"CollectionConsumer",v);return W.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((A,C)=>w.indexOf(A.ref.current)-w.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},g,n]}var Vhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=Vhe.reduce((t,e)=>{const r=Cb(`Primitive.${e}`),n=E.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function QF(t,e){t&&Qm.flushSync(()=>t.dispatchEvent(e))}function Yr(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function zhe(t,e=globalThis==null?void 0:globalThis.document){const r=Yr(t);E.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Hhe="DismissableLayer",wM="dismissableLayer.update",Whe="dismissableLayer.pointerDownOutside",Ghe="dismissableLayer.focusOutside",YU,D7=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),g0=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=E.useContext(D7),[u,d]=E.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=E.useState({}),g=Fe(e,C=>d(C)),v=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(y),x=u?v.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=b,_=Khe(C=>{const T=C.target,P=[...c.branches].some(O=>O.contains(T));!S||P||(i==null||i(C),a==null||a(C),C.defaultPrevented||o==null||o())},h),A=Xhe(C=>{const T=C.target;[...c.branches].some(O=>O.contains(T))||(s==null||s(C),a==null||a(C),C.defaultPrevented||o==null||o())},h);return zhe(C=>{x===c.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},h),E.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(YU=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),QU(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=YU)}},[u,h,r,c]),E.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),QU())},[u,c]),E.useEffect(()=>{const C=()=>f({});return document.addEventListener(wM,C),()=>document.removeEventListener(wM,C)},[]),m.jsx(ke.div,{...l,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,A.onFocusCapture),onBlurCapture:he(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,_.onPointerDownCapture)})});g0.displayName=Hhe;var qhe="DismissableLayerBranch",$7=E.forwardRef((t,e)=>{const r=E.useContext(D7),n=E.useRef(null),i=Fe(e,n);return E.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),m.jsx(ke.div,{...t,ref:i})});$7.displayName=qhe;function Khe(t,e=globalThis==null?void 0:globalThis.document){const r=Yr(t),n=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let l=function(){L7(Whe,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Xhe(t,e=globalThis==null?void 0:globalThis.document){const r=Yr(t),n=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!n.current&&L7(Ghe,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function QU(){const t=new CustomEvent(wM);document.dispatchEvent(t)}function L7(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?QF(i,s):i.dispatchEvent(s)}var Yhe=g0,Qhe=$7,nn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},Zhe="Portal",hA=E.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,s]=E.useState(!1);nn(()=>s(!0),[]);const a=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?O7.createPortal(m.jsx(ke.div,{...n,ref:e}),a):null});hA.displayName=Zhe;function Jhe(t,e){return E.useReducer((r,n)=>e[r][n]??r,t)}var vi=t=>{const{present:e,children:r}=t,n=efe(e),i=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),s=Fe(n.ref,tfe(i));return typeof r=="function"||n.isPresent?E.cloneElement(i,{ref:s}):null};vi.displayName="Presence";function efe(t){const[e,r]=E.useState(),n=E.useRef(null),i=E.useRef(t),s=E.useRef("none"),a=t?"mounted":"unmounted",[o,l]=Jhe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=lE(n.current);s.current=o==="mounted"?c:"none"},[o]),nn(()=>{const c=n.current,u=i.current;if(u!==t){const h=s.current,f=lE(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),nn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const v=lE(n.current).includes(CSS.escape(f.animationName));if(f.target===e&&v&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=f=>{f.target===e&&(s.current=lE(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:E.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function lE(t){return(t==null?void 0:t.animationName)||"none"}function tfe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var rfe=ij[" useInsertionEffect ".trim().toString()]||nn;function ao({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,a]=nfe({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:i;{const u=E.useRef(t!==void 0);E.useEffect(()=>{const d=u.current;d!==o&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,n])}const c=E.useCallback(u=>{var d;if(o){const h=ife(u)?u(t):u;h!==t&&((d=a.current)==null||d.call(a,h))}else s(u)},[o,t,s,a]);return[l,c]}function nfe({defaultProp:t,onChange:e}){const[r,n]=E.useState(t),i=E.useRef(r),s=E.useRef(e);return rfe(()=>{s.current=e},[e]),E.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function ife(t){return typeof t=="function"}var F7=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sfe="VisuallyHidden",xj=E.forwardRef((t,e)=>m.jsx(ke.span,{...t,ref:e,style:{...F7,...t.style}}));xj.displayName=sfe;var afe=xj,ZF="ToastProvider",[JF,ofe,lfe]=dA("Toast"),[B7]=gi("Toast",[lfe]),[cfe,wj]=B7(ZF),U7=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,l]=E.useState(null),[c,u]=E.useState(0),d=E.useRef(!1),h=E.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ZF}\`. Expected non-empty \`string\`.`),m.jsx(JF.Provider,{scope:e,children:m.jsx(cfe,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:E.useCallback(()=>u(f=>f+1),[]),onToastRemove:E.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:a})})};U7.displayName=ZF;var V7="ToastViewport",ufe=["F8"],SM="toast.viewportPause",_M="toast.viewportResume",z7=E.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=ufe,label:i="Notifications ({hotkey})",...s}=t,a=wj(V7,r),o=ofe(r),l=E.useRef(null),c=E.useRef(null),u=E.useRef(null),d=E.useRef(null),h=Fe(e,d,a.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;E.useEffect(()=>{const y=b=>{var w;n.length!==0&&n.every(S=>b[S]||b.code===S)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),E.useEffect(()=>{const y=l.current,b=d.current;if(g&&y&&b){const x=()=>{if(!a.isClosePausedRef.current){const A=new CustomEvent(SM);b.dispatchEvent(A),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const A=new CustomEvent(_M);b.dispatchEvent(A),a.isClosePausedRef.current=!1}},S=A=>{!y.contains(A.relatedTarget)&&w()},_=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",x),y.addEventListener("focusout",S),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,a.isClosePausedRef]);const v=E.useCallback(({tabbingDirection:y})=>{const x=o().map(w=>{const S=w.ref.current,_=[S,..._fe(S)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?x.reverse():x).flat()},[o]);return E.useEffect(()=>{const y=d.current;if(y){const b=x=>{var _,A,C;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const T=document.activeElement,P=x.shiftKey;if(x.target===y&&P){(_=c.current)==null||_.focus();return}const R=v({tabbingDirection:P?"backwards":"forwards"}),B=R.findIndex(D=>D===T);YN(R.slice(B+1))?x.preventDefault():P?(A=c.current)==null||A.focus():(C=u.current)==null||C.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[o,v]),m.jsxs(Qhe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&m.jsx(AM,{ref:c,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});YN(y)}}),m.jsx(JF.Slot,{scope:r,children:m.jsx(ke.ol,{tabIndex:-1,...s,ref:h})}),g&&m.jsx(AM,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});YN(y)}})]})});z7.displayName=V7;var H7="ToastFocusProxy",AM=E.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=wj(H7,r);return m.jsx(xj,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const o=a.relatedTarget;!((c=s.viewport)!=null&&c.contains(o))&&n()}})});AM.displayName=H7;var fA="Toast",dfe="toast.swipeStart",hfe="toast.swipeMove",ffe="toast.swipeCancel",pfe="toast.swipeEnd",W7=E.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=t,[o,l]=ao({prop:n,defaultProp:i??!0,onChange:s,caller:fA});return m.jsx(vi,{present:r||o,children:m.jsx(vfe,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:Yr(t.onPause),onResume:Yr(t.onResume),onSwipeStart:he(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:he(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});W7.displayName=fA;var[mfe,gfe]=B7(fA,{onClose(){}}),vfe=E.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...g}=t,v=wj(fA,r),[y,b]=E.useState(null),x=Fe(e,D=>b(D)),w=E.useRef(null),S=E.useRef(null),_=i||v.duration,A=E.useRef(0),C=E.useRef(_),T=E.useRef(0),{onToastAdd:P,onToastRemove:O}=v,I=Yr(()=>{var U;(y==null?void 0:y.contains(document.activeElement))&&((U=v.viewport)==null||U.focus()),a()}),R=E.useCallback(D=>{!D||D===1/0||(window.clearTimeout(T.current),A.current=new Date().getTime(),T.current=window.setTimeout(I,D))},[I]);E.useEffect(()=>{const D=v.viewport;if(D){const U=()=>{R(C.current),c==null||c()},N=()=>{const j=new Date().getTime()-A.current;C.current=C.current-j,window.clearTimeout(T.current),l==null||l()};return D.addEventListener(SM,N),D.addEventListener(_M,U),()=>{D.removeEventListener(SM,N),D.removeEventListener(_M,U)}}},[v.viewport,_,l,c,R]),E.useEffect(()=>{s&&!v.isClosePausedRef.current&&R(_)},[s,_,v.isClosePausedRef,R]),E.useEffect(()=>(P(),()=>O()),[P,O]);const B=E.useMemo(()=>y?Z7(y):null,[y]);return v.viewport?m.jsxs(m.Fragment,{children:[B&&m.jsx(yfe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:B}),m.jsx(mfe,{scope:r,onClose:I,children:Qm.createPortal(m.jsx(JF.ItemSlot,{scope:r,children:m.jsx(Yhe,{asChild:!0,onEscapeKeyDown:he(o,()=>{v.isFocusedToastEscapeKeyDownRef.current||I(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(ke.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:he(t.onKeyDown,D=>{D.key==="Escape"&&(o==null||o(D.nativeEvent),D.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:he(t.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:he(t.onPointerMove,D=>{if(!w.current)return;const U=D.clientX-w.current.x,N=D.clientY-w.current.y,j=!!S.current,L=["left","right"].includes(v.swipeDirection),F=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,z=L?F(0,U):0,K=L?0:F(0,N),V=D.pointerType==="touch"?10:2,G={x:z,y:K},X={originalEvent:D,delta:G};j?(S.current=G,cE(hfe,d,X,{discrete:!1})):ZU(G,v.swipeDirection,V)?(S.current=G,cE(dfe,u,X,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(U)>V||Math.abs(N)>V)&&(w.current=null)}),onPointerUp:he(t.onPointerUp,D=>{const U=S.current,N=D.target;if(N.hasPointerCapture(D.pointerId)&&N.releasePointerCapture(D.pointerId),S.current=null,w.current=null,U){const j=D.currentTarget,L={originalEvent:D,delta:U};ZU(U,v.swipeDirection,v.swipeThreshold)?cE(pfe,f,L,{discrete:!0}):cE(ffe,h,L,{discrete:!0}),j.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),yfe=t=>{const{__scopeToast:e,children:r,...n}=t,i=wj(fA,e),[s,a]=E.useState(!1),[o,l]=E.useState(!1);return wfe(()=>a(!0)),E.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:m.jsx(hA,{asChild:!0,children:m.jsx(xj,{...n,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",r]})})})},bfe="ToastTitle",G7=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return m.jsx(ke.div,{...n,ref:e})});G7.displayName=bfe;var xfe="ToastDescription",q7=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return m.jsx(ke.div,{...n,ref:e})});q7.displayName=xfe;var K7="ToastAction",X7=E.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?m.jsx(Q7,{altText:r,asChild:!0,children:m.jsx(eB,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${K7}\`. Expected non-empty \`string\`.`),null)});X7.displayName=K7;var Y7="ToastClose",eB=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=gfe(Y7,r);return m.jsx(Q7,{asChild:!0,children:m.jsx(ke.button,{type:"button",...n,ref:e,onClick:he(t.onClick,i.onClose)})})});eB.displayName=Y7;var Q7=E.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return m.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function Z7(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Sfe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Z7(n))}}),e}function cE(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?QF(i,s):i.dispatchEvent(s)}var ZU=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function wfe(t=()=>{}){const e=Yr(t);nn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Sfe(t){return t.nodeType===t.ELEMENT_NODE}function _fe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function YN(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Afe=U7,J7=z7,eX=W7,tX=G7,rX=q7,nX=X7,iX=eB;function sX(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=sX(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ot(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=sX(t))&&(n&&(n+=" "),n+=e);return n}const JU=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,eV=ot,pA=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return eV(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],d=s==null?void 0:s[c];if(u===null)return null;const h=JU(u)||JU(d);return i[c][h]}),o=r&&Object.entries(r).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(g=>{let[v,y]=g;return Array.isArray(y)?y.includes({...s,...o}[v]):{...s,...o}[v]===y})?[...c,d,h]:c},[]);return eV(t,a,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aX=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>E.createElement("svg",{ref:l,...Cfe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:aX("lucide",i),...o},[...a.map(([c,u])=>E.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(t,e)=>{const r=E.forwardRef(({className:n,...i},s)=>E.createElement(Tfe,{ref:s,iconNode:e,className:aX(`lucide-${Efe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=Ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=Ie("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=Ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Ie("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=Ie("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=Ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=Ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=Ie("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=Ie("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=Ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=Ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=Ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=Ie("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=Ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=Ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=Ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Ie("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=Ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=Ie("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=Ie("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=Ie("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=Ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=Ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=Ie("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=Ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=Ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=Ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=Ie("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=Ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=Ie("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=Ie("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=Ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=Ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=Ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=Ie("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=Ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=Ie("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=Ie("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=Ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Ie("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=Ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cB="-",Zfe=t=>{const e=epe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(cB);return o[0]===""&&o.length!==1&&o.shift(),pX(o,e)||Jfe(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},pX=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?pX(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(cB);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},nV=/^\[(.+)\]$/,Jfe=t=>{if(nV.test(t)){const e=nV.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},epe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return rpe(Object.entries(t.classGroups),r).forEach(([s,a])=>{kM(a,n,s,e)}),n},kM=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:iV(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(tpe(i)){kM(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{kM(a,iV(e,s),r,n)})})},iV=(t,e)=>{let r=t;return e.split(cB).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},tpe=t=>t.isThemeGetter,rpe=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,npe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},mX="!",ipe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let c=0,u=0,d;for(let y=0;y<o.length;y++){let b=o[y];if(c===0){if(b===i&&(n||o.slice(y,y+s)===e)){l.push(o.slice(u,y)),u=y+s;continue}if(b==="/"){d=y;continue}}b==="["?c++:b==="]"&&c--}const h=l.length===0?o:o.substring(u),f=h.startsWith(mX),g=f?h.substring(1):h,v=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:v}};return r?o=>r({className:o,parseClassName:a}):a},spe=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},ape=t=>({cache:npe(t.cacheSize),parseClassName:ipe(t),...Zfe(t)}),ope=/\s+/,lpe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(ope);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=r(c);let g=!!f,v=n(g?h.substring(0,f):h);if(!v){if(!g){o=c+(o.length>0?" "+o:o);continue}if(v=n(h),!v){o=c+(o.length>0?" "+o:o);continue}g=!1}const y=spe(u).join(":"),b=d?y+mX:y,x=b+v;if(s.includes(x))continue;s.push(x);const w=i(v,g);for(let S=0;S<w.length;++S){const _=w[S];s.push(b+_)}o=c+(o.length>0?" "+o:o)}return o};function cpe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=gX(e))&&(n&&(n+=" "),n+=r);return n}const gX=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=gX(t[n]))&&(r&&(r+=" "),r+=e);return r};function upe(t,...e){let r,n,i,s=a;function a(l){const c=e.reduce((u,d)=>d(u),t());return r=ape(c),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){const c=n(l);if(c)return c;const u=lpe(l,r);return i(l,u),u}return function(){return s(cpe.apply(null,arguments))}}const pr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},vX=/^\[(?:([a-z-]+):)?(.+)\]$/i,dpe=/^\d+\/\d+$/,hpe=new Set(["px","full","screen"]),fpe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ppe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mpe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,gpe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vpe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bc=t=>Tv(t)||hpe.has(t)||dpe.test(t),sd=t=>y0(t,"length",Epe),Tv=t=>!!t&&!Number.isNaN(Number(t)),QN=t=>y0(t,"number",Tv),ex=t=>!!t&&Number.isInteger(Number(t)),ype=t=>t.endsWith("%")&&Tv(t.slice(0,-1)),st=t=>vX.test(t),ad=t=>fpe.test(t),bpe=new Set(["length","size","percentage"]),xpe=t=>y0(t,bpe,yX),wpe=t=>y0(t,"position",yX),Spe=new Set(["image","url"]),_pe=t=>y0(t,Spe,Tpe),Ape=t=>y0(t,"",Cpe),tx=()=>!0,y0=(t,e,r)=>{const n=vX.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Epe=t=>ppe.test(t)&&!mpe.test(t),yX=()=>!1,Cpe=t=>gpe.test(t),Tpe=t=>vpe.test(t),Ppe=()=>{const t=pr("colors"),e=pr("spacing"),r=pr("blur"),n=pr("brightness"),i=pr("borderColor"),s=pr("borderRadius"),a=pr("borderSpacing"),o=pr("borderWidth"),l=pr("contrast"),c=pr("grayscale"),u=pr("hueRotate"),d=pr("invert"),h=pr("gap"),f=pr("gradientColorStops"),g=pr("gradientColorStopPositions"),v=pr("inset"),y=pr("margin"),b=pr("opacity"),x=pr("padding"),w=pr("saturate"),S=pr("scale"),_=pr("sepia"),A=pr("skew"),C=pr("space"),T=pr("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",st,e],R=()=>[st,e],B=()=>["",bc,sd],D=()=>["auto",Tv,st],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",st],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Tv,st];return{cacheSize:500,separator:":",theme:{colors:[tx],spacing:[bc,sd],blur:["none","",ad,st],brightness:K(),borderColor:[t],borderRadius:["none","","full",ad,st],borderSpacing:R(),borderWidth:B(),contrast:K(),grayscale:F(),hueRotate:K(),invert:F(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[ype,sd],inset:I(),margin:I(),opacity:K(),padding:R(),saturate:K(),scale:K(),sepia:F(),skew:K(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",st]}],container:["container"],columns:[{columns:[ad]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),st]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ex,st]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",st]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",ex,st]}],"grid-cols":[{"grid-cols":[tx]}],"col-start-end":[{col:["auto",{span:["full",ex,st]},st]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[tx]}],"row-start-end":[{row:["auto",{span:[ex,st]},st]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",st]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",st]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",st,e]}],"min-w":[{"min-w":[st,e,"min","max","fit"]}],"max-w":[{"max-w":[st,e,"none","full","min","max","fit","prose",{screen:[ad]},ad]}],h:[{h:[st,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[st,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[st,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[st,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ad,sd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",QN]}],"font-family":[{font:[tx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",st]}],"line-clamp":[{"line-clamp":["none",Tv,QN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bc,st]}],"list-image":[{"list-image":["none",st]}],"list-style-type":[{list:["none","disc","decimal",st]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bc,sd]}],"underline-offset":[{"underline-offset":["auto",bc,st]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),wpe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xpe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_pe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:N()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[bc,st]}],"outline-w":[{outline:[bc,sd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[bc,sd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ad,Ape]}],"shadow-color":[{shadow:[tx]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ad,st]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",st]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",st]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",st]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ex,st]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",st]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bc,sd,QN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kpe=upe(Ppe);function pe(...t){return kpe(ot(t))}const jpe=Afe,bX=E.forwardRef(({className:t,...e},r)=>m.jsx(J7,{ref:r,className:pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));bX.displayName=J7.displayName;const Ope=pA("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xX=E.forwardRef(({className:t,variant:e,...r},n)=>m.jsx(eX,{ref:n,className:pe(Ope({variant:e}),t),...r}));xX.displayName=eX.displayName;const Npe=E.forwardRef(({className:t,...e},r)=>m.jsx(nX,{ref:r,className:pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Npe.displayName=nX.displayName;const wX=E.forwardRef(({className:t,...e},r)=>m.jsx(iX,{ref:r,className:pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(Wh,{className:"h-4 w-4"})}));wX.displayName=iX.displayName;const SX=E.forwardRef(({className:t,...e},r)=>m.jsx(tX,{ref:r,className:pe("text-sm font-semibold",t),...e}));SX.displayName=tX.displayName;const _X=E.forwardRef(({className:t,...e},r)=>m.jsx(rX,{ref:r,className:pe("text-sm opacity-90",t),...e}));_X.displayName=rX.displayName;function Rpe(){const{toasts:t}=R7();return m.jsxs(jpe,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return m.jsxs(xX,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[r&&m.jsx(SX,{children:r}),n&&m.jsx(_X,{children:n})]}),i,m.jsx(wX,{})]},e)}),m.jsx(bX,{})]})}var DT=["light","dark"],uB="(prefers-color-scheme: dark)",Mpe=typeof window>"u",dB=E.createContext(void 0),Ipe={setTheme:t=>{},themes:[]},hB=()=>{var t;return(t=E.useContext(dB))!=null?t:Ipe},Dpe=t=>E.useContext(dB)?t.children:E.createElement(Lpe,{...t}),$pe=["light","dark"],Lpe=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:i="theme",themes:s=$pe,defaultTheme:a=r?"system":"light",attribute:o="data-theme",value:l,children:c,nonce:u})=>{let[d,h]=E.useState(()=>sV(i,a)),[f,g]=E.useState(()=>sV(i)),v=l?Object.values(l):s,y=E.useCallback(S=>{let _=S;if(!_)return;S==="system"&&r&&(_=aV());let A=l?l[_]:_,C=e?Bpe():null,T=document.documentElement;if(o==="class"?(T.classList.remove(...v),A&&T.classList.add(A)):A?T.setAttribute(o,A):T.removeAttribute(o),n){let P=DT.includes(a)?a:null,O=DT.includes(_)?_:P;T.style.colorScheme=O}C==null||C()},[]),b=E.useCallback(S=>{let _=typeof S=="function"?S(S):S;h(_);try{localStorage.setItem(i,_)}catch{}},[t]),x=E.useCallback(S=>{let _=aV(S);g(_),d==="system"&&r&&!t&&y("system")},[d,t]);E.useEffect(()=>{let S=window.matchMedia(uB);return S.addListener(x),x(S),()=>S.removeListener(x)},[x]),E.useEffect(()=>{let S=_=>{if(_.key!==i)return;let A=_.newValue||a;b(A)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[b]),E.useEffect(()=>{y(t??d)},[t,d]);let w=E.useMemo(()=>({theme:d,setTheme:b,forcedTheme:t,resolvedTheme:d==="system"?f:d,themes:r?[...s,"system"]:s,systemTheme:r?f:void 0}),[d,b,t,f,r,s]);return E.createElement(dB.Provider,{value:w},E.createElement(Fpe,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:r,enableColorScheme:n,storageKey:i,themes:s,defaultTheme:a,attribute:o,value:l,children:c,attrs:v,nonce:u}),c)},Fpe=E.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:l})=>{let c=s==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=i?DT.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,v=!1,y=!0)=>{let b=a?a[g]:g,x=v?g+"|| ''":`'${b}'`,w="";return i&&y&&!v&&DT.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?v||b?w+=`c.add(${x})`:w+="null":b&&(w+=`d[s](n,${x})`),w},f=t?`!function(){${u}${h(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${uB}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return E.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})}),sV=(t,e)=>{if(Mpe)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},Bpe=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},aV=t=>(t||(t=window.matchMedia(uB)),t.matches?"dark":"light"),Upe=t=>{switch(t){case"success":return Hpe;case"info":return Gpe;case"warning":return Wpe;case"error":return qpe;default:return null}},Vpe=Array(12).fill(0),zpe=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},Vpe.map((r,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Hpe=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wpe=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Gpe=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qpe=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Kpe=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Xpe=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},jM=1,Ype=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:jM++,s=this.toasts.find(o=>o.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:r}),{...o,...t,id:i,dismissible:a,title:r}):o):this.addToast({title:r,...n,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,s,a=n.then(async l=>{if(s=["resolve",l],W.isValidElement(l))i=!1,this.create({id:r,type:"default",message:l});else if(Zpe(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,c)=>a.then(()=>s[0]==="reject"?c(s[1]):l(s[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||jM++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gs=new Ype,Qpe=(t,e)=>{let r=(e==null?void 0:e.id)||jM++;return gs.addToast({title:t,...e,id:r}),r},Zpe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Jpe=Qpe,eme=()=>gs.toasts,tme=()=>gs.getActiveToasts(),de=Object.assign(Jpe,{success:gs.success,info:gs.info,warning:gs.warning,error:gs.error,custom:gs.custom,message:gs.message,promise:gs.promise,dismiss:gs.dismiss,loading:gs.loading},{getHistory:eme,getToasts:tme});function rme(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}rme(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function uE(t){return t.label!==void 0}var nme=3,ime="32px",sme="16px",oV=4e3,ame=356,ome=14,lme=20,cme=200;function vo(...t){return t.filter(Boolean).join(" ")}function ume(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var dme=t=>{var e,r,n,i,s,a,o,l,c,u,d;let{invert:h,toast:f,unstyled:g,interacting:v,setHeights:y,visibleToasts:b,heights:x,index:w,toasts:S,expanded:_,removeToast:A,defaultRichColors:C,closeButton:T,style:P,cancelButtonStyle:O,actionButtonStyle:I,className:R="",descriptionClassName:B="",duration:D,position:U,gap:N,loadingIcon:j,expandByDefault:L,classNames:F,icons:z,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:V}=t,[G,X]=W.useState(null),[H,Z]=W.useState(null),[J,ce]=W.useState(!1),[ee,oe]=W.useState(!1),[ue,te]=W.useState(!1),[De,je]=W.useState(!1),[$e,He]=W.useState(!1),[Ue,tt]=W.useState(0),[bt,er]=W.useState(0),q=W.useRef(f.duration||D||oV),Y=W.useRef(null),Q=W.useRef(null),re=w===0,le=w+1<=b,se=f.type,ye=f.dismissible!==!1,_e=f.className||"",Le=f.descriptionClassName||"",Ze=W.useMemo(()=>x.findIndex(We=>We.toastId===f.id)||0,[x,f.id]),xr=W.useMemo(()=>{var We;return(We=f.closeButton)!=null?We:T},[f.closeButton,T]),vt=W.useMemo(()=>f.duration||D||oV,[f.duration,D]),sn=W.useRef(0),tr=W.useRef(0),Mn=W.useRef(0),Pr=W.useRef(null),[Dt,Os]=U.split("-"),Aa=W.useMemo(()=>x.reduce((We,Pt,At)=>At>=Ze?We:We+Pt.height,0),[x,Ze]),ed=Xpe(),xN=f.invert||h,Ea=se==="loading";tr.current=W.useMemo(()=>Ze*N+Aa,[Ze,Aa]),W.useEffect(()=>{q.current=vt},[vt]),W.useEffect(()=>{ce(!0)},[]),W.useEffect(()=>{let We=Q.current;if(We){let Pt=We.getBoundingClientRect().height;return er(Pt),y(At=>[{toastId:f.id,height:Pt,position:f.position},...At]),()=>y(At=>At.filter(bn=>bn.toastId!==f.id))}},[y,f.id]),W.useLayoutEffect(()=>{if(!J)return;let We=Q.current,Pt=We.style.height;We.style.height="auto";let At=We.getBoundingClientRect().height;We.style.height=Pt,er(At),y(bn=>bn.find(po=>po.toastId===f.id)?bn.map(po=>po.toastId===f.id?{...po,height:At}:po):[{toastId:f.id,height:At,position:f.position},...bn])},[J,f.title,f.description,y,f.id]);let Yn=W.useCallback(()=>{oe(!0),tt(tr.current),y(We=>We.filter(Pt=>Pt.toastId!==f.id)),setTimeout(()=>{A(f)},cme)},[f,A,y,tr]);W.useEffect(()=>{if(f.promise&&se==="loading"||f.duration===1/0||f.type==="loading")return;let We;return _||v||V&&ed?(()=>{if(Mn.current<sn.current){let Pt=new Date().getTime()-sn.current;q.current=q.current-Pt}Mn.current=new Date().getTime()})():q.current!==1/0&&(sn.current=new Date().getTime(),We=setTimeout(()=>{var Pt;(Pt=f.onAutoClose)==null||Pt.call(f,f),Yn()},q.current)),()=>clearTimeout(We)},[_,v,f,se,V,ed,Yn]),W.useEffect(()=>{f.delete&&Yn()},[Yn,f.delete]);function td(){var We,Pt,At;return z!=null&&z.loading?W.createElement("div",{className:vo(F==null?void 0:F.loader,(We=f==null?void 0:f.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":se==="loading"},z.loading):j?W.createElement("div",{className:vo(F==null?void 0:F.loader,(Pt=f==null?void 0:f.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":se==="loading"},j):W.createElement(zpe,{className:vo(F==null?void 0:F.loader,(At=f==null?void 0:f.classNames)==null?void 0:At.loader),visible:se==="loading"})}return W.createElement("li",{tabIndex:0,ref:Q,className:vo(R,_e,F==null?void 0:F.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[se],(r=f==null?void 0:f.classNames)==null?void 0:r[se]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:C,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":J,"data-promise":!!f.promise,"data-swiped":$e,"data-removed":ee,"data-visible":le,"data-y-position":Dt,"data-x-position":Os,"data-index":w,"data-front":re,"data-swiping":ue,"data-dismissible":ye,"data-type":se,"data-invert":xN,"data-swipe-out":De,"data-swipe-direction":H,"data-expanded":!!(_||L&&J),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${ee?Ue:tr.current}px`,"--initial-height":L?"auto":`${bt}px`,...P,...f.style},onDragEnd:()=>{te(!1),X(null),Pr.current=null},onPointerDown:We=>{Ea||!ye||(Y.current=new Date,tt(tr.current),We.target.setPointerCapture(We.pointerId),We.target.tagName!=="BUTTON"&&(te(!0),Pr.current={x:We.clientX,y:We.clientY}))},onPointerUp:()=>{var We,Pt,At,bn;if(De||!ye)return;Pr.current=null;let po=Number(((We=Q.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rd=Number(((Pt=Q.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vf=new Date().getTime()-((At=Y.current)==null?void 0:At.getTime()),mo=G==="x"?po:rd,nd=Math.abs(mo)/vf;if(Math.abs(mo)>=lme||nd>.11){tt(tr.current),(bn=f.onDismiss)==null||bn.call(f,f),Z(G==="x"?po>0?"right":"left":rd>0?"down":"up"),Yn(),je(!0),He(!1);return}te(!1),X(null)},onPointerMove:We=>{var Pt,At,bn,po;if(!Pr.current||!ye||((Pt=window.getSelection())==null?void 0:Pt.toString().length)>0)return;let rd=We.clientY-Pr.current.y,vf=We.clientX-Pr.current.x,mo=(At=t.swipeDirections)!=null?At:ume(U);!G&&(Math.abs(vf)>1||Math.abs(rd)>1)&&X(Math.abs(vf)>Math.abs(rd)?"x":"y");let nd={x:0,y:0};G==="y"?(mo.includes("top")||mo.includes("bottom"))&&(mo.includes("top")&&rd<0||mo.includes("bottom")&&rd>0)&&(nd.y=rd):G==="x"&&(mo.includes("left")||mo.includes("right"))&&(mo.includes("left")&&vf<0||mo.includes("right")&&vf>0)&&(nd.x=vf),(Math.abs(nd.x)>0||Math.abs(nd.y)>0)&&He(!0),(bn=Q.current)==null||bn.style.setProperty("--swipe-amount-x",`${nd.x}px`),(po=Q.current)==null||po.style.setProperty("--swipe-amount-y",`${nd.y}px`)}},xr&&!f.jsx?W.createElement("button",{"aria-label":K,"data-disabled":Ea,"data-close-button":!0,onClick:Ea||!ye?()=>{}:()=>{var We;Yn(),(We=f.onDismiss)==null||We.call(f,f)},className:vo(F==null?void 0:F.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(s=z==null?void 0:z.close)!=null?s:Kpe):null,f.jsx||E.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:W.createElement(W.Fragment,null,se||f.icon||f.promise?W.createElement("div",{"data-icon":"",className:vo(F==null?void 0:F.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||td():null,f.type!=="loading"?f.icon||(z==null?void 0:z[se])||Upe(se):null):null,W.createElement("div",{"data-content":"",className:vo(F==null?void 0:F.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:vo(F==null?void 0:F.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?W.createElement("div",{"data-description":"",className:vo(B,Le,F==null?void 0:F.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),E.isValidElement(f.cancel)?f.cancel:f.cancel&&uE(f.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||O,onClick:We=>{var Pt,At;uE(f.cancel)&&ye&&((At=(Pt=f.cancel).onClick)==null||At.call(Pt,We),Yn())},className:vo(F==null?void 0:F.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,E.isValidElement(f.action)?f.action:f.action&&uE(f.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||I,onClick:We=>{var Pt,At;uE(f.action)&&((At=(Pt=f.action).onClick)==null||At.call(Pt,We),!We.defaultPrevented&&Yn())},className:vo(F==null?void 0:F.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function lV(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function hme(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?sme:ime;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${a}-${c}`]=o:r[`${a}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(o)}),r}var fme=E.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:f,visibleToasts:g=nme,toastOptions:v,dir:y=lV(),gap:b=ome,loadingIcon:x,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:_}=t,[A,C]=W.useState([]),T=W.useMemo(()=>Array.from(new Set([n].concat(A.filter(V=>V.position).map(V=>V.position)))),[A,n]),[P,O]=W.useState([]),[I,R]=W.useState(!1),[B,D]=W.useState(!1),[U,N]=W.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=W.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=W.useRef(null),z=W.useRef(!1),K=W.useCallback(V=>{C(G=>{var X;return(X=G.find(H=>H.id===V.id))!=null&&X.delete||gs.dismiss(V.id),G.filter(({id:H})=>H!==V.id)})},[]);return W.useEffect(()=>gs.subscribe(V=>{if(V.dismiss){C(G=>G.map(X=>X.id===V.id?{...X,delete:!0}:X));return}setTimeout(()=>{O7.flushSync(()=>{C(G=>{let X=G.findIndex(H=>H.id===V.id);return X!==-1?[...G.slice(0,X),{...G[X],...V},...G.slice(X+1)]:[V,...G]})})})}),[]),W.useEffect(()=>{if(u!=="system"){N(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?N("dark"):N("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:G})=>{N(G?"dark":"light")})}catch{V.addListener(({matches:X})=>{try{N(X?"dark":"light")}catch(H){console.error(H)}})}},[u]),W.useEffect(()=>{A.length<=1&&R(!1)},[A]),W.useEffect(()=>{let V=G=>{var X,H;i.every(Z=>G[Z]||G.code===Z)&&(R(!0),(X=j.current)==null||X.focus()),G.code==="Escape"&&(document.activeElement===j.current||(H=j.current)!=null&&H.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[i]),W.useEffect(()=>{if(j.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,z.current=!1)}},[j.current]),W.createElement("section",{ref:e,"aria-label":`${S} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((V,G)=>{var X;let[H,Z]=V.split("-");return A.length?W.createElement("ol",{key:V,dir:y==="auto"?lV():y,tabIndex:-1,ref:j,className:o,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":H,"data-lifted":I&&A.length>1&&!s,"data-x-position":Z,style:{"--front-toast-height":`${((X=P[0])==null?void 0:X.height)||0}px`,"--width":`${ame}px`,"--gap":`${b}px`,...f,...hme(l,c)},onBlur:J=>{z.current&&!J.currentTarget.contains(J.relatedTarget)&&(z.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||z.current||(z.current=!0,F.current=J.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{B||R(!1)},onDragEnd:()=>R(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},A.filter(J=>!J.position&&G===0||J.position===V).map((J,ce)=>{var ee,oe;return W.createElement(dme,{key:J.id,icons:w,index:ce,toast:J,defaultRichColors:d,duration:(ee=v==null?void 0:v.duration)!=null?ee:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:g,closeButton:(oe=v==null?void 0:v.closeButton)!=null?oe:a,interacting:B,position:V,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:K,toasts:A.filter(ue=>ue.position==J.position),heights:P.filter(ue=>ue.position==J.position),setHeights:O,expandByDefault:s,gap:b,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const pme=({...t})=>{const{theme:e="system"}=hB();return m.jsx(fme,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var mme=ij[" useId ".trim().toString()]||(()=>{}),gme=0;function pi(t){const[e,r]=E.useState(mme());return nn(()=>{r(n=>n??String(gme++))},[t]),e?`radix-${e}`:""}const vme=["top","right","bottom","left"],Gh=Math.min,aa=Math.max,$T=Math.round,dE=Math.floor,rc=t=>({x:t,y:t}),yme={left:"right",right:"left",bottom:"top",top:"bottom"},bme={start:"end",end:"start"};function OM(t,e,r){return aa(t,Gh(e,r))}function Ru(t,e){return typeof t=="function"?t(e):t}function Mu(t){return t.split("-")[0]}function b0(t){return t.split("-")[1]}function fB(t){return t==="x"?"y":"x"}function pB(t){return t==="y"?"height":"width"}const xme=new Set(["top","bottom"]);function Yl(t){return xme.has(Mu(t))?"y":"x"}function mB(t){return fB(Yl(t))}function wme(t,e,r){r===void 0&&(r=!1);const n=b0(t),i=mB(t),s=pB(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=LT(a)),[a,LT(a)]}function Sme(t){const e=LT(t);return[NM(t),e,NM(e)]}function NM(t){return t.replace(/start|end/g,e=>bme[e])}const cV=["left","right"],uV=["right","left"],_me=["top","bottom"],Ame=["bottom","top"];function Eme(t,e,r){switch(t){case"top":case"bottom":return r?e?uV:cV:e?cV:uV;case"left":case"right":return e?_me:Ame;default:return[]}}function Cme(t,e,r,n){const i=b0(t);let s=Eme(Mu(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(NM)))),s}function LT(t){return t.replace(/left|right|bottom|top/g,e=>yme[e])}function Tme(t){return{top:0,right:0,bottom:0,left:0,...t}}function AX(t){return typeof t!="number"?Tme(t):{top:t,right:t,bottom:t,left:t}}function FT(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function dV(t,e,r){let{reference:n,floating:i}=t;const s=Yl(e),a=mB(e),o=pB(a),l=Mu(e),c=s==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,h=n[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:n.y-i.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-i.width,y:d};break;default:f={x:n.x,y:n.y}}switch(b0(e)){case"start":f[a]-=h*(r&&c?-1:1);break;case"end":f[a]+=h*(r&&c?-1:1);break}return f}async function Pme(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Ru(e,t),g=AX(f),y=o[h?d==="floating"?"reference":"floating":d],b=FT(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(y)))==null||r?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},_=FT(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:w,strategy:l}):x);return{top:(b.top-_.top+g.top)/S.y,bottom:(_.bottom-b.bottom+g.bottom)/S.y,left:(b.left-_.left+g.left)/S.x,right:(_.right-b.right+g.right)/S.x}}const kme=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=dV(c,n,l),h=n,f={},g=0;for(let y=0;y<o.length;y++){var v;const{name:b,fn:x}=o[y],{x:w,y:S,data:_,reset:A}=await x({x:u,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:f,rects:c,platform:{...a,detectOverflow:(v=a.detectOverflow)!=null?v:Pme},elements:{reference:t,floating:e}});u=w??u,d=S??d,f={...f,[b]:{...f[b],..._}},A&&g<=50&&(g++,typeof A=="object"&&(A.placement&&(h=A.placement),A.rects&&(c=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:u,y:d}=dV(c,h,l)),y=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}},jme=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=Ru(t,e)||{};if(c==null)return{};const d=AX(u),h={x:r,y:n},f=mB(i),g=pB(f),v=await a.getDimensions(c),y=f==="y",b=y?"top":"left",x=y?"bottom":"right",w=y?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[f]-h[f]-s.floating[g],_=h[f]-s.reference[f],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let C=A?A[w]:0;(!C||!await(a.isElement==null?void 0:a.isElement(A)))&&(C=o.floating[w]||s.floating[g]);const T=S/2-_/2,P=C/2-v[g]/2-1,O=Gh(d[b],P),I=Gh(d[x],P),R=O,B=C-v[g]-I,D=C/2-v[g]/2+T,U=OM(R,D,B),N=!l.arrow&&b0(i)!=null&&D!==U&&s.reference[g]/2-(D<R?O:I)-v[g]/2<0,j=N?D<R?D-R:D-B:0;return{[f]:h[f]+j,data:{[f]:U,centerOffset:D-U-j,...N&&{alignmentOffset:j}},reset:N}}}),Ome=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=Ru(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=Mu(i),x=Yl(o),w=Mu(o)===o,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(w||!v?[LT(o)]:Sme(o)),A=g!=="none";!h&&A&&_.push(...Cme(o,v,g,S));const C=[o,..._],T=await l.detectOverflow(e,y),P=[];let O=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&P.push(T[b]),d){const D=wme(i,a,S);P.push(T[D[0]],T[D[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(D=>D<=0)){var I,R;const D=(((I=s.flip)==null?void 0:I.index)||0)+1,U=C[D];if(U&&(!(d==="alignment"?x!==Yl(U):!1)||O.every(L=>Yl(L.placement)===x?L.overflows[0]>0:!0)))return{data:{index:D,overflows:O},reset:{placement:U}};let N=(R=O.filter(j=>j.overflows[0]<=0).sort((j,L)=>j.overflows[1]-L.overflows[1])[0])==null?void 0:R.placement;if(!N)switch(f){case"bestFit":{var B;const j=(B=O.filter(L=>{if(A){const F=Yl(L.placement);return F===x||F==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(F=>F>0).reduce((F,z)=>F+z,0)]).sort((L,F)=>L[1]-F[1])[0])==null?void 0:B[0];j&&(N=j);break}case"initialPlacement":N=o;break}if(i!==N)return{reset:{placement:N}}}return{}}}};function hV(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function fV(t){return vme.some(e=>t[e]>=0)}const Nme=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r,platform:n}=e,{strategy:i="referenceHidden",...s}=Ru(t,e);switch(i){case"referenceHidden":{const a=await n.detectOverflow(e,{...s,elementContext:"reference"}),o=hV(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:fV(o)}}}case"escaped":{const a=await n.detectOverflow(e,{...s,altBoundary:!0}),o=hV(a,r.floating);return{data:{escapedOffsets:o,escaped:fV(o)}}}default:return{}}}}},EX=new Set(["left","top"]);async function Rme(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Mu(r),o=b0(r),l=Yl(r)==="y",c=EX.has(a)?-1:1,u=s&&l?-1:1,d=Ru(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof g=="number"&&(f=o==="end"?g*-1:g),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const Mme=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await Rme(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},Ime=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i,platform:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x,y:w}=b;return{x,y:w}}},...c}=Ru(t,e),u={x:r,y:n},d=await s.detectOverflow(e,c),h=Yl(Mu(i)),f=fB(h);let g=u[f],v=u[h];if(a){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=g+d[b],S=g-d[x];g=OM(w,g,S)}if(o){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=v+d[b],S=v-d[x];v=OM(w,v,S)}const y=l.fn({...e,[f]:g,[h]:v});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[f]:a,[h]:o}}}}}},Dme=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Ru(t,e),u={x:r,y:n},d=Yl(i),h=fB(d);let f=u[h],g=u[d];const v=Ru(o,e),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=h==="y"?"height":"width",S=s.reference[h]-s.floating[w]+y.mainAxis,_=s.reference[h]+s.reference[w]-y.mainAxis;f<S?f=S:f>_&&(f=_)}if(c){var b,x;const w=h==="y"?"width":"height",S=EX.has(Mu(i)),_=s.reference[d]-s.floating[w]+(S&&((b=a.offset)==null?void 0:b[d])||0)+(S?0:y.crossAxis),A=s.reference[d]+s.reference[w]+(S?0:((x=a.offset)==null?void 0:x[d])||0)-(S?y.crossAxis:0);g<_?g=_:g>A&&(g=A)}return{[h]:f,[d]:g}}}},$me=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=Ru(t,e),u=await a.detectOverflow(e,c),d=Mu(i),h=b0(i),f=Yl(i)==="y",{width:g,height:v}=s.floating;let y,b;d==="top"||d==="bottom"?(y=d,b=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(b=d,y=h==="end"?"top":"bottom");const x=v-u.top-u.bottom,w=g-u.left-u.right,S=Gh(v-u[y],x),_=Gh(g-u[b],w),A=!e.middlewareData.shift;let C=S,T=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=x),A&&!h){const O=aa(u.left,0),I=aa(u.right,0),R=aa(u.top,0),B=aa(u.bottom,0);f?T=g-2*(O!==0||I!==0?O+I:aa(u.left,u.right)):C=v-2*(R!==0||B!==0?R+B:aa(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:C});const P=await a.getDimensions(o.floating);return g!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Sj(){return typeof window<"u"}function x0(t){return CX(t)?(t.nodeName||"").toLowerCase():"#document"}function ga(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mc(t){var e;return(e=(CX(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CX(t){return Sj()?t instanceof Node||t instanceof ga(t).Node:!1}function nl(t){return Sj()?t instanceof Element||t instanceof ga(t).Element:!1}function lc(t){return Sj()?t instanceof HTMLElement||t instanceof ga(t).HTMLElement:!1}function pV(t){return!Sj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ga(t).ShadowRoot}const Lme=new Set(["inline","contents"]);function mA(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=il(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Lme.has(i)}const Fme=new Set(["table","td","th"]);function Bme(t){return Fme.has(x0(t))}const Ume=[":popover-open",":modal"];function _j(t){return Ume.some(e=>{try{return t.matches(e)}catch{return!1}})}const Vme=["transform","translate","scale","rotate","perspective"],zme=["transform","translate","scale","rotate","perspective","filter"],Hme=["paint","layout","strict","content"];function gB(t){const e=vB(),r=nl(t)?il(t):t;return Vme.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||zme.some(n=>(r.willChange||"").includes(n))||Hme.some(n=>(r.contain||"").includes(n))}function Wme(t){let e=qh(t);for(;lc(e)&&!Pb(e);){if(gB(e))return e;if(_j(e))return null;e=qh(e)}return null}function vB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Gme=new Set(["html","body","#document"]);function Pb(t){return Gme.has(x0(t))}function il(t){return ga(t).getComputedStyle(t)}function Aj(t){return nl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qh(t){if(x0(t)==="html")return t;const e=t.assignedSlot||t.parentNode||pV(t)&&t.host||mc(t);return pV(e)?e.host:e}function TX(t){const e=qh(t);return Pb(e)?t.ownerDocument?t.ownerDocument.body:t.body:lc(e)&&mA(e)?e:TX(e)}function Xw(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=TX(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=ga(i);if(s){const o=RM(a);return e.concat(a,a.visualViewport||[],mA(i)?i:[],o&&r?Xw(o):[])}return e.concat(i,Xw(i,[],r))}function RM(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function PX(t){const e=il(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=lc(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=$T(r)!==s||$T(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function yB(t){return nl(t)?t:t.contextElement}function Pv(t){const e=yB(t);if(!lc(e))return rc(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=PX(e);let a=(s?$T(r.width):r.width)/n,o=(s?$T(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const qme=rc(0);function kX(t){const e=ga(t);return!vB()||!e.visualViewport?qme:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Kme(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ga(t)?!1:e}function jm(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=yB(t);let a=rc(1);e&&(n?nl(n)&&(a=Pv(n)):a=Pv(t));const o=Kme(s,r,n)?kX(s):rc(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){const h=ga(s),f=n&&nl(n)?ga(n):n;let g=h,v=RM(g);for(;v&&n&&f!==g;){const y=Pv(v),b=v.getBoundingClientRect(),x=il(v),w=b.left+(v.clientLeft+parseFloat(x.paddingLeft))*y.x,S=b.top+(v.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=w,c+=S,g=ga(v),v=RM(g)}}return FT({width:u,height:d,x:l,y:c})}function Ej(t,e){const r=Aj(t).scrollLeft;return e?e.left+r:jm(mc(t)).left+r}function jX(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Ej(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function Xme(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=mc(n),o=e?_j(e.floating):!1;if(n===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=rc(1);const u=rc(0),d=lc(n);if((d||!d&&!s)&&((x0(n)!=="body"||mA(a))&&(l=Aj(n)),lc(n))){const f=jm(n);c=Pv(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const h=a&&!d&&!s?jX(a,l):rc(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:r.y*c.y-l.scrollTop*c.y+u.y+h.y}}function Yme(t){return Array.from(t.getClientRects())}function Qme(t){const e=mc(t),r=Aj(t),n=t.ownerDocument.body,i=aa(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=aa(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Ej(t);const o=-r.scrollTop;return il(n).direction==="rtl"&&(a+=aa(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}const mV=25;function Zme(t,e){const r=ga(t),n=mc(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=vB();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=Ej(n);if(c<=0){const u=n.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-d.clientWidth-f);g<=mV&&(s-=g)}else c<=mV&&(s+=c);return{width:s,height:a,x:o,y:l}}const Jme=new Set(["absolute","fixed"]);function ege(t,e){const r=jm(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=lc(t)?Pv(t):rc(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function gV(t,e,r){let n;if(e==="viewport")n=Zme(t,r);else if(e==="document")n=Qme(mc(t));else if(nl(e))n=ege(e,r);else{const i=kX(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return FT(n)}function OX(t,e){const r=qh(t);return r===e||!nl(r)||Pb(r)?!1:il(r).position==="fixed"||OX(r,e)}function tge(t,e){const r=e.get(t);if(r)return r;let n=Xw(t,[],!1).filter(o=>nl(o)&&x0(o)!=="body"),i=null;const s=il(t).position==="fixed";let a=s?qh(t):t;for(;nl(a)&&!Pb(a);){const o=il(a),l=gB(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Jme.has(i.position)||mA(a)&&!l&&OX(t,a))?n=n.filter(u=>u!==a):i=o,a=qh(a)}return e.set(t,n),n}function rge(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?_j(e)?[]:tge(e,this._c):[].concat(r),n],o=a[0],l=a.reduce((c,u)=>{const d=gV(e,u,i);return c.top=aa(d.top,c.top),c.right=Gh(d.right,c.right),c.bottom=Gh(d.bottom,c.bottom),c.left=aa(d.left,c.left),c},gV(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nge(t){const{width:e,height:r}=PX(t);return{width:e,height:r}}function ige(t,e,r){const n=lc(e),i=mc(e),s=r==="fixed",a=jm(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=rc(0);function c(){l.x=Ej(i)}if(n||!n&&!s)if((x0(e)!=="body"||mA(i))&&(o=Aj(e)),n){const f=jm(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!n&&i&&c();const u=i&&!n&&!s?jX(i,o):rc(0),d=a.left+o.scrollLeft-l.x-u.x,h=a.top+o.scrollTop-l.y-u.y;return{x:d,y:h,width:a.width,height:a.height}}function ZN(t){return il(t).position==="static"}function vV(t,e){if(!lc(t)||il(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return mc(t)===r&&(r=r.ownerDocument.body),r}function NX(t,e){const r=ga(t);if(_j(t))return r;if(!lc(t)){let i=qh(t);for(;i&&!Pb(i);){if(nl(i)&&!ZN(i))return i;i=qh(i)}return r}let n=vV(t,e);for(;n&&Bme(n)&&ZN(n);)n=vV(n,e);return n&&Pb(n)&&ZN(n)&&!gB(n)?r:n||Wme(t)||r}const sge=async function(t){const e=this.getOffsetParent||NX,r=this.getDimensions,n=await r(t.floating);return{reference:ige(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function age(t){return il(t).direction==="rtl"}const oge={convertOffsetParentRelativeRectToViewportRelativeRect:Xme,getDocumentElement:mc,getClippingRect:rge,getOffsetParent:NX,getElementRects:sge,getClientRects:Yme,getDimensions:nge,getScale:Pv,isElement:nl,isRTL:age};function RX(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function lge(t,e){let r=null,n;const i=mc(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(o||e(),!h||!f)return;const g=dE(d),v=dE(i.clientWidth-(u+h)),y=dE(i.clientHeight-(d+f)),b=dE(u),w={rootMargin:-g+"px "+-v+"px "+-y+"px "+-b+"px",threshold:aa(0,Gh(1,l))||1};let S=!0;function _(A){const C=A[0].intersectionRatio;if(C!==l){if(!S)return a();C?a(!1,C):n=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!RX(c,t.getBoundingClientRect())&&a(),S=!1}try{r=new IntersectionObserver(_,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,w)}r.observe(t)}return a(!0),s}function cge(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=yB(t),u=i||s?[...c?Xw(c):[],...Xw(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const d=c&&o?lge(c,r):null;let h=-1,f=null;a&&(f=new ResizeObserver(b=>{let[x]=b;x&&x.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),r()}),c&&!l&&f.observe(c),f.observe(e));let g,v=l?jm(t):null;l&&y();function y(){const b=jm(t);v&&!RX(v,b)&&r(),v=b,g=requestAnimationFrame(y)}return r(),()=>{var b;u.forEach(x=>{i&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),d==null||d(),(b=f)==null||b.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const uge=Mme,dge=Ime,hge=Ome,fge=$me,pge=Nme,yV=jme,mge=Dme,gge=(t,e,r)=>{const n=new Map,i={platform:oge,...r},s={...i.platform,_c:n};return kme(t,e,{...i,platform:s})};var vge=typeof document<"u",yge=function(){},vC=vge?E.useLayoutEffect:yge;function BT(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!BT(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!BT(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function MX(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bV(t,e){const r=MX(t);return Math.round(e*r)/r}function JN(t){const e=E.useRef(t);return vC(()=>{e.current=t}),e}function bge(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[u,d]=E.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=E.useState(n);BT(h,n)||f(n);const[g,v]=E.useState(null),[y,b]=E.useState(null),x=E.useCallback(L=>{L!==A.current&&(A.current=L,v(L))},[]),w=E.useCallback(L=>{L!==C.current&&(C.current=L,b(L))},[]),S=s||g,_=a||y,A=E.useRef(null),C=E.useRef(null),T=E.useRef(u),P=l!=null,O=JN(l),I=JN(i),R=JN(c),B=E.useCallback(()=>{if(!A.current||!C.current)return;const L={placement:e,strategy:r,middleware:h};I.current&&(L.platform=I.current),gge(A.current,C.current,L).then(F=>{const z={...F,isPositioned:R.current!==!1};D.current&&!BT(T.current,z)&&(T.current=z,Qm.flushSync(()=>{d(z)}))})},[h,e,r,I,R]);vC(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(L=>({...L,isPositioned:!1})))},[c]);const D=E.useRef(!1);vC(()=>(D.current=!0,()=>{D.current=!1}),[]),vC(()=>{if(S&&(A.current=S),_&&(C.current=_),S&&_){if(O.current)return O.current(S,_,B);B()}},[S,_,B,O,P]);const U=E.useMemo(()=>({reference:A,floating:C,setReference:x,setFloating:w}),[x,w]),N=E.useMemo(()=>({reference:S,floating:_}),[S,_]),j=E.useMemo(()=>{const L={position:r,left:0,top:0};if(!N.floating)return L;const F=bV(N.floating,u.x),z=bV(N.floating,u.y);return o?{...L,transform:"translate("+F+"px, "+z+"px)",...MX(N.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:z}},[r,o,N.floating,u.x,u.y]);return E.useMemo(()=>({...u,update:B,refs:U,elements:N,floatingStyles:j}),[u,B,U,N,j])}const xge=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?yV({element:n.current,padding:i}).fn(r):{}:n?yV({element:n,padding:i}).fn(r):{}}}},wge=(t,e)=>({...uge(t),options:[t,e]}),Sge=(t,e)=>({...dge(t),options:[t,e]}),_ge=(t,e)=>({...mge(t),options:[t,e]}),Age=(t,e)=>({...hge(t),options:[t,e]}),Ege=(t,e)=>({...fge(t),options:[t,e]}),Cge=(t,e)=>({...pge(t),options:[t,e]}),Tge=(t,e)=>({...xge(t),options:[t,e]});var Pge="Arrow",IX=E.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return m.jsx(ke.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});IX.displayName=Pge;var kge=IX;function gA(t){const[e,r]=E.useState(void 0);return nn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;r({width:a,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var bB="Popper",[DX,w0]=gi(bB),[jge,$X]=DX(bB),LX=t=>{const{__scopePopper:e,children:r}=t,[n,i]=E.useState(null);return m.jsx(jge,{scope:e,anchor:n,onAnchorChange:i,children:r})};LX.displayName=bB;var FX="PopperAnchor",BX=E.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=$X(FX,r),a=E.useRef(null),o=Fe(e,a),l=E.useRef(null);return E.useEffect(()=>{const c=l.current;l.current=(n==null?void 0:n.current)||a.current,c!==l.current&&s.onAnchorChange(l.current)}),n?null:m.jsx(ke.div,{...i,ref:o})});BX.displayName=FX;var xB="PopperContent",[Oge,Nge]=DX(xB),UX=E.forwardRef((t,e)=>{var J,ce,ee,oe,ue,te;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:g,...v}=t,y=$X(xB,r),[b,x]=E.useState(null),w=Fe(e,De=>x(De)),[S,_]=E.useState(null),A=gA(S),C=(A==null?void 0:A.width)??0,T=(A==null?void 0:A.height)??0,P=n+(s!=="center"?"-"+s:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(c)?c:[c],R=I.length>0,B={padding:O,boundary:I.filter(Mge),altBoundary:R},{refs:D,floatingStyles:U,placement:N,isPositioned:j,middlewareData:L}=bge({strategy:"fixed",placement:P,whileElementsMounted:(...De)=>cge(...De,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[wge({mainAxis:i+T,alignmentAxis:a}),l&&Sge({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?_ge():void 0,...B}),l&&Age({...B}),Ege({...B,apply:({elements:De,rects:je,availableWidth:$e,availableHeight:He})=>{const{width:Ue,height:tt}=je.reference,bt=De.floating.style;bt.setProperty("--radix-popper-available-width",`${$e}px`),bt.setProperty("--radix-popper-available-height",`${He}px`),bt.setProperty("--radix-popper-anchor-width",`${Ue}px`),bt.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),S&&Tge({element:S,padding:o}),Ige({arrowWidth:C,arrowHeight:T}),h&&Cge({strategy:"referenceHidden",...B})]}),[F,z]=HX(N),K=Yr(g);nn(()=>{j&&(K==null||K())},[j,K]);const V=(J=L.arrow)==null?void 0:J.x,G=(ce=L.arrow)==null?void 0:ce.y,X=((ee=L.arrow)==null?void 0:ee.centerOffset)!==0,[H,Z]=E.useState();return nn(()=>{b&&Z(window.getComputedStyle(b).zIndex)},[b]),m.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:j?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(oe=L.transformOrigin)==null?void 0:oe.x,(ue=L.transformOrigin)==null?void 0:ue.y].join(" "),...((te=L.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(Oge,{scope:r,placedSide:F,onArrowChange:_,arrowX:V,arrowY:G,shouldHideArrow:X,children:m.jsx(ke.div,{"data-side":F,"data-align":z,...v,ref:w,style:{...v.style,animation:j?void 0:"none"}})})})});UX.displayName=xB;var VX="PopperArrow",Rge={top:"bottom",right:"left",bottom:"top",left:"right"},zX=E.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=Nge(VX,n),a=Rge[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(kge,{...i,ref:r,style:{...i.style,display:"block"}})})});zX.displayName=VX;function Mge(t){return t!==null}var Ige=t=>({name:"transformOrigin",options:t,fn(e){var y,b,x;const{placement:r,rects:n,middlewareData:i}=e,a=((y=i.arrow)==null?void 0:y.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=HX(r),d={start:"0%",center:"50%",end:"100%"}[u],h=(((b=i.arrow)==null?void 0:b.x)??0)+o/2,f=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let g="",v="";return c==="bottom"?(g=a?d:`${h}px`,v=`${-l}px`):c==="top"?(g=a?d:`${h}px`,v=`${n.floating.height+l}px`):c==="right"?(g=`${-l}px`,v=a?d:`${f}px`):c==="left"&&(g=`${n.floating.width+l}px`,v=a?d:`${f}px`),{data:{x:g,y:v}}}});function HX(t){const[e,r="center"]=t.split("-");return[e,r]}var wB=LX,SB=BX,_B=UX,AB=zX,[Cj]=gi("Tooltip",[w0]),Tj=w0(),WX="TooltipProvider",Dge=700,MM="tooltip.open",[$ge,EB]=Cj(WX),GX=t=>{const{__scopeTooltip:e,delayDuration:r=Dge,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,a=E.useRef(!0),o=E.useRef(!1),l=E.useRef(0);return E.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),m.jsx($ge,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:E.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:E.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:s})};GX.displayName=WX;var Yw="Tooltip",[Lge,Pj]=Cj(Yw),qX=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=t,l=EB(Yw,t.__scopeTooltip),c=Tj(e),[u,d]=E.useState(null),h=pi(),f=E.useRef(0),g=a??l.disableHoverableContent,v=o??l.delayDuration,y=E.useRef(!1),[b,x]=ao({prop:n,defaultProp:i??!1,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(MM))):l.onClose(),s==null||s(C)},caller:Yw}),w=E.useMemo(()=>b?y.current?"delayed-open":"instant-open":"closed",[b]),S=E.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y.current=!1,x(!0)},[x]),_=E.useCallback(()=>{window.clearTimeout(f.current),f.current=0,x(!1)},[x]),A=E.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{y.current=!0,x(!0),f.current=0},v)},[v,x]);return E.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),m.jsx(wB,{...c,children:m.jsx(Lge,{scope:e,contentId:h,open:b,stateAttribute:w,trigger:u,onTriggerChange:d,onTriggerEnter:E.useCallback(()=>{l.isOpenDelayedRef.current?A():S()},[l.isOpenDelayedRef,A,S]),onTriggerLeave:E.useCallback(()=>{g?_():(window.clearTimeout(f.current),f.current=0)},[_,g]),onOpen:S,onClose:_,disableHoverableContent:g,children:r})})};qX.displayName=Yw;var IM="TooltipTrigger",KX=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Pj(IM,r),s=EB(IM,r),a=Tj(r),o=E.useRef(null),l=Fe(e,o,i.onTriggerChange),c=E.useRef(!1),u=E.useRef(!1),d=E.useCallback(()=>c.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),m.jsx(SB,{asChild:!0,...a,children:m.jsx(ke.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:he(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:he(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:he(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:he(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:he(t.onBlur,i.onClose),onClick:he(t.onClick,i.onClose)})})});KX.displayName=IM;var Fge="TooltipPortal",[Jnt,Bge]=Cj(Fge,{forceMount:void 0}),kb="TooltipContent",XX=E.forwardRef((t,e)=>{const r=Bge(kb,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,a=Pj(kb,t.__scopeTooltip);return m.jsx(vi,{present:n||a.open,children:a.disableHoverableContent?m.jsx(YX,{side:i,...s,ref:e}):m.jsx(Uge,{side:i,...s,ref:e})})}),Uge=E.forwardRef((t,e)=>{const r=Pj(kb,t.__scopeTooltip),n=EB(kb,t.__scopeTooltip),i=E.useRef(null),s=Fe(e,i),[a,o]=E.useState(null),{trigger:l,onClose:c}=r,u=i.current,{onPointerInTransitChange:d}=n,h=E.useCallback(()=>{o(null),d(!1)},[d]),f=E.useCallback((g,v)=>{const y=g.currentTarget,b={x:g.clientX,y:g.clientY},x=Gge(b,y.getBoundingClientRect()),w=qge(b,x),S=Kge(v.getBoundingClientRect()),_=Yge([...w,...S]);o(_),d(!0)},[d]);return E.useEffect(()=>()=>h(),[h]),E.useEffect(()=>{if(l&&u){const g=y=>f(y,u),v=y=>f(y,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[l,u,f,h]),E.useEffect(()=>{if(a){const g=v=>{const y=v.target,b={x:v.clientX,y:v.clientY},x=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),w=!Xge(b,a);x?h():w&&(h(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,a,c,h]),m.jsx(YX,{...t,ref:s})}),[Vge,zge]=Cj(Yw,{isInside:!1}),Hge=I7("TooltipContent"),YX=E.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,l=Pj(kb,r),c=Tj(r),{onClose:u}=l;return E.useEffect(()=>(document.addEventListener(MM,u),()=>document.removeEventListener(MM,u)),[u]),E.useEffect(()=>{if(l.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),m.jsx(g0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:m.jsxs(_B,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(Hge,{children:n}),m.jsx(Vge,{scope:r,isInside:!0,children:m.jsx(afe,{id:l.contentId,role:"tooltip",children:i||n})})]})})});XX.displayName=kb;var QX="TooltipArrow",Wge=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Tj(r);return zge(QX,r).isInside?null:m.jsx(AB,{...i,...n,ref:e})});Wge.displayName=QX;function Gge(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function qge(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Kge(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Xge(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,u=o.y,d=l.x,h=l.y;u>n!=h>n&&r<(d-c)*(n-u)/(h-u)+c&&(i=!i)}return i}function Yge(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Qge(e)}function Qge(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Zge=GX,Jge=qX,eve=KX,ZX=XX;const JX=Zge,eY=Jge,tY=eve,CB=E.forwardRef(({className:t,sideOffset:e=4,...r},n)=>m.jsx(ZX,{ref:n,sideOffset:e,className:pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));CB.displayName=ZX.displayName;var kj=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tve={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},_d,rF,c9,rve=(c9=class{constructor(){M(this,_d,tve);M(this,rF,!1)}setTimeoutProvider(t){k(this,_d,t)}setTimeout(t,e){return p(this,_d).setTimeout(t,e)}clearTimeout(t){p(this,_d).clearTimeout(t)}setInterval(t,e){return p(this,_d).setInterval(t,e)}clearInterval(t){p(this,_d).clearInterval(t)}},_d=new WeakMap,rF=new WeakMap,c9),DM=new rve;function nve(t){setTimeout(t,0)}var jj=typeof window>"u"||"Deno"in globalThis;function To(){}function ive(t,e){return typeof t=="function"?t(e):t}function sve(t){return typeof t=="number"&&t>=0&&t!==1/0}function ave(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $M(t,e){return typeof t=="function"?t(e):t}function ove(t,e){return typeof t=="function"?t(e):t}function xV(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==TB(a,e.options))return!1}else if(!Zw(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function wV(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Qw(e.options.mutationKey)!==Qw(s))return!1}else if(!Zw(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function TB(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qw)(t)}function Qw(t){return JSON.stringify(t,(e,r)=>LM(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Zw(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Zw(t[r],e[r])):!1}var lve=Object.prototype.hasOwnProperty;function rY(t,e,r=0){if(t===e)return t;if(r>500)return e;const n=SV(t)&&SV(e);if(!n&&!(LM(t)&&LM(e)))return e;const s=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],h=t[d],f=e[d];if(h===f){l[d]=h,(n?u<s:lve.call(t,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const g=rY(h,f,r+1);l[d]=g,g===h&&c++}return s===o&&c===s?t:l}function SV(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function LM(t){if(!_V(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!_V(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _V(t){return Object.prototype.toString.call(t)==="[object Object]"}function cve(t){return new Promise(e=>{DM.setTimeout(e,t)})}function uve(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?rY(t,e):e}function dve(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function hve(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var PB=Symbol();function nY(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===PB?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function fve(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var Zf,Ad,Fv,u9,pve=(u9=class extends kj{constructor(){super();M(this,Zf);M(this,Ad);M(this,Fv);k(this,Fv,e=>{if(!jj&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){p(this,Ad)||this.setEventListener(p(this,Fv))}onUnsubscribe(){var e;this.hasListeners()||((e=p(this,Ad))==null||e.call(this),k(this,Ad,void 0))}setEventListener(e){var r;k(this,Fv,e),(r=p(this,Ad))==null||r.call(this),k(this,Ad,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){p(this,Zf)!==e&&(k(this,Zf,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof p(this,Zf)=="boolean"?p(this,Zf):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Zf=new WeakMap,Ad=new WeakMap,Fv=new WeakMap,u9),iY=new pve;function mve(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var gve=nve;function vve(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=gve;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Wi=vve(),Bv,Ed,Uv,d9,yve=(d9=class extends kj{constructor(){super();M(this,Bv,!0);M(this,Ed);M(this,Uv);k(this,Uv,e=>{if(!jj&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){p(this,Ed)||this.setEventListener(p(this,Uv))}onUnsubscribe(){var e;this.hasListeners()||((e=p(this,Ed))==null||e.call(this),k(this,Ed,void 0))}setEventListener(e){var r;k(this,Uv,e),(r=p(this,Ed))==null||r.call(this),k(this,Ed,e(this.setOnline.bind(this)))}setOnline(e){p(this,Bv)!==e&&(k(this,Bv,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return p(this,Bv)}},Bv=new WeakMap,Ed=new WeakMap,Uv=new WeakMap,d9),UT=new yve;function bve(t){return Math.min(1e3*2**t,3e4)}function sY(t){return(t??"online")==="online"?UT.isOnline():!0}var FM=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function aY(t){let e=!1,r=0,n;const i=mve(),s=()=>i.status!=="pending",a=v=>{var y;if(!s()){const b=new FM(v);h(b),(y=t.onCancel)==null||y.call(t,b)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>iY.isFocused()&&(t.networkMode==="always"||UT.isOnline())&&t.canRun(),u=()=>sY(t.networkMode)&&t.canRun(),d=v=>{s()||(n==null||n(),i.resolve(v))},h=v=>{s()||(n==null||n(),i.reject(v))},f=()=>new Promise(v=>{var y;n=b=>{(s()||c())&&v(b)},(y=t.onPause)==null||y.call(t)}).then(()=>{var v;n=void 0,s()||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(s())return;let v;const y=r===0?t.initialPromise:void 0;try{v=y??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(d).catch(b=>{var A;if(s())return;const x=t.retry??(jj?0:3),w=t.retryDelay??bve,S=typeof w=="function"?w(r,b):w,_=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(e||!_){h(b);return}r++,(A=t.onFail)==null||A.call(t,r,b),cve(S).then(()=>c()?void 0:f()).then(()=>{e?h(b):g()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?g():f().then(g),i)}}var Jf,h9,oY=(h9=class{constructor(){M(this,Jf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sve(this.gcTime)&&k(this,Jf,DM.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jj?1/0:5*60*1e3))}clearGcTimeout(){p(this,Jf)&&(DM.clearTimeout(p(this,Jf)),k(this,Jf,void 0))}},Jf=new WeakMap,h9),ep,Vv,Oa,tp,In,cS,rp,ko,Sc,f9,xve=(f9=class extends oY{constructor(e){super();M(this,ko);M(this,ep);M(this,Vv);M(this,Oa);M(this,tp);M(this,In);M(this,cS);M(this,rp);k(this,rp,!1),k(this,cS,e.defaultOptions),this.setOptions(e.options),this.observers=[],k(this,tp,e.client),k(this,Oa,p(this,tp).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,k(this,ep,EV(this.options)),this.state=e.state??p(this,ep),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=p(this,In))==null?void 0:e.promise}setOptions(e){if(this.options={...p(this,cS),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=EV(this.options);r.data!==void 0&&(this.setState(AV(r.data,r.dataUpdatedAt)),k(this,ep,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&p(this,Oa).remove(this)}setData(e,r){const n=uve(this.state.data,e,this.options);return $(this,ko,Sc).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){$(this,ko,Sc).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=p(this,In))==null?void 0:n.promise;return(i=p(this,In))==null||i.cancel(e),r?r.then(To).catch(To):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(p(this,ep))}isActive(){return this.observers.some(e=>ove(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===PB||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>$M(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!ave(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=p(this,In))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=p(this,In))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),p(this,Oa).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(p(this,In)&&(p(this,rp)?p(this,In).cancel({revert:!0}):p(this,In).cancelRetry()),this.scheduleGc()),p(this,Oa).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$(this,ko,Sc).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,u,d,h,f,g,v,y,b,x,w;if(this.state.fetchStatus!=="idle"&&((l=p(this,In))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(p(this,In))return p(this,In).continueRetry(),p(this,In).promise}if(e&&this.setOptions(e),!this.options.queryFn){const S=this.observers.find(_=>_.options.queryFn);S&&this.setOptions(S.options)}const n=new AbortController,i=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(k(this,rp,!0),n.signal)})},s=()=>{const S=nY(this.options,r),A=(()=>{const C={client:p(this,tp),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return k(this,rp,!1),this.options.persister?this.options.persister(S,A,this):S(A)},o=(()=>{const S={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:p(this,tp),state:this.state,fetchFn:s};return i(S),S})();(c=this.options.behavior)==null||c.onFetch(o,this),k(this,Vv,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&$(this,ko,Sc).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta}),k(this,In,aY({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:S=>{S instanceof FM&&S.revert&&this.setState({...p(this,Vv),fetchStatus:"idle"}),n.abort()},onFail:(S,_)=>{$(this,ko,Sc).call(this,{type:"failed",failureCount:S,error:_})},onPause:()=>{$(this,ko,Sc).call(this,{type:"pause"})},onContinue:()=>{$(this,ko,Sc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const S=await p(this,In).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(f=(h=p(this,Oa).config).onSuccess)==null||f.call(h,S,this),(v=(g=p(this,Oa).config).onSettled)==null||v.call(g,S,this.state.error,this),S}catch(S){if(S instanceof FM){if(S.silent)return p(this,In).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw $(this,ko,Sc).call(this,{type:"error",error:S}),(b=(y=p(this,Oa).config).onError)==null||b.call(y,S,this),(w=(x=p(this,Oa).config).onSettled)==null||w.call(x,this.state.data,S,this),S}finally{this.scheduleGc()}}},ep=new WeakMap,Vv=new WeakMap,Oa=new WeakMap,tp=new WeakMap,In=new WeakMap,cS=new WeakMap,rp=new WeakMap,ko=new WeakSet,Sc=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...wve(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...AV(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return k(this,Vv,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Wi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),p(this,Oa).notify({query:this,type:"updated",action:e})})},f9);function wve(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sY(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function AV(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function EV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function CV(t){return{onFetch:(e,r)=>{var u,d,h,f,g;const n=e.options,i=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const y=w=>{fve(w,()=>e.signal,()=>v=!0)},b=nY(e.options,e.fetchOptions),x=async(w,S,_)=>{if(v)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:S,direction:_?"backward":"forward",meta:e.options.meta};return y(I),I})(),T=await b(C),{maxPages:P}=e.options,O=_?hve:dve;return{pages:O(w.pages,T,P),pageParams:O(w.pageParams,S,P)}};if(i&&s.length){const w=i==="backward",S=w?Sve:TV,_={pages:s,pageParams:a},A=S(n,_);o=await x(_,A,w)}else{const w=t??s.length;do{const S=l===0?a[0]??n.initialPageParam:TV(n,o);if(l>0&&S==null)break;o=await x(o,S),l++}while(l<w)}return o};e.options.persister?e.fetchFn=()=>{var v,y;return(y=(v=e.options).persister)==null?void 0:y.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function TV(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Sve(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var uS,ml,_i,np,gl,od,p9,_ve=(p9=class extends oY{constructor(e){super();M(this,gl);M(this,uS);M(this,ml);M(this,_i);M(this,np);k(this,uS,e.client),this.mutationId=e.mutationId,k(this,_i,e.mutationCache),k(this,ml,[]),this.state=e.state||Ave(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){p(this,ml).includes(e)||(p(this,ml).push(e),this.clearGcTimeout(),p(this,_i).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){k(this,ml,p(this,ml).filter(r=>r!==e)),this.scheduleGc(),p(this,_i).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){p(this,ml).length||(this.state.status==="pending"?this.scheduleGc():p(this,_i).remove(this))}continue(){var e;return((e=p(this,np))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,c,u,d,h,f,g,v,y,b,x,w,S,_,A,C;const r=()=>{$(this,gl,od).call(this,{type:"continue"})},n={client:p(this,uS),meta:this.options.meta,mutationKey:this.options.mutationKey};k(this,np,aY({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{$(this,gl,od).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{$(this,gl,od).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>p(this,_i).canRun(this)}));const i=this.state.status==="pending",s=!p(this,np).canStart();try{if(i)r();else{$(this,gl,od).call(this,{type:"pending",variables:e,isPaused:s}),p(this,_i).config.onMutate&&await p(this,_i).config.onMutate(e,this,n);const P=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,e,n));P!==this.state.context&&$(this,gl,od).call(this,{type:"pending",context:P,variables:e,isPaused:s})}const T=await p(this,np).start();return await((c=(l=p(this,_i).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this,n)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,T,e,this.state.context,n)),await((f=(h=p(this,_i).config).onSettled)==null?void 0:f.call(h,T,null,this.state.variables,this.state.context,this,n)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,T,null,e,this.state.context,n)),$(this,gl,od).call(this,{type:"success",data:T}),T}catch(T){try{await((b=(y=p(this,_i).config).onError)==null?void 0:b.call(y,T,e,this.state.context,this,n))}catch(P){Promise.reject(P)}try{await((w=(x=this.options).onError)==null?void 0:w.call(x,T,e,this.state.context,n))}catch(P){Promise.reject(P)}try{await((_=(S=p(this,_i).config).onSettled)==null?void 0:_.call(S,void 0,T,this.state.variables,this.state.context,this,n))}catch(P){Promise.reject(P)}try{await((C=(A=this.options).onSettled)==null?void 0:C.call(A,void 0,T,e,this.state.context,n))}catch(P){Promise.reject(P)}throw $(this,gl,od).call(this,{type:"error",error:T}),T}finally{p(this,_i).runNext(this)}}},uS=new WeakMap,ml=new WeakMap,_i=new WeakMap,np=new WeakMap,gl=new WeakSet,od=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Wi.batch(()=>{p(this,ml).forEach(n=>{n.onMutationUpdate(e)}),p(this,_i).notify({mutation:this,type:"updated",action:e})})},p9);function Ave(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nc,jo,dS,m9,Eve=(m9=class extends kj{constructor(e={}){super();M(this,Nc);M(this,jo);M(this,dS);this.config=e,k(this,Nc,new Set),k(this,jo,new Map),k(this,dS,0)}build(e,r,n){const i=new _ve({client:e,mutationCache:this,mutationId:++Fr(this,dS)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){p(this,Nc).add(e);const r=hE(e);if(typeof r=="string"){const n=p(this,jo).get(r);n?n.push(e):p(this,jo).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(p(this,Nc).delete(e)){const r=hE(e);if(typeof r=="string"){const n=p(this,jo).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&p(this,jo).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=hE(e);if(typeof r=="string"){const n=p(this,jo).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=hE(e);if(typeof r=="string"){const i=(n=p(this,jo).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Wi.batch(()=>{p(this,Nc).forEach(e=>{this.notify({type:"removed",mutation:e})}),p(this,Nc).clear(),p(this,jo).clear()})}getAll(){return Array.from(p(this,Nc))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>wV(r,n))}findAll(e={}){return this.getAll().filter(r=>wV(e,r))}notify(e){Wi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Wi.batch(()=>Promise.all(e.map(r=>r.continue().catch(To))))}},Nc=new WeakMap,jo=new WeakMap,dS=new WeakMap,m9);function hE(t){var e;return(e=t.options.scope)==null?void 0:e.id}var vl,g9,Cve=(g9=class extends kj{constructor(e={}){super();M(this,vl);this.config=e,k(this,vl,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??TB(i,r);let a=this.get(s);return a||(a=new xve({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){p(this,vl).has(e.queryHash)||(p(this,vl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=p(this,vl).get(e.queryHash);r&&(e.destroy(),r===e&&p(this,vl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return p(this,vl).get(e)}getAll(){return[...p(this,vl).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>xV(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>xV(e,n)):r}notify(e){Wi.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Wi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vl=new WeakMap,g9),Br,Cd,Td,zv,Hv,Pd,Wv,Gv,v9,Tve=(v9=class{constructor(t={}){M(this,Br);M(this,Cd);M(this,Td);M(this,zv);M(this,Hv);M(this,Pd);M(this,Wv);M(this,Gv);k(this,Br,t.queryCache||new Cve),k(this,Cd,t.mutationCache||new Eve),k(this,Td,t.defaultOptions||{}),k(this,zv,new Map),k(this,Hv,new Map),k(this,Pd,0)}mount(){Fr(this,Pd)._++,p(this,Pd)===1&&(k(this,Wv,iY.subscribe(async t=>{t&&(await this.resumePausedMutations(),p(this,Br).onFocus())})),k(this,Gv,UT.subscribe(async t=>{t&&(await this.resumePausedMutations(),p(this,Br).onOnline())})))}unmount(){var t,e;Fr(this,Pd)._--,p(this,Pd)===0&&((t=p(this,Wv))==null||t.call(this),k(this,Wv,void 0),(e=p(this,Gv))==null||e.call(this),k(this,Gv,void 0))}isFetching(t){return p(this,Br).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return p(this,Cd).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=p(this,Br).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=p(this,Br).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime($M(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return p(this,Br).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=p(this,Br).get(n.queryHash),s=i==null?void 0:i.state.data,a=ive(e,s);if(a!==void 0)return p(this,Br).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Wi.batch(()=>p(this,Br).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=p(this,Br).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=p(this,Br);Wi.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=p(this,Br);return Wi.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Wi.batch(()=>p(this,Br).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(To).catch(To)}invalidateQueries(t,e={}){return Wi.batch(()=>(p(this,Br).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Wi.batch(()=>p(this,Br).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(To)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(To)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=p(this,Br).build(this,e);return r.isStaleByTime($M(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(To).catch(To)}fetchInfiniteQuery(t){return t.behavior=CV(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(To).catch(To)}ensureInfiniteQueryData(t){return t.behavior=CV(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return UT.isOnline()?p(this,Cd).resumePausedMutations():Promise.resolve()}getQueryCache(){return p(this,Br)}getMutationCache(){return p(this,Cd)}getDefaultOptions(){return p(this,Td)}setDefaultOptions(t){k(this,Td,t)}setQueryDefaults(t,e){p(this,zv).set(Qw(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...p(this,zv).values()],r={};return e.forEach(n=>{Zw(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){p(this,Hv).set(Qw(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...p(this,Hv).values()],r={};return e.forEach(n=>{Zw(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...p(this,Td).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=TB(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===PB&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...p(this,Td).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){p(this,Br).clear(),p(this,Cd).clear()}},Br=new WeakMap,Cd=new WeakMap,Td=new WeakMap,zv=new WeakMap,Hv=new WeakMap,Pd=new WeakMap,Wv=new WeakMap,Gv=new WeakMap,v9),Pve=E.createContext(void 0),kve=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(Pve.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jw.apply(this,arguments)}var Eh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Eh||(Eh={}));const PV="popstate";function jve(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return BM("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:VT(i)}return Nve(e,r,null,t)}function rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ove(){return Math.random().toString(36).substr(2,8)}function kV(t,e){return{usr:t.state,key:t.key,idx:e}}function BM(t,e,r,n){return r===void 0&&(r=null),Jw({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?S0(e):e,{state:r,key:e&&e.key||n||Ove()})}function VT(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function S0(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Nve(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Eh.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Jw({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Eh.Pop;let y=u(),b=y==null?null:y-c;c=y,l&&l({action:o,location:v.location,delta:b})}function h(y,b){o=Eh.Push;let x=BM(v.location,y,b);c=u()+1;let w=kV(x,c),S=v.createHref(x);try{a.pushState(w,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(S)}s&&l&&l({action:o,location:v.location,delta:1})}function f(y,b){o=Eh.Replace;let x=BM(v.location,y,b);c=u();let w=kV(x,c),S=v.createHref(x);a.replaceState(w,"",S),s&&l&&l({action:o,location:v.location,delta:0})}function g(y){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:VT(y);return x=x.replace(/ $/,"%20"),rn(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let v={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(PV,d),l=y,()=>{i.removeEventListener(PV,d),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:f,go(y){return a.go(y)}};return v}var jV;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jV||(jV={}));function Rve(t,e,r){return r===void 0&&(r="/"),Mve(t,e,r)}function Mve(t,e,r,n){let i=typeof e=="string"?S0(e):e,s=jB(i.pathname||"/",r);if(s==null)return null;let a=lY(t);Ive(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=qve(s);o=Hve(a[l],c)}return o}function lY(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(rn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Lh([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(rn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lY(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Vve(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of cY(s.path))i(s,a,l)}),e}function cY(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=cY(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Ive(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:zve(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Dve=/^:[\w-]+$/,$ve=3,Lve=2,Fve=1,Bve=10,Uve=-2,OV=t=>t==="*";function Vve(t,e){let r=t.split("/"),n=r.length;return r.some(OV)&&(n+=Uve),e&&(n+=Lve),r.filter(i=>!OV(i)).reduce((i,s)=>i+(Dve.test(s)?$ve:s===""?Fve:Bve),n)}function zve(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Hve(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Wve({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Lh([s,d.pathname]),pathnameBase:Zve(Lh([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Lh([s,d.pathnameBase]))}return a}function Wve(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Gve(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let v=o[d]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[d];return f&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function Gve(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),kB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function qve(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jB(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Kve=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xve=t=>Kve.test(t);function Yve(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?S0(t):t,s;if(r)if(Xve(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),kB(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=NV(r.substring(1),"/"):s=NV(r,e)}else s=e;return{pathname:s,search:Jve(n),hash:eye(i)}}function NV(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function e2(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qve(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function OB(t,e){let r=Qve(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function NB(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=S0(t):(i=Jw({},t),rn(!i.pathname||!i.pathname.includes("?"),e2("?","pathname","search",i)),rn(!i.pathname||!i.pathname.includes("#"),e2("#","pathname","hash",i)),rn(!i.search||!i.search.includes("#"),e2("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=Yve(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Lh=t=>t.join("/").replace(/\/\/+/g,"/"),Zve=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jve=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eye=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tye(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uY=["post","put","patch","delete"];new Set(uY);const rye=["get",...uY];new Set(rye);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e1.apply(this,arguments)}const RB=E.createContext(null),nye=E.createContext(null),lf=E.createContext(null),Oj=E.createContext(null),qu=E.createContext({outlet:null,matches:[],isDataRoute:!1}),dY=E.createContext(null);function iye(t,e){let{relative:r}=e===void 0?{}:e;_0()||rn(!1);let{basename:n,navigator:i}=E.useContext(lf),{hash:s,pathname:a,search:o}=pY(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Lh([n,a])),i.createHref({pathname:l,search:o,hash:s})}function _0(){return E.useContext(Oj)!=null}function cf(){return _0()||rn(!1),E.useContext(Oj).location}function hY(t){E.useContext(lf).static||E.useLayoutEffect(t)}function Ii(){let{isDataRoute:t}=E.useContext(qu);return t?vye():sye()}function sye(){_0()||rn(!1);let t=E.useContext(RB),{basename:e,future:r,navigator:n}=E.useContext(lf),{matches:i}=E.useContext(qu),{pathname:s}=cf(),a=JSON.stringify(OB(i,r.v7_relativeSplatPath)),o=E.useRef(!1);return hY(()=>{o.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=NB(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Lh([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,s,t])}function fY(){let{matches:t}=E.useContext(qu),e=t[t.length-1];return e?e.params:{}}function pY(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=E.useContext(lf),{matches:i}=E.useContext(qu),{pathname:s}=cf(),a=JSON.stringify(OB(i,n.v7_relativeSplatPath));return E.useMemo(()=>NB(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function aye(t,e){return oye(t,e)}function oye(t,e,r,n){_0()||rn(!1);let{navigator:i}=E.useContext(lf),{matches:s}=E.useContext(qu),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=cf(),u;if(e){var d;let y=typeof e=="string"?S0(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||rn(!1),u=y}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=Rve(t,{pathname:f}),v=hye(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Lh([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Lh([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return e&&v?E.createElement(Oj.Provider,{value:{location:e1({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Eh.Pop}},v):v}function lye(){let t=gye(),e=tye(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:i},r):null,null)}const cye=E.createElement(lye,null);class uye extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?E.createElement(qu.Provider,{value:this.props.routeContext},E.createElement(dY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dye(t){let{routeContext:e,match:r,children:n}=t,i=E.useContext(RB);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(qu.Provider,{value:e},n)}function hye(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||rn(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,h)=>{let f,g=!1,v=null,y=null;r&&(f=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||cye,l&&(c<0&&h===0?(yye("route-fallback"),g=!0,y=null):c===h&&(g=!0,y=d.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,h+1)),x=()=>{let w;return f?w=v:g?w=y:d.route.Component?w=E.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,E.createElement(dye,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:w})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(uye,{location:r.location,revalidation:r.revalidation,component:v,error:f,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var mY=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mY||{}),gY=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gY||{});function fye(t){let e=E.useContext(RB);return e||rn(!1),e}function pye(t){let e=E.useContext(nye);return e||rn(!1),e}function mye(t){let e=E.useContext(qu);return e||rn(!1),e}function vY(t){let e=mye(),r=e.matches[e.matches.length-1];return r.route.id||rn(!1),r.route.id}function gye(){var t;let e=E.useContext(dY),r=pye(),n=vY();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function vye(){let{router:t}=fye(mY.UseNavigateStable),e=vY(gY.UseNavigateStable),r=E.useRef(!1);return hY(()=>{r.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,e1({fromRouteId:e},s)))},[t,e])}const RV={};function yye(t,e,r){RV[t]||(RV[t]=!0)}function bye(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xye(t){let{to:e,replace:r,state:n,relative:i}=t;_0()||rn(!1);let{future:s,static:a}=E.useContext(lf),{matches:o}=E.useContext(qu),{pathname:l}=cf(),c=Ii(),u=NB(e,OB(o,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return E.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:i}),[c,d,i,r,n]),null}function Qr(t){rn(!1)}function wye(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Eh.Pop,navigator:s,static:a=!1,future:o}=t;_0()&&rn(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:s,static:a,future:e1({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=S0(n));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:g="default"}=n,v=E.useMemo(()=>{let y=jB(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:g},navigationType:i}},[l,u,d,h,f,g,i]);return v==null?null:E.createElement(lf.Provider,{value:c},E.createElement(Oj.Provider,{children:r,value:v}))}function Sye(t){let{children:e,location:r}=t;return aye(UM(e),r)}new Promise(()=>{});function UM(t,e){e===void 0&&(e=[]);let r=[];return E.Children.forEach(t,(n,i)=>{if(!E.isValidElement(n))return;let s=[...e,i];if(n.type===E.Fragment){r.push.apply(r,UM(n.props.children,s));return}n.type!==Qr&&rn(!1),!n.props.index||!n.props.children||rn(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=UM(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function VM(){return VM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VM.apply(this,arguments)}function _ye(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Aye(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Eye(t,e){return t.button===0&&(!e||e==="_self")&&!Aye(t)}const Cye=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tye="6";try{window.__reactRouterVersion=Tye}catch{}const Pye="startTransition",MV=ij[Pye];function kye(t){let{basename:e,children:r,future:n,window:i}=t,s=E.useRef();s.current==null&&(s.current=jve({window:i,v5Compat:!0}));let a=s.current,[o,l]=E.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},u=E.useCallback(d=>{c&&MV?MV(()=>l(d)):l(d)},[l,c]);return E.useLayoutEffect(()=>a.listen(u),[a,u]),E.useEffect(()=>bye(n),[n]),E.createElement(wye,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const jye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ql=E.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=_ye(e,Cye),{basename:f}=E.useContext(lf),g,v=!1;if(typeof c=="string"&&Oye.test(c)&&(g=c,jye))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=jB(S.pathname,f);S.origin===w.origin&&_!=null?c=_+S.search+S.hash:v=!0}catch{}let y=iye(c,{relative:i}),b=Nye(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function x(w){n&&n(w),w.defaultPrevented||b(w)}return E.createElement("a",VM({},h,{href:g||y,onClick:v||s?n:x,ref:r,target:l}))});var IV;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(IV||(IV={}));var DV;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DV||(DV={}));function Nye(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Ii(),c=cf(),u=pY(t,{relative:a});return E.useCallback(d=>{if(Eye(d,r)){d.preventDefault();let h=n!==void 0?n:VT(c)===VT(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,n,i,r,t,s,a,o])}var Rye=Symbol.for("react.lazy"),zT=ij[" use ".trim().toString()];function Mye(t){return typeof t=="object"&&t!==null&&"then"in t}function yY(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Rye&&"_payload"in t&&Mye(t._payload)}function bY(t){const e=Iye(t),r=E.forwardRef((n,i)=>{let{children:s,...a}=n;yY(s)&&typeof zT=="function"&&(s=zT(s._payload));const o=E.Children.toArray(s),l=o.find($ye);if(l){const c=l.props.children,u=o.map(d=>d===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:d);return m.jsx(e,{...a,ref:i,children:E.isValidElement(c)?E.cloneElement(c,void 0,u):null})}return m.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var xY=bY("Slot");function Iye(t){const e=E.forwardRef((r,n)=>{let{children:i,...s}=r;if(yY(i)&&typeof zT=="function"&&(i=zT(i._payload)),E.isValidElement(i)){const a=Fye(i),o=Lye(s,i.props);return i.type!==E.Fragment&&(o.ref=n?oc(n,a):a),E.cloneElement(i,o)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Dye=Symbol("radix.slottable");function $ye(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Dye}function Lye(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Fye(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const MB=pA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ge=E.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const a=n?xY:"button";return m.jsx(a,{className:pe(MB({variant:e,size:r,className:t})),ref:s,...i})});ge.displayName="Button";class Bye extends E.Component{constructor(r){super(r);ie(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.href="/"});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Error caught by boundary:",r,n)}render(){return this.state.hasError?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:m.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[m.jsx(fX,{className:"mx-auto h-16 w-16 text-destructive"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Algo deu errado"}),m.jsx("p",{className:"text-muted-foreground",children:"Desculpe, ocorreu um erro inesperado. Por favor, tente novamente."}),this.state.error&&m.jsxs("details",{className:"mt-4 text-left",children:[m.jsx("summary",{className:"cursor-pointer text-sm text-muted-foreground hover:text-foreground",children:"Detalhes do erro"}),m.jsx("pre",{className:"mt-2 text-xs bg-muted p-4 rounded overflow-auto",children:this.state.error.toString()})]})]}),m.jsx(ge,{onClick:this.handleReset,className:"w-full",children:"Voltar para o incio"})]})}):this.props.children}}const wY=E.createContext(void 0),cg="grupoEstudaTimerState",Uye=({children:t})=>{const[e,r]=E.useState(0),[n,i]=E.useState(!1),[s,a]=E.useState(""),[o,l]=E.useState(""),c=E.useRef(null);E.useEffect(()=>{const d=localStorage.getItem("studyBoostTimerState");d&&!localStorage.getItem(cg)&&localStorage.setItem(cg,d);const h=localStorage.getItem(cg);if(h){const f=JSON.parse(h);r(f.seconds||0),i(f.isRunning||!1),a(f.selectedSubject||""),l(f.selectedGroup||"")}},[]),E.useEffect(()=>{n||e>0?localStorage.setItem(cg,JSON.stringify({seconds:e,isRunning:n,selectedSubject:s,selectedGroup:o})):e===0&&localStorage.removeItem(cg)},[e,n,s,o]),E.useEffect(()=>(n?c.current=window.setInterval(()=>{r(d=>d+1)},1e3):c.current&&(clearInterval(c.current),c.current=null),()=>{c.current&&clearInterval(c.current)}),[n]);const u=()=>{r(0),i(!1),localStorage.removeItem(cg)};return m.jsx(wY.Provider,{value:{seconds:e,isRunning:n,selectedSubject:s,selectedGroup:o,setSeconds:r,setIsRunning:i,setSelectedSubject:a,setSelectedGroup:l,resetTimer:u},children:t})},SY=()=>{const t=E.useContext(wY);if(t===void 0)throw new Error("useTimer must be used within a TimerProvider");return t};var Vl=function(){return Vl=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Vl.apply(this,arguments)};function A0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Vye(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})}function zye(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}const Hye=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class IB extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Wye extends IB{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $V extends IB{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class LV extends IB{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zM;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(zM||(zM={}));class Gye{constructor(e,{headers:r={},customFetch:n,region:i=zM.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Hye(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Vye(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:c,signal:u,timeout:d}=n;let h={},{region:f}=n;f||(f=this.region);const g=new URL(`${this.url}/${r}`);f&&f!=="any"&&(h["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let v;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(h["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(h["Content-Type"]="application/json",v=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?v=JSON.stringify(c):v=c;let y=u;d&&(a=new AbortController,s=setTimeout(()=>a.abort(),d),u?(y=a.signal,u.addEventListener("abort",()=>a.abort())):y=a.signal);const b=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:v,signal:y}).catch(_=>{throw new Wye(_)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new $V(b);if(!b.ok)throw new LV(b);let w=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield b.json():w==="application/octet-stream"||w==="application/pdf"?S=yield b.blob():w==="text/event-stream"?S=b:w==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof LV||o instanceof $V?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var qye=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Kye=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,c=s.status,u=s.statusText;if(s.ok){var d,h;if(r.method!=="HEAD"){var f;const b=await s.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?o=b:o=JSON.parse(b))}const v=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),y=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&y&&y.length>1&&(l=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var g;const v=await s.text();try{a=JSON.parse(v),Array.isArray(a)&&s.status===404&&(o=[],a=null,c=200,u="OK")}catch{s.status===404&&v===""?(c=204,u="No Content"):a={message:v}}if(a&&r.isMaybeSingle&&(!(a==null||(g=a.details)===null||g===void 0)&&g.includes("0 rows"))&&(a=null,c=200,u="OK"),a&&r.shouldThrowOnError)throw new qye(a)}return{error:a,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="",l="",c="";const u=s==null?void 0:s.cause;if(u){var d,h,f,g;const b=(d=u==null?void 0:u.message)!==null&&d!==void 0?d:"",x=(h=u==null?void 0:u.code)!==null&&h!==void 0?h:"";o=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(g=u==null?void 0:u.name)!==null&&g!==void 0?g:"Error"}: ${b}`,x&&(o+=` (${x})`),u!=null&&u.stack&&(o+=`
${u.stack}`)}else{var v;o=(v=s==null?void 0:s.stack)!==null&&v!==void 0?v:""}const y=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(c="",l="Request was aborted (timeout or manual cancellation)",y>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${y} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((u==null?void 0:u.name)==="HeadersOverflowError"||(u==null?void 0:u.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",l="HTTP headers exceeded server limits (typically 16KB)",y>this.urlLengthLimit&&(l+=`. Your request URL is ${y} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:l,code:c},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},Xye=class extends Kye{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const FV=new RegExp("[,()]");var Tg=class extends Xye{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&FV.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&FV.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},Yye=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new Tg({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);s.searchParams.set("columns",l.join(","))}}return new Tg({method:i,url:s,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);o.searchParams.set("columns",u.join(","))}}return new Tg({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Tg({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Tg({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function t1(t){"@babel/helpers - typeof";return t1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t1(t)}function Qye(t,e){if(t1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(t1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zye(t){var e=Qye(t,"string");return t1(e)=="symbol"?e:e+""}function Jye(t,e,r){return(e=Zye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BV(Object(r),!0).forEach(function(n){Jye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ebe=class _Y{constructor(e,{headers:r={},schema:n,fetch:i,timeout:s,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const o=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(l,c)=>{const u=new AbortController,d=setTimeout(()=>u.abort(),s),h=c==null?void 0:c.signal;if(h){if(h.aborted)return clearTimeout(d),o(l,c);const f=()=>{clearTimeout(d),u.abort()};return h.addEventListener("abort",f,{once:!0}),o(l,fE(fE({},c),{},{signal:u.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",f)})}return o(l,fE(fE({},c),{},{signal:u.signal})).finally(()=>clearTimeout(d))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Yye(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new _Y(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;const u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),d=n&&Object.values(r).some(u);d?(o="POST",c=r):n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{l.searchParams.append(f,g)})):(o="POST",c=r);const h=new Headers(this.headers);return d?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new Tg({method:o,url:l,headers:h,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class tbe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const rbe="2.95.3",nbe=`realtime-js/${rbe}`,ibe="1.0.0",AY="2.0.0",UV=AY,HM=1e4,sbe=1e3,abe=100;var pd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(pd||(pd={}));var _n;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_n||(_n={}));var Ho;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ho||(Ho={}));var WM;(function(t){t.websocket="websocket"})(WM||(WM={}));var Mf;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mf||(Mf={}));class obe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(f),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,l.length),g.setUint8(v++,o.length),g.setUint8(v++,a.length),g.setUint8(v++,c.length),g.setUint8(v++,d.length),g.setUint8(v++,r),Array.from(l,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(c,b=>g.setUint8(v++,b.charCodeAt(0))),Array.from(d,b=>g.setUint8(v++,b.charCodeAt(0)));var y=new Uint8Array(f.byteLength+n.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(n),f.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const u=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:u,payload:f};return a>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}let EY=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var sr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(sr||(sr={}));const VV=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=lbe(a,t,e,i),s),{}):{}},lbe=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?CY(s,a):GM(a)},CY=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return hbe(e,r)}switch(t){case sr.bool:return cbe(e);case sr.float4:case sr.float8:case sr.int2:case sr.int4:case sr.int8:case sr.numeric:case sr.oid:return ube(e);case sr.json:case sr.jsonb:return dbe(e);case sr.timestamp:return fbe(e);case sr.abstime:case sr.date:case sr.daterange:case sr.int4range:case sr.int8range:case sr.money:case sr.reltime:case sr.text:case sr.time:case sr.timestamptz:case sr.timetz:case sr.tsrange:case sr.tstzrange:return GM(e);default:return GM(e)}},GM=t=>t,cbe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ube=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},dbe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},hbe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>CY(e,o))}return t},fbe=t=>typeof t=="string"?t.replace(" ","T"):t,TY=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class t2{constructor(e,r,n={},i=HM){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zV;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zV||(zV={}));class gw{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gw.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=gw.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gw.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=s[c];if(d){const h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),g=u.filter(y=>f.indexOf(y.presence_ref)<0),v=d.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(o[c]=g),v.length>0&&(l[c]=v)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[o].unshift(...h)}n(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var HV;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(HV||(HV={}));var vw;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(vw||(vw={}));var Tc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Tc||(Tc={}));class tv{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=_n.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new t2(this,Ho.join,this.params,this.timeout),this.rejoinTimer=new EY(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_n.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_n.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=_n.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_n.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=_n.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ho.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new gw(this),this.broadcastEndpointURL=TY(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==_n.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[vw.PRESENCE]&&this.bindings[vw.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Tc.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Tc.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e==null||e(Tc.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,b=[];for(let x=0;x<y;x++){const w=v[x],{filter:{event:S,schema:_,table:A,filter:C}}=w,T=f&&f[x];if(T&&T.event===S&&tv.isFilterValueEqual(T.schema,_)&&tv.isFilterValueEqual(T.table,A)&&tv.isFilterValueEqual(T.filter,C))b.push(Object.assign(Object.assign({},w),{id:T.id}));else{this.unsubscribe(),this.state=_n.errored,e==null||e(Tc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Tc.SUBSCRIBED);return}}).receive("error",f=>{this.state=_n.errored,e==null||e(Tc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===_n.joined&&e===vw.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_n.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ho.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new t2(this,Ho.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_n.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new t2(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>abe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Ho;if(n&&[o,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,v,y;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(v=f.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(f=>f.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var g,v,y,b,x,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const S=f.id,_=(g=f.filter)===null||g===void 0?void 0:g.event;return S&&((v=r.ids)===null||v===void 0?void 0:v.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(x=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:y,commit_timestamp:b,type:x,errors:w}=g;h=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}f.callback(h,n)})}_isClosed(){return this.state===_n.closed}_isJoined(){return this.state===_n.joined}_isJoining(){return this.state===_n.joining}_isLeaving(){return this.state===_n.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&tv.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ho.close,{},e)}_onError(e){this._on(Ho.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_n.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=VV(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=VV(e.columns,e.old_record)),r}}const r2=()=>{},pE={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pbe=[1e3,2e3,5e3,1e4],mbe=1e4,gbe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vbe{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=HM,this.transport=null,this.heartbeatIntervalMs=pE.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=r2,this.ref=0,this.reconnectTimer=null,this.vsn=UV,this.logger=r2,this.conn=null,this.sendBuffer=[],this.serializer=new obe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${WM.websocket}`,this.httpEndpoint=TY(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tbe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pd.connecting:return Mf.Connecting;case pd.open:return Mf.Open;case pd.closing:return Mf.Closing;default:return Mf.Closed}}isConnected(){return this.connectionState()===Mf.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new tv(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(sbe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},pE.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===pd.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===pd.open||this.conn.readyState===pd.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ho.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([gbe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:nbe};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Ho.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new EY(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pE.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,c,u,d,h,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:HM,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:pE.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:r2,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:UV,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:g=>pbe[g-1]||mbe,this.vsn){case ibe:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(g,v)=>v(JSON.stringify(g)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(g,v)=>v(JSON.parse(g));break;case AY:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var r1=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ybe(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function bbe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function xbe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const o=ybe(t.baseUrl,n,i),l=await bbe(t.auth),c=await e(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),u=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),h=d&&u?JSON.parse(u):u;if(!c.ok){const f=d?h:void 0,g=f==null?void 0:f.error;throw new r1((g==null?void 0:g.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:f})}return{status:c.status,headers:c.headers,data:h}}}}function mE(t){return t.join("")}var wbe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:mE(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mE(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mE(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mE(t.namespace)}`}),!0}catch(e){if(e instanceof r1&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof r1&&r.status===409)return;throw r}}};function ug(t){return t.join("")}var Sbe=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ug(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ug(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ug(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ug(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ug(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ug(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof r1&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof r1&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},_be=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=xbe({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new wbe(this.client,e),this.tableOps=new Sbe(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Nj=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Rj(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var gE=class extends Nj{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},PY=class extends Nj{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Abe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ebe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},qM=t=>{if(Array.isArray(t))return t.map(r=>qM(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=qM(n)}),e},Cbe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function n1(t){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n1(t)}function Tbe(t,e){if(n1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(n1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pbe(t){var e=Tbe(t,"string");return n1(e)=="symbol"?e:e+""}function kbe(t,e,r){return(e=Pbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ge(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WV(Object(r),!0).forEach(function(n){kbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const GV=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},jbe=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new gE(GV(a),s,o,n))}).catch(()=>{if(n==="vectors"){const a=s+"";e(new gE(i.statusText||`HTTP ${s} error`,s,a,n))}else{const a=s+"";e(new gE(i.statusText||`HTTP ${s} error`,s,a,n))}});else{const a=s+"";e(new gE(i.statusText||`HTTP ${s} error`,s,a,n))}}else e(new PY(GV(t),t,n))},Obe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?Ge(Ge({},i),r):(Ebe(n)?(i.headers=Ge({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Ge(Ge({},i),r))};async function rx(t,e,r,n,i,s,a){return new Promise((o,l)=>{t(r,Obe(e,n,i,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;if(a==="vectors"){const u=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>o(c)).catch(c=>jbe(c,l,n,a))})}function kY(t="storage"){return{get:async(e,r,n,i)=>rx(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,s)=>rx(e,"POST",r,i,s,n,t),put:async(e,r,n,i,s)=>rx(e,"PUT",r,i,s,n,t),head:async(e,r,n,i)=>rx(e,"HEAD",r,Ge(Ge({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,s)=>rx(e,"DELETE",r,i,s,n,t)}}const Nbe=kY("storage"),{get:i1,post:Po,put:KM,head:Rbe,remove:DB}=Nbe,ca=kY("vectors");var E0=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Abe(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rj(r))return{data:null,error:r};throw r}}},Mbe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Rj(e))return{data:null,error:e};throw e}}};let jY;jY=Symbol.toStringTag;var Ibe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[jY]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mbe(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Rj(e))return{data:null,error:e};throw e}}};const Dbe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var $be=class extends E0{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let s;const a=Ge(Ge({},qV),n);let o=Ge(Ge({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=Ge(Ge({},o),n.headers));const c=i._removeEmptyFolders(e),u=i._getFinalPath(c),d=await(t=="PUT"?KM:Po)(i.fetch,`${i.url}/object/${u}`,s,Ge({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:c,id:d.Id,fullPath:d.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),i.handleOperation(async()=>{let l;const c=Ge({upsert:qV.upsert},n),u=Ge(Ge({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:s,fullPath:(await KM(i.fetch,o.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=Ge({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await Po(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(r.url+s.url),o=a.searchParams.get("token");if(!o)throw new Nj("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await Po(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await Po(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),s=await Po(n.fetch,`${n.url}/object/sign/${i}`,Ge({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await Po(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(a=>Ge(Ge({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${s}`):null}))})}download(t,e,r){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),o=()=>i1(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0},r);return new Ibe(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>qM(await i1(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await Rbe(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Rj(n)&&n instanceof PY){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await DB(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=Ge(Ge(Ge({},Dbe),e),{},{prefix:t||""});return await Po(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=Ge({},t);return await Po(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Lbe="2.95.3",vA={"X-Client-Info":`storage-js/${Lbe}`};var Fbe=class extends E0{constructor(t,e={},r,n){const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=Ge(Ge({},vA),e);super(s,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await i1(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await i1(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Po(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await KM(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Po(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await DB(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Bbe=class extends E0{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Ge(Ge({},vA),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Po(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await i1(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await DB(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Cbe(t))throw new Nj("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new _be({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},Ube=class extends E0{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Ge(Ge({},vA),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await ca.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await ca.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},Vbe=class extends E0{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Ge(Ge({},vA),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},zbe=class extends E0{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Ge(Ge({},vA),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ca.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},Hbe=class extends zbe{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Wbe(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},Wbe=class extends Ube{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new Gbe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Gbe=class extends Vbe{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Ge(Ge({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},qbe=class extends Fbe{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new $be(this.url,this.headers,t,this.fetch)}get vectors(){return new Hbe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Bbe(this.url+"/iceberg",this.headers,this.fetch)}};const OY="2.95.3",Pg=30*1e3,XM=3,n2=XM*Pg,Kbe="http://localhost:9999",Xbe="supabase.auth.token",Ybe={"X-Client-Info":`gotrue-js/${OY}`},YM="X-Supabase-Api-Version",NY={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qbe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zbe=10*60*1e3;class Om extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Jbe extends Om{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function e0e(t){return Me(t)&&t.name==="AuthApiError"}class If extends Om{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ku extends Om{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ns extends Ku{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i2(t){return Me(t)&&t.name==="AuthSessionMissingError"}class dg extends Ku{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vE extends Ku{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yE extends Ku{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function t0e(t){return Me(t)&&t.name==="AuthImplicitGrantRedirectError"}class KV extends Ku{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class r0e extends Ku{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class QM extends Ku{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function s2(t){return Me(t)&&t.name==="AuthRetryableFetchError"}class XV extends Ku{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ZM extends Ku{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const HT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),YV=` 	
\r=`.split(""),n0e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<YV.length;e+=1)t[YV[e].charCodeAt(0)]=-2;for(let e=0;e<HT.length;e+=1)t[HT[e].charCodeAt(0)]=e;return t})();function QV(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(HT[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(HT[n]),e.queuedBits-=6}}function RY(t,e,r){const n=n0e[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ZV(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{a0e(a,n,r)};for(let a=0;a<t.length;a+=1)RY(t.charCodeAt(a),i,s);return e.join("")}function i0e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function s0e(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}i0e(n,e)}}function a0e(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function kv(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)RY(t.charCodeAt(i),r,n);return new Uint8Array(e)}function o0e(t){const e=[];return s0e(t,r=>e.push(r)),new Uint8Array(e)}function zf(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>QV(i,r,n)),QV(null,r,n),e.join("")}function l0e(t){return Math.round(Date.now()/1e3)+t}function c0e(){return Symbol("auth-callback")}const Zn=()=>typeof window<"u"&&typeof document<"u",yf={tested:!1,writable:!1},MY=()=>{if(!Zn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yf.tested)return yf.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yf.tested=!0,yf.writable=!0}catch{yf.tested=!0,yf.writable=!1}return yf.writable};function u0e(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const IY=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),d0e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",kg=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},bf=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qn=async(t,e)=>{await t.removeItem(e)};class Mj{constructor(){this.promise=new Mj.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Mj.promiseConstructor=Promise;function bE(t){const e=t.split(".");if(e.length!==3)throw new ZM("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Qbe.test(e[n]))throw new ZM("JWT not in base64url format");return{header:JSON.parse(ZV(e[0])),payload:JSON.parse(ZV(e[1])),signature:kv(e[2]),raw:{header:e[0],payload:e[1]}}}async function h0e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function f0e(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function p0e(t){return("0"+t.toString(16)).substr(-2)}function m0e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,p0e).join("")}async function g0e(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function v0e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await g0e(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hg(t,e,r=!1){const n=m0e();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await kg(t,`${e}-code-verifier`,i);const s=await v0e(n);return[s,n===s?"plain":"s256"]}const y0e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function b0e(t){const e=t.headers.get(YM);if(!e||!e.match(y0e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function x0e(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function w0e(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const S0e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fg(t){if(!S0e.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function a2(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _0e(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function JV(t){return JSON.parse(JSON.stringify(t))}const Cf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),A0e=[502,503,504];async function ez(t){var e;if(!d0e(t))throw new QM(Cf(t),0);if(A0e.includes(t.status))throw new QM(Cf(t),t.status);let r;try{r=await t.json()}catch(s){throw new If(Cf(s),s)}let n;const i=b0e(t);if(i&&i.getTime()>=NY["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new XV(Cf(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ns}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new XV(Cf(r),t.status,r.weak_password.reasons);throw new Jbe(Cf(r),t.status||500,n)}const E0e=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ze(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[YM]||(s[YM]=NY["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await C0e(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function C0e(t,e,r,n,i,s){const a=E0e(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new QM(Cf(l),0)}if(o.ok||await ez(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await ez(l)}}function xo(t){var e;let r=null;k0e(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=l0e(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function tz(t){const e=xo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function xd(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function T0e(t){return{data:t,error:null}}function P0e(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=A0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function rz(t){return t}function k0e(t){return t.access_token&&t.refresh_token&&t.expires_in}const o2=["global","local","others"];class j0e{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=IY(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=o2[0]){if(o2.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${o2.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xd})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=A0(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:P0e,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xd})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:rz});if(u.error)throw u.error;const d=await u.json(),h=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Me(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){fg(e);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xd})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){fg(e);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:xd})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){fg(e);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:xd})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){fg(e.userId);try{const{data:r,error:n}=await ze(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _deleteFactor(e){fg(e.userId),fg(e.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:rz});if(u.error)throw u.error;const d=await u.json(),h=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Me(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}}function nz(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const pg={debug:!!(globalThis&&MY()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class DY extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class O0e extends DY{}async function N0e(t,e,r){pg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),pg.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){pg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{pg.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw pg.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new O0e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pg.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function R0e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $Y(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function M0e(t){return parseInt(t,16)}function I0e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function D0e(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=$Y(t.address),g=u?`${u}://${n}`:n,v=t.statement?`${t.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${f}

${v}`;let b=`URI: ${d}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),o&&(b+=`
Not Before: ${o.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}b+=x}return`${y}
${b}`}class hn extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class WT extends hn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function $0e({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new hn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new hn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new hn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new hn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new hn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new hn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new hn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new hn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(LY(a)){if(s.rp.id!==a)return new hn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new hn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new hn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new hn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new hn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function L0e({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new hn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new hn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(LY(n)){if(r.rpId!==n)return new hn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new hn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new hn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new hn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class F0e{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const B0e=new F0e;function U0e(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=A0(t,["challenge","user","excludeCredentials"]),s=kv(e).buffer,a=Object.assign(Object.assign({},r),{id:kv(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:kv(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function V0e(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=A0(t,["challenge","allowCredentials"]),i=kv(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:kv(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function z0e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:zf(new Uint8Array(t.response.attestationObject)),clientDataJSON:zf(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function H0e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:zf(new Uint8Array(i.authenticatorData)),clientDataJSON:zf(new Uint8Array(i.clientDataJSON)),signature:zf(new Uint8Array(i.signature)),userHandle:i.userHandle?zf(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function LY(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function iz(){var t,e;return!!(Zn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function W0e(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new WT("Browser returned unexpected credential type",e)}:{data:null,error:new WT("Empty credential response",e)}}catch(e){return{data:null,error:$0e({error:e,options:t})}}}async function G0e(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new WT("Browser returned unexpected credential type",e)}:{data:null,error:new WT("Empty credential response",e)}}catch(e){return{data:null,error:L0e({error:e,options:t})}}}const q0e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},K0e={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function GT(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=GT(o,a):n[s]=GT(a)}else n[s]=a}return n}function X0e(t,e){return GT(q0e,t,e||{})}function Y0e(t,e){return GT(K0e,t,e||{})}class Q0e{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=i??B0e.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;if(!u.name){const d=n;if(d)u.name=`${u.id}:${d}`;else{const f=(await this.client.getUser()).data.user,g=((a=f==null?void 0:f.user_metadata)===null||a===void 0?void 0:a.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";u.name=`${u.id}:${g}`}}u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=X0e(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:h}=await W0e({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Y0e(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:h}=await G0e(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return Me(o)?{data:null,error:o}:{data:null,error:new If("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Om("rpId is required for WebAuthn authentication")};try{if(!iz())return{data:null,error:new If("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return Me(a)?{data:null,error:a}:{data:null,error:new If("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Om("rpId is required for WebAuthn registration")};try{if(!iz())return{data:null,error:new If("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return Me(a)?{data:null,error:a}:{data:null,error:new If("Unexpected error in register",a)}}}}R0e();const Z0e={url:Kbe,storageKey:Xbe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ybe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function sz(t,e,r){return await r()}const mg={};class s1{get jwks(){var e,r;return(r=(e=mg[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){mg[this.storageKey]=Object.assign(Object.assign({},mg[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=mg[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mg[this.storageKey]=Object.assign(Object.assign({},mg[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Z0e),e);if(this.storageKey=s.storageKey,this.instanceID=(r=s1.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,s1.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Zn()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new j0e({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=IY(s.fetch),this.lock=s.lock||sz,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Zn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=N0e:this.lock=sz,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Q0e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:MY()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nz(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=nz(this.memoryStorage)),Zn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${OY}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Zn()&&(r=u0e(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Zn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),t0e(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Me(r)?this._returnResult({error:r}):this._returnResult({error:new If("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:xo}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await hg(this.storage,this.storageKey)),s=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:xo})}else if("phone"in e){const{phone:u,password:d,options:h}=e;s=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:xo})}else throw new vE("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await Qn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tz})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tz})}else throw new vE("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new dg;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,c,u,d,h;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:v,wallet:y,statement:b,options:x}=e;let w;if(Zn())if(typeof y=="object")w=y;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")w=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),_=await w.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=$Y(_[0]);let C=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const P=await w.request({method:"eth_chainId"});C=M0e(P)}const T={domain:S.host,address:A,statement:b,uri:S.href,version:"1",chainId:C,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=D0e(T),g=await w.request({method:"personal_sign",params:[I0e(f),A]})}try{const{data:v,error:y}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xo});if(y)throw y;if(!v||!v.session||!v.user){const b=new dg;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(Me(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,i,s,a,o,l,c,u,d,h,f;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:y,wallet:b,statement:x,options:w}=e;let S;if(Zn())if(typeof b=="object")S=b;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))S=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const A=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let C;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")C=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)C=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const A=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=A}}try{const{data:y,error:b}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:zf(v)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:xo});if(b)throw b;if(!y||!y.session||!y.user){const x=new dg;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(Me(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await bf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new r0e;const{data:s,error:a}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:xo});if(await Qn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new dg;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Me(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xo}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new dg;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await hg(this.storage,this.storageKey));const{error:d}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new vE("You must provide either an email or phone number.")}catch(o){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:xo});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await hg(this.storage,this.storageKey));const c=await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:T0e});return!((s=c.data)===null||s===void 0)&&s.url&&Zn()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Me(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ns;const{error:i}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new vE("You must provide either an email or phone number and a type")}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await bf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<n2:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await bf(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=a2()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=_0e(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xd}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ns}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:xd})})}catch(r){if(Me(r))return i2(r)&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Ns;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await hg(this.storage,this.storageKey));const{data:c,error:u}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:xd});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Me(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ns;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=bE(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ns;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Zn())throw new yE("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yE(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new KV("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yE("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new KV("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new yE("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Pg&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=h-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:v,error:y}=await this._getUser(s);if(y)throw y;const b={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:a,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(n){if(Me(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await bf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!i2(s))return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(e0e(o)&&(o.status===404||o.status===401||o.status===403)||i2(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=c0e(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await hg(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Me(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,c,u;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Zn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Me(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:c,nonce:u}=e,d=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xo}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new dg}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(i){if(await Qn(this.storage,`${this.storageKey}-code-verifier`),Me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await f0e(async i=>(i>0&&await h0e(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xo})),(i,s)=>{const a=200*Math.pow(2,i);return s&&s2(s)&&Date.now()+a-n<Pg})}catch(n){if(this._debug(r,"error",n),Me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Zn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await bf(this.storage,this.storageKey);if(i&&this.userStorage){let a=await bf(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await kg(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:a2()}else if(i&&!i.user&&!i.user){const a=await bf(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Qn(this.storage,this.storageKey+"-user"),await kg(this.storage,this.storageKey,i)):i.user=a2()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<n2;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${n2}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),s2(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Mj;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Ns;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Me(s)){const a={data:null,error:s};return s2(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Qn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await kg(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=JV(i);await kg(this.storage,this.storageKey,s)}else{const i=JV(r);await kg(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Qn(this.storage,this.storageKey),await Qn(this.storage,this.storageKey+"-code-verifier"),await Qn(this.storage,this.storageKey+"-user"),this.userStorage&&await Qn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Zn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Pg);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Pg);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Pg}ms, refresh threshold is ${XM} ticks`),i<=XM&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof DY)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await hg(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await ze(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?z0e(e.webauthn.credential_response):H0e(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:U0e(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:V0e(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,s;if(e)try{const{payload:f}=bE(e);let g=null;f.aal&&(g=f.aal);let v=g;const{data:{user:y},error:b}=await this.getUser(e);if(b)return this._returnResult({data:null,error:b});((n=(r=y==null?void 0:y.factors)===null||r===void 0?void 0:r.filter(S=>S.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const w=f.amr||[];return{data:{currentLevel:g,nextLevel:v,currentAuthenticationMethods:w},error:null}}catch(f){if(Me(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=bE(a.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(u="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ns})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ns});const a=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Zn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ns});const a=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Zn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ns})})}catch(e){if(Me(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ns})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Zbe>i)return n;const{data:s,error:a}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:g}=await this.getSession();if(g||!f.session)return this._returnResult({data:null,error:g});n=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=bE(n);r!=null&&r.allowExpired||x0e(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const u=w0e(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,o0e(`${o}.${l}`)))throw new ZM("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}}s1.nextInstanceID={};const J0e=s1,exe="2.95.3";let jx="";typeof Deno<"u"?jx="deno":typeof document<"u"?jx="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jx="react-native":jx="node";const txe={"X-Client-Info":`supabase-js-${jx}/${exe}`},rxe={headers:txe},nxe={schema:"public"},ixe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sxe={};function a1(t){"@babel/helpers - typeof";return a1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a1(t)}function axe(t,e){if(a1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(a1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oxe(t){var e=axe(t,"string");return a1(e)=="symbol"?e:e+""}function lxe(t,e,r){return(e=oxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function az(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?az(Object(r),!0).forEach(function(n){lxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):az(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const cxe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),uxe=()=>Headers,dxe=(t,e,r)=>{const n=cxe(r),i=uxe();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Hr(Hr({},a),{},{headers:c}))}};function hxe(t){return t.endsWith("/")?t:t+"/"}function fxe(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Hr(Hr({},l),i),auth:Hr(Hr({},c),s),realtime:Hr(Hr({},u),a),storage:{},global:Hr(Hr(Hr({},d),o),{},{headers:Hr(Hr({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function pxe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hxe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mxe=class extends J0e{constructor(t){super(t)}},gxe=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=pxe(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:nxe,realtime:sxe,auth:Hr(Hr({},ixe),{},{storageKey:a}),global:rxe},l=fxe(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=dxe(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Hr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new ebe(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new qbe(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Gye(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mxe({url:this.authUrl.href,headers:Hr(Hr({},h),u),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new vbe(this.realtimeUrl.href,Hr(Hr({},t),{},{params:Hr(Hr({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vxe=(t,e,r)=>new gxe(t,e,r);function yxe(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}yxe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bxe="https://nwtodahupgqbatxeluat.supabase.co",xxe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im53dG9kYWh1cGdxYmF0eGVsdWF0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2MzE3NDMsImV4cCI6MjA3NDIwNzc0M30.FH3qU9RKH5KzEuDPWqFXqOVtUzwgb_vRCqcgl6_ydhM",ne=vxe(bxe,xxe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});async function l2(t,e,r="Tempo limite excedido. Verifique sua conexo."){let n;const i=new Promise((s,a)=>{n=setTimeout(()=>{a(new Error(r))},e)});try{const s=await Promise.race([t,i]);return clearTimeout(n),s}catch(s){throw clearTimeout(n),s}}const wxe={user:null,session:null,isLoading:!0,isAuthActionLoading:!1,login:async()=>({error:null}),register:async()=>({error:null}),logout:async()=>{},updateUserPlan:async()=>{}},FY=E.createContext(wxe),It=()=>E.useContext(FY),BY=({children:t})=>{const[e,r]=E.useState(null),[n,i]=E.useState(null),[s,a]=E.useState(!0),[o,l]=E.useState(!1);E.useEffect(()=>{let g=!0,v=!1;const y=()=>{g&&!v&&(v=!0,a(!1))},{data:{subscription:b}}=ne.auth.onAuthStateChange((S,_)=>{g&&(i(_),_!=null&&_.user?setTimeout(()=>{g&&c(_.user.id,_.user.email)},0):r(null),y())}),x=setTimeout(async()=>{if(!v&&g){try{const{data:{session:S}}=await ne.auth.getSession();if(!g)return;i(S),S!=null&&S.user&&await c(S.user.id,S.user.email)}catch(S){console.warn("Failed to get session:",S)}y()}},2e3),w=setTimeout(()=>{v||(console.warn("Auth timeout reached, forcing loading to complete"),y())},5e3);return()=>{g=!1,clearTimeout(x),clearTimeout(w),b.unsubscribe()}},[]);const c=async(g,v)=>{try{const{data:y,error:b}=await ne.from("profiles").select("*").eq("id",g).single();if(b&&b.code!=="PGRST116"){console.error("Error fetching profile:",b);return}y&&r({id:y.id,email:v,name:y.name,plan:y.plan})}catch(y){console.error("Error in fetchUserProfile:",y)}},u=async(g,v)=>{l(!0);try{return{error:(await l2(ne.auth.signInWithPassword({email:g,password:v}),3e4,"Sem resposta do servidor. Verifique sua conexo e tente novamente.")).error}}catch(y){return{error:new Om(y instanceof Error?y.message:"Erro ao fazer login")}}finally{l(!1)}},d=async(g,v,y)=>{l(!0);const b=`${window.location.origin}/`;try{return{error:(await l2(ne.auth.signUp({email:v,password:y,options:{emailRedirectTo:b,data:{name:g}}}),15e3,"Sem resposta do servidor. Verifique sua conexo e tente novamente.")).error}}catch(x){return{error:new Om(x instanceof Error?x.message:"Erro ao registrar")}}finally{l(!1)}},h=async()=>{l(!0);try{await l2(ne.auth.signOut(),1e4,"Erro ao sair. Tente novamente."),r(null),i(null)}catch(g){console.error("Logout error:",g),r(null),i(null)}finally{l(!1)}},f=async g=>{if(!e||!n)return;const{error:v}=await ne.from("profiles").update({plan:g}).eq("id",e.id);v||r({...e,plan:g})};return m.jsx(FY.Provider,{value:{user:e,session:n,isLoading:s,isAuthActionLoading:o,login:u,register:d,logout:h,updateUserPlan:f},children:t})};function Sxe(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];bm(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const oz={};function JM(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];bm(e[0])&&oz[e[0]]||(bm(e[0])&&(oz[e[0]]=new Date),Sxe(...e))}const UY=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},lz=(t,e,r)=>{t.loadNamespaces(e,UY(t,r))},cz=(t,e,r,n)=>{bm(r)&&(r=[r]),r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,UY(t,n))},_xe=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const c=e.services.backendConnector.state[`${o}|${l}`];return c===-1||c===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(n,t)&&(!i||a(s,t)))},Axe=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(JM("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:r.lng,precheck:(i,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):_xe(t,e,r)},bm=t=>typeof t=="string",Exe=t=>typeof t=="object"&&t!==null,Cxe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Txe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Pxe=t=>Txe[t],kxe=t=>t.replace(Cxe,Pxe);let eI={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:kxe};const jxe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};eI={...eI,...t}},Oxe=()=>eI;let VY;const Nxe=t=>{VY=t},Rxe=()=>VY,Mxe={type:"3rdParty",init(t){jxe(t.options.react),Nxe(t)}},Ixe=E.createContext();class Dxe{constructor(){ie(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}}const $xe=(t,e)=>{const r=E.useRef();return E.useEffect(()=>{r.current=t},[t,e]),r.current},zY=(t,e,r,n)=>t.getFixedT(e,r,n),Lxe=(t,e,r,n)=>E.useCallback(zY(t,e,r,n),[t,e,r,n]),Wt=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=e,{i18n:n,defaultNS:i}=E.useContext(Ixe)||{},s=r||n||Rxe();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Dxe),!s){JM("You will need to pass in an i18next instance by using initReactI18next");const S=(A,C)=>bm(C)?C:Exe(C)&&bm(C.defaultValue)?C.defaultValue:Array.isArray(A)?A[A.length-1]:A,_=[S,{},!1];return _.t=S,_.i18n={},_.ready=!1,_}s.options.react&&s.options.react.wait!==void 0&&JM("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Oxe(),...s.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let c=i||s.options&&s.options.defaultNS;c=bm(c)?[c]:c||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(c);const u=(s.isInitialized||s.initializedStoreOnce)&&c.every(S=>Axe(S,s,a)),d=Lxe(s,e.lng||null,a.nsMode==="fallback"?c:c[0],l),h=()=>d,f=()=>zY(s,e.lng||null,a.nsMode==="fallback"?c:c[0],l),[g,v]=E.useState(h);let y=c.join();e.lng&&(y=`${e.lng}${y}`);const b=$xe(y),x=E.useRef(!0);E.useEffect(()=>{const{bindI18n:S,bindI18nStore:_}=a;x.current=!0,!u&&!o&&(e.lng?cz(s,e.lng,c,()=>{x.current&&v(f)}):lz(s,c,()=>{x.current&&v(f)})),u&&b&&b!==y&&x.current&&v(f);const A=()=>{x.current&&v(f)};return S&&s&&s.on(S,A),_&&s&&s.store.on(_,A),()=>{x.current=!1,S&&s&&S.split(" ").forEach(C=>s.off(C,A)),_&&s&&_.split(" ").forEach(C=>s.store.off(C,A))}},[s,y]),E.useEffect(()=>{x.current&&u&&v(h)},[s,l,u]);const w=[g,s,u];if(w.t=g,w.i18n=s,w.ready=u,u||!u&&!o)return w;throw new Promise(S=>{e.lng?cz(s,e.lng,c,()=>S()):lz(s,c,()=>S())})},$B=E.createContext({});function LB(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const HY=typeof window<"u",WY=HY?E.useLayoutEffect:E.useEffect,Ij=E.createContext(null);function FB(t,e){t.indexOf(e)===-1&&t.push(e)}function qT(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const cc=(t,e,r)=>r>e?e:r<t?t:r;let BB=()=>{};const Iu={},GY=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function qY(t){return typeof t=="object"&&t!==null}const KY=t=>/^0[^.\s]+$/u.test(t);function UB(t){let e;return()=>(e===void 0&&(e=t()),e)}const eo=t=>t,Fxe=(t,e)=>r=>e(t(r)),yA=(...t)=>t.reduce(Fxe),o1=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class VB{constructor(){this.subscriptions=[]}add(e){return FB(this.subscriptions,e),()=>qT(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const el=t=>t*1e3,Qa=t=>t/1e3;function XY(t,e){return e?t*(1e3/e):0}const YY=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Bxe=1e-7,Uxe=12;function Vxe(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=YY(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>Bxe&&++o<Uxe);return a}function bA(t,e,r,n){if(t===e&&r===n)return eo;const i=s=>Vxe(s,0,1,t,r);return s=>s===0||s===1?s:YY(i(s),e,n)}const QY=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZY=t=>e=>1-t(1-e),JY=bA(.33,1.53,.69,.99),zB=ZY(JY),eQ=QY(zB),tQ=t=>(t*=2)<1?.5*zB(t):.5*(2-Math.pow(2,-10*(t-1))),HB=t=>1-Math.sin(Math.acos(t)),rQ=ZY(HB),nQ=QY(HB),zxe=bA(.42,0,1,1),Hxe=bA(0,0,.58,1),iQ=bA(.42,0,.58,1),Wxe=t=>Array.isArray(t)&&typeof t[0]!="number",sQ=t=>Array.isArray(t)&&typeof t[0]=="number",Gxe={linear:eo,easeIn:zxe,easeInOut:iQ,easeOut:Hxe,circIn:HB,circInOut:nQ,circOut:rQ,backIn:zB,backInOut:eQ,backOut:JY,anticipate:tQ},qxe=t=>typeof t=="string",uz=t=>{if(sQ(t)){BB(t.length===4);const[e,r,n,i]=t;return bA(e,r,n,i)}else if(qxe(t))return Gxe[t];return t},xE=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Kxe(t,e){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const g=h&&i?r:n;return d&&a.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const Xxe=40;function aQ(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=xE.reduce((w,S)=>(w[S]=Kxe(s),w),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:g}=a,v=()=>{const w=Iu.useManualTiming?i.timestamp:performance.now();r=!1,Iu.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,Xxe),1)),i.timestamp=w,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),g.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(v))},y=()=>{r=!0,n=!0,i.isProcessing||t(v)};return{schedule:xE.reduce((w,S)=>{const _=a[S];return w[S]=(A,C=!1,T=!1)=>(r||y(),_.schedule(A,C,T)),w},{}),cancel:w=>{for(let S=0;S<xE.length;S++)a[xE[S]].cancel(w)},state:i,steps:a}}const{schedule:hr,cancel:Kh,state:oi,steps:c2}=aQ(typeof requestAnimationFrame<"u"?requestAnimationFrame:eo,!0);let yC;function Yxe(){yC=void 0}const qi={now:()=>(yC===void 0&&qi.set(oi.isProcessing||Iu.useManualTiming?oi.timestamp:performance.now()),yC),set:t=>{yC=t,queueMicrotask(Yxe)}},oQ=t=>e=>typeof e=="string"&&e.startsWith(t),lQ=oQ("--"),Qxe=oQ("var(--"),WB=t=>Qxe(t)?Zxe.test(t.split("/*")[0].trim()):!1,Zxe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function dz(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const C0={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},l1={...C0,transform:t=>cc(0,1,t)},wE={...C0,default:1},yw=t=>Math.round(t*1e5)/1e5,GB=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Jxe(t){return t==null}const ewe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qB=(t,e)=>r=>!!(typeof r=="string"&&ewe.test(r)&&r.startsWith(t)||e&&!Jxe(r)&&Object.prototype.hasOwnProperty.call(r,e)),cQ=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(GB);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},twe=t=>cc(0,255,t),u2={...C0,transform:t=>Math.round(twe(t))},Hf={test:qB("rgb","red"),parse:cQ("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+u2.transform(t)+", "+u2.transform(e)+", "+u2.transform(r)+", "+yw(l1.transform(n))+")"};function rwe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const tI={test:qB("#"),parse:rwe,transform:Hf.transform},xA=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ld=xA("deg"),nc=xA("%"),Pe=xA("px"),nwe=xA("vh"),iwe=xA("vw"),hz={...nc,parse:t=>nc.parse(t)/100,transform:t=>nc.transform(t*100)},rv={test:qB("hsl","hue"),parse:cQ("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+nc.transform(yw(e))+", "+nc.transform(yw(r))+", "+yw(l1.transform(n))+")"},fn={test:t=>Hf.test(t)||tI.test(t)||rv.test(t),parse:t=>Hf.test(t)?Hf.parse(t):rv.test(t)?rv.parse(t):tI.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hf.transform(t):rv.transform(t),getAnimatableNone:t=>{const e=fn.parse(t);return e.alpha=0,fn.transform(e)}},swe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function awe(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(GB))==null?void 0:e.length)||0)+(((r=t.match(swe))==null?void 0:r.length)||0)>0}const uQ="number",dQ="color",owe="var",lwe="var(",fz="${}",cwe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function c1(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(cwe,l=>(fn.test(l)?(n.color.push(s),i.push(dQ),r.push(fn.parse(l))):l.startsWith(lwe)?(n.var.push(s),i.push(owe),r.push(l)):(n.number.push(s),i.push(uQ),r.push(parseFloat(l))),++s,fz)).split(fz);return{values:r,split:o,indexes:n,types:i}}function hQ(t){return c1(t).values}function fQ(t){const{split:e,types:r}=c1(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===uQ?s+=yw(i[a]):o===dQ?s+=fn.transform(i[a]):s+=i[a]}return s}}const uwe=t=>typeof t=="number"?0:fn.test(t)?fn.getAnimatableNone(t):t;function dwe(t){const e=hQ(t);return fQ(t)(e.map(uwe))}const Xh={test:awe,parse:hQ,createTransformer:fQ,getAnimatableNone:dwe};function d2(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hwe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=d2(l,o,t+1/3),s=d2(l,o,t),a=d2(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function KT(t,e){return r=>r>0?e:t}const Rr=(t,e,r)=>t+(e-t)*r,h2=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},fwe=[tI,Hf,rv],pwe=t=>fwe.find(e=>e.test(t));function pz(t){const e=pwe(t);if(!e)return!1;let r=e.parse(t);return e===rv&&(r=hwe(r)),r}const mz=(t,e)=>{const r=pz(t),n=pz(e);if(!r||!n)return KT(t,e);const i={...r};return s=>(i.red=h2(r.red,n.red,s),i.green=h2(r.green,n.green,s),i.blue=h2(r.blue,n.blue,s),i.alpha=Rr(r.alpha,n.alpha,s),Hf.transform(i))},rI=new Set(["none","hidden"]);function mwe(t,e){return rI.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function gwe(t,e){return r=>Rr(t,e,r)}function KB(t){return typeof t=="number"?gwe:typeof t=="string"?WB(t)?KT:fn.test(t)?mz:bwe:Array.isArray(t)?pQ:typeof t=="object"?fn.test(t)?mz:vwe:KT}function pQ(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>KB(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function vwe(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=KB(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function ywe(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][n[s]],o=t.values[a]??0;r[i]=o,n[s]++}return r}const bwe=(t,e)=>{const r=Xh.createTransformer(e),n=c1(t),i=c1(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?rI.has(t)&&!i.values.length||rI.has(e)&&!n.values.length?mwe(t,e):yA(pQ(ywe(n,i),i.values),r):KT(t,e)};function mQ(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Rr(t,e,r):KB(t)(t,e)}const xwe=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>hr.update(e,r),stop:()=>Kh(e),now:()=>oi.isProcessing?oi.timestamp:qi.now()}},gQ=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},XT=2e4;function XB(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<XT;)e+=r,n=t.next(e);return e>=XT?1/0:e}function wwe(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(XB(n),XT);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:Qa(i)}}const Swe=5;function vQ(t,e,r){const n=Math.max(e-Swe,0);return XY(r-t(n),e-n)}const Wr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},f2=.001;function _we({duration:t=Wr.duration,bounce:e=Wr.bounce,velocity:r=Wr.velocity,mass:n=Wr.mass}){let i,s,a=1-e;a=cc(Wr.minDamping,Wr.maxDamping,a),t=cc(Wr.minDuration,Wr.maxDuration,Qa(t)),a<1?(i=c=>{const u=c*a,d=u*t,h=u-r,f=nI(c,a),g=Math.exp(-d);return f2-h/f*g},s=c=>{const d=c*a*t,h=d*r+r,f=Math.pow(a,2)*Math.pow(c,2)*t,g=Math.exp(-d),v=nI(Math.pow(c,2),a);return(-i(c)+f2>0?-1:1)*((h-f)*g)/v}):(i=c=>{const u=Math.exp(-c*t),d=(c-r)*t+1;return-f2+u*d},s=c=>{const u=Math.exp(-c*t),d=(r-c)*(t*t);return u*d});const o=5/t,l=Ewe(i,s,o);if(t=el(t),isNaN(l))return{stiffness:Wr.stiffness,damping:Wr.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:t}}}const Awe=12;function Ewe(t,e,r){let n=r;for(let i=1;i<Awe;i++)n=n-t(n)/e(n);return n}function nI(t,e){return t*Math.sqrt(1-e*e)}const Cwe=["duration","bounce"],Twe=["stiffness","damping","mass"];function gz(t,e){return e.some(r=>t[r]!==void 0)}function Pwe(t){let e={velocity:Wr.velocity,stiffness:Wr.stiffness,damping:Wr.damping,mass:Wr.mass,isResolvedFromDuration:!1,...t};if(!gz(t,Twe)&&gz(t,Cwe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*cc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Wr.mass,stiffness:i,damping:s}}else{const r=_we(t);e={...e,...r,mass:Wr.mass},e.isResolvedFromDuration=!0}return e}function YT(t=Wr.visualDuration,e=Wr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=Pwe({...r,velocity:-Qa(r.velocity||0)}),g=h||0,v=c/(2*Math.sqrt(l*u)),y=a-s,b=Qa(Math.sqrt(l/u)),x=Math.abs(y)<5;n||(n=x?Wr.restSpeed.granular:Wr.restSpeed.default),i||(i=x?Wr.restDelta.granular:Wr.restDelta.default);let w;if(v<1){const _=nI(b,v);w=A=>{const C=Math.exp(-v*b*A);return a-C*((g+v*b*y)/_*Math.sin(_*A)+y*Math.cos(_*A))}}else if(v===1)w=_=>a-Math.exp(-b*_)*(y+(g+b*y)*_);else{const _=b*Math.sqrt(v*v-1);w=A=>{const C=Math.exp(-v*b*A),T=Math.min(_*A,300);return a-C*((g+v*b*y)*Math.sinh(T)+_*y*Math.cosh(T))/_}}const S={calculatedDuration:f&&d||null,next:_=>{const A=w(_);if(f)o.done=_>=d;else{let C=_===0?g:0;v<1&&(C=_===0?el(g):vQ(w,_,A));const T=Math.abs(C)<=n,P=Math.abs(a-A)<=i;o.done=T&&P}return o.value=o.done?a:A,o},toString:()=>{const _=Math.min(XB(S),XT),A=gQ(C=>S.next(_*C).value,_,30);return _+"ms "+A},toTransition:()=>{}};return S}YT.applyToOptions=t=>{const e=wwe(t,100,YT);return t.ease=e.ease,t.duration=el(e.duration),t.type="keyframes",t};function iI({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=T=>o!==void 0&&T<o||l!==void 0&&T>l,g=T=>o===void 0?l:l===void 0||Math.abs(o-T)<Math.abs(l-T)?o:l;let v=r*e;const y=d+v,b=a===void 0?y:a(y);b!==y&&(v=b-d);const x=T=>-v*Math.exp(-T/n),w=T=>b+x(T),S=T=>{const P=x(T),O=w(T);h.done=Math.abs(P)<=c,h.value=h.done?b:O};let _,A;const C=T=>{f(h.value)&&(_=T,A=YT({keyframes:[h.value,g(h.value)],velocity:vQ(w,T,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let P=!1;return!A&&_===void 0&&(P=!0,S(T),C(T)),_!==void 0&&T>=_?A.next(T-_):(!P&&S(T),h)}}}function kwe(t,e,r){const n=[],i=r||Iu.mix||mQ,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||eo:e;o=yA(l,o)}n.push(o)}return n}function jwe(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(BB(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=kwe(e,n,i),l=o.length,c=u=>{if(a&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=o1(t[d],t[d+1],u);return o[d](h)};return r?u=>c(cc(t[0],t[s-1],u)):c}function Owe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=o1(0,e,n);t.push(Rr(r,1,i))}}function Nwe(t){const e=[0];return Owe(e,t.length-1),e}function Rwe(t,e){return t.map(r=>r*e)}function Mwe(t,e){return t.map(()=>e||iQ).splice(0,t.length-1)}function bw({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Wxe(n)?n.map(uz):uz(n),s={done:!1,value:e[0]},a=Rwe(r&&r.length===e.length?r:Nwe(e),t),o=jwe(a,e,{ease:Array.isArray(i)?i:Mwe(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const Iwe=t=>t!==null;function YB(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(Iwe),o=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const Dwe={decay:iI,inertia:iI,tween:bw,keyframes:bw,spring:YT};function yQ(t){typeof t.type=="string"&&(t.type=Dwe[t.type])}class QB{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const $we=t=>t/100;class ZB extends QB{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==qi.now()&&this.tick(qi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;yQ(e);const{type:r=bw,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=r||bw;l!==bw&&typeof o[0]!="number"&&(this.mixKeyframes=yA($we,mQ(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=XB(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=c}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:f,type:g,onUpdate:v,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const b=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,S=n;if(d){const T=Math.min(this.currentTime,i)/o;let P=Math.floor(T),O=T%1;!O&&T>=1&&(O=1),O===1&&P--,P=Math.min(P,d+1),!!(P%2)&&(h==="reverse"?(O=1-O,f&&(O-=f/o)):h==="mirror"&&(S=a)),w=cc(0,1,O)*o}const _=x?{done:!1,value:u[0]}:S.next(w);s&&(_.value=s(_.value));let{done:A}=_;!x&&l!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return C&&g!==iI&&(_.value=YB(u,this.options,y,this.speed)),v&&v(_.value),C&&this.finish(),_}then(e,r){return this.finished.then(e,r)}get duration(){return Qa(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qa(e)}get time(){return Qa(this.currentTime)}set time(e){var r;e=el(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(qi.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Qa(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=xwe,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Lwe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Wf=t=>t*180/Math.PI,sI=t=>{const e=Wf(Math.atan2(t[1],t[0]));return aI(e)},Fwe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:sI,rotateZ:sI,skewX:t=>Wf(Math.atan(t[1])),skewY:t=>Wf(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},aI=t=>(t=t%360,t<0&&(t+=360),t),vz=sI,yz=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),bz=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Bwe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yz,scaleY:bz,scale:t=>(yz(t)+bz(t))/2,rotateX:t=>aI(Wf(Math.atan2(t[6],t[5]))),rotateY:t=>aI(Wf(Math.atan2(-t[2],t[0]))),rotateZ:vz,rotate:vz,skewX:t=>Wf(Math.atan(t[4])),skewY:t=>Wf(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function oI(t){return t.includes("scale")?1:0}function lI(t,e){if(!t||t==="none")return oI(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=Bwe,i=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Fwe,i=o}if(!i)return oI(e);const s=n[e],a=i[1].split(",").map(Vwe);return typeof s=="function"?s(a):a[s]}const Uwe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return lI(r,e)};function Vwe(t){return parseFloat(t.trim())}const T0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],P0=new Set(T0),xz=t=>t===C0||t===Pe,zwe=new Set(["x","y","z"]),Hwe=T0.filter(t=>!zwe.has(t));function Wwe(t){const e=[];return Hwe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Ch={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>lI(e,"x"),y:(t,{transform:e})=>lI(e,"y")};Ch.translateX=Ch.x;Ch.translateY=Ch.y;const xm=new Set;let cI=!1,uI=!1,dI=!1;function bQ(){if(uI){const t=Array.from(xm).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Wwe(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var o;(o=n.getValue(s))==null||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}uI=!1,cI=!1,xm.forEach(t=>t.complete(dI)),xm.clear()}function xQ(){xm.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(uI=!0)})}function Gwe(){dI=!0,xQ(),bQ(),dI=!1}class JB{constructor(e,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(xm.add(this),cI||(cI=!0,hr.read(xQ),hr.resolveKeyframes(bQ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const o=n.readValue(r,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}Lwe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),xm.delete(this)}cancel(){this.state==="scheduled"&&(xm.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qwe=t=>t.startsWith("--");function Kwe(t,e,r){qwe(e)?t.style.setProperty(e,r):t.style[e]=r}const Xwe=UB(()=>window.ScrollTimeline!==void 0),Ywe={};function Qwe(t,e){const r=UB(t);return()=>Ywe[e]??r()}const wQ=Qwe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ox=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,wz={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ox([0,.65,.55,1]),circOut:Ox([.55,0,1,.45]),backIn:Ox([.31,.01,.66,-.59]),backOut:Ox([.33,1.53,.69,.99])};function SQ(t,e){if(t)return typeof t=="function"?wQ()?gQ(t,e):"ease-out":sQ(t)?Ox(t):Array.isArray(t)?t.map(r=>SQ(r,e)||wz.easeOut):wz[t]}function Zwe(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[e]:r};l&&(u.offset=l);const d=SQ(o,i);Array.isArray(d)&&(u.easing=d);const h={delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),t.animate(u,h)}function _Q(t){return typeof t=="function"&&"applyToOptions"in t}function Jwe({type:t,...e}){return _Q(t)&&wQ()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class AQ extends QB{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,BB(typeof e.type!="string");const c=Jwe(e);this.animation=Zwe(r,n,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=YB(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Kwe(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var r,n,i;const e=(r=this.options)==null?void 0:r.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((i=(n=this.animation).commitStyles)==null||i.call(n))}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Qa(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qa(e)}get time(){return Qa(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=el(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Xwe()?(this.animation.timeline=e,eo):r(this)}}const EQ={anticipate:tQ,backInOut:eQ,circInOut:nQ};function e1e(t){return t in EQ}function t1e(t){typeof t.ease=="string"&&e1e(t.ease)&&(t.ease=EQ[t.ease])}const p2=10;class r1e extends AQ{constructor(e){t1e(e),yQ(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new ZB({...a,autoplay:!1}),l=Math.max(p2,qi.now()-this.startTime),c=cc(0,p2,l-p2);r.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const Sz=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xh.test(t)||t==="0")&&!t.startsWith("url("));function n1e(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function i1e(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=Sz(i,e),o=Sz(s,e);return!a||!o?!1:n1e(t)||(r==="spring"||_Q(r))&&n}function hI(t){t.duration=0,t.type="keyframes"}const s1e=new Set(["opacity","clipPath","filter","transform"]),a1e=UB(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function o1e(t){var u;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return a1e()&&r&&s1e.has(r)&&(r!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const l1e=40;class c1e extends QB{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:u,...d}){var g;super(),this.stop=()=>{var v,y;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=qi.now();const h={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:u,...d},f=(u==null?void 0:u.KeyframeResolver)||JB;this.keyframeResolver=new f(o,(v,y,b)=>this.onKeyframesResolved(v,y,h,!b),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,r,n,i){var y,b;this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=qi.now(),i1e(e,s,a,o)||((Iu.instantAnimations||!l)&&(u==null||u(YB(e,n,r))),e[0]=e[e.length-1],hI(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>l1e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},f=!c&&o1e(h),g=(b=(y=h.motionValue)==null?void 0:y.owner)==null?void 0:b.current,v=f?new r1e({...h,element:g}):new ZB(h);v.finished.then(()=>{this.notifyFinished()}).catch(eo),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Gwe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function CQ(t,e,r,n=0,i=1){const s=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),a=t.size,o=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:o-s*n}const u1e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d1e(t){const e=u1e.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function TQ(t,e,r=1){const[n,i]=d1e(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return GY(a)?parseFloat(a):a}return WB(i)?TQ(i,e,r+1):i}const h1e={type:"spring",stiffness:500,damping:25,restSpeed:10},f1e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),p1e={type:"keyframes",duration:.8},m1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},g1e=(t,{keyframes:e})=>e.length>2?p1e:P0.has(t)?t.startsWith("scale")?f1e(e[1]):h1e:m1e,v1e=t=>t!==null;function y1e(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(v1e),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}function PQ(t,e){if(t!=null&&t.inherit&&e){const{inherit:r,...n}=t;return{...e,...n}}return t}function e3(t,e){const r=(t==null?void 0:t[e])??(t==null?void 0:t.default)??t;return r!==t?PQ(r,t):r}function b1e({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const t3=(t,e,r,n={},i,s)=>a=>{const o=e3(n,t)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-el(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};b1e(o)||Object.assign(u,g1e(t,u)),u.duration&&(u.duration=el(u.duration)),u.repeatDelay&&(u.repeatDelay=el(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(hI(u),u.delay===0&&(d=!0)),(Iu.instantAnimations||Iu.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(d=!0,hI(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!s&&e.get()!==void 0){const h=y1e(u.keyframes,o);if(h!==void 0){hr.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new ZB(u):new c1e(u)};function _z(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function r3(t,e,r,n){if(typeof e=="function"){const[i,s]=_z(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=_z(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function jv(t,e,r){const n=t.getProps();return r3(n,e,r!==void 0?r:n.custom,t)}const kQ=new Set(["width","height","top","left","right","bottom",...T0]),Az=30,x1e=t=>!isNaN(parseFloat(t));class w1e{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=qi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=qi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=x1e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new VB);const n=this.events[e].add(r);return e==="change"?()=>{n(),hr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Az)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Az);return XY(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jb(t,e){return new w1e(t,e)}const fI=t=>Array.isArray(t);function S1e(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,jb(r))}function _1e(t){return fI(t)?t[t.length-1]||0:t}function A1e(t,e){const r=jv(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=_1e(s[a]);S1e(t,a,o)}}const Ri=t=>!!(t&&t.getVelocity);function E1e(t){return!!(Ri(t)&&t.add)}function pI(t,e){const r=t.getValue("willChange");if(E1e(r))return r.add(e);if(!r&&Iu.WillChange){const n=new Iu.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function n3(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const C1e="framerAppearId",jQ="data-"+n3(C1e);function OQ(t){return t.props[jQ]}function T1e({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function NQ(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s,transitionEnd:a,...o}=e;const l=t.getDefaultTransition();s=s?PQ(s,l):l;const c=s==null?void 0:s.reduceMotion;n&&(s=n);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in o){const f=t.getValue(h,t.latestValues[h]??null),g=o[h];if(g===void 0||d&&T1e(d,h))continue;const v={delay:r,...e3(s||{},h)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===y&&!v.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const S=OQ(t);if(S){const _=window.MotionHandoffAnimation(S,h,hr);_!==null&&(v.startTime=_,b=!0)}}pI(t,h);const x=c??t.shouldReduceMotion;f.start(t3(h,f,g,x&&kQ.has(h)?{type:!1}:v,t,b));const w=f.animation;w&&u.push(w)}if(a){const h=()=>hr.update(()=>{a&&A1e(t,a)});u.length?Promise.all(u).then(h):h()}return u}function mI(t,e,r={}){var l;const n=jv(t,e,r.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(NQ(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return P1e(t,e,c,u,d,h,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>u())}else return Promise.all([s(),a(r.delay)])}function P1e(t,e,r=0,n=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(mI(l,e,{...a,delay:r+(typeof n=="function"?0:n)+CQ(t.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function k1e(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>mI(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=mI(t,e,r);else{const i=typeof e=="function"?jv(t,e,r.custom):e;n=Promise.all(NQ(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const j1e={test:t=>t==="auto",parse:t=>t},RQ=t=>e=>e.test(t),MQ=[C0,Pe,nc,ld,iwe,nwe,j1e],Ez=t=>MQ.find(RQ(t));function O1e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||KY(t):!0}const N1e=new Set(["brightness","contrast","saturate","opacity"]);function R1e(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(GB)||[];if(!n)return t;const i=r.replace(n,"");let s=N1e.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const M1e=/\b([a-z-]*)\(.*?\)/gu,gI={...Xh,getAnimatableNone:t=>{const e=t.match(M1e);return e?e.map(R1e).join(" "):t}},Cz={...C0,transform:Math.round},I1e={rotate:ld,rotateX:ld,rotateY:ld,rotateZ:ld,scale:wE,scaleX:wE,scaleY:wE,scaleZ:wE,skew:ld,skewX:ld,skewY:ld,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:l1,originX:hz,originY:hz,originZ:Pe},i3={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,inset:Pe,insetBlock:Pe,insetBlockStart:Pe,insetBlockEnd:Pe,insetInline:Pe,insetInlineStart:Pe,insetInlineEnd:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,paddingBlock:Pe,paddingBlockStart:Pe,paddingBlockEnd:Pe,paddingInline:Pe,paddingInlineStart:Pe,paddingInlineEnd:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,marginBlock:Pe,marginBlockStart:Pe,marginBlockEnd:Pe,marginInline:Pe,marginInlineStart:Pe,marginInlineEnd:Pe,fontSize:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...I1e,zIndex:Cz,fillOpacity:l1,strokeOpacity:l1,numOctaves:Cz},D1e={...i3,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:gI,WebkitFilter:gI},IQ=t=>D1e[t];function DQ(t,e){let r=IQ(t);return r!==gI&&(r=Xh),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const $1e=new Set(["auto","none","0"]);function L1e(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!$1e.has(s)&&c1(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=DQ(r,i)}class F1e extends JB{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),WB(d))){const h=TQ(d,r.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!kQ.has(n)||e.length!==2)return;const[i,s]=e,a=Ez(i),o=Ez(s),l=dz(i),c=dz(s);if(l!==c&&Ch[n]){this.needsMeasurement=!0;return}if(a!==o)if(xz(a)&&xz(o))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else Ch[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||O1e(e[i]))&&n.push(i);n.length&&L1e(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ch[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=Ch[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const B1e=new Set(["opacity","clipPath","filter","transform"]);function $Q(t,e,r){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(n=>n!=null)}const LQ=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function vI(t){return qY(t)&&"offsetHeight"in t}const{schedule:s3}=aQ(queueMicrotask,!1),_o={x:!1,y:!1};function FQ(){return _o.x||_o.y}function U1e(t){return t==="x"||t==="y"?_o[t]?null:(_o[t]=!0,()=>{_o[t]=!1}):_o.x||_o.y?null:(_o.x=_o.y=!0,()=>{_o.x=_o.y=!1})}function BQ(t,e){const r=$Q(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function V1e(t){return!(t.pointerType==="touch"||FQ())}function z1e(t,e,r={}){const[n,i,s]=BQ(t,r);return n.forEach(a=>{let o=!1,l=!1,c;const u=()=>{a.removeEventListener("pointerleave",g)},d=y=>{c&&(c(y),c=void 0),u()},h=y=>{o=!1,window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",h),l&&(l=!1,d(y))},f=()=>{o=!0,window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",h,i)},g=y=>{if(y.pointerType!=="touch"){if(o){l=!0;return}d(y)}},v=y=>{if(!V1e(y))return;l=!1;const b=e(a,y);typeof b=="function"&&(c=b,a.addEventListener("pointerleave",g,i))};a.addEventListener("pointerenter",v,i),a.addEventListener("pointerdown",f,i)}),s}const UQ=(t,e)=>e?t===e?!0:UQ(t,e.parentElement):!1,a3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,H1e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function W1e(t){return H1e.has(t.tagName)||t.isContentEditable===!0}const G1e=new Set(["INPUT","SELECT","TEXTAREA"]);function q1e(t){return G1e.has(t.tagName)||t.isContentEditable===!0}const bC=new WeakSet;function Tz(t){return e=>{e.key==="Enter"&&t(e)}}function m2(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const K1e=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=Tz(()=>{if(bC.has(r))return;m2(r,"down");const i=Tz(()=>{m2(r,"up")}),s=()=>m2(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function Pz(t){return a3(t)&&!FQ()}const kz=new WeakSet;function X1e(t,e,r={}){const[n,i,s]=BQ(t,r),a=o=>{const l=o.currentTarget;if(!Pz(o)||kz.has(o))return;bC.add(l),r.stopPropagation&&kz.add(o);const c=e(l,o),u=(f,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),bC.has(l)&&bC.delete(l),Pz(f)&&typeof c=="function"&&c(f,{success:g})},d=f=>{u(f,l===window||l===document||r.useGlobalTarget||UQ(l,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),vI(o)&&(o.addEventListener("focus",c=>K1e(c,i)),!W1e(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function o3(t){return qY(t)&&"ownerSVGElement"in t}const xC=new WeakMap;let cd;const VQ=(t,e,r)=>(n,i)=>i&&i[0]?i[0][t+"Size"]:o3(n)&&"getBBox"in n?n.getBBox()[e]:n[r],Y1e=VQ("inline","width","offsetWidth"),Q1e=VQ("block","height","offsetHeight");function Z1e({target:t,borderBoxSize:e}){var r;(r=xC.get(t))==null||r.forEach(n=>{n(t,{get width(){return Y1e(t,e)},get height(){return Q1e(t,e)}})})}function J1e(t){t.forEach(Z1e)}function eSe(){typeof ResizeObserver>"u"||(cd=new ResizeObserver(J1e))}function tSe(t,e){cd||eSe();const r=$Q(t);return r.forEach(n=>{let i=xC.get(n);i||(i=new Set,xC.set(n,i)),i.add(e),cd==null||cd.observe(n)}),()=>{r.forEach(n=>{const i=xC.get(n);i==null||i.delete(e),i!=null&&i.size||cd==null||cd.unobserve(n)})}}const wC=new Set;let nv;function rSe(){nv=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};wC.forEach(e=>e(t))},window.addEventListener("resize",nv)}function nSe(t){return wC.add(t),nv||rSe(),()=>{wC.delete(t),!wC.size&&typeof nv=="function"&&(window.removeEventListener("resize",nv),nv=void 0)}}function jz(t,e){return typeof t=="function"?nSe(t):tSe(t,e)}function iSe(t){return o3(t)&&t.tagName==="svg"}const sSe=[...MQ,fn,Xh],aSe=t=>sSe.find(RQ(t)),Oz=()=>({translate:0,scale:1,origin:0,originPoint:0}),iv=()=>({x:Oz(),y:Oz()}),Nz=()=>({min:0,max:0}),Cn=()=>({x:Nz(),y:Nz()}),oSe=new WeakMap;function Dj(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function u1(t){return typeof t=="string"||Array.isArray(t)}const l3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c3=["initial",...l3];function $j(t){return Dj(t.animate)||c3.some(e=>u1(t[e]))}function zQ(t){return!!($j(t)||t.variants)}function lSe(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Ri(i))t.addValue(n,i);else if(Ri(s))t.addValue(n,jb(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,jb(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const yI={current:null},HQ={current:!1},cSe=typeof window<"u";function uSe(){if(HQ.current=!0,!!cSe)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yI.current=t.matches;t.addEventListener("change",e),e()}else yI.current=!1}const Rz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let QT={};function WQ(t){QT=t}function dSe(){return QT}class hSe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,skipAnimations:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=JB,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=qi.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,hr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=$j(r),this.isVariantNode=zQ(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const g=h[f];c[f]!==void 0&&Ri(g)&&g.set(c[f])}}mount(e){var r,n;if(this.hasBeenMounted)for(const i in this.initialValues)(r=this.values.get(i))==null||r.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=e,oSe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(HQ.current||uSe(),this.shouldReduceMotion=yI.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),Kh(this.notifyUpdate),Kh(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),r.accelerate&&B1e.has(e)&&this.current instanceof HTMLElement){const{factory:a,keyframes:o,times:l,ease:c,duration:u}=r.accelerate,d=new AQ({element:this.current,name:e,keyframes:o,times:l,ease:c,duration:el(u)}),h=a(d);this.valueSubscriptions.set(e,()=>{h(),d.cancel()});return}const n=P0.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&hr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in QT){const r=QT[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Rz.length;n++){const i=Rz[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=lSe(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=jb(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(GY(n)||KY(n))?n=parseFloat(n):!aSe(n)&&Xh.test(r)&&(n=DQ(e,r)),this.setBaseTarget(e,Ri(n)?n.get():n)),Ri(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=r3(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ri(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new VB),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){s3.render(this.render)}}class GQ extends hSe{constructor(){super(...arguments),this.KeyframeResolver=F1e}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const n=e.style;return n?n[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ri(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class uf{constructor(e){this.isMounted=!1,this.node=e}update(){}}function qQ({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function fSe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pSe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function g2(t){return t===void 0||t===1}function bI({scale:t,scaleX:e,scaleY:r}){return!g2(t)||!g2(e)||!g2(r)}function Tf(t){return bI(t)||KQ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KQ(t){return Mz(t.x)||Mz(t.y)}function Mz(t){return t&&t!=="0%"}function ZT(t,e,r){const n=t-r,i=e*n;return r+i}function Iz(t,e,r,n,i){return i!==void 0&&(t=ZT(t,i,n)),ZT(t,r,n)+e}function xI(t,e=0,r=1,n,i){t.min=Iz(t.min,e,r,n,i),t.max=Iz(t.max,e,r,n,i)}function XQ(t,{x:e,y:r}){xI(t.x,e.translate,e.scale,e.originPoint),xI(t.y,r.translate,r.scale,r.originPoint)}const Dz=.999999999999,$z=1.0000000000001;function mSe(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&av(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,XQ(t,a)),n&&Tf(s.latestValues)&&av(t,s.latestValues))}e.x<$z&&e.x>Dz&&(e.x=1),e.y<$z&&e.y>Dz&&(e.y=1)}function sv(t,e){t.min=t.min+e,t.max=t.max+e}function Lz(t,e,r,n,i=.5){const s=Rr(t.min,t.max,i);xI(t,e,r,s,n)}function av(t,e){Lz(t.x,e.x,e.scaleX,e.scale,e.originX),Lz(t.y,e.y,e.scaleY,e.scale,e.originY)}function YQ(t,e){return qQ(pSe(t.getBoundingClientRect(),e))}function gSe(t,e,r){const n=YQ(t,r),{scroll:i}=e;return i&&(sv(n.x,i.offset.x),sv(n.y,i.offset.y)),n}const vSe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ySe=T0.length;function bSe(t,e,r){let n="",i=!0;for(let s=0;s<ySe;s++){const a=T0[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(a.startsWith("scale")?1:0);else{const c=parseFloat(o);l=a.startsWith("scale")?c===1:c===0}if(!l||r){const c=LQ(o,i3[a]);if(!l){i=!1;const u=vSe[a]||a;n+=`${u}(${c}) `}r&&(e[a]=c)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function u3(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(P0.has(l)){a=!0;continue}else if(lQ(l)){i[l]=c;continue}else{const u=LQ(c,i3[l]);l.startsWith("origin")?(o=!0,s[l]=u):n[l]=u}}if(e.transform||(a||r?n.transform=bSe(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;n.transformOrigin=`${l} ${c} ${u}`}}function QQ(t,{style:e,vars:r},n,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function Fz(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nx={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const r=Fz(t,e.target.x),n=Fz(t,e.target.y);return`${r}% ${n}%`}},xSe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Xh.parse(t);if(i.length>5)return n;const s=Xh.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Rr(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}},wI={borderRadius:{...nx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nx,borderTopRightRadius:nx,borderBottomLeftRadius:nx,borderBottomRightRadius:nx,boxShadow:xSe};function ZQ(t,{layout:e,layoutId:r}){return P0.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!wI[t]||t==="opacity")}function d3(t,e,r){var a;const n=t.style,i=e==null?void 0:e.style,s={};if(!n)return s;for(const o in n)(Ri(n[o])||i&&Ri(i[o])||ZQ(o,t)||((a=r==null?void 0:r.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=n[o]);return s}function wSe(t){return window.getComputedStyle(t)}class SSe extends GQ{constructor(){super(...arguments),this.type="html",this.renderInstance=QQ}readValueFromInstance(e,r){var n;if(P0.has(r))return(n=this.projection)!=null&&n.isProjecting?oI(r):Uwe(e,r);{const i=wSe(e),s=(lQ(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return YQ(e,r)}build(e,r,n){u3(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return d3(e,r,n)}}const _Se={offset:"stroke-dashoffset",array:"stroke-dasharray"},ASe={offset:"strokeDashoffset",array:"strokeDasharray"};function ESe(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?_Se:ASe;t[s.offset]=`${-n}`,t[s.array]=`${e} ${r}`}const CSe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function JQ(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,u){if(u3(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox);for(const f of CSe)d[f]!==void 0&&(h[f]=d[f],delete d[f]);e!==void 0&&(d.x=e),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),i!==void 0&&ESe(d,i,s,a,!1)}const eZ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),tZ=t=>typeof t=="string"&&t.toLowerCase()==="svg";function TSe(t,e,r,n){QQ(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(eZ.has(i)?i:n3(i),e.attrs[i])}function rZ(t,e,r){const n=d3(t,e,r);for(const i in t)if(Ri(t[i])||Ri(e[i])){const s=T0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}class PSe extends GQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(P0.has(r)){const n=IQ(r);return n&&n.default||0}return r=eZ.has(r)?r:n3(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return rZ(e,r,n)}build(e,r,n){JQ(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){TSe(e,r,n,i)}mount(e){this.isSVGTag=tZ(e.tagName),super.mount(e)}}const kSe=c3.length;function nZ(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?nZ(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<kSe;r++){const n=c3[r],i=t.props[n];(u1(i)||i===!1)&&(e[n]=i)}return e}function iZ(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const jSe=[...l3].reverse(),OSe=l3.length;function NSe(t){return e=>Promise.all(e.map(({animation:r,options:n})=>k1e(t,r,n)))}function RSe(t){let e=NSe(t),r=Bz(),n=!0;const i=l=>(c,u)=>{var h;const d=jv(t,u,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:f,transitionEnd:g,...v}=d;c={...c,...v,...g}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,u=nZ(t.parent)||{},d=[],h=new Set;let f={},g=1/0;for(let y=0;y<OSe;y++){const b=jSe[y],x=r[b],w=c[b]!==void 0?c[b]:u[b],S=u1(w),_=b===l?x.isActive:null;_===!1&&(g=y);let A=w===u[b]&&w!==c[b]&&S;if(A&&n&&t.manuallyAnimateOnMount&&(A=!1),x.protectedKeys={...f},!x.isActive&&_===null||!w&&!x.prevProp||Dj(w)||typeof w=="boolean")continue;if(b==="exit"&&x.isActive&&_!==!0){x.prevResolvedValues&&(f={...f,...x.prevResolvedValues});continue}const C=MSe(x.prevProp,w);let T=C||b===l&&x.isActive&&!A&&S||y>g&&S,P=!1;const O=Array.isArray(w)?w:[w];let I=O.reduce(i(b),{});_===!1&&(I={});const{prevResolvedValues:R={}}=x,B={...R,...I},D=j=>{T=!0,h.has(j)&&(P=!0,h.delete(j)),x.needsAnimating[j]=!0;const L=t.getValue(j);L&&(L.liveStyle=!1)};for(const j in B){const L=I[j],F=R[j];if(f.hasOwnProperty(j))continue;let z=!1;fI(L)&&fI(F)?z=!iZ(L,F):z=L!==F,z?L!=null?D(j):h.add(j):L!==void 0&&h.has(j)?D(j):x.protectedKeys[j]=!0}x.prevProp=w,x.prevResolvedValues=I,x.isActive&&(f={...f,...I}),n&&t.blockInitialAnimation&&(T=!1);const U=A&&C;T&&(!U||P)&&d.push(...O.map(j=>{const L={type:b};if(typeof j=="string"&&n&&!U&&t.manuallyAnimateOnMount&&t.parent){const{parent:F}=t,z=jv(F,j);if(F.enteringChildren&&z){const{delayChildren:K}=z.transition||{};L.delay=CQ(F.enteringChildren,t,K)}}return{animation:j,options:L}}))}if(h.size){const y={};if(typeof c.initial!="boolean"){const b=jv(t,Array.isArray(c.initial)?c.initial[0]:c.initial);b&&b.transition&&(y.transition=b.transition)}h.forEach(b=>{const x=t.getBaseTarget(b),w=t.getValue(b);w&&(w.liveStyle=!0),y[b]=x??null}),d.push({animation:y})}let v=!!d.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(d):Promise.resolve()}function o(l,c){var d;if(r[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(l,c)}),r[l].isActive=c;const u=a(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=Bz()}}}function MSe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iZ(e,t):!1}function xf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bz(){return{animate:xf(!0),whileInView:xf(),whileHover:xf(),whileTap:xf(),whileDrag:xf(),whileFocus:xf(),exit:xf()}}function Uz(t,e){t.min=e.min,t.max=e.max}function yo(t,e){Uz(t.x,e.x),Uz(t.y,e.y)}function Vz(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const sZ=1e-4,ISe=1-sZ,DSe=1+sZ,aZ=.01,$Se=0-aZ,LSe=0+aZ;function Ki(t){return t.max-t.min}function FSe(t,e,r){return Math.abs(t-e)<=r}function zz(t,e,r,n=.5){t.origin=n,t.originPoint=Rr(e.min,e.max,t.origin),t.scale=Ki(r)/Ki(e),t.translate=Rr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=ISe&&t.scale<=DSe||isNaN(t.scale))&&(t.scale=1),(t.translate>=$Se&&t.translate<=LSe||isNaN(t.translate))&&(t.translate=0)}function xw(t,e,r,n){zz(t.x,e.x,r.x,n?n.originX:void 0),zz(t.y,e.y,r.y,n?n.originY:void 0)}function Hz(t,e,r){t.min=r.min+e.min,t.max=t.min+Ki(e)}function BSe(t,e,r){Hz(t.x,e.x,r.x),Hz(t.y,e.y,r.y)}function Wz(t,e,r){t.min=e.min-r.min,t.max=t.min+Ki(e)}function JT(t,e,r){Wz(t.x,e.x,r.x),Wz(t.y,e.y,r.y)}function Gz(t,e,r,n,i){return t-=e,t=ZT(t,1/r,n),i!==void 0&&(t=ZT(t,1/i,n)),t}function USe(t,e=0,r=1,n=.5,i,s=t,a=t){if(nc.test(e)&&(e=parseFloat(e),e=Rr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Rr(s.min,s.max,n);t===s&&(o-=e),t.min=Gz(t.min,e,r,o,i),t.max=Gz(t.max,e,r,o,i)}function qz(t,e,[r,n,i],s,a){USe(t,e[r],e[n],e[i],e.scale,s,a)}const VSe=["x","scaleX","originX"],zSe=["y","scaleY","originY"];function Kz(t,e,r,n){qz(t.x,e,VSe,r?r.x:void 0,n?n.x:void 0),qz(t.y,e,zSe,r?r.y:void 0,n?n.y:void 0)}function Xz(t){return t.translate===0&&t.scale===1}function oZ(t){return Xz(t.x)&&Xz(t.y)}function Yz(t,e){return t.min===e.min&&t.max===e.max}function HSe(t,e){return Yz(t.x,e.x)&&Yz(t.y,e.y)}function Qz(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function lZ(t,e){return Qz(t.x,e.x)&&Qz(t.y,e.y)}function Zz(t){return Ki(t.x)/Ki(t.y)}function Jz(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function fl(t){return[t("x"),t("y")]}function WSe(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `),f&&(n+=`skewX(${f}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const cZ=["TopLeft","TopRight","BottomLeft","BottomRight"],GSe=cZ.length,e6=t=>typeof t=="string"?parseFloat(t):t,t6=t=>typeof t=="number"||Pe.test(t);function qSe(t,e,r,n,i,s){i?(t.opacity=Rr(0,r.opacity??1,KSe(n)),t.opacityExit=Rr(e.opacity??1,0,XSe(n))):s&&(t.opacity=Rr(e.opacity??1,r.opacity??1,n));for(let a=0;a<GSe;a++){const o=`border${cZ[a]}Radius`;let l=r6(e,o),c=r6(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||t6(l)===t6(c)?(t[o]=Math.max(Rr(e6(l),e6(c),n),0),(nc.test(c)||nc.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||r.rotate)&&(t.rotate=Rr(e.rotate||0,r.rotate||0,n))}function r6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const KSe=uZ(0,.5,rQ),XSe=uZ(.5,.95,eo);function uZ(t,e,r){return n=>n<t?0:n>e?1:r(o1(t,e,n))}function YSe(t,e,r){const n=Ri(t)?t:jb(t);return n.start(t3("",n,e,r)),n.animation}function d1(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const QSe=(t,e)=>t.depth-e.depth;class ZSe{constructor(){this.children=[],this.isDirty=!1}add(e){FB(this.children,e),this.isDirty=!0}remove(e){qT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(QSe),this.isDirty=!1,this.children.forEach(e)}}function JSe(t,e){const r=qi.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Kh(n),t(s-e))};return hr.setup(n,!0),()=>Kh(n)}function SC(t){return Ri(t)?t.get():t}class e_e{constructor(){this.members=[]}add(e){FB(this.members,e);for(let r=this.members.length-1;r>=0;r--){const n=this.members[r];if(n===e||n===this.lead||n===this.prevLead)continue;const i=n.instance;i&&i.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&qT(this.members,n)}e.scheduleRender()}remove(e){if(qT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i],a=s.instance;if(s.isPresent!==!1&&(!a||a.isConnected!==!1)){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const i=n.options.layoutDependency,s=e.options.layoutDependency;if(!(i!==void 0&&s!==void 0&&i===s)){const l=n.instance;l&&l.isConnected===!1&&!n.snapshot||(e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:o}=e.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const _C={hasAnimatedSinceResize:!0,hasEverUpdated:!1},v2=["","X","Y","Z"],t_e=1e3;let r_e=0;function y2(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function dZ(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=OQ(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",hr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&dZ(n)}function hZ({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=r_e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s_e),this.nodes.forEach(c_e),this.nodes.forEach(u_e),this.nodes.forEach(a_e)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZSe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new VB),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=o3(a)&&!iSe(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let u,d=0;const h=()=>this.root.updateBlockedByResize=!1;hr.read(()=>{d=window.innerWidth}),t(a,()=>{const f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,u&&u(),u=JSe(h,250),_C.hasAnimatedSinceResize&&(_C.hasAnimatedSinceResize=!1,this.nodes.forEach(s6)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||m_e,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=c.getProps(),b=!this.targetLayout||!lZ(this.targetLayout,f),x=!d&&h;if(this.options.layoutRoot||this.resumeFrom||x||d&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...e3(g,"layout"),onPlay:v,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,x)}else d||s6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Kh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d_e),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dZ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(i6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(l_e),this.nodes.forEach(n_e),this.nodes.forEach(i_e)):this.nodes.forEach(i6),this.clearAllSnapshots();const o=qi.now();oi.delta=cc(0,1e3/60,o-oi.timestamp),oi.timestamp=o,oi.isProcessing=!0,c2.update.process(oi),c2.preRender.process(oi),c2.render.process(oi),oi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o_e),this.sharedNodes.forEach(h_e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ki(this.snapshot.measuredBox.x)&&!Ki(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!oZ(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Tf(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),g_e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return Cn();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(v_e))){const{scroll:u}=this.root;u&&(sv(o.x,u.offset.x),sv(o.y,u.offset.y))}return o}removeElementScroll(a){var l;const o=Cn();if(yo(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&yo(o,a),sv(o.x,d.offset.x),sv(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const l=Cn();yo(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&av(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Tf(u.latestValues)&&av(l,u.latestValues)}return Tf(this.latestValues)&&av(l,this.latestValues),l}removeTransform(a){const o=Cn();yo(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Tf(c.latestValues))continue;bI(c.latestValues)&&c.updateSnapshot();const u=Cn(),d=c.measurePageBox();yo(u,d),Kz(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Tf(this.latestValues)&&Kz(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!this.layout||!(u||d))return;this.resolvedRelativeTargetAt=oi.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cn(),this.targetWithTransforms=Cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BSe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yo(this.target,this.layout.layoutBox),XQ(this.target,this.targetDelta)):yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||bI(this.parent.latestValues)||KQ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cn(),this.relativeTargetOrigin=Cn(),JT(this.relativeTargetOrigin,o,l),yo(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===oi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;yo(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;mSe(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Cn());const{target:f}=a;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vz(this.prevProjectionDelta.x,this.projectionDelta.x),Vz(this.prevProjectionDelta.y,this.projectionDelta.y)),xw(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!Jz(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jz(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=iv(),this.projectionDelta=iv(),this.projectionDeltaWithTransform=iv()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=iv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Cn(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=f!==g,y=this.getStack(),b=!y||y.members.length<=1,x=!!(v&&!b&&this.options.crossfade===!0&&!this.path.some(p_e));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const _=S/1e3;a6(d.x,a.x,_),a6(d.y,a.y,_),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(JT(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f_e(this.relativeTarget,this.relativeTargetOrigin,h,_),w&&HSe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Cn()),yo(w,this.relativeTarget)),v&&(this.animationValues=u,qSe(u,c,this.latestValues,_,x,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Kh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hr.update(()=>{_C.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jb(0)),this.currentAnimation=YSe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t_e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&fZ(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Cn();const d=Ki(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const h=Ki(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}yo(o,l),av(o,u),xw(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new e_e),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&y2("z",a,c,this.animationValues);for(let u=0;u<v2.length;u++)y2(`rotate${v2[u]}`,a,c,this.animationValues),y2(`skew${v2[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=SC(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=SC(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Tf(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=WSe(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),a.transform=d;const{x:h,y:f}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in wI){if(u[g]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:b}=wI[g],x=d==="none"?u[g]:v(u[g],c);if(y){const w=y.length;for(let S=0;S<w;S++)a[y[S]]=x}else b?this.options.visualElement.renderState.vars[g]=x:a[g]=x}this.options.layoutId&&(a.pointerEvents=c===this?SC(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(n6),this.root.sharedNodes.clear()}}}function n_e(t){t.updateLayout()}function i_e(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?fl(d=>{const h=a?e.measuredBox[d]:e.layoutBox[d],f=Ki(h);h.min=n[d].min,h.max=h.min+f}):fZ(s,e.layoutBox,n)&&fl(d=>{const h=a?e.measuredBox[d]:e.layoutBox[d],f=Ki(n[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const o=iv();xw(o,n,e.layoutBox);const l=iv();a?xw(l,t.applyTransform(i,!0),e.measuredBox):xw(l,n,e.layoutBox);const c=!oZ(o);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const g=Cn();JT(g,e.layoutBox,h.layoutBox);const v=Cn();JT(v,n,f.layoutBox),lZ(g,v)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function s_e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function a_e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function o_e(t){t.clearSnapshot()}function n6(t){t.clearMeasurements()}function i6(t){t.isLayoutDirty=!1}function l_e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function s6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function c_e(t){t.resolveTargetDelta()}function u_e(t){t.calcProjection()}function d_e(t){t.resetSkewAndRotation()}function h_e(t){t.removeLeadSnapshot()}function a6(t,e,r){t.translate=Rr(e.translate,0,r),t.scale=Rr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function o6(t,e,r,n){t.min=Rr(e.min,r.min,n),t.max=Rr(e.max,r.max,n)}function f_e(t,e,r,n){o6(t.x,e.x,r.x,n),o6(t.y,e.y,r.y,n)}function p_e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const m_e={duration:.45,ease:[.4,0,.1,1]},l6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),c6=l6("applewebkit/")&&!l6("chrome/")?Math.round:eo;function u6(t){t.min=c6(t.min),t.max=c6(t.max)}function g_e(t){u6(t.x),u6(t.y)}function fZ(t,e,r){return t==="position"||t==="preserve-aspect"&&!FSe(Zz(e),Zz(r),.2)}function v_e(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const y_e=hZ({attachResizeListener:(t,e)=>d1(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),b2={current:void 0},pZ=hZ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!b2.current){const t=new y_e({});t.mount(window),t.setOptions({layoutScroll:!0}),b2.current=t}return b2.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),h3=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function d6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function b_e(...t){return e=>{let r=!1;const n=t.map(i=>{const s=d6(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():d6(t[i],null)}}}}function x_e(...t){return E.useCallback(b_e(...t),t)}class w_e extends E.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const n=r.offsetParent,i=vI(n)&&n.offsetWidth||0,s=vI(n)&&n.offsetHeight||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function S_e({children:t,isPresent:e,anchorX:r,anchorY:n,root:i,pop:s}){var h;const a=E.useId(),o=E.useRef(null),l=E.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:c}=E.useContext(h3),u=((h=t.props)==null?void 0:h.ref)??(t==null?void 0:t.ref),d=x_e(o,u);return E.useInsertionEffect(()=>{const{width:f,height:g,top:v,left:y,right:b,bottom:x}=l.current;if(e||s===!1||!o.current||!f||!g)return;const w=r==="left"?`left: ${y}`:`right: ${b}`,S=n==="bottom"?`bottom: ${x}`:`top: ${v}`;o.current.dataset.motionPopId=a;const _=document.createElement("style");c&&(_.nonce=c);const A=i??document.head;return A.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            ${w}px !important;
            ${S}px !important;
          }
        `),()=>{A.contains(_)&&A.removeChild(_)}},[e]),m.jsx(w_e,{isPresent:e,childRef:o,sizeRef:l,pop:s,children:s===!1?t:E.cloneElement(t,{ref:d})})}const __e=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,anchorY:l,root:c})=>{const u=LB(A_e),d=E.useId();let h=!0,f=E.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:r,custom:i,onExitComplete:g=>{u.set(g,!0);for(const v of u.values())if(!v)return;n&&n()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[r,u,n]);return s&&h&&(f={...f}),E.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[r]),E.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),t=m.jsx(S_e,{pop:a==="popLayout",isPresent:r,anchorX:o,anchorY:l,root:c,children:t}),m.jsx(Ij.Provider,{value:f,children:t})};function A_e(){return new Map}function mZ(t=!0){const e=E.useContext(Ij);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=E.useId();E.useEffect(()=>{if(t)return i(s)},[t]);const a=E.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const SE=t=>t.key||"";function h6(t){const e=[];return E.Children.forEach(t,r=>{E.isValidElement(r)&&e.push(r)}),e}const E_e=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",anchorY:l="top",root:c})=>{const[u,d]=mZ(a),h=E.useMemo(()=>h6(t),[t]),f=a&&!u?[]:h.map(SE),g=E.useRef(!0),v=E.useRef(h),y=LB(()=>new Map),b=E.useRef(new Set),[x,w]=E.useState(h),[S,_]=E.useState(h);WY(()=>{g.current=!1,v.current=h;for(let T=0;T<S.length;T++){const P=SE(S[T]);f.includes(P)?(y.delete(P),b.current.delete(P)):y.get(P)!==!0&&y.set(P,!1)}},[S,f.length,f.join("-")]);const A=[];if(h!==x){let T=[...h];for(let P=0;P<S.length;P++){const O=S[P],I=SE(O);f.includes(I)||(T.splice(P,0,O),A.push(O))}return s==="wait"&&A.length&&(T=A),_(h6(T)),w(h),null}const{forceRender:C}=E.useContext($B);return m.jsx(m.Fragment,{children:S.map(T=>{const P=SE(T),O=a&&!u?!1:h===S||f.includes(P),I=()=>{if(b.current.has(P))return;if(b.current.add(P),y.has(P))y.set(P,!0);else return;let R=!0;y.forEach(B=>{B||(R=!1)}),R&&(C==null||C(),_(v.current),a&&(d==null||d()),n&&n())};return m.jsx(__e,{isPresent:O,initial:!g.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:O?void 0:I,anchorX:o,anchorY:l,children:T},P)})})},gZ=E.createContext({strict:!1}),f6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let p6=!1;function C_e(){if(p6)return;const t={};for(const e in f6)t[e]={isEnabled:r=>f6[e].some(n=>!!r[n])};WQ(t),p6=!0}function vZ(){return C_e(),dSe()}function T_e(t){const e=vZ();for(const r in t)e[r]={...e[r],...t[r]};WQ(e)}const P_e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function eP(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||P_e.has(t)}let yZ=t=>!eP(t);function k_e(t){typeof t=="function"&&(yZ=e=>e.startsWith("on")?!eP(e):t(e))}try{k_e(require("@emotion/is-prop-valid").default)}catch{}function j_e(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(yZ(i)||r===!0&&eP(i)||!e&&!eP(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const Lj=E.createContext({});function O_e(t,e){if($j(t)){const{initial:r,animate:n}=t;return{initial:r===!1||u1(r)?r:void 0,animate:u1(n)?n:void 0}}return t.inherit!==!1?e:{}}function N_e(t){const{initial:e,animate:r}=O_e(t,E.useContext(Lj));return E.useMemo(()=>({initial:e,animate:r}),[m6(e),m6(r)])}function m6(t){return Array.isArray(t)?t.join(" "):t}const f3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bZ(t,e,r){for(const n in e)!Ri(e[n])&&!ZQ(n,r)&&(t[n]=e[n])}function R_e({transformTemplate:t},e){return E.useMemo(()=>{const r=f3();return u3(r,e,t),Object.assign({},r.vars,r.style)},[e])}function M_e(t,e){const r=t.style||{},n={};return bZ(n,r,t),Object.assign(n,R_e(t,e)),n}function I_e(t,e){const r={},n=M_e(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const xZ=()=>({...f3(),attrs:{}});function D_e(t,e,r,n){const i=E.useMemo(()=>{const s=xZ();return JQ(s,e,tZ(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};bZ(s,t.style,t),i.style={...s,...i.style}}return i}const $_e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p3(t){return typeof t!="string"||t.includes("-")?!1:!!($_e.indexOf(t)>-1||/[A-Z]/u.test(t))}function L_e(t,e,r,{latestValues:n},i,s=!1,a){const l=(a??p3(t)?D_e:I_e)(e,n,i,t),c=j_e(e,typeof t=="string",s),u=t!==E.Fragment?{...c,...l,ref:r}:{},{children:d}=e,h=E.useMemo(()=>Ri(d)?d.get():d,[d]);return E.createElement(t,{...u,children:h})}function F_e({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:B_e(r,n,i,t),renderState:e()}}function B_e(t,e,r,n){const i={},s=n(t,{});for(const h in s)i[h]=SC(s[h]);let{initial:a,animate:o}=t;const l=$j(t),c=zQ(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=r?r.initial===!1:!1;u=u||a===!1;const d=u?o:a;if(d&&typeof d!="boolean"&&!Dj(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const g=r3(t,h[f]);if(g){const{transitionEnd:v,transition:y,...b}=g;for(const x in b){let w=b[x];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(i[x]=w)}for(const x in v)i[x]=v[x]}}}return i}const wZ=t=>(e,r)=>{const n=E.useContext(Lj),i=E.useContext(Ij),s=()=>F_e(t,e,n,i);return r?s():LB(s)},U_e=wZ({scrapeMotionValuesFromProps:d3,createRenderState:f3}),V_e=wZ({scrapeMotionValuesFromProps:rZ,createRenderState:xZ}),z_e=Symbol.for("motionComponentSymbol");function H_e(t,e,r){const n=E.useRef(r);E.useInsertionEffect(()=>{n.current=r});const i=E.useRef(null);return E.useCallback(s=>{var o;s&&((o=t.onMount)==null||o.call(t,s)),e&&(s?e.mount(s):e.unmount());const a=n.current;if(typeof a=="function")if(s){const l=a(s);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const SZ=E.createContext({});function jg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function W_e(t,e,r,n,i,s){var w,S;const{visualElement:a}=E.useContext(Lj),o=E.useContext(gZ),l=E.useContext(Ij),c=E.useContext(h3),u=c.reducedMotion,d=c.skipAnimations,h=E.useRef(null),f=E.useRef(!1);n=n||o.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:a,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u,skipAnimations:d,isSVG:s}),f.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const g=h.current,v=E.useContext(SZ);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&G_e(h.current,r,i,v);const y=E.useRef(!1);E.useInsertionEffect(()=>{g&&y.current&&g.update(r,l)});const b=r[jQ],x=E.useRef(!!b&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return WY(()=>{f.current=!0,g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),x.current&&g.animationState&&g.animationState.animateChanges())}),E.useEffect(()=>{g&&(!x.current&&g.animationState&&g.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,b)}),x.current=!1),g.enteringChildren=void 0)}),g}function G_e(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:_Z(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&jg(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function _Z(t){if(t)return t.options.allowProjection!==!1?t.projection:_Z(t.parent)}function x2(t,{forwardMotionProps:e=!1,type:r}={},n,i){n&&T_e(n);const s=r?r==="svg":p3(t),a=s?V_e:U_e;function o(c,u){let d;const h={...E.useContext(h3),...c,layoutId:q_e(c)},{isStatic:f}=h,g=N_e(c),v=a(c,f);if(!f&&HY){K_e();const y=X_e(h);d=y.MeasureLayout,g.visualElement=W_e(t,v,h,i,y.ProjectionNode,s)}return m.jsxs(Lj.Provider,{value:g,children:[d&&g.visualElement?m.jsx(d,{visualElement:g.visualElement,...h}):null,L_e(t,c,H_e(v,g.visualElement,u),v,f,e,s)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=E.forwardRef(o);return l[z_e]=t,l}function q_e({layoutId:t}){const e=E.useContext($B).id;return e&&t!==void 0?e+"-"+t:t}function K_e(t,e){E.useContext(gZ).strict}function X_e(t){const e=vZ(),{drag:r,layout:n}=e;if(!r&&!n)return{};const i={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Y_e(t,e){if(typeof Proxy>"u")return x2;const r=new Map,n=(s,a)=>x2(s,a,t,e),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,x2(a,void 0,t,e)),r.get(a))})}const Q_e=(t,e)=>e.isSVG??p3(t)?new PSe(e):new SSe(e,{allowProjection:t!==E.Fragment});class Z_e extends uf{constructor(e){super(e),e.animationState||(e.animationState=RSe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Dj(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let J_e=0;class eAe extends uf{constructor(){super(...arguments),this.id=J_e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const tAe={animation:{Feature:Z_e},exit:{Feature:eAe}};function wA(t){return{point:{x:t.pageX,y:t.pageY}}}const rAe=t=>e=>a3(e)&&t(e,wA(e));function ww(t,e,r,n){return d1(t,e,rAe(r),n)}const AZ=({current:t})=>t?t.ownerDocument.defaultView:null,g6=(t,e)=>Math.abs(t-e);function nAe(t,e){const r=g6(t.x,e.x),n=g6(t.y,e.y);return Math.sqrt(r**2+n**2)}const v6=new Set(["auto","scroll"]);class EZ{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=f=>{this.handleScroll(f.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=S2(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=nAe(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:y}=f,{timestamp:b}=oi;this.history.push({...y,timestamp:b});const{onStart:x,onMove:w}=this.handlers;g||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=w2(g,this.transformPagePoint),hr.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:b}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=S2(f.type==="pointercancel"?this.lastMoveEventInfo:w2(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,x),y&&y(f,x)},!a3(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const l=wA(e),c=w2(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=oi;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=r;h&&h(e,S2(c,this.history)),this.removeListeners=yA(ww(this.contextWindow,"pointermove",this.handlePointerMove),ww(this.contextWindow,"pointerup",this.handlePointerUp),ww(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let r=e.parentElement;for(;r;){const n=getComputedStyle(r);(v6.has(n.overflowX)||v6.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const n=e===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-r.x,y:i.y-r.y};s.x===0&&s.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),hr.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Kh(this.updatePoint)}}function w2(t,e){return e?{point:e(t.point)}:t}function y6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function S2({point:t},e){return{point:t,delta:y6(t,CZ(e)),offset:y6(t,iAe(e)),velocity:sAe(e,.1)}}function iAe(t){return t[0]}function CZ(t){return t[t.length-1]}function sAe(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=CZ(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>el(e)));)r--;if(!n)return{x:0,y:0};n===t[0]&&t.length>2&&i.timestamp-n.timestamp>el(e)*2&&(n=t[1]);const s=Qa(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function aAe(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Rr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Rr(r,t,n.max):Math.min(t,r)),t}function b6(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function oAe(t,{top:e,left:r,bottom:n,right:i}){return{x:b6(t.x,r,i),y:b6(t.y,e,n)}}function x6(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function lAe(t,e){return{x:x6(t.x,e.x),y:x6(t.y,e.y)}}function cAe(t,e){let r=.5;const n=Ki(t),i=Ki(e);return i>n?r=o1(e.min,e.max-n,t.min):n>i&&(r=o1(t.min,t.max-i,e.min)),cc(0,1,r)}function uAe(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const SI=.35;function dAe(t=SI){return t===!1?t=0:t===!0&&(t=SI),{x:w6(t,"left","right"),y:w6(t,"top","bottom")}}function w6(t,e,r){return{min:S6(t,e),max:S6(t,r)}}function S6(t,e){return typeof t=="number"?t:t[e]||0}const hAe=new WeakMap;class fAe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{r&&this.snapToCursor(wA(d).point),this.stopAnimation()},a=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:v}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U1e(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fl(b=>{let x=this.getAxisMotionValue(b).get()||0;if(nc.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[b];S&&(x=Ki(S)*(parseFloat(x)/100))}}this.originPoint[b]=x}),v&&hr.update(()=>v(d,h),!1,!0),pI(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:v,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(g&&this.currentDirection===null){this.currentDirection=mAe(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&hr.update(()=>y(d,h),!1,!0)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>{const{dragSnapToOrigin:d}=this.getProps();(d||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:u}=this.getProps();this.panSession=new EZ(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:AZ(this.visualElement),element:this.visualElement.current})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&hr.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!_E(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=aAe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&jg(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=oAe(n.layoutBox,e):this.constraints=!1,this.elastic=dAe(r),i!==this.constraints&&!jg(e)&&n&&this.constraints&&!this.hasMutatedConstraints&&fl(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=uAe(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!jg(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=gSe(n,i.root,this.visualElement.getTransformPagePoint());let a=lAe(i.layout.layoutBox,s);if(r){const o=r(fSe(a));this.hasMutatedConstraints=!!o,o&&(a=qQ(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=fl(u=>{if(!_E(u,r,this.currentDirection))return;let d=l&&l[u]||{};a&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:n?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return pI(this.visualElement,e),n.start(t3(e,n,0,r,this.visualElement,!1))}stopAnimation(){fl(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){fl(r=>{const{drag:n}=this.getProps();if(!_E(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r],l=s.get()||0;s.set(e[r]-Rr(a,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!jg(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fl(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=cAe({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),fl(a=>{if(!_E(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Rr(l,c,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;hAe.set(this.visualElement,this);const e=this.visualElement.current,r=ww(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps(),h=c.target,f=h!==e&&q1e(h);u&&d&&!f&&this.start(c)});let n;const i=()=>{const{dragConstraints:c}=this.getProps();jg(c)&&c.current&&(this.constraints=this.resolveRefConstraints(),n||(n=pAe(e,c.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),hr.read(i);const o=d1(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(fl(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l(),n&&n()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=SI,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function _6(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function pAe(t,e,r){const n=jz(t,_6(r)),i=jz(e,_6(r));return()=>{n(),i()}}function _E(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function mAe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class gAe extends uf{constructor(e){super(e),this.removeGroupControls=eo,this.removeListeners=eo,this.controls=new fAe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eo}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const _2=t=>(e,r)=>{t&&hr.update(()=>t(e,r),!1,!0)};class vAe extends uf{constructor(){super(...arguments),this.removePointerDownListener=eo}onPointerDown(e){this.session=new EZ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AZ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:_2(e),onStart:_2(r),onMove:_2(n),onEnd:(s,a)=>{delete this.session,i&&hr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=ww(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let A2=!1;class yAe extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),A2&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),_C.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,e.layoutDependency!==r&&a.setOptions({...a.options,layoutDependency:r}),A2=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||hr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),s3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;A2=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TZ(t){const[e,r]=mZ(),n=E.useContext($B);return m.jsx(yAe,{...t,layoutGroup:n,switchLayoutGroup:E.useContext(SZ),isPresent:e,safeToRemove:r})}const bAe={pan:{Feature:vAe},drag:{Feature:gAe,ProjectionNode:pZ,MeasureLayout:TZ}};function A6(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&hr.postRender(()=>s(e,wA(e)))}class xAe extends uf{mount(){const{current:e}=this.node;e&&(this.unmount=z1e(e,(r,n)=>(A6(this.node,n,"Start"),i=>A6(this.node,i,"End"))))}unmount(){}}class wAe extends uf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yA(d1(this.node.current,"focus",()=>this.onFocus()),d1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function E6(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&hr.postRender(()=>s(e,wA(e)))}class SAe extends uf{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:r,propagate:n}=this.node.props;this.unmount=X1e(e,(i,s)=>(E6(this.node,s,"Start"),(a,{success:o})=>E6(this.node,a,o?"End":"Cancel")),{useGlobalTarget:r,stopPropagation:(n==null?void 0:n.tap)===!1})}unmount(){}}const _I=new WeakMap,E2=new WeakMap,_Ae=t=>{const e=_I.get(t.target);e&&e(t)},AAe=t=>{t.forEach(_Ae)};function EAe({root:t,...e}){const r=t||document;E2.has(r)||E2.set(r,{});const n=E2.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(AAe,{root:t,...e})),n[i]}function CAe(t,e,r){const n=EAe(e);return _I.set(t,r),n.observe(t),()=>{_I.delete(t),n.unobserve(t)}}const TAe={some:0,all:1};class PAe extends uf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:TAe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return CAe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(kAe(e,r))&&this.startObserver()}unmount(){}}function kAe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const jAe={inView:{Feature:PAe},tap:{Feature:SAe},focus:{Feature:wAe},hover:{Feature:xAe}},OAe={layout:{ProjectionNode:pZ,MeasureLayout:TZ}},NAe={...tAe,...jAe,...bAe,...OAe},ov=Y_e(NAe,Q_e),RAe={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.55}},MAe={initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},transition:{duration:.65,delay:.1}},IAe=()=>{const t=Ii(),{t:e}=Wt(),{user:r,isLoading:n}=It(),[i,s]=E.useState(!1);E.useEffect(()=>{!n&&r&&t("/groups")},[r,n,t]),E.useEffect(()=>{const c=setTimeout(()=>{n&&s(!0)},3e3);return()=>clearTimeout(c)},[n]);const a=E.useCallback(()=>{t("/register")},[t]),o=E.useCallback(()=>{t("/login")},[t]),l=!n||i;return m.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-background",children:[m.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-hero"}),m.jsx("div",{className:"pointer-events-none absolute -top-32 left-1/2 h-[520px] w-[520px] -translate-x-1/2 rounded-full bg-primary/10 blur-3xl"}),m.jsx("main",{className:"relative z-10 mx-auto flex min-h-screen max-w-6xl flex-col justify-center px-6 py-16 md:px-10",children:m.jsxs("div",{className:"grid items-center gap-10 lg:grid-cols-[1.15fr_0.85fr]",children:[m.jsxs(ov.div,{...RAe,className:"space-y-7",children:[m.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-1.5 text-xs font-semibold uppercase tracking-wide text-primary",children:[m.jsx(hX,{className:"h-3.5 w-3.5"}),"Plataforma colaborativa de estudos"]}),m.jsx("h1",{className:"text-balance text-4xl font-bold leading-tight sm:text-5xl lg:text-6xl",children:m.jsx("span",{className:"text-gradient",children:e("app.name")})}),m.jsx("p",{className:"max-w-xl text-lg text-muted-foreground sm:text-xl",children:e("app.slogan")}),m.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:l?m.jsxs(m.Fragment,{children:[m.jsx(ge,{size:"lg",className:"h-12 px-8 bg-gradient-primary shadow-glow transition-all hover:opacity-95",onClick:a,children:e("home.getStarted")}),m.jsx(ge,{size:"lg",variant:"outline",className:"h-12 border-2 px-8",onClick:o,children:e("login.title")})]}):m.jsx(ge,{size:"lg",className:"h-12 px-8",disabled:!0,children:e("loading")})})]}),m.jsx(ov.section,{...MAe,className:"rounded-3xl border border-border/60 bg-card/70 p-6 shadow-lg backdrop-blur-sm",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"rounded-2xl bg-gradient-primary p-5 text-primary-foreground",children:[m.jsx("div",{className:"mb-4 inline-flex rounded-full bg-white/20 p-3",children:m.jsx(Pm,{className:"h-6 w-6"})}),m.jsx("h2",{className:"text-xl font-semibold",children:"Organize seus estudos"}),m.jsx("p",{className:"mt-2 text-sm text-primary-foreground/90",children:"Defina metas, mantenha foco e evolua todos os dias em grupo."})]}),m.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[m.jsxs("div",{className:"rounded-xl border border-border bg-background/80 p-4",children:[m.jsx(v0,{className:"mb-2 h-5 w-5 text-primary"}),m.jsx("p",{className:"text-sm font-medium",children:"Grupos colaborativos"})]}),m.jsxs("div",{className:"rounded-xl border border-border bg-background/80 p-4",children:[m.jsx(kx,{className:"mb-2 h-5 w-5 text-secondary"}),m.jsx("p",{className:"text-sm font-medium",children:"Metas compartilhadas"})]})]})]})})]})})]})},Tn={free:{maxGroups:1,maxMembersPerGroup:5,maxUploadSizeMB:5,historyDays:30,hasAds:!0,hasAITests:!1,hasPremiumBadge:!1,hasCustomThemes:!1,hasAdvancedStats:!1,hasPrioritySupport:!1,canUploadFiles:!1},basic:{maxGroups:5,maxMembersPerGroup:20,maxUploadSizeMB:100,historyDays:null,hasAds:!1,hasAITests:!1,hasPremiumBadge:!1,hasCustomThemes:!1,hasAdvancedStats:!0,hasPrioritySupport:!1,canUploadFiles:!0},premium:{maxGroups:null,maxMembersPerGroup:null,maxUploadSizeMB:1024,historyDays:null,hasAds:!1,hasAITests:!0,hasPremiumBadge:!0,hasCustomThemes:!0,hasAdvancedStats:!0,hasPrioritySupport:!0,canUploadFiles:!0}},pl={free:{monthly:0,yearly:0},basic:{monthly:4.99,yearly:49.99},premium:{monthly:9.99,yearly:99.99}},Sw={free:"Free",basic:"Basic",premium:"Premium"},DAe=t=>Tn[t]||Tn.free,$Ae=()=>{const{user:t}=It(),[e,r]=E.useState([]),[n,i]=E.useState(!0);E.useEffect(()=>{t&&s()},[t]);const s=async()=>{try{i(!0);const{data:l,error:c}=await ne.from("groups").select(`
          id,
          name,
          description,
          type,
          creator_id,
          created_at
        `).order("created_at");if(c)throw c;const u=await Promise.all((l||[]).map(async d=>{const{count:h}=await ne.from("group_members").select("*",{count:"exact",head:!0}).eq("group_id",d.id),{data:f}=await ne.from("group_members").select("id").eq("group_id",d.id).eq("user_id",t==null?void 0:t.id).single();return{...d,members:h||0,isMember:!!f}}));r(u)}catch(l){console.error("Error fetching groups:",l),de.error("Erro ao carregar grupos")}finally{i(!1)}};return{groups:e,loading:n,createGroup:async(l,c)=>{if(!t)return{success:!1,error:"Usurio no autenticado"};try{const{count:u}=await ne.from("groups").select("*",{count:"exact",head:!0}).eq("creator_id",t.id),d=t.plan||"free",h=Tn[d].maxGroups;if(h!==null&&u!==null&&u>=h)return{success:!1,error:`Limite de ${h} grupo(s) atingido.${d==="free"?" Faa upgrade para Basic ou Premium.":d==="basic"?" Faa upgrade para Premium.":""}`};const{data:f}=await ne.from("groups").select("id").eq("name",l).single();if(f)return{success:!1,error:"J existe um grupo com este nome"};const{data:g,error:v}=await ne.from("groups").insert({name:l,description:c,creator_id:t.id,type:"custom"}).select().single();if(v)throw v;const{error:y}=await ne.from("group_members").insert({group_id:g.id,user_id:t.id,is_admin:!0});if(y)throw y;return await s(),{success:!0,groupId:g.id}}catch(u){return console.error("Error creating group:",u),{success:!1,error:"Erro ao criar grupo. Tente novamente."}}},joinGroup:async l=>{if(!t)return{success:!1,error:"Usurio no autenticado"};try{const{data:c}=await ne.from("group_members").select("id").eq("group_id",l).eq("user_id",t.id).single();if(c)return{success:!1,error:"Voc j  membro deste grupo"};const{data:u}=await ne.from("groups").select("creator_id").eq("id",l).single();if(!u)return{success:!1,error:"Grupo no encontrado"};const{data:d}=await ne.from("profiles").select("plan").eq("id",u.creator_id).single(),{count:h}=await ne.from("group_members").select("*",{count:"exact",head:!0}).eq("group_id",l),f=(d==null?void 0:d.plan)||"free",g=Tn[f].maxMembersPerGroup;if(g!==null&&h!==null&&h>=g)return{success:!1,error:`Este grupo atingiu o limite de ${g} membros.`};const{error:v}=await ne.from("group_members").insert({group_id:l,user_id:t.id,is_admin:!1});if(v)throw v;return await s(),{success:!0}}catch(c){return console.error("Error joining group:",c),{success:!1,error:"Erro ao entrar no grupo. Tente novamente."}}},refreshGroups:s}};function PZ(){const[t,e]=E.useState([]),[r,n]=E.useState(0),[i,s]=E.useState(!0),{user:a}=It();E.useEffect(()=>{if(a){o();const u=ne.channel("notifications-changes").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${a.id}`},()=>{o()}).subscribe();return()=>{ne.removeChannel(u)}}},[a]);const o=async()=>{if(a)try{s(!0);const{data:u,error:d}=await ne.from("notifications").select("*").eq("user_id",a.id).order("created_at",{ascending:!1}).limit(50);if(d)throw d;e(u||[]),n((u==null?void 0:u.filter(h=>!h.read).length)||0)}catch(u){console.error("Error fetching notifications:",u)}finally{s(!1)}};return{notifications:t,unreadCount:r,loading:i,markAsRead:async u=>{try{const{error:d}=await ne.from("notifications").update({read:!0}).eq("id",u).eq("user_id",a==null?void 0:a.id);if(d)throw d;e(h=>h.map(f=>f.id===u?{...f,read:!0}:f)),n(h=>Math.max(0,h-1))}catch(d){console.error("Error marking notification as read:",d)}},markAllAsRead:async()=>{if(a)try{const{error:u}=await ne.from("notifications").update({read:!0}).eq("user_id",a.id).eq("read",!1);if(u)throw u;e(d=>d.map(h=>({...h,read:!0}))),n(0)}catch(u){console.error("Error marking all as read:",u)}},refreshNotifications:o}}var LAe=E.createContext(void 0);function Zm(t){const e=E.useContext(LAe);return t||e||"ltr"}var C2=0;function m3(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??C6()),document.body.insertAdjacentElement("beforeend",t[1]??C6()),C2++,()=>{C2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),C2--}},[])}function C6(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var T2="focusScope.autoFocusOnMount",P2="focusScope.autoFocusOnUnmount",T6={bubbles:!1,cancelable:!0},FAe="FocusScope",Fj=E.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=E.useState(null),c=Yr(i),u=Yr(s),d=E.useRef(null),h=Fe(e,v=>l(v)),f=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let v=function(w){if(f.paused||!o)return;const S=w.target;o.contains(S)?d.current=S:ud(d.current,{select:!0})},y=function(w){if(f.paused||!o)return;const S=w.relatedTarget;S!==null&&(o.contains(S)||ud(d.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&ud(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const x=new MutationObserver(b);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),x.disconnect()}}},[n,o,f.paused]),E.useEffect(()=>{if(o){k6.add(f);const v=document.activeElement;if(!o.contains(v)){const b=new CustomEvent(T2,T6);o.addEventListener(T2,c),o.dispatchEvent(b),b.defaultPrevented||(BAe(WAe(kZ(o)),{select:!0}),document.activeElement===v&&ud(o))}return()=>{o.removeEventListener(T2,c),setTimeout(()=>{const b=new CustomEvent(P2,T6);o.addEventListener(P2,u),o.dispatchEvent(b),b.defaultPrevented||ud(v??document.body,{select:!0}),o.removeEventListener(P2,u),k6.remove(f)},0)}}},[o,c,u,f]);const g=E.useCallback(v=>{if(!r&&!n||f.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(y&&b){const x=v.currentTarget,[w,S]=UAe(x);w&&S?!v.shiftKey&&b===S?(v.preventDefault(),r&&ud(w,{select:!0})):v.shiftKey&&b===w&&(v.preventDefault(),r&&ud(S,{select:!0})):b===x&&v.preventDefault()}},[r,n,f.paused]);return m.jsx(ke.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});Fj.displayName=FAe;function BAe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ud(n,{select:e}),document.activeElement!==r)return}function UAe(t){const e=kZ(t),r=P6(e,t),n=P6(e.reverse(),t);return[r,n]}function kZ(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function P6(t,e){for(const r of t)if(!VAe(r,{upTo:e}))return r}function VAe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zAe(t){return t instanceof HTMLInputElement&&"select"in t}function ud(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&zAe(t)&&e&&t.select()}}var k6=HAe();function HAe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=j6(t,e),t.unshift(e)},remove(e){var r;t=j6(t,e),(r=t[0])==null||r.resume()}}}function j6(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function WAe(t){return t.filter(e=>e.tagName!=="A")}var k2="rovingFocusGroup.onEntryFocus",GAe={bubbles:!1,cancelable:!0},SA="RovingFocusGroup",[AI,jZ,qAe]=dA(SA),[KAe,k0]=gi(SA,[qAe]),[XAe,YAe]=KAe(SA),OZ=E.forwardRef((t,e)=>m.jsx(AI.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(AI.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(QAe,{...t,ref:e})})}));OZ.displayName=SA;var QAe=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,h=E.useRef(null),f=Fe(e,h),g=Zm(s),[v,y]=ao({prop:a,defaultProp:o??null,onChange:l,caller:SA}),[b,x]=E.useState(!1),w=Yr(c),S=jZ(r),_=E.useRef(!1),[A,C]=E.useState(0);return E.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(k2,w),()=>T.removeEventListener(k2,w)},[w]),m.jsx(XAe,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:v,onItemFocus:E.useCallback(T=>y(T),[y]),onItemShiftTab:E.useCallback(()=>x(!0),[]),onFocusableItemAdd:E.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:E.useCallback(()=>C(T=>T-1),[]),children:m.jsx(ke.div,{tabIndex:b||A===0?-1:0,"data-orientation":n,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{_.current=!0}),onFocus:he(t.onFocus,T=>{const P=!_.current;if(T.target===T.currentTarget&&P&&!b){const O=new CustomEvent(k2,GAe);if(T.currentTarget.dispatchEvent(O),!O.defaultPrevented){const I=S().filter(N=>N.focusable),R=I.find(N=>N.active),B=I.find(N=>N.id===v),U=[R,B,...I].filter(Boolean).map(N=>N.ref.current);MZ(U,u)}}_.current=!1}),onBlur:he(t.onBlur,()=>x(!1))})})}),NZ="RovingFocusGroupItem",RZ=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:a,...o}=t,l=pi(),c=s||l,u=YAe(NZ,r),d=u.currentTabStopId===c,h=jZ(r),{onFocusableItemAdd:f,onFocusableItemRemove:g,currentTabStopId:v}=u;return E.useEffect(()=>{if(n)return f(),()=>g()},[n,f,g]),m.jsx(AI.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:m.jsx(ke.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:he(t.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:he(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:he(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=eEe(y,u.orientation,u.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const S=w.indexOf(y.currentTarget);w=u.loop?tEe(w,S+1):w.slice(S+1)}setTimeout(()=>MZ(w))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:v!=null}):a})})});RZ.displayName=NZ;var ZAe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JAe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function eEe(t,e,r){const n=JAe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ZAe[n]}function MZ(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function tEe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var g3=OZ,v3=RZ,rEe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},gg=new WeakMap,AE=new WeakMap,EE={},j2=0,IZ=function(t){return t&&(t.host||IZ(t.parentNode))},nEe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=IZ(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},iEe=function(t,e,r,n){var i=nEe(e,Array.isArray(t)?t:[t]);EE[r]||(EE[r]=new WeakMap);var s=EE[r],a=[],o=new Set,l=new Set(i),c=function(d){!d||o.has(d)||(o.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(o.has(h))u(h);else try{var f=h.getAttribute(n),g=f!==null&&f!=="false",v=(gg.get(h)||0)+1,y=(s.get(h)||0)+1;gg.set(h,v),s.set(h,y),a.push(h),v===1&&g&&AE.set(h,!0),y===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(e),o.clear(),j2++,function(){a.forEach(function(d){var h=gg.get(d)-1,f=s.get(d)-1;gg.set(d,h),s.set(d,f),h||(AE.has(d)||d.removeAttribute(n),AE.delete(d)),f||d.removeAttribute(r)}),j2--,j2||(gg=new WeakMap,gg=new WeakMap,AE=new WeakMap,EE={})}},y3=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=rEe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),iEe(n,i,r,"aria-hidden")):function(){return null}},AC="right-scroll-bar-position",EC="width-before-scroll-bar",sEe="with-scroll-bars-hidden",aEe="--removed-body-scroll-bar-size";function O2(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function oEe(t,e){var r=E.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var lEe=typeof window<"u"?E.useLayoutEffect:E.useEffect,O6=new WeakMap;function cEe(t,e){var r=oEe(null,function(n){return t.forEach(function(i){return O2(i,n)})});return lEe(function(){var n=O6.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(o){s.has(o)||O2(o,null)}),s.forEach(function(o){i.has(o)||O2(o,a)})}O6.set(r,t)},[t]),r}function uEe(t){return t}function dEe(t,e){e===void 0&&(e=uEe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(s),a=r}var l=function(){var u=a;a=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),r}}}};return i}function hEe(t){t===void 0&&(t={});var e=dEe(null);return e.options=Vl({async:!0,ssr:!1},t),e}var DZ=function(t){var e=t.sideCar,r=A0(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,Vl({},r))};DZ.isSideCarExport=!0;function fEe(t,e){return t.useMedium(e),DZ}var $Z=hEe(),N2=function(){},Bj=E.forwardRef(function(t,e){var r=E.useRef(null),n=E.useState({onScrollCapture:N2,onWheelCapture:N2,onTouchMoveCapture:N2}),i=n[0],s=n[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noRelative,g=t.noIsolation,v=t.inert,y=t.allowPinchZoom,b=t.as,x=b===void 0?"div":b,w=t.gapMode,S=A0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,A=cEe([r,e]),C=Vl(Vl({},S),i);return E.createElement(E.Fragment,null,u&&E.createElement(_,{sideCar:$Z,removeScrollBar:c,shards:d,noRelative:f,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:r,gapMode:w}),a?E.cloneElement(E.Children.only(o),Vl(Vl({},C),{ref:A})):E.createElement(x,Vl({},C,{className:l,ref:A}),o))});Bj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bj.classNames={fullWidth:EC,zeroRight:AC};var pEe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mEe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pEe();return e&&t.setAttribute("nonce",e),t}function gEe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function vEe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var yEe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=mEe())&&(gEe(e,r),vEe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bEe=function(){var t=yEe();return function(e,r){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},LZ=function(){var t=bEe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},xEe={left:0,top:0,right:0,gap:0},R2=function(t){return parseInt(t||"",10)||0},wEe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[R2(r),R2(n),R2(i)]},SEe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xEe;var e=wEe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},_Ee=LZ(),Ov="data-scroll-locked",AEe=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(sEe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Ov,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(AC,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(EC,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(AC," .").concat(AC,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(EC," .").concat(EC,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ov,`] {
    `).concat(aEe,": ").concat(o,`px;
  }
`)},N6=function(){var t=parseInt(document.body.getAttribute(Ov)||"0",10);return isFinite(t)?t:0},EEe=function(){E.useEffect(function(){return document.body.setAttribute(Ov,(N6()+1).toString()),function(){var t=N6()-1;t<=0?document.body.removeAttribute(Ov):document.body.setAttribute(Ov,t.toString())}},[])},CEe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;EEe();var s=E.useMemo(function(){return SEe(i)},[i]);return E.createElement(_Ee,{styles:AEe(s,!e,i,r?"":"!important")})},EI=!1;if(typeof window<"u")try{var CE=Object.defineProperty({},"passive",{get:function(){return EI=!0,!0}});window.addEventListener("test",CE,CE),window.removeEventListener("test",CE,CE)}catch{EI=!1}var vg=EI?{passive:!1}:!1,TEe=function(t){return t.tagName==="TEXTAREA"},FZ=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!TEe(t)&&r[e]==="visible")},PEe=function(t){return FZ(t,"overflowY")},kEe=function(t){return FZ(t,"overflowX")},R6=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=BZ(t,n);if(i){var s=UZ(t,n),a=s[1],o=s[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},jEe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},OEe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},BZ=function(t,e){return t==="v"?PEe(e):kEe(e)},UZ=function(t,e){return t==="v"?jEe(e):OEe(e)},NEe=function(t,e){return t==="h"&&e==="rtl"?-1:1},REe=function(t,e,r,n,i){var s=NEe(t,window.getComputedStyle(e).direction),a=s*n,o=r.target,l=e.contains(o),c=!1,u=a>0,d=0,h=0;do{if(!o)break;var f=UZ(t,o),g=f[0],v=f[1],y=f[2],b=v-y-s*g;(g||b)&&BZ(t,o)&&(d+=b,h+=g);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(c=!0),c},TE=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},M6=function(t){return[t.deltaX,t.deltaY]},I6=function(t){return t&&"current"in t?t.current:t},MEe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},IEe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},DEe=0,yg=[];function $Ee(t){var e=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),i=E.useState(DEe++)[0],s=E.useState(LZ)[0],a=E.useRef(t);E.useEffect(function(){a.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=zye([t.lockRef.current],(t.shards||[]).map(I6),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=E.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var b=TE(v),x=r.current,w="deltaX"in v?v.deltaX:x[0]-b[0],S="deltaY"in v?v.deltaY:x[1]-b[1],_,A=v.target,C=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in v&&C==="h"&&A.type==="range")return!1;var T=window.getSelection(),P=T&&T.anchorNode,O=P?P===A||P.contains(A):!1;if(O)return!1;var I=R6(C,A);if(!I)return!0;if(I?_=C:(_=C==="v"?"h":"v",I=R6(C,A)),!I)return!1;if(!n.current&&"changedTouches"in v&&(w||S)&&(n.current=_),!_)return!0;var R=n.current||_;return REe(R,y,v,R==="h"?w:S)},[]),l=E.useCallback(function(v){var y=v;if(!(!yg.length||yg[yg.length-1]!==s)){var b="deltaY"in y?M6(y):TE(y),x=e.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&MEe(_.delta,b)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var w=(a.current.shards||[]).map(I6).filter(Boolean).filter(function(_){return _.contains(y.target)}),S=w.length>0?o(y,w[0]):!a.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),c=E.useCallback(function(v,y,b,x){var w={name:v,delta:y,target:b,should:x,shadowParent:LEe(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),u=E.useCallback(function(v){r.current=TE(v),n.current=void 0},[]),d=E.useCallback(function(v){c(v.type,M6(v),v.target,o(v,t.lockRef.current))},[]),h=E.useCallback(function(v){c(v.type,TE(v),v.target,o(v,t.lockRef.current))},[]);E.useEffect(function(){return yg.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,vg),document.addEventListener("touchmove",l,vg),document.addEventListener("touchstart",u,vg),function(){yg=yg.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,vg),document.removeEventListener("touchmove",l,vg),document.removeEventListener("touchstart",u,vg)}},[]);var f=t.removeScrollBar,g=t.inert;return E.createElement(E.Fragment,null,g?E.createElement(s,{styles:IEe(i)}):null,f?E.createElement(CEe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function LEe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const FEe=fEe($Z,$Ee);var Uj=E.forwardRef(function(t,e){return E.createElement(Bj,Vl({},t,{ref:e,sideCar:FEe}))});Uj.classNames=Bj.classNames;var CI=["Enter"," "],BEe=["ArrowDown","PageUp","Home"],VZ=["ArrowUp","PageDown","End"],UEe=[...BEe,...VZ],VEe={ltr:[...CI,"ArrowRight"],rtl:[...CI,"ArrowLeft"]},zEe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_A="Menu",[h1,HEe,WEe]=dA(_A),[Jm,zZ]=gi(_A,[WEe,w0,k0]),Vj=w0(),HZ=k0(),[GEe,eg]=Jm(_A),[qEe,AA]=Jm(_A),WZ=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:a=!0}=t,o=Vj(e),[l,c]=E.useState(null),u=E.useRef(!1),d=Yr(s),h=Zm(i);return E.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),m.jsx(wB,{...o,children:m.jsx(GEe,{scope:e,open:r,onOpenChange:d,content:l,onContentChange:c,children:m.jsx(qEe,{scope:e,onClose:E.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:a,children:n})})})};WZ.displayName=_A;var KEe="MenuAnchor",b3=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Vj(r);return m.jsx(SB,{...i,...n,ref:e})});b3.displayName=KEe;var x3="MenuPortal",[XEe,GZ]=Jm(x3,{forceMount:void 0}),qZ=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=eg(x3,e);return m.jsx(XEe,{scope:e,forceMount:r,children:m.jsx(vi,{present:r||s.open,children:m.jsx(hA,{asChild:!0,container:i,children:n})})})};qZ.displayName=x3;var to="MenuContent",[YEe,w3]=Jm(to),KZ=E.forwardRef((t,e)=>{const r=GZ(to,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=eg(to,t.__scopeMenu),a=AA(to,t.__scopeMenu);return m.jsx(h1.Provider,{scope:t.__scopeMenu,children:m.jsx(vi,{present:n||s.open,children:m.jsx(h1.Slot,{scope:t.__scopeMenu,children:a.modal?m.jsx(QEe,{...i,ref:e}):m.jsx(ZEe,{...i,ref:e})})})})}),QEe=E.forwardRef((t,e)=>{const r=eg(to,t.__scopeMenu),n=E.useRef(null),i=Fe(e,n);return E.useEffect(()=>{const s=n.current;if(s)return y3(s)},[]),m.jsx(S3,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:he(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ZEe=E.forwardRef((t,e)=>{const r=eg(to,t.__scopeMenu);return m.jsx(S3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),JEe=Cb("MenuContent.ScrollLock"),S3=E.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:f,disableOutsideScroll:g,...v}=t,y=eg(to,r),b=AA(to,r),x=Vj(r),w=HZ(r),S=HEe(r),[_,A]=E.useState(null),C=E.useRef(null),T=Fe(e,C,y.onContentChange),P=E.useRef(0),O=E.useRef(""),I=E.useRef(0),R=E.useRef(null),B=E.useRef("right"),D=E.useRef(0),U=g?Uj:E.Fragment,N=g?{as:JEe,allowPinchZoom:!0}:void 0,j=F=>{var J,ce;const z=O.current+F,K=S().filter(ee=>!ee.disabled),V=document.activeElement,G=(J=K.find(ee=>ee.ref.current===V))==null?void 0:J.textValue,X=K.map(ee=>ee.textValue),H=dCe(X,z,G),Z=(ce=K.find(ee=>ee.textValue===H))==null?void 0:ce.ref.current;(function ee(oe){O.current=oe,window.clearTimeout(P.current),oe!==""&&(P.current=window.setTimeout(()=>ee(""),1e3))})(z),Z&&setTimeout(()=>Z.focus())};E.useEffect(()=>()=>window.clearTimeout(P.current),[]),m3();const L=E.useCallback(F=>{var K,V;return B.current===((K=R.current)==null?void 0:K.side)&&fCe(F,(V=R.current)==null?void 0:V.area)},[]);return m.jsx(YEe,{scope:r,searchRef:O,onItemEnter:E.useCallback(F=>{L(F)&&F.preventDefault()},[L]),onItemLeave:E.useCallback(F=>{var z;L(F)||((z=C.current)==null||z.focus(),A(null))},[L]),onTriggerLeave:E.useCallback(F=>{L(F)&&F.preventDefault()},[L]),pointerGraceTimerRef:I,onPointerGraceIntentChange:E.useCallback(F=>{R.current=F},[]),children:m.jsx(U,{...N,children:m.jsx(Fj,{asChild:!0,trapped:i,onMountAutoFocus:he(s,F=>{var z;F.preventDefault(),(z=C.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:m.jsx(g0,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:f,children:m.jsx(g3,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:A,onEntryFocus:he(l,F=>{b.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(_B,{role:"menu","aria-orientation":"vertical","data-state":uJ(y.open),"data-radix-menu-content":"",dir:b.dir,...x,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:he(v.onKeyDown,F=>{const K=F.target.closest("[data-radix-menu-content]")===F.currentTarget,V=F.ctrlKey||F.altKey||F.metaKey,G=F.key.length===1;K&&(F.key==="Tab"&&F.preventDefault(),!V&&G&&j(F.key));const X=C.current;if(F.target!==X||!UEe.includes(F.key))return;F.preventDefault();const Z=S().filter(J=>!J.disabled).map(J=>J.ref.current);VZ.includes(F.key)&&Z.reverse(),cCe(Z)}),onBlur:he(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(P.current),O.current="")}),onPointerMove:he(t.onPointerMove,f1(F=>{const z=F.target,K=D.current!==F.clientX;if(F.currentTarget.contains(z)&&K){const V=F.clientX>D.current?"right":"left";B.current=V,D.current=F.clientX}}))})})})})})})});KZ.displayName=to;var eCe="MenuGroup",_3=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return m.jsx(ke.div,{role:"group",...n,ref:e})});_3.displayName=eCe;var tCe="MenuLabel",XZ=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return m.jsx(ke.div,{...n,ref:e})});XZ.displayName=tCe;var tP="MenuItem",D6="menu.itemSelect",zj=E.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=E.useRef(null),a=AA(tP,t.__scopeMenu),o=w3(tP,t.__scopeMenu),l=Fe(e,s),c=E.useRef(!1),u=()=>{const d=s.current;if(!r&&d){const h=new CustomEvent(D6,{bubbles:!0,cancelable:!0});d.addEventListener(D6,f=>n==null?void 0:n(f),{once:!0}),QF(d,h),h.defaultPrevented?c.current=!1:a.onClose()}};return m.jsx(YZ,{...i,ref:l,disabled:r,onClick:he(t.onClick,u),onPointerDown:d=>{var h;(h=t.onPointerDown)==null||h.call(t,d),c.current=!0},onPointerUp:he(t.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:he(t.onKeyDown,d=>{const h=o.searchRef.current!=="";r||h&&d.key===" "||CI.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});zj.displayName=tP;var YZ=E.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,a=w3(tP,r),o=HZ(r),l=E.useRef(null),c=Fe(e,l),[u,d]=E.useState(!1),[h,f]=E.useState("");return E.useEffect(()=>{const g=l.current;g&&f((g.textContent??"").trim())},[s.children]),m.jsx(h1.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:m.jsx(v3,{asChild:!0,...o,focusable:!n,children:m.jsx(ke.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:c,onPointerMove:he(t.onPointerMove,f1(g=>{n?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(t.onPointerLeave,f1(g=>a.onItemLeave(g))),onFocus:he(t.onFocus,()=>d(!0)),onBlur:he(t.onBlur,()=>d(!1))})})})}),rCe="MenuCheckboxItem",QZ=E.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return m.jsx(rJ,{scope:t.__scopeMenu,checked:r,children:m.jsx(zj,{role:"menuitemcheckbox","aria-checked":rP(r)?"mixed":r,...i,ref:e,"data-state":E3(r),onSelect:he(i.onSelect,()=>n==null?void 0:n(rP(r)?!0:!r),{checkForDefaultPrevented:!1})})})});QZ.displayName=rCe;var ZZ="MenuRadioGroup",[nCe,iCe]=Jm(ZZ,{value:void 0,onValueChange:()=>{}}),JZ=E.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Yr(n);return m.jsx(nCe,{scope:t.__scopeMenu,value:r,onValueChange:s,children:m.jsx(_3,{...i,ref:e})})});JZ.displayName=ZZ;var eJ="MenuRadioItem",tJ=E.forwardRef((t,e)=>{const{value:r,...n}=t,i=iCe(eJ,t.__scopeMenu),s=r===i.value;return m.jsx(rJ,{scope:t.__scopeMenu,checked:s,children:m.jsx(zj,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":E3(s),onSelect:he(n.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,r)},{checkForDefaultPrevented:!1})})})});tJ.displayName=eJ;var A3="MenuItemIndicator",[rJ,sCe]=Jm(A3,{checked:!1}),nJ=E.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=sCe(A3,r);return m.jsx(vi,{present:n||rP(s.checked)||s.checked===!0,children:m.jsx(ke.span,{...i,ref:e,"data-state":E3(s.checked)})})});nJ.displayName=A3;var aCe="MenuSeparator",iJ=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return m.jsx(ke.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});iJ.displayName=aCe;var oCe="MenuArrow",sJ=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Vj(r);return m.jsx(AB,{...i,...n,ref:e})});sJ.displayName=oCe;var lCe="MenuSub",[rit,aJ]=Jm(lCe),Nx="MenuSubTrigger",oJ=E.forwardRef((t,e)=>{const r=eg(Nx,t.__scopeMenu),n=AA(Nx,t.__scopeMenu),i=aJ(Nx,t.__scopeMenu),s=w3(Nx,t.__scopeMenu),a=E.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},u=E.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return E.useEffect(()=>u,[u]),E.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),l(null)}},[o,l]),m.jsx(b3,{asChild:!0,...c,children:m.jsx(YZ,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":uJ(r.open),...t,ref:oc(e,i.onTriggerChange),onClick:d=>{var h;(h=t.onClick)==null||h.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:he(t.onPointerMove,f1(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:he(t.onPointerLeave,f1(d=>{var f,g;u();const h=(f=r.content)==null?void 0:f.getBoundingClientRect();if(h){const v=(g=r.content)==null?void 0:g.dataset.side,y=v==="right",b=y?-5:5,x=h[y?"left":"right"],w=h[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+b,y:d.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:v}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:he(t.onKeyDown,d=>{var f;const h=s.searchRef.current!=="";t.disabled||h&&d.key===" "||VEe[n.dir].includes(d.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),d.preventDefault())})})})});oJ.displayName=Nx;var lJ="MenuSubContent",cJ=E.forwardRef((t,e)=>{const r=GZ(to,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=eg(to,t.__scopeMenu),a=AA(to,t.__scopeMenu),o=aJ(lJ,t.__scopeMenu),l=E.useRef(null),c=Fe(e,l);return m.jsx(h1.Provider,{scope:t.__scopeMenu,children:m.jsx(vi,{present:n||s.open,children:m.jsx(h1.Slot,{scope:t.__scopeMenu,children:m.jsx(S3,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;a.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:he(t.onFocusOutside,u=>{u.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:he(t.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:he(t.onKeyDown,u=>{var f;const d=u.currentTarget.contains(u.target),h=zEe[a.dir].includes(u.key);d&&h&&(s.onOpenChange(!1),(f=o.trigger)==null||f.focus(),u.preventDefault())})})})})})});cJ.displayName=lJ;function uJ(t){return t?"open":"closed"}function rP(t){return t==="indeterminate"}function E3(t){return rP(t)?"indeterminate":t?"checked":"unchecked"}function cCe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function uCe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function dCe(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=uCe(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==r));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function hCe(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,u=o.y,d=l.x,h=l.y;u>n!=h>n&&r<(d-c)*(n-u)/(h-u)+c&&(i=!i)}return i}function fCe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return hCe(r,e)}function f1(t){return e=>e.pointerType==="mouse"?t(e):void 0}var pCe=WZ,mCe=b3,gCe=qZ,vCe=KZ,yCe=_3,bCe=XZ,xCe=zj,wCe=QZ,SCe=JZ,_Ce=tJ,ACe=nJ,ECe=iJ,CCe=sJ,TCe=oJ,PCe=cJ,Hj="DropdownMenu",[kCe]=gi(Hj,[zZ]),ns=zZ(),[jCe,dJ]=kCe(Hj),hJ=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=ns(e),c=E.useRef(null),[u,d]=ao({prop:i,defaultProp:s??!1,onChange:a,caller:Hj});return m.jsx(jCe,{scope:e,triggerId:pi(),triggerRef:c,contentId:pi(),open:u,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(h=>!h),[d]),modal:o,children:m.jsx(pCe,{...l,open:u,onOpenChange:d,dir:n,modal:o,children:r})})};hJ.displayName=Hj;var fJ="DropdownMenuTrigger",pJ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=dJ(fJ,r),a=ns(r);return m.jsx(mCe,{asChild:!0,...a,children:m.jsx(ke.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:oc(e,s.triggerRef),onPointerDown:he(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:he(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});pJ.displayName=fJ;var OCe="DropdownMenuPortal",mJ=t=>{const{__scopeDropdownMenu:e,...r}=t,n=ns(e);return m.jsx(gCe,{...n,...r})};mJ.displayName=OCe;var gJ="DropdownMenuContent",vJ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=dJ(gJ,r),s=ns(r),a=E.useRef(!1);return m.jsx(vCe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:he(t.onCloseAutoFocus,o=>{var l;a.current||(l=i.triggerRef.current)==null||l.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:he(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vJ.displayName=gJ;var NCe="DropdownMenuGroup",RCe=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ns(r);return m.jsx(yCe,{...i,...n,ref:e})});RCe.displayName=NCe;var MCe="DropdownMenuLabel",yJ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ns(r);return m.jsx(bCe,{...i,...n,ref:e})});yJ.displayName=MCe;var ICe="DropdownMenuItem",bJ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ns(r);return m.jsx(xCe,{...i,...n,ref:e})});bJ.displayName=ICe;var DCe="DropdownMenuCheckboxItem",xJ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ns(r);return m.jsx(wCe,{...i,...n,ref:e})});xJ.displayName=DCe;var $Ce="DropdownMenuRadioGroup",LCe=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ns(r);return m.jsx(SCe,{...i,...n,ref:e})});LCe.displayName=$Ce;var FCe="DropdownMenuRadioItem",wJ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ns(r);return m.jsx(_Ce,{...i,...n,ref:e})});wJ.displayName=FCe;var BCe="DropdownMenuItemIndicator",SJ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ns(r);return m.jsx(ACe,{...i,...n,ref:e})});SJ.displayName=BCe;var UCe="DropdownMenuSeparator",_J=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ns(r);return m.jsx(ECe,{...i,...n,ref:e})});_J.displayName=UCe;var VCe="DropdownMenuArrow",zCe=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ns(r);return m.jsx(CCe,{...i,...n,ref:e})});zCe.displayName=VCe;var HCe="DropdownMenuSubTrigger",AJ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ns(r);return m.jsx(TCe,{...i,...n,ref:e})});AJ.displayName=HCe;var WCe="DropdownMenuSubContent",EJ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ns(r);return m.jsx(PCe,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EJ.displayName=WCe;var GCe=hJ,qCe=pJ,KCe=mJ,CJ=vJ,TJ=yJ,PJ=bJ,kJ=xJ,jJ=wJ,OJ=SJ,NJ=_J,RJ=AJ,MJ=EJ;const p1=GCe,m1=qCe,XCe=E.forwardRef(({className:t,inset:e,children:r,...n},i)=>m.jsxs(RJ,{ref:i,className:pe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,m.jsx(Nfe,{className:"ml-auto h-4 w-4"})]}));XCe.displayName=RJ.displayName;const YCe=E.forwardRef(({className:t,...e},r)=>m.jsx(MJ,{ref:r,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));YCe.displayName=MJ.displayName;const Ob=E.forwardRef(({className:t,sideOffset:e=4,...r},n)=>m.jsx(KCe,{children:m.jsx(CJ,{ref:n,sideOffset:e,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Ob.displayName=CJ.displayName;const ua=E.forwardRef(({className:t,inset:e,...r},n)=>m.jsx(PJ,{ref:n,className:pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));ua.displayName=PJ.displayName;const QCe=E.forwardRef(({className:t,children:e,checked:r,...n},i)=>m.jsxs(kJ,{ref:i,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(OJ,{children:m.jsx(km,{className:"h-4 w-4"})})}),e]}));QCe.displayName=kJ.displayName;const ZCe=E.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(jJ,{ref:n,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(OJ,{children:m.jsx(cX,{className:"h-2 w-2 fill-current"})})}),e]}));ZCe.displayName=jJ.displayName;const JCe=E.forwardRef(({className:t,inset:e,...r},n)=>m.jsx(TJ,{ref:n,className:pe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));JCe.displayName=TJ.displayName;const TI=E.forwardRef(({className:t,...e},r)=>m.jsx(NJ,{ref:r,className:pe("-mx-1 my-1 h-px bg-muted",t),...e}));TI.displayName=NJ.displayName;const eTe=pA("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Mr({className:t,variant:e,...r}){return m.jsx("div",{className:pe(eTe({variant:e}),t),...r})}function hi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function tTe(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const PE=43200,$6=1440;let rTe={};function nTe(){return rTe}function L6(t){const e=hi(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function CC(t,e){const r=hi(t),n=hi(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function iTe(t){return tTe(t,Date.now())}function sTe(t,e){const r=hi(t),n=hi(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function aTe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function oTe(t,e){return+hi(t)-+hi(e)}function lTe(t){const e=hi(t);return e.setHours(23,59,59,999),e}function cTe(t){const e=hi(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function uTe(t){const e=hi(t);return+lTe(e)==+cTe(e)}function dTe(t,e){const r=hi(t),n=hi(e),i=CC(r,n),s=Math.abs(sTe(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let o=CC(r,n)===-i;uTe(hi(t))&&s===1&&CC(t,n)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function hTe(t,e,r){const n=oTe(t,e)/1e3;return aTe(r==null?void 0:r.roundingMethod)(n)}const fTe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pTe=(t,e,r)=>{let n;const i=fTe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nv(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const mTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yTe={date:Nv({formats:mTe,defaultWidth:"full"}),time:Nv({formats:gTe,defaultWidth:"full"}),dateTime:Nv({formats:vTe,defaultWidth:"full"})},bTe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xTe=(t,e,r,n)=>bTe[t];function zl(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const wTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},STe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_Te={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ATe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ETe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},TTe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},PTe={ordinalNumber:TTe,era:zl({values:wTe,defaultWidth:"wide"}),quarter:zl({values:STe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zl({values:_Te,defaultWidth:"wide"}),day:zl({values:ATe,defaultWidth:"wide"}),dayPeriod:zl({values:ETe,defaultWidth:"wide",formattingValues:CTe,defaultFormattingWidth:"wide"})};function Hl(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?jTe(o,d=>d.test(a)):kTe(o,d=>d.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function kTe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function jTe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function IJ(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const OTe=/^(\d+)(th|st|nd|rd)?/i,NTe=/\d+/i,RTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MTe={any:[/^b/i,/^(a|c)/i]},ITe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DTe={any:[/1/i,/2/i,/3/i,/4/i]},$Te={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},LTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},UTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},VTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zTe={ordinalNumber:IJ({matchPattern:OTe,parsePattern:NTe,valueCallback:t=>parseInt(t,10)}),era:Hl({matchPatterns:RTe,defaultMatchWidth:"wide",parsePatterns:MTe,defaultParseWidth:"any"}),quarter:Hl({matchPatterns:ITe,defaultMatchWidth:"wide",parsePatterns:DTe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hl({matchPatterns:$Te,defaultMatchWidth:"wide",parsePatterns:LTe,defaultParseWidth:"any"}),day:Hl({matchPatterns:FTe,defaultMatchWidth:"wide",parsePatterns:BTe,defaultParseWidth:"any"}),dayPeriod:Hl({matchPatterns:UTe,defaultMatchWidth:"any",parsePatterns:VTe,defaultParseWidth:"any"})},HTe={code:"en-US",formatDistance:pTe,formatLong:yTe,formatRelative:xTe,localize:PTe,match:zTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WTe(t,e,r){const n=nTe(),i=(r==null?void 0:r.locale)??n.locale??HTe,s=2520,a=CC(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let l,c;a>0?(l=hi(e),c=hi(t)):(l=hi(t),c=hi(e));const u=hTe(c,l),d=(L6(c)-L6(l))/1e3,h=Math.round((u-d)/60);let f;if(h<2)return r!=null&&r.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,o):u<10?i.formatDistance("lessThanXSeconds",10,o):u<20?i.formatDistance("lessThanXSeconds",20,o):u<40?i.formatDistance("halfAMinute",0,o):u<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<$6){const g=Math.round(h/60);return i.formatDistance("aboutXHours",g,o)}else{if(h<s)return i.formatDistance("xDays",1,o);if(h<PE){const g=Math.round(h/$6);return i.formatDistance("xDays",g,o)}else if(h<PE*2)return f=Math.round(h/PE),i.formatDistance("aboutXMonths",f,o)}if(f=dTe(c,l),f<12){const g=Math.round(h/PE);return i.formatDistance("xMonths",g,o)}else{const g=f%12,v=Math.trunc(f/12);return g<3?i.formatDistance("aboutXYears",v,o):g<9?i.formatDistance("overXYears",v,o):i.formatDistance("almostXYears",v+1,o)}}function Wj(t,e){return WTe(t,iTe(t),e)}const GTe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},qTe=(t,e,r)=>{let n;const i=GTe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},KTe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},XTe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},YTe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QTe={date:Nv({formats:KTe,defaultWidth:"full"}),time:Nv({formats:XTe,defaultWidth:"full"}),dateTime:Nv({formats:YTe,defaultWidth:"full"})},ZTe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},JTe=(t,e,r,n)=>{const i=ZTe[t];return typeof i=="function"?i(e):i},ePe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},tPe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},rPe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},nPe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},iPe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},sPe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},aPe=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},oPe={ordinalNumber:aPe,era:zl({values:ePe,defaultWidth:"wide"}),quarter:zl({values:tPe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zl({values:rPe,defaultWidth:"wide"}),day:zl({values:nPe,defaultWidth:"wide"}),dayPeriod:zl({values:iPe,defaultWidth:"wide",formattingValues:sPe,defaultFormattingWidth:"wide"})},lPe=/^(\d+)[o]?/i,cPe=/\d+/i,uPe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},dPe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},hPe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},fPe={any:[/1/i,/2/i,/3/i,/4/i]},pPe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},mPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},gPe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},vPe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},yPe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},bPe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},xPe={ordinalNumber:IJ({matchPattern:lPe,parsePattern:cPe,valueCallback:t=>parseInt(t,10)}),era:Hl({matchPatterns:uPe,defaultMatchWidth:"wide",parsePatterns:dPe,defaultParseWidth:"any"}),quarter:Hl({matchPatterns:hPe,defaultMatchWidth:"wide",parsePatterns:fPe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hl({matchPatterns:pPe,defaultMatchWidth:"wide",parsePatterns:mPe,defaultParseWidth:"any"}),day:Hl({matchPatterns:gPe,defaultMatchWidth:"wide",parsePatterns:vPe,defaultParseWidth:"any"}),dayPeriod:Hl({matchPatterns:yPe,defaultMatchWidth:"any",parsePatterns:bPe,defaultParseWidth:"any"})},Gj={code:"pt-BR",formatDistance:qTe,formatLong:QTe,formatRelative:JTe,localize:oPe,match:xPe,options:{weekStartsOn:0,firstWeekContainsDate:1}},wPe=()=>{const t=Ii(),{notifications:e,unreadCount:r,markAsRead:n}=PZ(),i=e.slice(0,5),s=o=>{n(o.id),o.link&&t(o.link)},a=o=>{switch(o){case"leaderboard":return"";case"invitation":return"";case"achievement":return"";case"water_reminder":return"";case"goal_reminder":return"";default:return""}};return m.jsxs(p1,{children:[m.jsx(m1,{asChild:!0,children:m.jsxs(ge,{variant:"ghost",size:"icon",className:"relative text-foreground hover:bg-primary/10 transition-smooth",children:[m.jsx(oX,{size:20}),r>0&&m.jsx(Mr,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r>9?"9+":r})]})}),m.jsxs(Ob,{align:"end",className:"w-80",children:[m.jsx("div",{className:"px-3 py-2 font-semibold text-sm",children:"Notificaes"}),m.jsx(TI,{}),i.length===0?m.jsx("div",{className:"px-3 py-8 text-center text-sm text-muted-foreground",children:"Nenhuma notificao"}):m.jsxs(m.Fragment,{children:[i.map(o=>m.jsx(ua,{onClick:()=>s(o),className:`flex flex-col items-start gap-1 p-3 cursor-pointer ${o.read?"":"bg-primary/5"}`,children:m.jsxs("div",{className:"flex items-start gap-2 w-full",children:[m.jsx("span",{className:"text-lg",children:a(o.type)}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium line-clamp-1",children:o.title}),m.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:o.message}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Wj(new Date(o.created_at),{addSuffix:!0,locale:Gj})})]}),!o.read&&m.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0 mt-1"})]})},o.id)),m.jsx(TI,{}),m.jsx(ua,{onClick:()=>t("/notifications"),className:"text-center justify-center text-primary font-medium",children:"Ver todas"})]})]})]})};function SPe(){const{setTheme:t,theme:e}=hB(),{t:r}=Wt();return m.jsxs(p1,{children:[m.jsx(m1,{asChild:!0,children:m.jsxs(ge,{variant:"outline",size:"icon",className:"h-9 w-9",children:[m.jsx(PM,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),m.jsx(TM,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),m.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),m.jsxs(Ob,{align:"end",children:[m.jsxs(ua,{onClick:()=>t("light"),className:"gap-2",children:[m.jsx(PM,{className:"h-4 w-4"}),r("settings.theme.light","Claro")]}),m.jsxs(ua,{onClick:()=>t("dark"),className:"gap-2",children:[m.jsx(TM,{className:"h-4 w-4"}),r("settings.theme.dark","Escuro")]}),m.jsxs(ua,{onClick:()=>t("system"),className:"gap-2",children:[m.jsx(uX,{className:"h-4 w-4"}),r("settings.theme.system","Sistema")]})]})]})}function _Pe(){const{setTheme:t,theme:e}=hB(),{t:r}=Wt(),n=[{value:"light",label:r("settings.theme.light","Claro"),icon:PM},{value:"dark",label:r("settings.theme.dark","Escuro"),icon:TM},{value:"system",label:r("settings.theme.system","Sistema"),icon:uX}];return m.jsx("div",{className:"flex gap-2",children:n.map(({value:i,label:s,icon:a})=>m.jsxs(ge,{variant:e===i?"default":"outline",className:"flex-1 gap-2",onClick:()=>t(i),children:[m.jsx(a,{className:"h-4 w-4"}),s]},i))})}const APe={"/":"app.name","/groups":"navigation.groups","/progress":"navigation.progress","/water":"navigation.water","/leaderboard":"navigation.leaders","/profile":"navigation.profile","/login":"login.title","/register":"register.title","/plans":"plans.title","/generate-test":"aiTests.title"},EPe=(t,e)=>t.startsWith("/group/")?e("groups.title"):e(APe[t]??"app.name"),CPe=(t,e)=>e(t==="free"?"plans.free.name":t==="basic"?"plans.basic.name":"plans.premium.name"),TPe=()=>{const{pathname:t}=cf(),e=Ii(),{t:r,i18n:n}=Wt(),{user:i,logout:s}=It(),a=E.useMemo(()=>EPe(t,r),[t,r]),o=E.useMemo(()=>i?CPe(i.plan,r):"",[i,r]),l=t!=="/login"&&t!=="/register",c=E.useCallback(async()=>{const h={title:r("app.name"),text:r("app.shareMessage"),url:window.location.origin};try{if(navigator.share){await navigator.share(h);return}await navigator.clipboard.writeText(`${h.text} ${h.url}`),alert("Link copiado para a rea de transferncia!")}catch(f){console.error("Erro ao compartilhar:",f)}},[r]),u=E.useCallback(h=>{n.changeLanguage(h)},[n]),d=E.useCallback(()=>{s(),e("/login")},[s,e]);return m.jsxs("header",{className:"bg-gradient-to-r from-background via-background to-primary/5 border-b border-border/50 backdrop-blur-sm py-4 px-6 sticky top-0 z-10 flex items-center justify-between shadow-elegant",children:[m.jsx("div",{className:"flex-1"}),m.jsx("h1",{className:"text-xl font-bold text-center bg-gradient-to-r from-primary via-primary-glow to-primary bg-clip-text text-transparent flex-1",children:a}),m.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[m.jsx(SPe,{}),m.jsx(ge,{variant:"ghost",size:"icon",onClick:c,className:"text-foreground hover:bg-primary/10 transition-smooth",title:r("app.share"),"aria-label":r("app.share"),children:m.jsx(Yfe,{size:20})}),i&&m.jsx(wPe,{}),m.jsxs(p1,{children:[m.jsx(m1,{asChild:!0,children:m.jsx(ge,{variant:"ghost",size:"icon",className:"text-foreground hover:bg-primary/10 transition-smooth","aria-label":"Idioma",children:m.jsx(Vfe,{size:20})})}),m.jsxs(Ob,{align:"end",children:[m.jsx(ua,{onClick:()=>u("en"),children:r("language.english")}),m.jsx(ua,{onClick:()=>u("pt"),children:r("language.portuguese")})]})]}),i?m.jsxs(p1,{children:[m.jsx(m1,{asChild:!0,children:m.jsx(ge,{variant:"ghost",size:"icon",className:"text-foreground hover:bg-primary/10 transition-smooth","aria-label":r("navigation.profile"),children:m.jsx(lB,{size:20})})}),m.jsxs(Ob,{align:"end",children:[m.jsx(ua,{onClick:()=>e("/profile"),children:i.name}),m.jsx(ua,{onClick:()=>e("/plans"),children:o}),m.jsx(ua,{onClick:d,children:"Sair"})]})]}):l&&m.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>e("/login"),children:r("login.title")})]})]})},C3=()=>{const{user:t}=It(),[e,r]=E.useState([]),[n,i]=E.useState(!1),[s,a]=E.useState(!1),[o,l]=E.useState(0),c=E.useCallback(async()=>{if(t)try{const{data:v,error:y}=await ne.from("group_invitations").select(`
          *,
          groups:group_id (
            name,
            description
          )
        `).eq("status","pending").gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1});if(y)throw y;r(v||[]),l((v==null?void 0:v.length)||0)}catch(v){console.error("Error fetching invitations:",v)}},[t]);return E.useEffect(()=>{c();const v=ne.channel("invitations-changes").on("postgres_changes",{event:"*",schema:"public",table:"group_invitations"},()=>{c()}).subscribe();return()=>{ne.removeChannel(v)}},[c]),{invitations:e,pendingCount:o,loading:n,searchLoading:s,sendInvitation:async(v,y,b)=>{if(!t)return de.error("Voc precisa estar logado"),{error:"Not authenticated"};i(!0);try{let x=y;if(b){const{data:_}=await ne.rpc("get_user_email",{user_uuid:b});_&&(x=_)}const{data:w,error:S}=await ne.from("group_invitations").insert({group_id:v,inviter_id:t.id,invitee_email:x.toLowerCase()}).select().single();if(S){if(S.code==="23505")de.error("Este usurio j foi convidado para este grupo");else throw S;return{error:S}}if(b&&w){const{data:_}=await ne.from("groups").select("name").eq("id",v).single();await ne.from("notifications").insert({user_id:b,type:"invitation",title:" Novo convite de grupo",message:`Voc foi convidado para ${(_==null?void 0:_.name)||"um grupo de estudo"}`,link:"/invitations"})}return de.success("Convite enviado com sucesso!"),{error:null}}catch(x){return console.error("Error sending invitation:",x),de.error("Erro ao enviar convite"),{error:x}}finally{i(!1)}},searchUsersByName:async v=>{if(!v||v.length<2)return[];a(!0);try{const{data:y,error:b}=await ne.from("profiles").select("id, name").ilike("name",`%${v.trim()}%`).limit(10);if(b)throw b;return!y||y.length===0?[]:(await Promise.all(y.map(async w=>{const{data:S}=await ne.rpc("get_user_email",{user_uuid:w.id});return{id:w.id,name:w.name,email:S||""}}))).filter(w=>w.email)}catch(y){return console.error("Error searching users:",y),[]}finally{a(!1)}},getGroupInvitations:async v=>{try{const{data:y,error:b}=await ne.from("group_invitations").select("*").eq("group_id",v).eq("status","pending").gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1});if(b)throw b;return{data:y||[],error:null}}catch(y){return console.error("Error fetching group invitations:",y),{data:[],error:y}}},acceptInvitation:async(v,y)=>{if(!t)return de.error("Voc precisa estar logado"),{error:"Not authenticated"};i(!0);try{const{error:b}=await ne.from("group_invitations").update({status:"accepted",invitee_id:t.id}).eq("id",v);if(b)throw b;const{error:x}=await ne.from("group_members").insert({group_id:y,user_id:t.id,is_admin:!1});if(x)if(x.code==="23505")de.info("Voc j  membro deste grupo");else throw x;else de.success("Voc entrou no grupo!");return await c(),{error:null}}catch(b){return console.error("Error accepting invitation:",b),de.error("Erro ao aceitar convite"),{error:b}}finally{i(!1)}},rejectInvitation:async v=>{if(!t)return de.error("Voc precisa estar logado"),{error:"Not authenticated"};i(!0);try{const{error:y}=await ne.from("group_invitations").update({status:"rejected",invitee_id:t.id}).eq("id",v);if(y)throw y;return de.success("Convite rejeitado"),await c(),{error:null}}catch(y){return console.error("Error rejecting invitation:",y),de.error("Erro ao rejeitar convite"),{error:y}}finally{i(!1)}},refreshInvitations:c}},PPe=()=>{const t=cf(),{t:e}=Wt(),{isRunning:r,seconds:n}=SY(),{pendingCount:i}=C3(),s=o=>{const l=Math.floor(o/60),c=o%60;return`${l}:${c.toString().padStart(2,"0")}`},a=[{to:"/groups",label:e("navigation.groups"),icon:v0},{to:"/progress",label:e("navigation.progress"),icon:jfe},{to:"/timer",label:e("navigation.timer"),icon:ym},{to:"/water",label:e("navigation.water"),icon:IT},{to:"/leaderboard",label:e("navigation.leaders"),icon:tB},{to:"/profile",label:e("navigation.profile"),icon:lB}];return m.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-md border-t border-border/50 flex justify-around py-2 px-4 shadow-elegant",children:a.map(o=>{const l=o.icon,c=t.pathname===o.to,u=o.to==="/timer",h=o.to==="/groups"&&i>0;return m.jsxs(Ql,{to:o.to,className:`nav-link flex flex-col items-center px-2 py-1 text-xs relative transition-smooth ${c?"text-primary font-semibold scale-105":"text-muted-foreground hover:text-primary"}`,children:[m.jsxs("div",{className:"relative",children:[m.jsx(l,{size:20}),u&&r&&m.jsx(Mr,{variant:"destructive",className:"absolute -top-2 -right-2 h-4 px-1 text-[9px] animate-pulse",children:s(n)}),h&&m.jsx(Mr,{variant:"default",className:"absolute -top-2 -right-2 h-4 px-1 text-[9px]",children:i})]}),m.jsx("span",{className:"mt-1",children:o.label})]},o.to)})})},Lr=({children:t})=>m.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[m.jsx(TPe,{}),m.jsx("main",{className:"flex-1 pb-16 px-4 pt-4 mb-2",children:t}),m.jsx(PPe,{})]}),Cr=E.forwardRef(({className:t,type:e,...r},n)=>m.jsx("input",{type:e,className:pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Cr.displayName="Input";var qj="Dialog",[DJ,$J]=gi(qj),[kPe,al]=DJ(qj),LJ=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=E.useRef(null),l=E.useRef(null),[c,u]=ao({prop:n,defaultProp:i??!1,onChange:s,caller:qj});return m.jsx(kPe,{scope:e,triggerRef:o,contentRef:l,contentId:pi(),titleId:pi(),descriptionId:pi(),open:c,onOpenChange:u,onOpenToggle:E.useCallback(()=>u(d=>!d),[u]),modal:a,children:r})};LJ.displayName=qj;var FJ="DialogTrigger",BJ=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=al(FJ,r),s=Fe(e,i.triggerRef);return m.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":k3(i.open),...n,ref:s,onClick:he(t.onClick,i.onOpenToggle)})});BJ.displayName=FJ;var T3="DialogPortal",[jPe,UJ]=DJ(T3,{forceMount:void 0}),VJ=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=al(T3,e);return m.jsx(jPe,{scope:e,forceMount:r,children:E.Children.map(n,a=>m.jsx(vi,{present:r||s.open,children:m.jsx(hA,{asChild:!0,container:i,children:a})}))})};VJ.displayName=T3;var nP="DialogOverlay",zJ=E.forwardRef((t,e)=>{const r=UJ(nP,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=al(nP,t.__scopeDialog);return s.modal?m.jsx(vi,{present:n||s.open,children:m.jsx(NPe,{...i,ref:e})}):null});zJ.displayName=nP;var OPe=Cb("DialogOverlay.RemoveScroll"),NPe=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=al(nP,r);return m.jsx(Uj,{as:OPe,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(ke.div,{"data-state":k3(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Nm="DialogContent",HJ=E.forwardRef((t,e)=>{const r=UJ(Nm,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=al(Nm,t.__scopeDialog);return m.jsx(vi,{present:n||s.open,children:s.modal?m.jsx(RPe,{...i,ref:e}):m.jsx(MPe,{...i,ref:e})})});HJ.displayName=Nm;var RPe=E.forwardRef((t,e)=>{const r=al(Nm,t.__scopeDialog),n=E.useRef(null),i=Fe(e,r.contentRef,n);return E.useEffect(()=>{const s=n.current;if(s)return y3(s)},[]),m.jsx(WJ,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:he(t.onFocusOutside,s=>s.preventDefault())})}),MPe=E.forwardRef((t,e)=>{const r=al(Nm,t.__scopeDialog),n=E.useRef(!1),i=E.useRef(!1);return m.jsx(WJ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((c=r.triggerRef.current)==null?void 0:c.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),WJ=E.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=al(Nm,r),l=E.useRef(null),c=Fe(e,l);return m3(),m.jsxs(m.Fragment,{children:[m.jsx(Fj,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(g0,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":k3(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(DPe,{titleId:o.titleId}),m.jsx(LPe,{contentRef:l,descriptionId:o.descriptionId})]})]})}),P3="DialogTitle",GJ=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=al(P3,r);return m.jsx(ke.h2,{id:i.titleId,...n,ref:e})});GJ.displayName=P3;var qJ="DialogDescription",KJ=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=al(qJ,r);return m.jsx(ke.p,{id:i.descriptionId,...n,ref:e})});KJ.displayName=qJ;var XJ="DialogClose",YJ=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=al(XJ,r);return m.jsx(ke.button,{type:"button",...n,ref:e,onClick:he(t.onClick,()=>i.onOpenChange(!1))})});YJ.displayName=XJ;function k3(t){return t?"open":"closed"}var QJ="DialogTitleWarning",[IPe,ZJ]=Dhe(QJ,{contentName:Nm,titleName:P3,docsSlug:"dialog"}),DPe=({titleId:t})=>{const e=ZJ(QJ),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},$Pe="DialogDescriptionWarning",LPe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZJ($Pe).contentName}}.`;return E.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},j3=LJ,JJ=BJ,O3=VJ,Kj=zJ,Xj=HJ,N3=GJ,R3=KJ,M3=YJ;const va=j3,Rm=JJ,FPe=O3,eee=E.forwardRef(({className:t,...e},r)=>m.jsx(Kj,{ref:r,className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));eee.displayName=Kj.displayName;const Cs=E.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(FPe,{children:[m.jsx(eee,{}),m.jsxs(Xj,{ref:n,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,m.jsxs(M3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(Wh,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cs.displayName=Xj.displayName;const Ts=({className:t,...e})=>m.jsx("div",{className:pe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ts.displayName="DialogHeader";const j0=({className:t,...e})=>m.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});j0.displayName="DialogFooter";const Ps=E.forwardRef(({className:t,...e},r)=>m.jsx(N3,{ref:r,className:pe("text-lg font-semibold leading-none tracking-tight",t),...e}));Ps.displayName=N3.displayName;const tg=E.forwardRef(({className:t,...e},r)=>m.jsx(R3,{ref:r,className:pe("text-sm text-muted-foreground",t),...e}));tg.displayName=R3.displayName;var Ct;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ct||(Ct={}));var F6;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(F6||(F6={}));const Oe=Ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),md=t=>{switch(typeof t){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return Number.isNaN(t)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(t)?Oe.array:t===null?Oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Oe.promise:typeof Map<"u"&&t instanceof Map?Oe.map:typeof Set<"u"&&t instanceof Set?Oe.set:typeof Date<"u"&&t instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},me=Ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Du extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof Du))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Du.create=t=>new Du(t);const PI=(t,e)=>{let r;switch(t.code){case me.invalid_type:t.received===Oe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case me.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ct.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ct.joinValues(t.keys,", ")}`;break;case me.invalid_union:r="Invalid input";break;case me.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ct.joinValues(t.options)}`;break;case me.invalid_enum_value:r=`Invalid enum value. Expected ${Ct.joinValues(t.options)}, received '${t.received}'`;break;case me.invalid_arguments:r="Invalid function arguments";break;case me.invalid_return_type:r="Invalid function return type";break;case me.invalid_date:r="Invalid date";break;case me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ct.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case me.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case me.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case me.custom:r="Invalid input";break;case me.invalid_intersection_types:r="Intersection results could not be merged";break;case me.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case me.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ct.assertNever(t)}return{message:r}};let BPe=PI;function UPe(){return BPe}const VPe=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function Se(t,e){const r=UPe(),n=VPe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===PI?void 0:PI].filter(i=>!!i)});t.common.issues.push(n)}class wa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Je;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return wa.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Je;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}}const Je=Object.freeze({status:"aborted"}),Rx=t=>({status:"dirty",value:t}),co=t=>({status:"valid",value:t}),B6=t=>t.status==="aborted",U6=t=>t.status==="dirty",Nb=t=>t.status==="valid",iP=t=>typeof Promise<"u"&&t instanceof Promise;var Re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Re||(Re={}));class Yh{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const V6=(t,e)=>{if(Nb(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Du(t.common.issues);return this._error=r,this._error}}};function dt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class _t{get description(){return this._def.description}_getType(e){return md(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:md(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new wa,ctx:{common:e.parent.common,data:e.data,parsedType:md(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(iP(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:md(e)},i=this._parseSync({data:e,path:n.path,parent:n});return V6(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:md(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return Nb(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(i=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>Nb(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:md(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(iP(i)?i:Promise.resolve(i));return V6(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:me.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Mb({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Fh.create(this,this._def)}nullable(){return Ib.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ic.create(this)}promise(){return lP.create(this,this._def)}or(e){return aP.create([this,e],this._def)}and(e){return oP.create(this,e,this._def)}transform(e){return new Mb({...dt(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new OI({...dt(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new dke({typeName:et.ZodBranded,type:this,...dt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new NI({...dt(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return I3.create(this,e)}readonly(){return RI.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zPe=/^c[^\s-]{8,}$/i,HPe=/^[0-9a-z]+$/,WPe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,GPe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qPe=/^[a-z0-9_-]{21}$/i,KPe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,XPe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,YPe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,QPe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let M2;const ZPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,JPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eke=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tke=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rke=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nke=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tee="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ike=new RegExp(`^${tee}$`);function ree(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function ske(t){return new RegExp(`^${ree(t)}$`)}function ake(t){let e=`${tee}T${ree(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function oke(t,e){return!!((e==="v4"||!e)&&ZPe.test(t)||(e==="v6"||!e)&&eke.test(t))}function lke(t,e){if(!KPe.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function cke(t,e){return!!((e==="v4"||!e)&&JPe.test(t)||(e==="v6"||!e)&&tke.test(t))}class Th extends _t{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Oe.string){const s=this._getOrReturnCtx(e);return Se(s,{code:me.invalid_type,expected:Oe.string,received:s.parsedType}),Je}const n=new wa;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?Se(i,{code:me.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Se(i,{code:me.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")YPe.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"email",code:me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")M2||(M2=new RegExp(QPe,"u")),M2.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"emoji",code:me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")GPe.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"uuid",code:me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")qPe.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"nanoid",code:me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")zPe.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"cuid",code:me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")HPe.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"cuid2",code:me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")WPe.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"ulid",code:me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Se(i,{validation:"url",code:me.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"regex",code:me.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?ake(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?ike.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?ske(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?XPe.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"duration",code:me.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?oke(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"ip",code:me.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?lke(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"jwt",code:me.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?cke(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"cidr",code:me.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?rke.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"base64",code:me.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?nke.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"base64url",code:me.invalid_string,message:s.message}),n.dirty()):Ct.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:me.invalid_string,...Re.errToObj(n)})}_addCheck(e){return new Th({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Re.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Re.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Re.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Re.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Re.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Re.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Re.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Re.errToObj(r)})}nonempty(e){return this.min(1,Re.errToObj(e))}trim(){return new Th({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Th({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Th({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Th.create=t=>new Th({checks:[],typeName:et.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...dt(t)});function uke(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class g1 extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Oe.number){const s=this._getOrReturnCtx(e);return Se(s,{code:me.invalid_type,expected:Oe.number,received:s.parsedType}),Je}let n;const i=new wa;for(const s of this._def.checks)s.kind==="int"?Ct.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{code:me.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Se(n,{code:me.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Se(n,{code:me.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?uke(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Se(n,{code:me.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{code:me.not_finite,message:s.message}),i.dirty()):Ct.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Re.toString(r))}setLimit(e,r,n,i){return new g1({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Re.toString(i)}]})}_addCheck(e){return new g1({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ct.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}g1.create=t=>new g1({checks:[],typeName:et.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class v1 extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Oe.bigint)return this._getInvalidInput(e);let n;const i=new wa;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Se(n,{code:me.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Se(n,{code:me.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Se(n,{code:me.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ct.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Se(r,{code:me.invalid_type,expected:Oe.bigint,received:r.parsedType}),Je}gte(e,r){return this.setLimit("min",e,!0,Re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Re.toString(r))}setLimit(e,r,n,i){return new v1({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Re.toString(i)}]})}_addCheck(e){return new v1({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}v1.create=t=>new v1({checks:[],typeName:et.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...dt(t)});class kI extends _t{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Oe.boolean){const n=this._getOrReturnCtx(e);return Se(n,{code:me.invalid_type,expected:Oe.boolean,received:n.parsedType}),Je}return co(e.data)}}kI.create=t=>new kI({typeName:et.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class sP extends _t{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Oe.date){const s=this._getOrReturnCtx(e);return Se(s,{code:me.invalid_type,expected:Oe.date,received:s.parsedType}),Je}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Se(s,{code:me.invalid_date}),Je}const n=new wa;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Ct.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new sP({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Re.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Re.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}sP.create=t=>new sP({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:et.ZodDate,...dt(t)});class z6 extends _t{_parse(e){if(this._getType(e)!==Oe.symbol){const n=this._getOrReturnCtx(e);return Se(n,{code:me.invalid_type,expected:Oe.symbol,received:n.parsedType}),Je}return co(e.data)}}z6.create=t=>new z6({typeName:et.ZodSymbol,...dt(t)});class H6 extends _t{_parse(e){if(this._getType(e)!==Oe.undefined){const n=this._getOrReturnCtx(e);return Se(n,{code:me.invalid_type,expected:Oe.undefined,received:n.parsedType}),Je}return co(e.data)}}H6.create=t=>new H6({typeName:et.ZodUndefined,...dt(t)});class W6 extends _t{_parse(e){if(this._getType(e)!==Oe.null){const n=this._getOrReturnCtx(e);return Se(n,{code:me.invalid_type,expected:Oe.null,received:n.parsedType}),Je}return co(e.data)}}W6.create=t=>new W6({typeName:et.ZodNull,...dt(t)});class G6 extends _t{constructor(){super(...arguments),this._any=!0}_parse(e){return co(e.data)}}G6.create=t=>new G6({typeName:et.ZodAny,...dt(t)});class q6 extends _t{constructor(){super(...arguments),this._unknown=!0}_parse(e){return co(e.data)}}q6.create=t=>new q6({typeName:et.ZodUnknown,...dt(t)});class Qh extends _t{_parse(e){const r=this._getOrReturnCtx(e);return Se(r,{code:me.invalid_type,expected:Oe.never,received:r.parsedType}),Je}}Qh.create=t=>new Qh({typeName:et.ZodNever,...dt(t)});class K6 extends _t{_parse(e){if(this._getType(e)!==Oe.undefined){const n=this._getOrReturnCtx(e);return Se(n,{code:me.invalid_type,expected:Oe.void,received:n.parsedType}),Je}return co(e.data)}}K6.create=t=>new K6({typeName:et.ZodVoid,...dt(t)});class ic extends _t{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Oe.array)return Se(r,{code:me.invalid_type,expected:Oe.array,received:r.parsedType}),Je;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(a||o)&&(Se(r,{code:a?me.too_big:me.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Se(r,{code:me.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Se(r,{code:me.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>i.type._parseAsync(new Yh(r,a,r.path,o)))).then(a=>wa.mergeArray(n,a));const s=[...r.data].map((a,o)=>i.type._parseSync(new Yh(r,a,r.path,o)));return wa.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new ic({...this._def,minLength:{value:e,message:Re.toString(r)}})}max(e,r){return new ic({...this._def,maxLength:{value:e,message:Re.toString(r)}})}length(e,r){return new ic({...this._def,exactLength:{value:e,message:Re.toString(r)}})}nonempty(e){return this.min(1,e)}}ic.create=(t,e)=>new ic({type:t,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...dt(e)});function Og(t){if(t instanceof pn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Fh.create(Og(n))}return new pn({...t._def,shape:()=>e})}else return t instanceof ic?new ic({...t._def,type:Og(t.element)}):t instanceof Fh?Fh.create(Og(t.unwrap())):t instanceof Ib?Ib.create(Og(t.unwrap())):t instanceof Mm?Mm.create(t.items.map(e=>Og(e))):t}class pn extends _t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ct.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Oe.object){const c=this._getOrReturnCtx(e);return Se(c,{code:me.invalid_type,expected:Oe.object,received:c.parsedType}),Je}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Qh&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Yh(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Qh){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(Se(i,{code:me.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Yh(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>wa.mergeObjectSync(n,c)):wa.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Re.errToObj,new pn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Re.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new pn({...this._def,unknownKeys:"strip"})}passthrough(){return new pn({...this._def,unknownKeys:"passthrough"})}extend(e){return new pn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:et.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new pn({...this._def,catchall:e})}pick(e){const r={};for(const n of Ct.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new pn({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ct.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new pn({...this._def,shape:()=>r})}deepPartial(){return Og(this)}partial(e){const r={};for(const n of Ct.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new pn({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ct.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Fh;)s=s._def.innerType;r[n]=s}return new pn({...this._def,shape:()=>r})}keyof(){return nee(Ct.objectKeys(this.shape))}}pn.create=(t,e)=>new pn({shape:()=>t,unknownKeys:"strip",catchall:Qh.create(),typeName:et.ZodObject,...dt(e)});pn.strictCreate=(t,e)=>new pn({shape:()=>t,unknownKeys:"strict",catchall:Qh.create(),typeName:et.ZodObject,...dt(e)});pn.lazycreate=(t,e)=>new pn({shape:t,unknownKeys:"strip",catchall:Qh.create(),typeName:et.ZodObject,...dt(e)});class aP extends _t{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Du(o.ctx.common.issues));return Se(r,{code:me.invalid_union,unionErrors:a}),Je}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new Du(l));return Se(r,{code:me.invalid_union,unionErrors:o}),Je}}get options(){return this._def.options}}aP.create=(t,e)=>new aP({options:t,typeName:et.ZodUnion,...dt(e)});function jI(t,e){const r=md(t),n=md(e);if(t===e)return{valid:!0,data:t};if(r===Oe.object&&n===Oe.object){const i=Ct.objectKeys(e),s=Ct.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const l=jI(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(r===Oe.array&&n===Oe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],l=jI(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Oe.date&&n===Oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class oP extends _t{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,a)=>{if(B6(s)||B6(a))return Je;const o=jI(s.value,a.value);return o.valid?((U6(s)||U6(a))&&r.dirty(),{status:r.value,value:o.data}):(Se(n,{code:me.invalid_intersection_types}),Je)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}oP.create=(t,e,r)=>new oP({left:t,right:e,typeName:et.ZodIntersection,...dt(r)});class Mm extends _t{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Oe.array)return Se(n,{code:me.invalid_type,expected:Oe.array,received:n.parsedType}),Je;if(n.data.length<this._def.items.length)return Se(n,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Je;!this._def.rest&&n.data.length>this._def.items.length&&(Se(n,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Yh(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>wa.mergeArray(r,a)):wa.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Mm({...this._def,rest:e})}}Mm.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mm({items:t,typeName:et.ZodTuple,rest:null,...dt(e)})};class X6 extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Oe.map)return Se(n,{code:me.invalid_type,expected:Oe.map,received:n.parsedType}),Je;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new Yh(n,o,n.path,[c,"key"])),value:s._parse(new Yh(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Je;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Je;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}}X6.create=(t,e,r)=>new X6({valueType:e,keyType:t,typeName:et.ZodMap,...dt(r)});class y1 extends _t{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Oe.set)return Se(n,{code:me.invalid_type,expected:Oe.set,received:n.parsedType}),Je;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Se(n,{code:me.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Se(n,{code:me.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Je;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>s._parse(new Yh(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,r){return new y1({...this._def,minSize:{value:e,message:Re.toString(r)}})}max(e,r){return new y1({...this._def,maxSize:{value:e,message:Re.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}y1.create=(t,e)=>new y1({valueType:t,minSize:null,maxSize:null,typeName:et.ZodSet,...dt(e)});class Y6 extends _t{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Y6.create=(t,e)=>new Y6({getter:t,typeName:et.ZodLazy,...dt(e)});class Q6 extends _t{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Se(r,{received:r.data,code:me.invalid_literal,expected:this._def.value}),Je}return{status:"valid",value:e.data}}get value(){return this._def.value}}Q6.create=(t,e)=>new Q6({value:t,typeName:et.ZodLiteral,...dt(e)});function nee(t,e){return new Rb({values:t,typeName:et.ZodEnum,...dt(e)})}class Rb extends _t{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Se(r,{expected:Ct.joinValues(n),received:r.parsedType,code:me.invalid_type}),Je}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Se(r,{received:r.data,code:me.invalid_enum_value,options:n}),Je}return co(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Rb.create(e,{...this._def,...r})}exclude(e,r=this._def){return Rb.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Rb.create=nee;class Z6 extends _t{_parse(e){const r=Ct.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Oe.string&&n.parsedType!==Oe.number){const i=Ct.objectValues(r);return Se(n,{expected:Ct.joinValues(i),received:n.parsedType,code:me.invalid_type}),Je}if(this._cache||(this._cache=new Set(Ct.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Ct.objectValues(r);return Se(n,{received:n.data,code:me.invalid_enum_value,options:i}),Je}return co(e.data)}get enum(){return this._def.values}}Z6.create=(t,e)=>new Z6({values:t,typeName:et.ZodNativeEnum,...dt(e)});class lP extends _t{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Oe.promise&&r.common.async===!1)return Se(r,{code:me.invalid_type,expected:Oe.promise,received:r.parsedType}),Je;const n=r.parsedType===Oe.promise?r.data:Promise.resolve(r.data);return co(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}lP.create=(t,e)=>new lP({type:t,typeName:et.ZodPromise,...dt(e)});class Mb extends _t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Se(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return Je;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Je:l.status==="dirty"||r.value==="dirty"?Rx(l.value):l});{if(r.value==="aborted")return Je;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?Je:o.status==="dirty"||r.value==="dirty"?Rx(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Je:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Je:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Nb(a))return Je;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Nb(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:r.value,value:o})):Je);Ct.assertNever(i)}}Mb.create=(t,e,r)=>new Mb({schema:t,typeName:et.ZodEffects,effect:e,...dt(r)});Mb.createWithPreprocess=(t,e,r)=>new Mb({schema:e,effect:{type:"preprocess",transform:t},typeName:et.ZodEffects,...dt(r)});class Fh extends _t{_parse(e){return this._getType(e)===Oe.undefined?co(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fh.create=(t,e)=>new Fh({innerType:t,typeName:et.ZodOptional,...dt(e)});class Ib extends _t{_parse(e){return this._getType(e)===Oe.null?co(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ib.create=(t,e)=>new Ib({innerType:t,typeName:et.ZodNullable,...dt(e)});class OI extends _t{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Oe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}OI.create=(t,e)=>new OI({innerType:t,typeName:et.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...dt(e)});class NI extends _t{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return iP(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Du(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Du(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}NI.create=(t,e)=>new NI({innerType:t,typeName:et.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...dt(e)});class J6 extends _t{_parse(e){if(this._getType(e)!==Oe.nan){const n=this._getOrReturnCtx(e);return Se(n,{code:me.invalid_type,expected:Oe.nan,received:n.parsedType}),Je}return{status:"valid",value:e.data}}}J6.create=t=>new J6({typeName:et.ZodNaN,...dt(t)});class dke extends _t{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class I3 extends _t{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Je:s.status==="dirty"?(r.dirty(),Rx(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Je:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new I3({in:e,out:r,typeName:et.ZodPipeline})}}class RI extends _t{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Nb(i)&&(i.value=Object.freeze(i.value)),i);return iP(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}RI.create=(t,e)=>new RI({innerType:t,typeName:et.ZodReadonly,...dt(e)});var et;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(et||(et={}));const Ph=Th.create,hke=kI.create;Qh.create;ic.create;const D3=pn.create;aP.create;oP.create;Mm.create;Rb.create;lP.create;Fh.create;Ib.create;var EA=t=>t.type==="checkbox",Gf=t=>t instanceof Date,ys=t=>t==null;const iee=t=>typeof t=="object";var gn=t=>!ys(t)&&!Array.isArray(t)&&iee(t)&&!Gf(t),see=t=>gn(t)&&t.target?EA(t.target)?t.target.checked:t.target.value:t,fke=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,aee=(t,e)=>t.has(fke(e)),pke=t=>{const e=t.constructor&&t.constructor.prototype;return gn(e)&&e.hasOwnProperty("isPrototypeOf")},$3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function on(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if($3&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(gn(t)&&pke(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=on(t[i]));return n}var Yj=t=>/^\w*$/.test(t),Ar=t=>t===void 0,L3=t=>Array.isArray(t)?t.filter(Boolean):[],F3=t=>L3(t.replace(/["|']|\]/g,"").split(/\.|\[/)),be=(t,e,r)=>{if(!e||!gn(t))return r;const n=(Yj(e)?[e]:F3(e)).reduce((i,s)=>ys(i)?i:i[s],t);return Ar(n)||n===t?Ar(t[e])?r:t[e]:n},na=t=>typeof t=="boolean",Gi=t=>typeof t=="function",Bt=(t,e,r)=>{let n=-1;const i=Yj(e)?[e]:F3(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=gn(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const cP={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},qo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},B3=W.createContext(null);B3.displayName="HookFormControlContext";const U3=()=>W.useContext(B3);var oee=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==qo.all&&(e._proxyFormState[a]=!n||qo.all),r&&(r[a]=!0),t[a]}});return i};const V3=typeof window<"u"?W.useLayoutEffect:W.useEffect;function mke(t){const e=U3(),{control:r=e,disabled:n,name:i,exact:s}=t||{},[a,o]=W.useState(r._formState),l=W.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return V3(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,s]),W.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),W.useMemo(()=>oee(a,r,l.current,!1),[a,r])}var da=t=>typeof t=="string",MI=(t,e,r,n,i)=>da(t)?(n&&e.watch.add(t),be(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),be(r,s))):(n&&(e.watchAll=!0),r),II=t=>ys(t)||!iee(t);function Ko(t,e,r=new WeakSet){if(II(t)||II(e))return Object.is(t,e);if(Gf(t)&&Gf(e))return Object.is(t.getTime(),e.getTime());const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Gf(a)&&Gf(o)||gn(a)&&gn(o)||Array.isArray(a)&&Array.isArray(o)?!Ko(a,o,r):!Object.is(a,o))return!1}}return!0}function gke(t){const e=U3(),{control:r=e,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=W.useRef(i),c=W.useRef(o),u=W.useRef(void 0),d=W.useRef(r),h=W.useRef(n);c.current=o;const[f,g]=W.useState(()=>{const S=r._getWatch(n,l.current);return c.current?c.current(S):S}),v=W.useCallback(S=>{const _=MI(n,r._names,S||r._formValues,!1,l.current);return c.current?c.current(_):_},[r._formValues,r._names,n]),y=W.useCallback(S=>{if(!s){const _=MI(n,r._names,S||r._formValues,!1,l.current);if(c.current){const A=c.current(_);Ko(A,u.current)||(g(A),u.current=A)}else g(_)}},[r._formValues,r._names,s,n]);V3(()=>((d.current!==r||!Ko(h.current,n))&&(d.current=r,h.current=n,y()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:S=>{y(S.values)}})),[r,a,n,y]),W.useEffect(()=>r._removeUnmounted());const b=d.current!==r,x=h.current,w=W.useMemo(()=>{if(s)return null;const S=!b&&!Ko(x,n);return b||S?v():null},[s,b,n,x,v]);return w!==null?w:f}function vke(t){const e=U3(),{name:r,disabled:n,control:i=e,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=aee(i._names.array,r),c=W.useMemo(()=>be(i._formValues,r,be(i._defaultValues,r,a)),[i,r,a]),u=gke({control:i,name:r,defaultValue:c,exact:o}),d=mke({control:i,name:r,exact:o}),h=W.useRef(t),f=W.useRef(void 0),g=W.useRef(i.register(r,{...t.rules,value:u,...na(t.disabled)?{disabled:t.disabled}:{}}));h.current=t;const v=W.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!be(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!be(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!be(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!be(d.validatingFields,r)},error:{enumerable:!0,get:()=>be(d.errors,r)}}),[d,r]),y=W.useCallback(S=>g.current.onChange({target:{value:see(S),name:r},type:cP.CHANGE}),[r]),b=W.useCallback(()=>g.current.onBlur({target:{value:be(i._formValues,r),name:r},type:cP.BLUR}),[r,i._formValues]),x=W.useCallback(S=>{const _=be(i._fields,r);_&&_._f&&S&&(_._f.ref={focus:()=>Gi(S.focus)&&S.focus(),select:()=>Gi(S.select)&&S.select(),setCustomValidity:A=>Gi(S.setCustomValidity)&&S.setCustomValidity(A),reportValidity:()=>Gi(S.reportValidity)&&S.reportValidity()})},[i._fields,r]),w=W.useMemo(()=>({name:r,value:u,...na(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:b,ref:x}),[r,n,d.disabled,y,b,x,u]);return W.useEffect(()=>{const S=i._options.shouldUnregister||s,_=f.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...h.current.rules,...na(h.current.disabled)?{disabled:h.current.disabled}:{}});const A=(C,T)=>{const P=be(i._fields,C);P&&P._f&&(P._f.mount=T)};if(A(r,!0),S){const C=on(be(i._options.defaultValues,r,h.current.defaultValue));Bt(i._defaultValues,r,C),Ar(be(i._formValues,r))&&Bt(i._formValues,r,C)}return!l&&i.register(r),f.current=r,()=>{(l?S&&!i._state.action:S)?i.unregister(r):A(r,!1)}},[r,i,l,s]),W.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),W.useMemo(()=>({field:w,formState:d,fieldState:v}),[w,d,v])}const yke=t=>t.render(vke(t)),z3=W.createContext(null);z3.displayName="HookFormContext";const bke=()=>W.useContext(z3),xke=t=>{const{children:e,watch:r,getValues:n,getFieldState:i,setError:s,clearErrors:a,setValue:o,trigger:l,formState:c,resetField:u,reset:d,handleSubmit:h,unregister:f,control:g,register:v,setFocus:y,subscribe:b}=t;return W.createElement(z3.Provider,{value:W.useMemo(()=>({watch:r,getValues:n,getFieldState:i,setError:s,clearErrors:a,setValue:o,trigger:l,formState:c,resetField:u,reset:d,handleSubmit:h,unregister:f,control:g,register:v,setFocus:y,subscribe:b}),[a,g,c,i,n,h,v,d,u,s,y,o,b,l,f,r])},W.createElement(B3.Provider,{value:g},e))};var H3=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},_w=t=>Array.isArray(t)?t:[t],e8=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function lee(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&gn(i)&&s){const a=lee(i,s);gn(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Vi=t=>gn(t)&&!Object.keys(t).length,W3=t=>t.type==="file",uP=t=>{if(!$3)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},cee=t=>t.type==="select-multiple",G3=t=>t.type==="radio",wke=t=>G3(t)||EA(t),I2=t=>uP(t)&&t.isConnected;function Ske(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ar(t)?n++:t[e[n++]];return t}function _ke(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ar(t[e]))return!1;return!0}function ln(t,e){const r=Array.isArray(e)?e:Yj(e)?[e]:F3(e),n=r.length===1?t:Ske(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(gn(n)&&Vi(n)||Array.isArray(n)&&_ke(n))&&ln(t,r.slice(0,-1)),t}var Ake=t=>{for(const e in t)if(Gi(t[e]))return!0;return!1};function uee(t){return Array.isArray(t)||gn(t)&&!Ake(t)}function DI(t,e={}){for(const r in t){const n=t[r];uee(n)?(e[r]=Array.isArray(n)?[]:{},DI(n,e[r])):Ar(n)||(e[r]=!0)}return e}function Ng(t,e,r){r||(r=DI(e));for(const n in t){const i=t[n];if(uee(i))Ar(e)||II(r[n])?r[n]=DI(i,Array.isArray(i)?[]:{}):Ng(i,ys(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!Ko(i,s)}}return r}const t8={value:!1,isValid:!1},r8={value:!0,isValid:!0};var dee=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ar(t[0].attributes.value)?Ar(t[0].value)||t[0].value===""?r8:{value:t[0].value,isValid:!0}:r8:t8}return t8},hee=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ar(t)?t:e?t===""?NaN:t&&+t:r&&da(t)?new Date(t):n?n(t):t;const n8={isValid:!1,value:null};var fee=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,n8):n8;function i8(t){const e=t.ref;return W3(e)?e.files:G3(e)?fee(t.refs).value:cee(e)?[...e.selectedOptions].map(({value:r})=>r):EA(e)?dee(t.refs).value:hee(Ar(e.value)?t.ref.value:e.value,t)}var Eke=(t,e,r,n)=>{const i={};for(const s of t){const a=be(e,s);a&&Bt(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},dP=t=>t instanceof RegExp,ix=t=>Ar(t)?t:dP(t)?t.source:gn(t)?dP(t.value)?t.value.source:t.value:t,s8=t=>({isOnSubmit:!t||t===qo.onSubmit,isOnBlur:t===qo.onBlur,isOnChange:t===qo.onChange,isOnAll:t===qo.all,isOnTouch:t===qo.onTouched});const a8="AsyncFunction";var Cke=t=>!!t&&!!t.validate&&!!(Gi(t.validate)&&t.validate.constructor.name===a8||gn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===a8)),Tke=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),o8=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Aw=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=be(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Aw(o,e))break}else if(gn(o)&&Aw(o,e))break}}};function l8(t,e,r){const n=be(t,r);if(n||Yj(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=be(e,s),o=be(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var Pke=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Vi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||qo.all))},kke=(t,e,r)=>!t||!e||t===e||_w(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),jke=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Oke=(t,e)=>!L3(be(t,e)).length&&ln(t,e),Nke=(t,e,r)=>{const n=_w(be(t,r));return Bt(n,"root",e[r]),Bt(t,r,n),t};function c8(t,e,r="validate"){if(da(t)||Array.isArray(t)&&t.every(da)||na(t)&&!t)return{type:r,message:da(t)?t:"",ref:e}}var bg=t=>gn(t)&&!dP(t)?t:{value:t,message:""},u8=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:g,name:v,valueAsNumber:y,mount:b}=t._f,x=be(r,v);if(!b||e.has(v))return{};const w=o?o[0]:a,S=R=>{i&&w.reportValidity&&(w.setCustomValidity(na(R)?"":R||""),w.reportValidity())},_={},A=G3(a),C=EA(a),T=A||C,P=(y||W3(a))&&Ar(a.value)&&Ar(x)||uP(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,O=H3.bind(null,v,n,_),I=(R,B,D,U=xc.maxLength,N=xc.minLength)=>{const j=R?B:D;_[v]={type:R?U:N,message:j,ref:a,...O(R?U:N,j)}};if(s?!Array.isArray(x)||!x.length:l&&(!T&&(P||ys(x))||na(x)&&!x||C&&!dee(o).isValid||A&&!fee(o).isValid)){const{value:R,message:B}=da(l)?{value:!!l,message:l}:bg(l);if(R&&(_[v]={type:xc.required,message:B,ref:w,...O(xc.required,B)},!n))return S(B),_}if(!P&&(!ys(d)||!ys(h))){let R,B;const D=bg(h),U=bg(d);if(!ys(x)&&!isNaN(x)){const N=a.valueAsNumber||x&&+x;ys(D.value)||(R=N>D.value),ys(U.value)||(B=N<U.value)}else{const N=a.valueAsDate||new Date(x),j=z=>new Date(new Date().toDateString()+" "+z),L=a.type=="time",F=a.type=="week";da(D.value)&&x&&(R=L?j(x)>j(D.value):F?x>D.value:N>new Date(D.value)),da(U.value)&&x&&(B=L?j(x)<j(U.value):F?x<U.value:N<new Date(U.value))}if((R||B)&&(I(!!R,D.message,U.message,xc.max,xc.min),!n))return S(_[v].message),_}if((c||u)&&!P&&(da(x)||s&&Array.isArray(x))){const R=bg(c),B=bg(u),D=!ys(R.value)&&x.length>+R.value,U=!ys(B.value)&&x.length<+B.value;if((D||U)&&(I(D,R.message,B.message),!n))return S(_[v].message),_}if(f&&!P&&da(x)){const{value:R,message:B}=bg(f);if(dP(R)&&!x.match(R)&&(_[v]={type:xc.pattern,message:B,ref:a,...O(xc.pattern,B)},!n))return S(B),_}if(g){if(Gi(g)){const R=await g(x,r),B=c8(R,w);if(B&&(_[v]={...B,...O(xc.validate,B.message)},!n))return S(B.message),_}else if(gn(g)){let R={};for(const B in g){if(!Vi(R)&&!n)break;const D=c8(await g[B](x,r),w,B);D&&(R={...D,...O(B,D.message)},S(D.message),n&&(_[v]=R))}if(!Vi(R)&&(_[v]={ref:w,...R},!n))return _}}return S(!0),_};const Rke={mode:qo.onSubmit,reValidateMode:qo.onChange,shouldFocusError:!0};function Mke(t={}){let e={...Rke,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Gi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=gn(e.defaultValues)||gn(e.values)?on(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:on(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...u};let h={...d};const f={array:e8(),state:e8()},g=e.criteriaMode===qo.all,v=q=>Y=>{clearTimeout(c),c=setTimeout(q,Y)},y=async q=>{if(!a.keepIsValid&&!e.disabled&&(d.isValid||h.isValid||q)){let Y;e.resolver?(Y=Vi((await T()).errors),b()):Y=await O(n,!0),Y!==r.isValid&&f.state.next({isValid:Y})}},b=(q,Y)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((q||Array.from(o.mount)).forEach(Q=>{Q&&(Y?Bt(r.validatingFields,Q,Y):ln(r.validatingFields,Q))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Vi(r.validatingFields)}))},x=(q,Y=[],Q,re,le=!0,se=!0)=>{if(re&&Q&&!e.disabled){if(a.action=!0,se&&Array.isArray(be(n,q))){const ye=Q(be(n,q),re.argA,re.argB);le&&Bt(n,q,ye)}if(se&&Array.isArray(be(r.errors,q))){const ye=Q(be(r.errors,q),re.argA,re.argB);le&&Bt(r.errors,q,ye),Oke(r.errors,q)}if((d.touchedFields||h.touchedFields)&&se&&Array.isArray(be(r.touchedFields,q))){const ye=Q(be(r.touchedFields,q),re.argA,re.argB);le&&Bt(r.touchedFields,q,ye)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Ng(i,s)),f.state.next({name:q,isDirty:R(q,Y),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Bt(s,q,Y)},w=(q,Y)=>{Bt(r.errors,q,Y),f.state.next({errors:r.errors})},S=q=>{r.errors=q,f.state.next({errors:r.errors,isValid:!1})},_=(q,Y,Q,re)=>{const le=be(n,q);if(le){const se=be(s,q,Ar(Q)?be(i,q):Q);Ar(se)||re&&re.defaultChecked||Y?Bt(s,q,Y?se:i8(le._f)):U(q,se),a.mount&&!a.action&&y()}},A=(q,Y,Q,re,le)=>{let se=!1,ye=!1;const _e={name:q};if(!e.disabled){if(!Q||re){(d.isDirty||h.isDirty)&&(ye=r.isDirty,r.isDirty=_e.isDirty=R(),se=ye!==_e.isDirty);const Le=Ko(be(i,q),Y);ye=!!be(r.dirtyFields,q),Le?ln(r.dirtyFields,q):Bt(r.dirtyFields,q,!0),_e.dirtyFields=r.dirtyFields,se=se||(d.dirtyFields||h.dirtyFields)&&ye!==!Le}if(Q){const Le=be(r.touchedFields,q);Le||(Bt(r.touchedFields,q,Q),_e.touchedFields=r.touchedFields,se=se||(d.touchedFields||h.touchedFields)&&Le!==Q)}se&&le&&f.state.next(_e)}return se?_e:{}},C=(q,Y,Q,re)=>{const le=be(r.errors,q),se=(d.isValid||h.isValid)&&na(Y)&&r.isValid!==Y;if(e.delayError&&Q?(l=v(()=>w(q,Q)),l(e.delayError)):(clearTimeout(c),l=null,Q?Bt(r.errors,q,Q):ln(r.errors,q)),(Q?!Ko(le,Q):le)||!Vi(re)||se){const ye={...re,...se&&na(Y)?{isValid:Y}:{},errors:r.errors,name:q};r={...r,...ye},f.state.next(ye)}},T=async q=>(b(q,!0),await e.resolver(s,e.context,Eke(q||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),P=async q=>{const{errors:Y}=await T(q);if(b(q),q)for(const Q of q){const re=be(Y,Q);re?Bt(r.errors,Q,re):ln(r.errors,Q)}else r.errors=Y;return Y},O=async(q,Y,Q={valid:!0})=>{for(const re in q){const le=q[re];if(le){const{_f:se,...ye}=le;if(se){const _e=o.array.has(se.name),Le=le._f&&Cke(le._f);Le&&d.validatingFields&&b([se.name],!0);const Ze=await u8(le,o.disabled,s,g,e.shouldUseNativeValidation&&!Y,_e);if(Le&&d.validatingFields&&b([se.name]),Ze[se.name]&&(Q.valid=!1,Y||t.shouldUseNativeValidation))break;!Y&&(be(Ze,se.name)?_e?Nke(r.errors,Ze,se.name):Bt(r.errors,se.name,Ze[se.name]):ln(r.errors,se.name))}!Vi(ye)&&await O(ye,Y,Q)}}return Q.valid},I=()=>{for(const q of o.unMount){const Y=be(n,q);Y&&(Y._f.refs?Y._f.refs.every(Q=>!I2(Q)):!I2(Y._f.ref))&&ce(q)}o.unMount=new Set},R=(q,Y)=>!e.disabled&&(q&&Y&&Bt(s,q,Y),!Ko(K(),i)),B=(q,Y,Q)=>MI(q,o,{...a.mount?s:Ar(Y)?i:da(q)?{[q]:Y}:Y},Q,Y),D=q=>L3(be(a.mount?s:i,q,e.shouldUnregister?be(i,q,[]):[])),U=(q,Y,Q={})=>{const re=be(n,q);let le=Y;if(re){const se=re._f;se&&(!se.disabled&&Bt(s,q,hee(Y,se)),le=uP(se.ref)&&ys(Y)?"":Y,cee(se.ref)?[...se.ref.options].forEach(ye=>ye.selected=le.includes(ye.value)):se.refs?EA(se.ref)?se.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(le)?ye.checked=!!le.find(_e=>_e===ye.value):ye.checked=le===ye.value||!!le)}):se.refs.forEach(ye=>ye.checked=ye.value===le):W3(se.ref)?se.ref.value="":(se.ref.value=le,se.ref.type||f.state.next({name:q,values:on(s)})))}(Q.shouldDirty||Q.shouldTouch)&&A(q,le,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&z(q)},N=(q,Y,Q)=>{for(const re in Y){if(!Y.hasOwnProperty(re))return;const le=Y[re],se=q+"."+re,ye=be(n,se);(o.array.has(q)||gn(le)||ye&&!ye._f)&&!Gf(le)?N(se,le,Q):U(se,le,Q)}},j=(q,Y,Q={})=>{const re=be(n,q),le=o.array.has(q),se=on(Y);Bt(s,q,se),le?(f.array.next({name:q,values:on(s)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&Q.shouldDirty&&f.state.next({name:q,dirtyFields:Ng(i,s),isDirty:R(q,se)})):re&&!re._f&&!ys(se)?N(q,se,Q):U(q,se,Q),o8(q,o)?f.state.next({...r,name:q,values:on(s)}):f.state.next({name:a.mount?q:void 0,values:on(s)})},L=async q=>{a.mount=!0;const Y=q.target;let Q=Y.name,re=!0;const le=be(n,Q),se=Le=>{re=Number.isNaN(Le)||Gf(Le)&&isNaN(Le.getTime())||Ko(Le,be(s,Q,Le))},ye=s8(e.mode),_e=s8(e.reValidateMode);if(le){let Le,Ze;const xr=Y.type?i8(le._f):see(q),vt=q.type===cP.BLUR||q.type===cP.FOCUS_OUT,sn=!Tke(le._f)&&!e.resolver&&!be(r.errors,Q)&&!le._f.deps||jke(vt,be(r.touchedFields,Q),r.isSubmitted,_e,ye),tr=o8(Q,o,vt);Bt(s,Q,xr),vt?(!Y||!Y.readOnly)&&(le._f.onBlur&&le._f.onBlur(q),l&&l(0)):le._f.onChange&&le._f.onChange(q);const Mn=A(Q,xr,vt),Pr=!Vi(Mn)||tr;if(!vt&&f.state.next({name:Q,type:q.type,values:on(s)}),sn)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?vt&&y():vt||y()),Pr&&f.state.next({name:Q,...tr?{}:Mn});if(!vt&&tr&&f.state.next({...r}),e.resolver){const{errors:Dt}=await T([Q]);if(b([Q]),se(xr),re){const Os=l8(r.errors,n,Q),Aa=l8(Dt,n,Os.name||Q);Le=Aa.error,Q=Aa.name,Ze=Vi(Dt)}}else b([Q],!0),Le=(await u8(le,o.disabled,s,g,e.shouldUseNativeValidation))[Q],b([Q]),se(xr),re&&(Le?Ze=!1:(d.isValid||h.isValid)&&(Ze=await O(n,!0)));re&&(le._f.deps&&(!Array.isArray(le._f.deps)||le._f.deps.length>0)&&z(le._f.deps),C(Q,Ze,Le,Mn))}},F=(q,Y)=>{if(be(r.errors,Y)&&q.focus)return q.focus(),1},z=async(q,Y={})=>{let Q,re;const le=_w(q);if(e.resolver){const se=await P(Ar(q)?q:le);Q=Vi(se),re=q?!le.some(ye=>be(se,ye)):Q}else q?(re=(await Promise.all(le.map(async se=>{const ye=be(n,se);return await O(ye&&ye._f?{[se]:ye}:ye)}))).every(Boolean),!(!re&&!r.isValid)&&y()):re=Q=await O(n);return f.state.next({...!da(q)||(d.isValid||h.isValid)&&Q!==r.isValid?{}:{name:q},...e.resolver||!q?{isValid:Q}:{},errors:r.errors}),Y.shouldFocus&&!re&&Aw(n,F,q?le:o.mount),re},K=(q,Y)=>{let Q={...a.mount?s:i};return Y&&(Q=lee(Y.dirtyFields?r.dirtyFields:r.touchedFields,Q)),Ar(q)?Q:da(q)?be(Q,q):q.map(re=>be(Q,re))},V=(q,Y)=>({invalid:!!be((Y||r).errors,q),isDirty:!!be((Y||r).dirtyFields,q),error:be((Y||r).errors,q),isValidating:!!be(r.validatingFields,q),isTouched:!!be((Y||r).touchedFields,q)}),G=q=>{q&&_w(q).forEach(Y=>ln(r.errors,Y)),f.state.next({errors:q?r.errors:{}})},X=(q,Y,Q)=>{const re=(be(n,q,{_f:{}})._f||{}).ref,le=be(r.errors,q)||{},{ref:se,message:ye,type:_e,...Le}=le;Bt(r.errors,q,{...Le,...Y,ref:re}),f.state.next({name:q,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&re&&re.focus&&re.focus()},H=(q,Y)=>Gi(q)?f.state.subscribe({next:Q=>"values"in Q&&q(B(void 0,Y),Q)}):B(q,Y,!0),Z=q=>f.state.subscribe({next:Y=>{kke(q.name,Y.name,q.exact)&&Pke(Y,q.formState||d,tt,q.reRenderRoot)&&q.callback({values:{...s},...r,...Y,defaultValues:i})}}).unsubscribe,J=q=>(a.mount=!0,h={...h,...q.formState},Z({...q,formState:{...u,...q.formState}})),ce=(q,Y={})=>{for(const Q of q?_w(q):o.mount)o.mount.delete(Q),o.array.delete(Q),Y.keepValue||(ln(n,Q),ln(s,Q)),!Y.keepError&&ln(r.errors,Q),!Y.keepDirty&&ln(r.dirtyFields,Q),!Y.keepTouched&&ln(r.touchedFields,Q),!Y.keepIsValidating&&ln(r.validatingFields,Q),!e.shouldUnregister&&!Y.keepDefaultValue&&ln(i,Q);f.state.next({values:on(s)}),f.state.next({...r,...Y.keepDirty?{isDirty:R()}:{}}),!Y.keepIsValid&&y()},ee=({disabled:q,name:Y})=>{if(na(q)&&a.mount||q||o.disabled.has(Y)){const le=o.disabled.has(Y)!==!!q;q?o.disabled.add(Y):o.disabled.delete(Y),le&&a.mount&&!a.action&&y()}},oe=(q,Y={})=>{let Q=be(n,q);const re=na(Y.disabled)||na(e.disabled);return Bt(n,q,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:q}},name:q,mount:!0,...Y}}),o.mount.add(q),Q?ee({disabled:na(Y.disabled)?Y.disabled:e.disabled,name:q}):_(q,!0,Y.value),{...re?{disabled:Y.disabled||e.disabled}:{},...e.progressive?{required:!!Y.required,min:ix(Y.min),max:ix(Y.max),minLength:ix(Y.minLength),maxLength:ix(Y.maxLength),pattern:ix(Y.pattern)}:{},name:q,onChange:L,onBlur:L,ref:le=>{if(le){oe(q,Y),Q=be(n,q);const se=Ar(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,ye=wke(se),_e=Q._f.refs||[];if(ye?_e.find(Le=>Le===se):se===Q._f.ref)return;Bt(n,q,{_f:{...Q._f,...ye?{refs:[..._e.filter(I2),se,...Array.isArray(be(i,q))?[{}]:[]],ref:{type:se.type,name:q}}:{ref:se}}}),_(q,!1,void 0,se)}else Q=be(n,q,{}),Q._f&&(Q._f.mount=!1),(e.shouldUnregister||Y.shouldUnregister)&&!(aee(o.array,q)&&a.action)&&o.unMount.add(q)}}},ue=()=>e.shouldFocusError&&Aw(n,F,o.mount),te=q=>{na(q)&&(f.state.next({disabled:q}),Aw(n,(Y,Q)=>{const re=be(n,Q);re&&(Y.disabled=re._f.disabled||q,Array.isArray(re._f.refs)&&re._f.refs.forEach(le=>{le.disabled=re._f.disabled||q}))},0,!1))},De=(q,Y)=>async Q=>{let re;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let le=on(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:ye}=await T();b(),r.errors=se,le=on(ye)}else await O(n);if(o.disabled.size)for(const se of o.disabled)ln(le,se);if(ln(r.errors,"root"),Vi(r.errors)){f.state.next({errors:{}});try{await q(le,Q)}catch(se){re=se}}else Y&&await Y({...r.errors},Q),ue(),setTimeout(ue);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vi(r.errors)&&!re,submitCount:r.submitCount+1,errors:r.errors}),re)throw re},je=(q,Y={})=>{be(n,q)&&(Ar(Y.defaultValue)?j(q,on(be(i,q))):(j(q,Y.defaultValue),Bt(i,q,on(Y.defaultValue))),Y.keepTouched||ln(r.touchedFields,q),Y.keepDirty||(ln(r.dirtyFields,q),r.isDirty=Y.defaultValue?R(q,on(be(i,q))):R()),Y.keepError||(ln(r.errors,q),d.isValid&&y()),f.state.next({...r}))},$e=(q,Y={})=>{const Q=q?on(q):i,re=on(Q),le=Vi(q),se=le?i:re;if(Y.keepDefaultValues||(i=Q),!Y.keepValues){if(Y.keepDirtyValues){const ye=new Set([...o.mount,...Object.keys(Ng(i,s))]);for(const _e of Array.from(ye)){const Le=be(r.dirtyFields,_e),Ze=be(s,_e),xr=be(se,_e);Le&&!Ar(Ze)?Bt(se,_e,Ze):!Le&&!Ar(xr)&&j(_e,xr)}}else{if($3&&Ar(q))for(const ye of o.mount){const _e=be(n,ye);if(_e&&_e._f){const Le=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(uP(Le)){const Ze=Le.closest("form");if(Ze){Ze.reset();break}}}}if(Y.keepFieldsRef)for(const ye of o.mount)j(ye,be(se,ye));else n={}}s=e.shouldUnregister?Y.keepDefaultValues?on(i):{}:on(se),f.array.next({values:{...se}}),f.state.next({values:{...se}})}o={mount:Y.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues||!e.shouldUnregister&&!Vi(se),a.watch=!!e.shouldUnregister,a.keepIsValid=!!Y.keepIsValid,a.action=!1,Y.keepErrors||(r.errors={}),f.state.next({submitCount:Y.keepSubmitCount?r.submitCount:0,isDirty:le?!1:Y.keepDirty?r.isDirty:!!(Y.keepDefaultValues&&!Ko(q,i)),isSubmitted:Y.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:le?{}:Y.keepDirtyValues?Y.keepDefaultValues&&s?Ng(i,s):r.dirtyFields:Y.keepDefaultValues&&q?Ng(i,q):Y.keepDirty?r.dirtyFields:{},touchedFields:Y.keepTouched?r.touchedFields:{},errors:Y.keepErrors?r.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},He=(q,Y)=>$e(Gi(q)?q(s):q,{...e.resetOptions,...Y}),Ue=(q,Y={})=>{const Q=be(n,q),re=Q&&Q._f;if(re){const le=re.refs?re.refs[0]:re.ref;le.focus&&setTimeout(()=>{le.focus(),Y.shouldSelect&&Gi(le.select)&&le.select()})}},tt=q=>{r={...r,...q}},er={control:{register:oe,unregister:ce,getFieldState:V,handleSubmit:De,setError:X,_subscribe:Z,_runSchema:T,_updateIsValidating:b,_focusError:ue,_getWatch:B,_getDirty:R,_setValid:y,_setFieldArray:x,_setDisabledField:ee,_setErrors:S,_getFieldArray:D,_reset:$e,_resetDefaultValues:()=>Gi(e.defaultValues)&&e.defaultValues().then(q=>{He(q,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:te,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(q){a=q},get _defaultValues(){return i},get _names(){return o},set _names(q){o=q},get _formState(){return r},get _options(){return e},set _options(q){e={...e,...q}}},subscribe:J,trigger:z,register:oe,handleSubmit:De,watch:H,setValue:j,getValues:K,reset:He,resetField:je,clearErrors:G,unregister:ce,setError:X,setFocus:Ue,getFieldState:V};return{...er,formControl:er}}function q3(t={}){const e=W.useRef(void 0),r=W.useRef(void 0),[n,i]=W.useState({isDirty:!1,isValidating:!1,isLoading:Gi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Gi(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Gi(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=Mke(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,V3(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),W.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),W.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),W.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),W.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),W.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),W.useEffect(()=>{var a;t.values&&!Ko(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),W.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=W.useMemo(()=>oee(n,s),[s,n]),e.current}const d8=(t,e,r)=>{if(t&&"reportValidity"in t){const n=be(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},$I=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?d8(n.ref,r,t):n&&n.refs&&n.refs.forEach(i=>d8(i,r,t))}},h8=(t,e)=>{e.shouldUseNativeValidation&&$I(t,e);const r={};for(const n in t){const i=be(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(Ike(e.names||Object.keys(t),n)){const a=Object.assign({},be(r,n));Bt(a,"root",s),Bt(r,n,a)}else Bt(r,n,s)}return r},Ike=(t,e)=>{const r=f8(e);return t.some(n=>f8(n).match(`^${r}\\.\\d+`))};function f8(t){return t.replace(/\]|\[/g,"")}function pee(t,e,r){function n(o,l){var c;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(c=o._zod).traits??(c.traits=new Set),o._zod.traits.add(t),e(o,l);for(const u in a.prototype)u in o||Object.defineProperty(o,u,{value:a.prototype[u].bind(o)});o._zod.constr=a,o._zod.def=l}const i=(r==null?void 0:r.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function a(o){var l;const c=r!=null&&r.Parent?new s:this;n(c,o),(l=c._zod).deferred??(l.deferred=[]);for(const u of c._zod.deferred)u();return c}return Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>{var l,c;return r!=null&&r.Parent&&o instanceof r.Parent?!0:(c=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:c.has(t)}}),Object.defineProperty(a,"name",{value:t}),a}class Dke extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const $ke={};function mee(t){return $ke}function Lke(t,e){return typeof e=="bigint"?e.toString():e}const gee=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function kE(t){return typeof t=="string"?t:t==null?void 0:t.message}function vee(t,e,r){var i,s,a,o,l,c;const n={...t,path:t.path??[]};if(!t.message){const u=kE((a=(s=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:a.call(s,t))??kE((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??kE((l=r.customError)==null?void 0:l.call(r,t))??kE((c=r.localeError)==null?void 0:c.call(r,t))??"Invalid input";n.message=u}return delete n.inst,delete n.continue,e!=null&&e.reportInput||delete n.input,n}const yee=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,Lke,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Fke=pee("$ZodError",yee),bee=pee("$ZodError",yee,{Parent:Error}),Bke=t=>(e,r,n,i)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},a=e._zod.run({value:r,issues:[]},s);if(a instanceof Promise)throw new Dke;if(a.issues.length){const o=new((i==null?void 0:i.Err)??t)(a.issues.map(l=>vee(l,s,mee())));throw gee(o,i==null?void 0:i.callee),o}return a.value},Uke=Bke(bee),Vke=t=>async(e,r,n,i)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let a=e._zod.run({value:r,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new((i==null?void 0:i.Err)??t)(a.issues.map(l=>vee(l,s,mee())));throw gee(o,i==null?void 0:i.callee),o}return a.value},zke=Vke(bee);function p8(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}function Hke(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=r[a].types,c=l&&l[n.code];r[a]=H3(a,e,r,i,c?[].concat(c,n.message):n.message)}t.shift()}return r}function Wke(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if(n.code==="invalid_union"&&n.errors.length>0){var o=n.errors[0][0];r[a]={message:o.message,type:o.code}}else r[a]={message:s,type:i};if(n.code==="invalid_union"&&n.errors.forEach(function(u){return u.forEach(function(d){return t.push(d)})}),e){var l=r[a].types,c=l&&l[n.code];r[a]=H3(a,e,r,i,c?[].concat(c,n.message):n.message)}t.shift()}return r}function K3(t,e,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(t))return function(n,i,s){try{return Promise.resolve(p8(function(){return Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(a){return s.shouldUseNativeValidation&&$I({},s),{errors:{},values:r.raw?Object.assign({},n):a}})},function(a){if(function(o){return Array.isArray(o==null?void 0:o.issues)}(a))return{values:{},errors:h8(Hke(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(t))return function(n,i,s){try{return Promise.resolve(p8(function(){return Promise.resolve((r.mode==="sync"?Uke:zke)(t,n,e)).then(function(a){return s.shouldUseNativeValidation&&$I({},s),{errors:{},values:r.raw?Object.assign({},n):a}})},function(a){if(function(o){return o instanceof Fke}(a))return{values:{},errors:h8(Wke(a.issues,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}var Gke=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],is=Gke.reduce((t,e)=>{const r=bY(`Primitive.${e}`),n=E.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),qke="Label",xee=E.forwardRef((t,e)=>m.jsx(is.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));xee.displayName=qke;var wee=xee;const Kke=pA("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ct=E.forwardRef(({className:t,...e},r)=>m.jsx(wee,{ref:r,className:pe(Kke(),t),...e}));ct.displayName=wee.displayName;const X3=xke,See=E.createContext({}),mu=({...t})=>m.jsx(See.Provider,{value:{name:t.name},children:m.jsx(yke,{...t})}),Qj=()=>{const t=E.useContext(See),e=E.useContext(_ee),{getFieldState:r,formState:n}=bke(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},_ee=E.createContext({}),Wl=E.forwardRef(({className:t,...e},r)=>{const n=E.useId();return m.jsx(_ee.Provider,{value:{id:n},children:m.jsx("div",{ref:r,className:pe("space-y-2",t),...e})})});Wl.displayName="FormItem";const Gl=E.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=Qj();return m.jsx(ct,{ref:r,className:pe(n&&"text-destructive",t),htmlFor:i,...e})});Gl.displayName="FormLabel";const ql=E.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=Qj();return m.jsx(xY,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...t})});ql.displayName="FormControl";const Xke=E.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Qj();return m.jsx("p",{ref:r,id:n,className:pe("text-sm text-muted-foreground",t),...e})});Xke.displayName="FormDescription";const Kl=E.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=Qj(),a=i?String(i==null?void 0:i.message):e;return a?m.jsx("p",{ref:n,id:s,className:pe("text-sm font-medium text-destructive",t),...r,children:a}):null});Kl.displayName="FormMessage";const Yke=pA("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Zj=E.forwardRef(({className:t,variant:e,...r},n)=>m.jsx("div",{ref:n,role:"alert",className:pe(Yke({variant:e}),t),...r}));Zj.displayName="Alert";const Qke=E.forwardRef(({className:t,...e},r)=>m.jsx("h5",{ref:r,className:pe("mb-1 font-medium leading-none tracking-tight",t),...e}));Qke.displayName="AlertTitle";const Jj=E.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:pe("text-sm [&_p]:leading-relaxed",t),...e}));Jj.displayName="AlertDescription";function Zke(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(t)}function Aee(t,e){return new Promise(function(r,n){let i;return Jke(t).then(function(s){try{return i=s,r(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(a){return n(a)}},n)})}const Jke=t=>new Promise((e,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let a=0;if(s.getUint16(a)!==65496)return r("not a valid JPEG");for(a+=2;;){const o=s.getUint16(a);if(o===65498)break;const l=s.getUint16(a+2);if(o===65505&&s.getUint32(a+4)===1165519206){const c=a+10;let u;switch(s.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return r("TIFF header contains invalid endian")}if(s.getUint16(c+2,u)!==42)return r("TIFF header contains invalid version");const d=s.getUint32(c+4,u),h=c+d+2+12*s.getUint16(c+d,u);for(let f=c+d+2;f<h;f+=12)if(s.getUint16(f,u)==274){if(s.getUint16(f+2,u)!==3)return r("Orientation data type is invalid");if(s.getUint32(f+4,u)!==1)return r("Orientation data count is invalid");s.setUint16(f+8,1,u);break}return e(i.slice(a,a+2+l))}a+=2+l}return e(new Blob)}),n.readAsArrayBuffer(t)});var hP={},eje={get exports(){return hP},set exports(t){hP=t}};(function(t){var e,r,n={};eje.exports=n,n.parse=function(i,s){for(var a=n.bin.readUshort,o=n.bin.readUint,l=0,c={},u=new Uint8Array(i),d=u.length-4;o(u,d)!=101010256;)d--;l=d,l+=4;var h=a(u,l+=4);a(u,l+=2);var f=o(u,l+=2),g=o(u,l+=4);l+=4,l=g;for(var v=0;v<h;v++){o(u,l),l+=4,l+=4,l+=4,o(u,l+=4),f=o(u,l+=4);var y=o(u,l+=4),b=a(u,l+=4),x=a(u,l+2),w=a(u,l+4);l+=6;var S=o(u,l+=8);l+=4,l+=b+x+w,n._readLocal(u,S,c,f,y,s)}return c},n._readLocal=function(i,s,a,o,l,c){var u=n.bin.readUshort,d=n.bin.readUint;d(i,s),u(i,s+=4),u(i,s+=2);var h=u(i,s+=2);d(i,s+=2),d(i,s+=4),s+=4;var f=u(i,s+=8),g=u(i,s+=2);s+=2;var v=n.bin.readUTF8(i,s,f);if(s+=f,s+=g,c)a[v]={size:l,csize:o};else{var y=new Uint8Array(i.buffer,s);if(h==0)a[v]=new Uint8Array(y.buffer.slice(s,s+o));else{if(h!=8)throw"unknown compression method: "+h;var b=new Uint8Array(l);n.inflateRaw(y,b),a[v]=b}}},n.inflateRaw=function(i,s){return n.F.inflate(i,s)},n.inflate=function(i,s){return i[0],i[1],n.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},n.deflate=function(i,s){s==null&&(s={level:6});var a=0,o=new Uint8Array(50+Math.floor(1.1*i.length));o[a]=120,o[a+1]=156,a+=2,a=n.F.deflateRaw(i,o,a,s.level);var l=n.adler(i,0,i.length);return o[a+0]=l>>>24&255,o[a+1]=l>>>16&255,o[a+2]=l>>>8&255,o[a+3]=l>>>0&255,new Uint8Array(o.buffer,0,a+4)},n.deflateRaw=function(i,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*i.length)),o=n.F.deflateRaw(i,a,o,s.level);return new Uint8Array(a.buffer,0,o)},n.encode=function(i,s){s==null&&(s=!1);var a=0,o=n.bin.writeUint,l=n.bin.writeUshort,c={};for(var u in i){var d=!n._noNeed(u)&&!s,h=i[u],f=n.crc.crc(h,0,h.length);c[u]={cpr:d,usize:h.length,crc:f,file:d?n.deflateRaw(h):h}}for(var u in c)a+=c[u].file.length+30+46+2*n.bin.sizeUTF8(u);a+=22;var g=new Uint8Array(a),v=0,y=[];for(var u in c){var b=c[u];y.push(v),v=n._writeHeader(g,v,u,b,0)}var x=0,w=v;for(var u in c)b=c[u],y.push(v),v=n._writeHeader(g,v,u,b,1,y[x++]);var S=v-w;return o(g,v,101010256),v+=4,l(g,v+=4,x),l(g,v+=2,x),o(g,v+=2,S),o(g,v+=4,w),v+=4,v+=2,g.buffer},n._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},n._writeHeader=function(i,s,a,o,l,c){var u=n.bin.writeUint,d=n.bin.writeUshort,h=o.file;return u(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),d(i,s,20),d(i,s+=2,0),d(i,s+=2,o.cpr?8:0),u(i,s+=2,0),u(i,s+=4,o.crc),u(i,s+=4,h.length),u(i,s+=4,o.usize),d(i,s+=4,n.bin.sizeUTF8(a)),d(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,u(i,s+=6,c),s+=4),s+=n.bin.writeUTF8(i,s,a),l==0&&(i.set(h,s),s+=h.length),s},n.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var a=s,o=0;o<8;o++)1&a?a=3988292384^a>>>1:a>>>=1;i[s]=a}return i}(),update:function(i,s,a,o){for(var l=0;l<o;l++)i=n.crc.table[255&(i^s[a+l])]^i>>>8;return i},crc:function(i,s,a){return 4294967295^n.crc.update(4294967295,i,s,a)}},n.adler=function(i,s,a){for(var o=1,l=0,c=s,u=s+a;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=o+=i[c++];o%=65521,l%=65521}return l<<16|o},n.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255,i[s+2]=a>>16&255,i[s+3]=a>>24&255},readASCII:function(i,s,a){for(var o="",l=0;l<a;l++)o+=String.fromCharCode(i[s+l]);return o},writeASCII:function(i,s,a){for(var o=0;o<a.length;o++)i[s+o]=a.charCodeAt(o)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,a){for(var o,l="",c=0;c<a;c++)l+="%"+n.bin.pad(i[s+c].toString(16));try{o=decodeURIComponent(l)}catch{return n.bin.readASCII(i,s,a)}return o},writeUTF8:function(i,s,a){for(var o=a.length,l=0,c=0;c<o;c++){var u=a.charCodeAt(c);if(!(4294967168&u))i[s+l]=u,l++;else if(!(4294965248&u))i[s+l]=192|u>>6,i[s+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))i[s+l]=224|u>>12,i[s+l+1]=128|u>>6&63,i[s+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";i[s+l]=240|u>>18,i[s+l+1]=128|u>>12&63,i[s+l+2]=128|u>>6&63,i[s+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,a=0,o=0;o<s;o++){var l=i.charCodeAt(o);if(!(4294967168&l))a++;else if(!(4294965248&l))a+=2;else if(!(4294901760&l))a+=3;else{if(4292870144&l)throw"e";a+=4}}return a}},n.F={},n.F.deflateRaw=function(i,s,a,o){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],c=n.F.U,u=n.F._goodIndex;n.F._hash;var d=n.F._putsE,h=0,f=a<<3,g=0,v=i.length;if(o==0){for(;h<v;)d(s,f,h+(I=Math.min(65535,v-h))==v?1:0),f=n.F._copyExact(i,h,I,s,f+8),h+=I;return f>>>3}var y=c.lits,b=c.strt,x=c.prev,w=0,S=0,_=0,A=0,C=0,T=0;for(v>2&&(b[T=n.F._hash(i,0)]=0),h=0;h<v;h++){if(C=T,h+1<v-2){T=n.F._hash(i,h+1);var P=h+1&32767;x[P]=b[T],b[T]=P}if(g<=h){(w>14e3||S>26697)&&v-h>100&&(g<h&&(y[w]=h-g,w+=2,g=h),f=n.F._writeBlock(h==v-1||g==v?1:0,y,w,A,i,_,h-_,s,f),w=S=A=0,_=h);var O=0;h<v-2&&(O=n.F._bestMatch(i,h,x,C,Math.min(l[2],v-h),l[3]));var I=O>>>16,R=65535&O;if(O!=0){R=65535&O;var B=u(I=O>>>16,c.of0);c.lhst[257+B]++;var D=u(R,c.df0);c.dhst[D]++,A+=c.exb[B]+c.dxb[D],y[w]=I<<23|h-g,y[w+1]=R<<16|B<<8|D,w+=2,g=h+I}else c.lhst[i[h]]++;S++}}for(_==h&&i.length!=0||(g<h&&(y[w]=h-g,w+=2,g=h),f=n.F._writeBlock(1,y,w,A,i,_,h-_,s,f),w=0,S=0,w=S=A=0,_=h);7&f;)f++;return f>>>3},n.F._bestMatch=function(i,s,a,o,l,c){var u=32767&s,d=a[u],h=u-d+32768&32767;if(d==u||o!=n.F._hash(i,s-h))return 0;for(var f=0,g=0,v=Math.min(32767,s);h<=v&&--c!=0&&d!=u;){if(f==0||i[s+f]==i[s+f-h]){var y=n.F._howLong(i,s,h);if(y>f){if(g=h,(f=y)>=l)break;h+2<y&&(y=h+2);for(var b=0,x=0;x<y-2;x++){var w=s-h+x+32768&32767,S=w-a[w]+32768&32767;S>b&&(b=S,d=w)}}}h+=(u=d)-(d=a[u])+32768&32767}return f<<16|g},n.F._howLong=function(i,s,a){if(i[s]!=i[s-a]||i[s+1]!=i[s+1-a]||i[s+2]!=i[s+2-a])return 0;var o=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-a];)s++;return s-o},n.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(i,s,a,o,l,c,u,d,h){var f,g,v,y,b,x,w,S,_,A=n.F.U,C=n.F._putsF,T=n.F._putsE;A.lhst[256]++,g=(f=n.F.getTrees())[0],v=f[1],y=f[2],b=f[3],x=f[4],w=f[5],S=f[6],_=f[7];var P=32+(h+3&7?8-(h+3&7):0)+(u<<3),O=o+n.F.contSize(A.fltree,A.lhst)+n.F.contSize(A.fdtree,A.dhst),I=o+n.F.contSize(A.ltree,A.lhst)+n.F.contSize(A.dtree,A.dhst);I+=14+3*w+n.F.contSize(A.itree,A.ihst)+(2*A.ihst[16]+3*A.ihst[17]+7*A.ihst[18]);for(var R=0;R<286;R++)A.lhst[R]=0;for(R=0;R<30;R++)A.dhst[R]=0;for(R=0;R<19;R++)A.ihst[R]=0;var B=P<O&&P<I?0:O<I?1:2;if(C(d,h,i),C(d,h+1,B),h+=3,B==0){for(;7&h;)h++;h=n.F._copyExact(l,c,u,d,h)}else{var D,U;if(B==1&&(D=A.fltree,U=A.fdtree),B==2){n.F.makeCodes(A.ltree,g),n.F.revCodes(A.ltree,g),n.F.makeCodes(A.dtree,v),n.F.revCodes(A.dtree,v),n.F.makeCodes(A.itree,y),n.F.revCodes(A.itree,y),D=A.ltree,U=A.dtree,T(d,h,b-257),T(d,h+=5,x-1),T(d,h+=5,w-4),h+=4;for(var N=0;N<w;N++)T(d,h+3*N,A.itree[1+(A.ordr[N]<<1)]);h+=3*w,h=n.F._codeTiny(S,A.itree,d,h),h=n.F._codeTiny(_,A.itree,d,h)}for(var j=c,L=0;L<a;L+=2){for(var F=s[L],z=F>>>23,K=j+(8388607&F);j<K;)h=n.F._writeLit(l[j++],D,d,h);if(z!=0){var V=s[L+1],G=V>>16,X=V>>8&255,H=255&V;T(d,h=n.F._writeLit(257+X,D,d,h),z-A.of0[X]),h+=A.exb[X],C(d,h=n.F._writeLit(H,U,d,h),G-A.df0[H]),h+=A.dxb[H],j+=z}}h=n.F._writeLit(256,D,d,h)}return h},n.F._copyExact=function(i,s,a,o,l){var c=l>>>3;return o[c]=a,o[c+1]=a>>>8,o[c+2]=255-o[c],o[c+3]=255-o[c+1],c+=4,o.set(new Uint8Array(i.buffer,s,a),c),l+(a+4<<3)},n.F.getTrees=function(){for(var i=n.F.U,s=n.F._hufTree(i.lhst,i.ltree,15),a=n.F._hufTree(i.dhst,i.dtree,15),o=[],l=n.F._lenCodes(i.ltree,o),c=[],u=n.F._lenCodes(i.dtree,c),d=0;d<o.length;d+=2)i.ihst[o[d]]++;for(d=0;d<c.length;d+=2)i.ihst[c[d]]++;for(var h=n.F._hufTree(i.ihst,i.itree,7),f=19;f>4&&i.itree[1+(i.ordr[f-1]<<1)]==0;)f--;return[s,a,h,l,u,f,o,c]},n.F.getSecond=function(i){for(var s=[],a=0;a<i.length;a+=2)s.push(i[a+1]);return s},n.F.nonZero=function(i){for(var s="",a=0;a<i.length;a+=2)i[a+1]!=0&&(s+=(a>>1)+",");return s},n.F.contSize=function(i,s){for(var a=0,o=0;o<s.length;o++)a+=s[o]*i[1+(o<<1)];return a},n.F._codeTiny=function(i,s,a,o){for(var l=0;l<i.length;l+=2){var c=i[l],u=i[l+1];o=n.F._writeLit(c,s,a,o);var d=c==16?2:c==17?3:7;c>15&&(n.F._putsE(a,o,u,d),o+=d)}return o},n.F._lenCodes=function(i,s){for(var a=i.length;a!=2&&i[a-1]==0;)a-=2;for(var o=0;o<a;o+=2){var l=i[o+1],c=o+3<a?i[o+3]:-1,u=o+5<a?i[o+5]:-1,d=o==0?-1:i[o-1];if(l==0&&c==l&&u==l){for(var h=o+5;h+2<a&&i[h+2]==l;)h+=2;(f=Math.min(h+1-o>>>1,138))<11?s.push(17,f-3):s.push(18,f-11),o+=2*f-2}else if(l==d&&c==l&&u==l){for(h=o+5;h+2<a&&i[h+2]==l;)h+=2;var f=Math.min(h+1-o>>>1,6);s.push(16,f-3),o+=2*f-2}else s.push(l,0)}return a>>>1},n.F._hufTree=function(i,s,a){var o=[],l=i.length,c=s.length,u=0;for(u=0;u<c;u+=2)s[u]=0,s[u+1]=0;for(u=0;u<l;u++)i[u]!=0&&o.push({lit:u,f:i[u]});var d=o.length,h=o.slice(0);if(d==0)return 0;if(d==1){var f=o[0].lit;return h=f==0?1:0,s[1+(f<<1)]=1,s[1+(h<<1)]=1,1}o.sort(function(S,_){return S.f-_.f});var g=o[0],v=o[1],y=0,b=1,x=2;for(o[0]={lit:-1,f:g.f+v.f,l:g,r:v,d:0};b!=d-1;)g=y!=b&&(x==d||o[y].f<o[x].f)?o[y++]:o[x++],v=y!=b&&(x==d||o[y].f<o[x].f)?o[y++]:o[x++],o[b++]={lit:-1,f:g.f+v.f,l:g,r:v};var w=n.F.setDepth(o[b-1],0);for(w>a&&(n.F.restrictDepth(h,a,w),w=a),u=0;u<d;u++)s[1+(h[u].lit<<1)]=h[u].d;return w},n.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(n.F.setDepth(i.l,s+1),n.F.setDepth(i.r,s+1))},n.F.restrictDepth=function(i,s,a){var o=0,l=1<<a-s,c=0;for(i.sort(function(d,h){return h.d==d.d?d.f-h.f:h.d-d.d}),o=0;o<i.length&&i[o].d>s;o++){var u=i[o].d;i[o].d=s,c+=l-(1<<a-u)}for(c>>>=a-s;c>0;)(u=i[o].d)<s?(i[o].d++,c-=1<<s-u-1):o++;for(;o>=0;o--)i[o].d==s&&c<0&&(i[o].d--,c++);c!=0&&console.log("debt left")},n.F._goodIndex=function(i,s){var a=0;return s[16|a]<=i&&(a|=16),s[8|a]<=i&&(a|=8),s[4|a]<=i&&(a|=4),s[2|a]<=i&&(a|=2),s[1|a]<=i&&(a|=1),a},n.F._writeLit=function(i,s,a,o){return n.F._putsF(a,o,s[i<<1]),o+s[1+(i<<1)]},n.F.inflate=function(i,s){var a=Uint8Array;if(i[0]==3&&i[1]==0)return s||new a(0);var o=n.F,l=o._bitsF,c=o._bitsE,u=o._decodeTiny,d=o.makeCodes,h=o.codes2map,f=o._get17,g=o.U,v=s==null;v&&(s=new a(i.length>>>2<<3));for(var y,b,x=0,w=0,S=0,_=0,A=0,C=0,T=0,P=0,O=0;x==0;)if(x=l(i,O,1),w=l(i,O+1,2),O+=3,w!=0){if(v&&(s=n.F._check(s,P+(1<<17))),w==1&&(y=g.flmap,b=g.fdmap,C=511,T=31),w==2){S=c(i,O,5)+257,_=c(i,O+5,5)+1,A=c(i,O+10,4)+4,O+=14;for(var I=0;I<38;I+=2)g.itree[I]=0,g.itree[I+1]=0;var R=1;for(I=0;I<A;I++){var B=c(i,O+3*I,3);g.itree[1+(g.ordr[I]<<1)]=B,B>R&&(R=B)}O+=3*A,d(g.itree,R),h(g.itree,R,g.imap),y=g.lmap,b=g.dmap,O=u(g.imap,(1<<R)-1,S+_,i,O,g.ttree);var D=o._copyOut(g.ttree,0,S,g.ltree);C=(1<<D)-1;var U=o._copyOut(g.ttree,S,_,g.dtree);T=(1<<U)-1,d(g.ltree,D),h(g.ltree,D,y),d(g.dtree,U),h(g.dtree,U,b)}for(;;){var N=y[f(i,O)&C];O+=15&N;var j=N>>>4;if(!(j>>>8))s[P++]=j;else{if(j==256)break;var L=P+j-254;if(j>264){var F=g.ldef[j-257];L=P+(F>>>3)+c(i,O,7&F),O+=7&F}var z=b[f(i,O)&T];O+=15&z;var K=z>>>4,V=g.ddef[K],G=(V>>>4)+l(i,O,15&V);for(O+=15&V,v&&(s=n.F._check(s,P+(1<<17)));P<L;)s[P]=s[P++-G],s[P]=s[P++-G],s[P]=s[P++-G],s[P]=s[P++-G];P=L}}}else{7&O&&(O+=8-(7&O));var X=4+(O>>>3),H=i[X-4]|i[X-3]<<8;v&&(s=n.F._check(s,P+H)),s.set(new a(i.buffer,i.byteOffset+X,H),P),O=X+H<<3,P+=H}return s.length==P?s:s.slice(0,P)},n.F._check=function(i,s){var a=i.length;if(s<=a)return i;var o=new Uint8Array(Math.max(a<<1,s));return o.set(i,0),o},n.F._decodeTiny=function(i,s,a,o,l,c){for(var u=n.F._bitsE,d=n.F._get17,h=0;h<a;){var f=i[d(o,l)&s];l+=15&f;var g=f>>>4;if(g<=15)c[h]=g,h++;else{var v=0,y=0;g==16?(y=3+u(o,l,2),l+=2,v=c[h-1]):g==17?(y=3+u(o,l,3),l+=3):g==18&&(y=11+u(o,l,7),l+=7);for(var b=h+y;h<b;)c[h]=v,h++}}return l},n.F._copyOut=function(i,s,a,o){for(var l=0,c=0,u=o.length>>>1;c<a;){var d=i[c+s];o[c<<1]=0,o[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)o[c<<1]=0,o[1+(c<<1)]=0,c++;return l},n.F.makeCodes=function(i,s){for(var a,o,l,c,u=n.F.U,d=i.length,h=u.bl_count,f=0;f<=s;f++)h[f]=0;for(f=1;f<d;f+=2)h[i[f]]++;var g=u.next_code;for(a=0,h[0]=0,o=1;o<=s;o++)a=a+h[o-1]<<1,g[o]=a;for(l=0;l<d;l+=2)(c=i[l+1])!=0&&(i[l]=g[c],g[c]++)},n.F.codes2map=function(i,s,a){for(var o=i.length,l=n.F.U.rev15,c=0;c<o;c+=2)if(i[c+1]!=0)for(var u=c>>1,d=i[c+1],h=u<<4|d,f=s-d,g=i[c]<<f,v=g+(1<<f);g!=v;)a[l[g]>>>15-s]=h,g++},n.F.revCodes=function(i,s){for(var a=n.F.U.rev15,o=15-s,l=0;l<i.length;l+=2){var c=i[l]<<s-i[l+1];i[l]=a[c]>>>o}},n.F._putsE=function(i,s,a){a<<=7&s;var o=s>>>3;i[o]|=a,i[o+1]|=a>>>8},n.F._putsF=function(i,s,a){a<<=7&s;var o=s>>>3;i[o]|=a,i[o+1]|=a>>>8,i[o+2]|=a>>>16},n.F._bitsE=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},n.F._bitsF=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},n.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},n.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},n.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=n.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,i.rev15[s]=(a>>>16|a<<16)>>>17}function o(l,c,u){for(;c--!=0;)l.push(0,u)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];o(i.fltree,144,8),o(i.fltree,112,9),o(i.fltree,24,7),o(i.fltree,8,8),n.F.makeCodes(i.fltree,9),n.F.codes2map(i.fltree,9,i.flmap),n.F.revCodes(i.fltree,9),o(i.fdtree,32,5),n.F.makeCodes(i.fdtree,5),n.F.codes2map(i.fdtree,5,i.fdmap),n.F.revCodes(i.fdtree,5),o(i.itree,19,0),o(i.ltree,286,0),o(i.dtree,30,0),o(i.ttree,320,0)}()})();var tje=Zke({__proto__:null,default:hP},[hP]);const wo=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,h){u[d]=h>>8&255,u[d+1]=255&h},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,h){u[d]=h>>24&255,u[d+1]=h>>16&255,u[d+2]=h>>8&255,u[d+3]=255&h},readASCII(u,d,h){let f="";for(let g=0;g<h;g++)f+=String.fromCharCode(u[d+g]);return f},writeASCII(u,d,h){for(let f=0;f<h.length;f++)u[d+f]=h.charCodeAt(f)},readBytes(u,d,h){const f=[];for(let g=0;g<h;g++)f.push(u[d+g]);return f},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,h){let f,g="";for(let v=0;v<h;v++)g+=`%${t.pad(u[d+v].toString(16))}`;try{f=decodeURIComponent(g)}catch{return t.readASCII(u,d,h)}return f}};function e(u,d,h,f){const g=d*h,v=s(f),y=Math.ceil(d*v/8),b=new Uint8Array(4*g),x=new Uint32Array(b.buffer),{ctype:w}=f,{depth:S}=f,_=t.readUshort;if(w==6){const F=g<<2;if(S==8)for(var A=0;A<F;A+=4)b[A]=u[A],b[A+1]=u[A+1],b[A+2]=u[A+2],b[A+3]=u[A+3];if(S==16)for(A=0;A<F;A++)b[A]=u[A<<1]}else if(w==2){const F=f.tabs.tRNS;if(F==null){if(S==8)for(A=0;A<g;A++){var C=3*A;x[A]=255<<24|u[C+2]<<16|u[C+1]<<8|u[C]}if(S==16)for(A=0;A<g;A++)C=6*A,x[A]=255<<24|u[C+4]<<16|u[C+2]<<8|u[C]}else{var T=F[0];const z=F[1],K=F[2];if(S==8)for(A=0;A<g;A++){var P=A<<2;C=3*A,x[A]=255<<24|u[C+2]<<16|u[C+1]<<8|u[C],u[C]==T&&u[C+1]==z&&u[C+2]==K&&(b[P+3]=0)}if(S==16)for(A=0;A<g;A++)P=A<<2,C=6*A,x[A]=255<<24|u[C+4]<<16|u[C+2]<<8|u[C],_(u,C)==T&&_(u,C+2)==z&&_(u,C+4)==K&&(b[P+3]=0)}}else if(w==3){const F=f.tabs.PLTE,z=f.tabs.tRNS,K=z?z.length:0;if(S==1)for(var O=0;O<h;O++){var I=O*y,R=O*d;for(A=0;A<d;A++){P=R+A<<2;var B=3*(D=u[I+(A>>3)]>>7-((7&A)<<0)&1);b[P]=F[B],b[P+1]=F[B+1],b[P+2]=F[B+2],b[P+3]=D<K?z[D]:255}}if(S==2)for(O=0;O<h;O++)for(I=O*y,R=O*d,A=0;A<d;A++)P=R+A<<2,B=3*(D=u[I+(A>>2)]>>6-((3&A)<<1)&3),b[P]=F[B],b[P+1]=F[B+1],b[P+2]=F[B+2],b[P+3]=D<K?z[D]:255;if(S==4)for(O=0;O<h;O++)for(I=O*y,R=O*d,A=0;A<d;A++)P=R+A<<2,B=3*(D=u[I+(A>>1)]>>4-((1&A)<<2)&15),b[P]=F[B],b[P+1]=F[B+1],b[P+2]=F[B+2],b[P+3]=D<K?z[D]:255;if(S==8)for(A=0;A<g;A++){var D;P=A<<2,B=3*(D=u[A]),b[P]=F[B],b[P+1]=F[B+1],b[P+2]=F[B+2],b[P+3]=D<K?z[D]:255}}else if(w==4){if(S==8)for(A=0;A<g;A++){P=A<<2;var U=u[N=A<<1];b[P]=U,b[P+1]=U,b[P+2]=U,b[P+3]=u[N+1]}if(S==16)for(A=0;A<g;A++){var N;P=A<<2,U=u[N=A<<2],b[P]=U,b[P+1]=U,b[P+2]=U,b[P+3]=u[N+2]}}else if(w==0)for(T=f.tabs.tRNS?f.tabs.tRNS:-1,O=0;O<h;O++){const F=O*y,z=O*d;if(S==1)for(var j=0;j<d;j++){var L=(U=255*(u[F+(j>>>3)]>>>7-(7&j)&1))==255*T?0:255;x[z+j]=L<<24|U<<16|U<<8|U}else if(S==2)for(j=0;j<d;j++)L=(U=85*(u[F+(j>>>2)]>>>6-((3&j)<<1)&3))==85*T?0:255,x[z+j]=L<<24|U<<16|U<<8|U;else if(S==4)for(j=0;j<d;j++)L=(U=17*(u[F+(j>>>1)]>>>4-((1&j)<<2)&15))==17*T?0:255,x[z+j]=L<<24|U<<16|U<<8|U;else if(S==8)for(j=0;j<d;j++)L=(U=u[F+j])==T?0:255,x[z+j]=L<<24|U<<16|U<<8|U;else if(S==16)for(j=0;j<d;j++)U=u[F+(j<<1)],L=_(u,F+(j<<1))==T?0:255,x[z+j]=L<<24|U<<16|U<<8|U}return b}function r(u,d,h,f){const g=s(u),v=Math.ceil(h*g/8),y=new Uint8Array((v+1+u.interlace)*f);return d=u.tabs.CgBI?i(d,y):n(d,y),u.interlace==0?d=a(d,u,0,h,f):u.interlace==1&&(d=function(x,w){const S=w.width,_=w.height,A=s(w),C=A>>3,T=Math.ceil(S*A/8),P=new Uint8Array(_*T);let O=0;const I=[0,0,4,0,2,0,1],R=[0,4,0,2,0,1,0],B=[8,8,8,4,4,2,2],D=[8,8,4,4,2,2,1];let U=0;for(;U<7;){const j=B[U],L=D[U];let F=0,z=0,K=I[U];for(;K<_;)K+=j,z++;let V=R[U];for(;V<S;)V+=L,F++;const G=Math.ceil(F*A/8);a(x,w,O,F,z);let X=0,H=I[U];for(;H<_;){let Z=R[U],J=O+X*G<<3;for(;Z<S;){var N;if(A==1&&(N=(N=x[J>>3])>>7-(7&J)&1,P[H*T+(Z>>3)]|=N<<7-((7&Z)<<0)),A==2&&(N=(N=x[J>>3])>>6-(7&J)&3,P[H*T+(Z>>2)]|=N<<6-((3&Z)<<1)),A==4&&(N=(N=x[J>>3])>>4-(7&J)&15,P[H*T+(Z>>1)]|=N<<4-((1&Z)<<2)),A>=8){const ce=H*T+Z*C;for(let ee=0;ee<C;ee++)P[ce+ee]=x[(J>>3)+ee]}J+=A,Z+=L}X++,H+=j}F*z!=0&&(O+=z*(1+G)),U+=1}return P}(d,u)),d}function n(u,d){return i(new Uint8Array(u.buffer,2,u.length-6),d)}var i=function(){const u={H:{}};return u.H.N=function(d,h){const f=Uint8Array;let g,v,y=0,b=0,x=0,w=0,S=0,_=0,A=0,C=0,T=0;if(d[0]==3&&d[1]==0)return h||new f(0);const P=u.H,O=P.b,I=P.e,R=P.R,B=P.n,D=P.A,U=P.Z,N=P.m,j=h==null;for(j&&(h=new f(d.length>>>2<<5));y==0;)if(y=O(d,T,1),b=O(d,T+1,2),T+=3,b!=0){if(j&&(h=u.H.W(h,C+(1<<17))),b==1&&(g=N.J,v=N.h,_=511,A=31),b==2){x=I(d,T,5)+257,w=I(d,T+5,5)+1,S=I(d,T+10,4)+4,T+=14;let F=1;for(var L=0;L<38;L+=2)N.Q[L]=0,N.Q[L+1]=0;for(L=0;L<S;L++){const V=I(d,T+3*L,3);N.Q[1+(N.X[L]<<1)]=V,V>F&&(F=V)}T+=3*S,B(N.Q,F),D(N.Q,F,N.u),g=N.w,v=N.d,T=R(N.u,(1<<F)-1,x+w,d,T,N.v);const z=P.V(N.v,0,x,N.C);_=(1<<z)-1;const K=P.V(N.v,x,w,N.D);A=(1<<K)-1,B(N.C,z),D(N.C,z,g),B(N.D,K),D(N.D,K,v)}for(;;){const F=g[U(d,T)&_];T+=15&F;const z=F>>>4;if(!(z>>>8))h[C++]=z;else{if(z==256)break;{let K=C+z-254;if(z>264){const Z=N.q[z-257];K=C+(Z>>>3)+I(d,T,7&Z),T+=7&Z}const V=v[U(d,T)&A];T+=15&V;const G=V>>>4,X=N.c[G],H=(X>>>4)+O(d,T,15&X);for(T+=15&X;C<K;)h[C]=h[C++-H],h[C]=h[C++-H],h[C]=h[C++-H],h[C]=h[C++-H];C=K}}}}else{7&T&&(T+=8-(7&T));const F=4+(T>>>3),z=d[F-4]|d[F-3]<<8;j&&(h=u.H.W(h,C+z)),h.set(new f(d.buffer,d.byteOffset+F,z),C),T=F+z<<3,C+=z}return h.length==C?h:h.slice(0,C)},u.H.W=function(d,h){const f=d.length;if(h<=f)return d;const g=new Uint8Array(f<<1);return g.set(d,0),g},u.H.R=function(d,h,f,g,v,y){const b=u.H.e,x=u.H.Z;let w=0;for(;w<f;){const S=d[x(g,v)&h];v+=15&S;const _=S>>>4;if(_<=15)y[w]=_,w++;else{let A=0,C=0;_==16?(C=3+b(g,v,2),v+=2,A=y[w-1]):_==17?(C=3+b(g,v,3),v+=3):_==18&&(C=11+b(g,v,7),v+=7);const T=w+C;for(;w<T;)y[w]=A,w++}}return v},u.H.V=function(d,h,f,g){let v=0,y=0;const b=g.length>>>1;for(;y<f;){const x=d[y+h];g[y<<1]=0,g[1+(y<<1)]=x,x>v&&(v=x),y++}for(;y<b;)g[y<<1]=0,g[1+(y<<1)]=0,y++;return v},u.H.n=function(d,h){const f=u.H.m,g=d.length;let v,y,b,x;const w=f.j;for(var S=0;S<=h;S++)w[S]=0;for(S=1;S<g;S+=2)w[d[S]]++;const _=f.K;for(v=0,w[0]=0,y=1;y<=h;y++)v=v+w[y-1]<<1,_[y]=v;for(b=0;b<g;b+=2)x=d[b+1],x!=0&&(d[b]=_[x],_[x]++)},u.H.A=function(d,h,f){const g=d.length,v=u.H.m.r;for(let y=0;y<g;y+=2)if(d[y+1]!=0){const b=y>>1,x=d[y+1],w=b<<4|x,S=h-x;let _=d[y]<<S;const A=_+(1<<S);for(;_!=A;)f[v[_]>>>15-h]=w,_++}},u.H.l=function(d,h){const f=u.H.m.r,g=15-h;for(let v=0;v<d.length;v+=2){const y=d[v]<<h-d[v+1];d[v]=f[y]>>>g}},u.H.M=function(d,h,f){f<<=7&h;const g=h>>>3;d[g]|=f,d[g+1]|=f>>>8},u.H.I=function(d,h,f){f<<=7&h;const g=h>>>3;d[g]|=f,d[g+1]|=f>>>8,d[g+2]|=f>>>16},u.H.e=function(d,h,f){return(d[h>>>3]|d[1+(h>>>3)]<<8)>>>(7&h)&(1<<f)-1},u.H.b=function(d,h,f){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)&(1<<f)-1},u.H.Z=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)},u.H.i=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16|d[3+(h>>>3)]<<24)>>>(7&h)},u.H.m=function(){const d=Uint16Array,h=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var h=0;h<32768;h++){let g=h;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,d.r[h]=(g>>>16|g<<16)>>>17}function f(g,v,y){for(;v--!=0;)g.push(0,y)}for(h=0;h<32;h++)d.q[h]=d.S[h]<<3|d.T[h],d.c[h]=d.p[h]<<4|d.z[h];f(d._,144,8),f(d._,112,9),f(d._,24,7),f(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),f(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),f(d.Q,19,0),f(d.C,286,0),f(d.D,30,0),f(d.v,320,0)}(),u.H.N}();function s(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function a(u,d,h,f,g){let v=s(d);const y=Math.ceil(f*v/8);let b,x;v=Math.ceil(v/8);let w=u[h],S=0;if(w>1&&(u[h]=[0,0,1][w-2]),w==3)for(S=v;S<y;S++)u[S+1]=u[S+1]+(u[S+1-v]>>>1)&255;for(let _=0;_<g;_++)if(b=h+_*y,x=b+_+1,w=u[x-1],S=0,w==0)for(;S<y;S++)u[b+S]=u[x+S];else if(w==1){for(;S<v;S++)u[b+S]=u[x+S];for(;S<y;S++)u[b+S]=u[x+S]+u[b+S-v]}else if(w==2)for(;S<y;S++)u[b+S]=u[x+S]+u[b+S-y];else if(w==3){for(;S<v;S++)u[b+S]=u[x+S]+(u[b+S-y]>>>1);for(;S<y;S++)u[b+S]=u[x+S]+(u[b+S-y]+u[b+S-v]>>>1)}else{for(;S<v;S++)u[b+S]=u[x+S]+o(0,u[b+S-y],0);for(;S<y;S++)u[b+S]=u[x+S]+o(u[b+S-v],u[b+S-y],u[b+S-v-y])}return u}function o(u,d,h){const f=u+d-h,g=f-u,v=f-d,y=f-h;return g*g<=v*v&&g*g<=y*y?u:v*v<=y*y?d:h}function l(u,d,h){h.width=t.readUint(u,d),d+=4,h.height=t.readUint(u,d),d+=4,h.depth=u[d],d++,h.ctype=u[d],d++,h.compress=u[d],d++,h.filter=u[d],d++,h.interlace=u[d],d++}function c(u,d,h,f,g,v,y,b,x){const w=Math.min(d,g),S=Math.min(h,v);let _=0,A=0;for(let U=0;U<S;U++)for(let N=0;N<w;N++)if(y>=0&&b>=0?(_=U*d+N<<2,A=(b+U)*g+y+N<<2):(_=(-b+U)*d-y+N<<2,A=U*g+N<<2),x==0)f[A]=u[_],f[A+1]=u[_+1],f[A+2]=u[_+2],f[A+3]=u[_+3];else if(x==1){var C=u[_+3]*.00392156862745098,T=u[_]*C,P=u[_+1]*C,O=u[_+2]*C,I=f[A+3]*(1/255),R=f[A]*I,B=f[A+1]*I,D=f[A+2]*I;const j=1-C,L=C+I*j,F=L==0?0:1/L;f[A+3]=255*L,f[A+0]=(T+R*j)*F,f[A+1]=(P+B*j)*F,f[A+2]=(O+D*j)*F}else if(x==2)C=u[_+3],T=u[_],P=u[_+1],O=u[_+2],I=f[A+3],R=f[A],B=f[A+1],D=f[A+2],C==I&&T==R&&P==B&&O==D?(f[A]=0,f[A+1]=0,f[A+2]=0,f[A+3]=0):(f[A]=T,f[A+1]=P,f[A+2]=O,f[A+3]=C);else if(x==3){if(C=u[_+3],T=u[_],P=u[_+1],O=u[_+2],I=f[A+3],R=f[A],B=f[A+1],D=f[A+2],C==I&&T==R&&P==B&&O==D)continue;if(C<220&&I>20)return!1}return!0}return{decode:function(d){const h=new Uint8Array(d);let f=8;const g=t,v=g.readUshort,y=g.readUint,b={tabs:{},frames:[]},x=new Uint8Array(h.length);let w,S=0,_=0;const A=[137,80,78,71,13,10,26,10];for(var C=0;C<8;C++)if(h[C]!=A[C])throw"The input is not a PNG file!";for(;f<h.length;){const U=g.readUint(h,f);f+=4;const N=g.readASCII(h,f,4);if(f+=4,N=="IHDR")l(h,f,b);else if(N=="iCCP"){for(var T=f;h[T]!=0;)T++;g.readASCII(h,f,T-f),h[T+1];const j=h.slice(T+2,f+U);let L=null;try{L=n(j)}catch{L=i(j)}b.tabs[N]=L}else if(N=="CgBI")b.tabs[N]=h.slice(f,f+4);else if(N=="IDAT"){for(C=0;C<U;C++)x[S+C]=h[f+C];S+=U}else if(N=="acTL")b.tabs[N]={num_frames:y(h,f),num_plays:y(h,f+4)},w=new Uint8Array(h.length);else if(N=="fcTL"){_!=0&&((D=b.frames[b.frames.length-1]).data=r(b,w.slice(0,_),D.rect.width,D.rect.height),_=0);const j={x:y(h,f+12),y:y(h,f+16),width:y(h,f+4),height:y(h,f+8)};let L=v(h,f+22);L=v(h,f+20)/(L==0?100:L);const F={rect:j,delay:Math.round(1e3*L),dispose:h[f+24],blend:h[f+25]};b.frames.push(F)}else if(N=="fdAT"){for(C=0;C<U-4;C++)w[_+C]=h[f+C+4];_+=U-4}else if(N=="pHYs")b.tabs[N]=[g.readUint(h,f),g.readUint(h,f+4),h[f+8]];else if(N=="cHRM")for(b.tabs[N]=[],C=0;C<8;C++)b.tabs[N].push(g.readUint(h,f+4*C));else if(N=="tEXt"||N=="zTXt"){b.tabs[N]==null&&(b.tabs[N]={});var P=g.nextZero(h,f),O=g.readASCII(h,f,P-f),I=f+U-P-1;if(N=="tEXt")B=g.readASCII(h,P+1,I);else{var R=n(h.slice(P+2,P+2+I));B=g.readUTF8(R,0,R.length)}b.tabs[N][O]=B}else if(N=="iTXt"){b.tabs[N]==null&&(b.tabs[N]={}),P=0,T=f,P=g.nextZero(h,T),O=g.readASCII(h,T,P-T);const j=h[T=P+1];var B;h[T+1],T+=2,P=g.nextZero(h,T),g.readASCII(h,T,P-T),T=P+1,P=g.nextZero(h,T),g.readUTF8(h,T,P-T),I=U-((T=P+1)-f),j==0?B=g.readUTF8(h,T,I):(R=n(h.slice(T,T+I)),B=g.readUTF8(R,0,R.length)),b.tabs[N][O]=B}else if(N=="PLTE")b.tabs[N]=g.readBytes(h,f,U);else if(N=="hIST"){const j=b.tabs.PLTE.length/3;for(b.tabs[N]=[],C=0;C<j;C++)b.tabs[N].push(v(h,f+2*C))}else if(N=="tRNS")b.ctype==3?b.tabs[N]=g.readBytes(h,f,U):b.ctype==0?b.tabs[N]=v(h,f):b.ctype==2&&(b.tabs[N]=[v(h,f),v(h,f+2),v(h,f+4)]);else if(N=="gAMA")b.tabs[N]=g.readUint(h,f)/1e5;else if(N=="sRGB")b.tabs[N]=h[f];else if(N=="bKGD")b.ctype==0||b.ctype==4?b.tabs[N]=[v(h,f)]:b.ctype==2||b.ctype==6?b.tabs[N]=[v(h,f),v(h,f+2),v(h,f+4)]:b.ctype==3&&(b.tabs[N]=h[f]);else if(N=="IEND")break;f+=U,g.readUint(h,f),f+=4}var D;return _!=0&&((D=b.frames[b.frames.length-1]).data=r(b,w.slice(0,_),D.rect.width,D.rect.height)),b.data=r(b,x,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(d){const h=d.width,f=d.height;if(d.tabs.acTL==null)return[e(d.data,h,f,d).buffer];const g=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const v=h*f*4,y=new Uint8Array(v),b=new Uint8Array(v),x=new Uint8Array(v);for(let S=0;S<d.frames.length;S++){const _=d.frames[S],A=_.rect.x,C=_.rect.y,T=_.rect.width,P=_.rect.height,O=e(_.data,T,P,d);if(S!=0)for(var w=0;w<v;w++)x[w]=y[w];if(_.blend==0?c(O,T,P,y,h,f,A,C,0):_.blend==1&&c(O,T,P,y,h,f,A,C,1),g.push(y.buffer.slice(0)),_.dispose!=0){if(_.dispose==1)c(b,T,P,y,h,f,A,C,0);else if(_.dispose==2)for(w=0;w<v;w++)y[w]=x[w]}}return g},_paeth:o,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=wo,{_bin:e}=wo,r=wo._paeth;var n={table:function(){const T=new Uint32Array(256);for(let P=0;P<256;P++){let O=P;for(let I=0;I<8;I++)1&O?O=3988292384^O>>>1:O>>>=1;T[P]=O}return T}(),update(T,P,O,I){for(let R=0;R<I;R++)T=n.table[255&(T^P[O+R])]^T>>>8;return T},crc:(T,P,O)=>4294967295^n.update(4294967295,T,P,O)};function i(T,P,O,I){P[O]+=T[0]*I>>4,P[O+1]+=T[1]*I>>4,P[O+2]+=T[2]*I>>4,P[O+3]+=T[3]*I>>4}function s(T){return Math.max(0,Math.min(255,T))}function a(T,P){const O=T[0]-P[0],I=T[1]-P[1],R=T[2]-P[2],B=T[3]-P[3];return O*O+I*I+R*R+B*B}function o(T,P,O,I,R,B,D){D==null&&(D=1);const U=I.length,N=[];for(var j=0;j<U;j++){const H=I[j];N.push([H>>>0&255,H>>>8&255,H>>>16&255,H>>>24&255])}for(j=0;j<U;j++){let H=4294967295;for(var L=0,F=0;F<U;F++){var z=a(N[j],N[F]);F!=j&&z<H&&(H=z,L=F)}}const K=new Uint32Array(R.buffer),V=new Int16Array(P*O*4),G=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(j=0;j<G.length;j++)G[j]=255*((G[j]+.5)/16-.5);for(let H=0;H<O;H++)for(let Z=0;Z<P;Z++){var X;j=4*(H*P+Z),D!=2?X=[s(T[j]+V[j]),s(T[j+1]+V[j+1]),s(T[j+2]+V[j+2]),s(T[j+3]+V[j+3])]:(z=G[4*(3&H)+(3&Z)],X=[s(T[j]+z),s(T[j+1]+z),s(T[j+2]+z),s(T[j+3]+z)]),L=0;let J=16777215;for(F=0;F<U;F++){const oe=a(X,N[F]);oe<J&&(J=oe,L=F)}const ce=N[L],ee=[X[0]-ce[0],X[1]-ce[1],X[2]-ce[2],X[3]-ce[3]];D==1&&(Z!=P-1&&i(ee,V,j+4,7),H!=O-1&&(Z!=0&&i(ee,V,j+4*P-4,3),i(ee,V,j+4*P,5),Z!=P-1&&i(ee,V,j+4*P+4,1))),B[j>>2]=L,K[j>>2]=I[L]}}function l(T,P,O,I,R){R==null&&(R={});const{crc:B}=n,D=e.writeUint,U=e.writeUshort,N=e.writeASCII;let j=8;const L=T.frames.length>1;let F,z=!1,K=33+(L?20:0);if(R.sRGB!=null&&(K+=13),R.pHYs!=null&&(K+=21),R.iCCP!=null&&(F=pako.deflate(R.iCCP),K+=21+F.length+4),T.ctype==3){for(var V=T.plte.length,G=0;G<V;G++)T.plte[G]>>>24!=255&&(z=!0);K+=8+3*V+4+(z?8+1*V+4:0)}for(var X=0;X<T.frames.length;X++)L&&(K+=38),K+=(ce=T.frames[X]).cimg.length+12,X!=0&&(K+=4);K+=12;const H=new Uint8Array(K),Z=[137,80,78,71,13,10,26,10];for(G=0;G<8;G++)H[G]=Z[G];if(D(H,j,13),j+=4,N(H,j,"IHDR"),j+=4,D(H,j,P),j+=4,D(H,j,O),j+=4,H[j]=T.depth,j++,H[j]=T.ctype,j++,H[j]=0,j++,H[j]=0,j++,H[j]=0,j++,D(H,j,B(H,j-17,17)),j+=4,R.sRGB!=null&&(D(H,j,1),j+=4,N(H,j,"sRGB"),j+=4,H[j]=R.sRGB,j++,D(H,j,B(H,j-5,5)),j+=4),R.iCCP!=null){const ee=13+F.length;D(H,j,ee),j+=4,N(H,j,"iCCP"),j+=4,N(H,j,"ICC profile"),j+=11,j+=2,H.set(F,j),j+=F.length,D(H,j,B(H,j-(ee+4),ee+4)),j+=4}if(R.pHYs!=null&&(D(H,j,9),j+=4,N(H,j,"pHYs"),j+=4,D(H,j,R.pHYs[0]),j+=4,D(H,j,R.pHYs[1]),j+=4,H[j]=R.pHYs[2],j++,D(H,j,B(H,j-13,13)),j+=4),L&&(D(H,j,8),j+=4,N(H,j,"acTL"),j+=4,D(H,j,T.frames.length),j+=4,D(H,j,R.loop!=null?R.loop:0),j+=4,D(H,j,B(H,j-12,12)),j+=4),T.ctype==3){for(D(H,j,3*(V=T.plte.length)),j+=4,N(H,j,"PLTE"),j+=4,G=0;G<V;G++){const ee=3*G,oe=T.plte[G],ue=255&oe,te=oe>>>8&255,De=oe>>>16&255;H[j+ee+0]=ue,H[j+ee+1]=te,H[j+ee+2]=De}if(j+=3*V,D(H,j,B(H,j-3*V-4,3*V+4)),j+=4,z){for(D(H,j,V),j+=4,N(H,j,"tRNS"),j+=4,G=0;G<V;G++)H[j+G]=T.plte[G]>>>24&255;j+=V,D(H,j,B(H,j-V-4,V+4)),j+=4}}let J=0;for(X=0;X<T.frames.length;X++){var ce=T.frames[X];L&&(D(H,j,26),j+=4,N(H,j,"fcTL"),j+=4,D(H,j,J++),j+=4,D(H,j,ce.rect.width),j+=4,D(H,j,ce.rect.height),j+=4,D(H,j,ce.rect.x),j+=4,D(H,j,ce.rect.y),j+=4,U(H,j,I[X]),j+=2,U(H,j,1e3),j+=2,H[j]=ce.dispose,j++,H[j]=ce.blend,j++,D(H,j,B(H,j-30,30)),j+=4);const ee=ce.cimg;D(H,j,(V=ee.length)+(X==0?0:4)),j+=4;const oe=j;N(H,j,X==0?"IDAT":"fdAT"),j+=4,X!=0&&(D(H,j,J++),j+=4),H.set(ee,j),j+=V,D(H,j,B(H,oe,j-oe)),j+=4}return D(H,j,0),j+=4,N(H,j,"IEND"),j+=4,D(H,j,B(H,j-4,4)),j+=4,H.buffer}function c(T,P,O){for(let I=0;I<T.frames.length;I++){const R=T.frames[I];R.rect.width;const B=R.rect.height,D=new Uint8Array(B*R.bpl+B);R.cimg=f(R.img,B,R.bpp,R.bpl,D,P,O)}}function u(T,P,O,I,R){const B=R[0],D=R[1],U=R[2],N=R[3],j=R[4],L=R[5];let F=6,z=8,K=255;for(var V=0;V<T.length;V++){const He=new Uint8Array(T[V]);for(var G=He.length,X=0;X<G;X+=4)K&=He[X+3]}const H=K!=255,Z=function(Ue,tt,bt,er,q,Y){const Q=[];for(var re=0;re<Ue.length;re++){const Ze=new Uint8Array(Ue[re]),xr=new Uint32Array(Ze.buffer);var le;let vt=0,sn=0,tr=tt,Mn=bt,Pr=er?1:0;if(re!=0){const Dt=Y||er||re==1||Q[re-2].dispose!=0?1:2;let Os=0,Aa=1e9;for(let ed=0;ed<Dt;ed++){var se=new Uint8Array(Ue[re-1-ed]);const xN=new Uint32Array(Ue[re-1-ed]);let Ea=tt,Yn=bt,td=-1,We=-1;for(let At=0;At<bt;At++)for(let bn=0;bn<tt;bn++)xr[_e=At*tt+bn]!=xN[_e]&&(bn<Ea&&(Ea=bn),bn>td&&(td=bn),At<Yn&&(Yn=At),At>We&&(We=At));td==-1&&(Ea=Yn=td=We=0),q&&((1&Ea)==1&&Ea--,(1&Yn)==1&&Yn--);const Pt=(td-Ea+1)*(We-Yn+1);Pt<Aa&&(Aa=Pt,Os=ed,vt=Ea,sn=Yn,tr=td-Ea+1,Mn=We-Yn+1)}se=new Uint8Array(Ue[re-1-Os]),Os==1&&(Q[re-1].dispose=2),le=new Uint8Array(tr*Mn*4),t(se,tt,bt,le,tr,Mn,-vt,-sn,0),Pr=t(Ze,tt,bt,le,tr,Mn,-vt,-sn,3)?1:0,Pr==1?h(Ze,tt,bt,le,{x:vt,y:sn,width:tr,height:Mn}):t(Ze,tt,bt,le,tr,Mn,-vt,-sn,0)}else le=Ze.slice(0);Q.push({rect:{x:vt,y:sn,width:tr,height:Mn},img:le,blend:Pr,dispose:0})}if(er)for(re=0;re<Q.length;re++){if((Le=Q[re]).blend==1)continue;const Ze=Le.rect,xr=Q[re-1].rect,vt=Math.min(Ze.x,xr.x),sn=Math.min(Ze.y,xr.y),tr={x:vt,y:sn,width:Math.max(Ze.x+Ze.width,xr.x+xr.width)-vt,height:Math.max(Ze.y+Ze.height,xr.y+xr.height)-sn};Q[re-1].dispose=1,re-1!=0&&d(Ue,tt,bt,Q,re-1,tr,q),d(Ue,tt,bt,Q,re,tr,q)}let ye=0;if(Ue.length!=1)for(var _e=0;_e<Q.length;_e++){var Le;ye+=(Le=Q[_e]).rect.width*Le.rect.height}return Q}(T,P,O,B,D,U),J={},ce=[],ee=[];if(I!=0){const He=[];for(X=0;X<Z.length;X++)He.push(Z[X].img.buffer);const Ue=function(q){let Y=0;for(var Q=0;Q<q.length;Q++)Y+=q[Q].byteLength;const re=new Uint8Array(Y);let le=0;for(Q=0;Q<q.length;Q++){const se=new Uint8Array(q[Q]),ye=se.length;for(let _e=0;_e<ye;_e+=4){let Le=se[_e],Ze=se[_e+1],xr=se[_e+2];const vt=se[_e+3];vt==0&&(Le=Ze=xr=0),re[le+_e]=Le,re[le+_e+1]=Ze,re[le+_e+2]=xr,re[le+_e+3]=vt}le+=ye}return re.buffer}(He),tt=v(Ue,I);for(X=0;X<tt.plte.length;X++)ce.push(tt.plte[X].est.rgba);let bt=0;for(X=0;X<Z.length;X++){const er=(ue=Z[X]).img.length;var oe=new Uint8Array(tt.inds.buffer,bt>>2,er>>2);ee.push(oe);const q=new Uint8Array(tt.abuf,bt,er);L&&o(ue.img,ue.rect.width,ue.rect.height,ce,q,oe),ue.img.set(q),bt+=er}}else for(V=0;V<Z.length;V++){var ue=Z[V];const He=new Uint32Array(ue.img.buffer);var te=ue.rect.width;for(G=He.length,oe=new Uint8Array(G),ee.push(oe),X=0;X<G;X++){const Ue=He[X];if(X!=0&&Ue==He[X-1])oe[X]=oe[X-1];else if(X>te&&Ue==He[X-te])oe[X]=oe[X-te];else{let tt=J[Ue];if(tt==null&&(J[Ue]=tt=ce.length,ce.push(Ue),ce.length>=300))break;oe[X]=tt}}}const De=ce.length;for(De<=256&&j==0&&(z=De<=2?1:De<=4?2:De<=16?4:8,z=Math.max(z,N)),V=0;V<Z.length;V++){(ue=Z[V]).rect.x,ue.rect.y,te=ue.rect.width;const He=ue.rect.height;let Ue=ue.img;new Uint32Array(Ue.buffer);let tt=4*te,bt=4;if(De<=256&&j==0){tt=Math.ceil(z*te/8);var je=new Uint8Array(tt*He);const er=ee[V];for(let q=0;q<He;q++){X=q*tt;const Y=q*te;if(z==8)for(var $e=0;$e<te;$e++)je[X+$e]=er[Y+$e];else if(z==4)for($e=0;$e<te;$e++)je[X+($e>>1)]|=er[Y+$e]<<4-4*(1&$e);else if(z==2)for($e=0;$e<te;$e++)je[X+($e>>2)]|=er[Y+$e]<<6-2*(3&$e);else if(z==1)for($e=0;$e<te;$e++)je[X+($e>>3)]|=er[Y+$e]<<7-1*(7&$e)}Ue=je,F=3,bt=1}else if(H==0&&Z.length==1){je=new Uint8Array(te*He*3);const er=te*He;for(X=0;X<er;X++){const q=3*X,Y=4*X;je[q]=Ue[Y],je[q+1]=Ue[Y+1],je[q+2]=Ue[Y+2]}Ue=je,F=2,bt=3,tt=3*te}ue.img=Ue,ue.bpl=tt,ue.bpp=bt}return{ctype:F,depth:z,plte:ce,frames:Z}}function d(T,P,O,I,R,B,D){const U=Uint8Array,N=Uint32Array,j=new U(T[R-1]),L=new N(T[R-1]),F=R+1<T.length?new U(T[R+1]):null,z=new U(T[R]),K=new N(z.buffer);let V=P,G=O,X=-1,H=-1;for(let J=0;J<B.height;J++)for(let ce=0;ce<B.width;ce++){const ee=B.x+ce,oe=B.y+J,ue=oe*P+ee,te=K[ue];te==0||I[R-1].dispose==0&&L[ue]==te&&(F==null||F[4*ue+3]!=0)||(ee<V&&(V=ee),ee>X&&(X=ee),oe<G&&(G=oe),oe>H&&(H=oe))}X==-1&&(V=G=X=H=0),D&&((1&V)==1&&V--,(1&G)==1&&G--),B={x:V,y:G,width:X-V+1,height:H-G+1};const Z=I[R];Z.rect=B,Z.blend=1,Z.img=new Uint8Array(B.width*B.height*4),I[R-1].dispose==0?(t(j,P,O,Z.img,B.width,B.height,-B.x,-B.y,0),h(z,P,O,Z.img,B)):t(z,P,O,Z.img,B.width,B.height,-B.x,-B.y,0)}function h(T,P,O,I,R){t(T,P,O,I,R.width,R.height,-R.x,-R.y,2)}function f(T,P,O,I,R,B,D){const U=[];let N,j=[0,1,2,3,4];B!=-1?j=[B]:(P*I>5e5||O==1)&&(j=[0]),D&&(N={level:0});const L=tje;for(var F=0;F<j.length;F++){for(let V=0;V<P;V++)g(R,T,V,I,O,j[F]);U.push(L.deflate(R,N))}let z,K=1e9;for(F=0;F<U.length;F++)U[F].length<K&&(z=F,K=U[F].length);return U[z]}function g(T,P,O,I,R,B){const D=O*I;let U=D+O;if(T[U]=B,U++,B==0)if(I<500)for(var N=0;N<I;N++)T[U+N]=P[D+N];else T.set(new Uint8Array(P.buffer,D,I),U);else if(B==1){for(N=0;N<R;N++)T[U+N]=P[D+N];for(N=R;N<I;N++)T[U+N]=P[D+N]-P[D+N-R]+256&255}else if(O==0){for(N=0;N<R;N++)T[U+N]=P[D+N];if(B==2)for(N=R;N<I;N++)T[U+N]=P[D+N];if(B==3)for(N=R;N<I;N++)T[U+N]=P[D+N]-(P[D+N-R]>>1)+256&255;if(B==4)for(N=R;N<I;N++)T[U+N]=P[D+N]-r(P[D+N-R],0,0)+256&255}else{if(B==2)for(N=0;N<I;N++)T[U+N]=P[D+N]+256-P[D+N-I]&255;if(B==3){for(N=0;N<R;N++)T[U+N]=P[D+N]+256-(P[D+N-I]>>1)&255;for(N=R;N<I;N++)T[U+N]=P[D+N]+256-(P[D+N-I]+P[D+N-R]>>1)&255}if(B==4){for(N=0;N<R;N++)T[U+N]=P[D+N]+256-r(0,P[D+N-I],0)&255;for(N=R;N<I;N++)T[U+N]=P[D+N]+256-r(P[D+N-R],P[D+N-I],P[D+N-R-I])&255}}}function v(T,P){const O=new Uint8Array(T),I=O.slice(0),R=new Uint32Array(I.buffer),B=y(I,P),D=B[0],U=B[1],N=O.length,j=new Uint8Array(N>>2);let L;if(O.length<2e7)for(var F=0;F<N;F+=4)L=b(D,z=O[F]*(1/255),K=O[F+1]*(1/255),V=O[F+2]*(1/255),G=O[F+3]*(1/255)),j[F>>2]=L.ind,R[F>>2]=L.est.rgba;else for(F=0;F<N;F+=4){var z=O[F]*.00392156862745098,K=O[F+1]*(1/255),V=O[F+2]*(1/255),G=O[F+3]*(1/255);for(L=D;L.left;)L=x(L.est,z,K,V,G)<=0?L.left:L.right;j[F>>2]=L.ind,R[F>>2]=L.est.rgba}return{abuf:I.buffer,inds:j,plte:U}}function y(T,P,O){O==null&&(O=1e-4);const I=new Uint32Array(T.buffer),R={i0:0,i1:T.length,bst:null,est:null,tdst:0,left:null,right:null};R.bst=_(T,R.i0,R.i1),R.est=A(R.bst);const B=[R];for(;B.length<P;){let U=0,N=0;for(var D=0;D<B.length;D++)B[D].est.L>U&&(U=B[D].est.L,N=D);if(U<O)break;const j=B[N],L=w(T,I,j.i0,j.i1,j.est.e,j.est.eMq255);if(j.i0>=L||j.i1<=L){j.est.L=0;continue}const F={i0:j.i0,i1:L,bst:null,est:null,tdst:0,left:null,right:null};F.bst=_(T,F.i0,F.i1),F.est=A(F.bst);const z={i0:L,i1:j.i1,bst:null,est:null,tdst:0,left:null,right:null};for(z.bst={R:[],m:[],N:j.bst.N-F.bst.N},D=0;D<16;D++)z.bst.R[D]=j.bst.R[D]-F.bst.R[D];for(D=0;D<4;D++)z.bst.m[D]=j.bst.m[D]-F.bst.m[D];z.est=A(z.bst),j.left=F,j.right=z,B[N]=F,B.push(z)}for(B.sort((U,N)=>N.bst.N-U.bst.N),D=0;D<B.length;D++)B[D].ind=D;return[R,B]}function b(T,P,O,I,R){if(T.left==null)return T.tdst=function(F,z,K,V,G){const X=z-F[0],H=K-F[1],Z=V-F[2],J=G-F[3];return X*X+H*H+Z*Z+J*J}(T.est.q,P,O,I,R),T;const B=x(T.est,P,O,I,R);let D=T.left,U=T.right;B>0&&(D=T.right,U=T.left);const N=b(D,P,O,I,R);if(N.tdst<=B*B)return N;const j=b(U,P,O,I,R);return j.tdst<N.tdst?j:N}function x(T,P,O,I,R){const{e:B}=T;return B[0]*P+B[1]*O+B[2]*I+B[3]*R-T.eMq}function w(T,P,O,I,R,B){for(I-=4;O<I;){for(;S(T,O,R)<=B;)O+=4;for(;S(T,I,R)>B;)I-=4;if(O>=I)break;const D=P[O>>2];P[O>>2]=P[I>>2],P[I>>2]=D,O+=4,I-=4}for(;S(T,O,R)>B;)O-=4;return O+4}function S(T,P,O){return T[P]*O[0]+T[P+1]*O[1]+T[P+2]*O[2]+T[P+3]*O[3]}function _(T,P,O){const I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,0,0,0],B=O-P>>2;for(let D=P;D<O;D+=4){const U=T[D]*.00392156862745098,N=T[D+1]*(1/255),j=T[D+2]*(1/255),L=T[D+3]*(1/255);R[0]+=U,R[1]+=N,R[2]+=j,R[3]+=L,I[0]+=U*U,I[1]+=U*N,I[2]+=U*j,I[3]+=U*L,I[5]+=N*N,I[6]+=N*j,I[7]+=N*L,I[10]+=j*j,I[11]+=j*L,I[15]+=L*L}return I[4]=I[1],I[8]=I[2],I[9]=I[6],I[12]=I[3],I[13]=I[7],I[14]=I[11],{R:I,m:R,N:B}}function A(T){const{R:P}=T,{m:O}=T,{N:I}=T,R=O[0],B=O[1],D=O[2],U=O[3],N=I==0?0:1/I,j=[P[0]-R*R*N,P[1]-R*B*N,P[2]-R*D*N,P[3]-R*U*N,P[4]-B*R*N,P[5]-B*B*N,P[6]-B*D*N,P[7]-B*U*N,P[8]-D*R*N,P[9]-D*B*N,P[10]-D*D*N,P[11]-D*U*N,P[12]-U*R*N,P[13]-U*B*N,P[14]-U*D*N,P[15]-U*U*N],L=j,F=C;let z=[Math.random(),Math.random(),Math.random(),Math.random()],K=0,V=0;if(I!=0)for(let X=0;X<16&&(z=F.multVec(L,z),V=Math.sqrt(F.dot(z,z)),z=F.sml(1/V,z),!(X!=0&&Math.abs(V-K)<1e-9));X++)K=V;const G=[R*N,B*N,D*N,U*N];return{Cov:j,q:G,e:z,L:K,eMq255:F.dot(F.sml(255,G),z),eMq:F.dot(z,G),rgba:(Math.round(255*G[3])<<24|Math.round(255*G[2])<<16|Math.round(255*G[1])<<8|Math.round(255*G[0])<<0)>>>0}}var C={multVec:(T,P)=>[T[0]*P[0]+T[1]*P[1]+T[2]*P[2]+T[3]*P[3],T[4]*P[0]+T[5]*P[1]+T[6]*P[2]+T[7]*P[3],T[8]*P[0]+T[9]*P[1]+T[10]*P[2]+T[11]*P[3],T[12]*P[0]+T[13]*P[1]+T[14]*P[2]+T[15]*P[3]],dot:(T,P)=>T[0]*P[0]+T[1]*P[1]+T[2]*P[2]+T[3]*P[3],sml:(T,P)=>[T*P[0],T*P[1],T*P[2],T*P[3]]};wo.encode=function(P,O,I,R,B,D,U){R==null&&(R=0),U==null&&(U=!1);const N=u(P,O,I,R,[!1,!1,!1,0,U,!1]);return c(N,-1),l(N,O,I,B,D)},wo.encodeLL=function(P,O,I,R,B,D,U,N){const j={ctype:0+(R==1?0:2)+(B==0?0:4),depth:D,frames:[]},L=(R+B)*D,F=L*O;for(let z=0;z<P.length;z++)j.frames.push({rect:{x:0,y:0,width:O,height:I},img:new Uint8Array(P[z]),blend:0,dispose:1,bpp:Math.ceil(L/8),bpl:Math.ceil(F/8)});return c(j,0,!0),l(j,O,I,U,N)},wo.encode.compress=u,wo.encode.dither=o,wo.quantize=v,wo.quantize.getKDtree=y,wo.quantize.getNearest=b})();const Eee={toArrayBuffer(t,e){const r=t.width,n=t.height,i=r<<2,s=t.getContext("2d").getImageData(0,0,r,n),a=new Uint32Array(s.data.buffer),o=(32*r+31)/32<<2,l=o*n,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),h=1<<20;let f,g,v,y,b=h,x=0,w=0,S=0;function _(T){d.setUint16(w,T,!0),w+=2}function A(T){d.setUint32(w,T,!0),w+=4}function C(T){w+=T}_(19778),A(c),C(4),A(122),A(108),A(r),A(-n>>>0),_(1),_(32),A(3),A(l),A(2835),A(2835),C(8),A(16711680),A(65280),A(255),A(4278190080),A(1466527264),function T(){for(;x<n&&b>0;){for(y=122+x*o,f=0;f<i;)b--,g=a[S++],v=g>>>24,d.setUint32(y+f,g<<8|v),f+=4;x++}S<a.length?(b=h,setTimeout(T,Eee._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,r=>{e(new Blob([r],{type:"image/bmp"}))})},_dly:9};var xs={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},rje={[xs.CHROME]:16384,[xs.FIREFOX]:11180,[xs.DESKTOP_SAFARI]:16384,[xs.IE]:8192,[xs.IOS]:4096,[xs.ETC]:8192};const Y3=typeof window<"u",Cee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,fP=Y3&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),nje=(Y3||Cee)&&(fP&&fP.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Tee=(Y3||Cee)&&(fP&&fP.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Q3(t,e,r=Date.now()){return new Promise(n=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let o=a.length;const l=new Uint8Array(o);for(;o--;)l[o]=a.charCodeAt(o);const c=new Blob([l],{type:s});c.name=e,c.lastModified=r,n(c)})}function Pee(t){return new Promise((e,r)=>{const n=new Tee;n.onload=()=>e(n.result),n.onerror=i=>r(i),n.readAsDataURL(t)})}function kee(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=i=>r(i),n.src=t})}function qf(){if(qf.cachedResult!==void 0)return qf.cachedResult;let t=xs.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=xs.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=xs.IOS:/Safari/i.test(e)?t=xs.DESKTOP_SAFARI:/Firefox/i.test(e)?t=xs.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=xs.IE),qf.cachedResult=t,qf.cachedResult}function jee(t,e){const r=qf(),n=rje[r];let i=t,s=e,a=i*s;const o=i>s?s/i:i/s;for(;a>n*n;){const l=(n+i)/2,c=(n+s)/2;l<c?(s=c,i=c*o):(s=l*o,i=l),a=i*s}return{width:i,height:s}}function eO(t,e){let r,n;try{if(r=new OffscreenCanvas(t,e),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=t,r.height=e,[r,n]}function Oee(t,e){const{width:r,height:n}=jee(t.width,t.height),[i,s]=eO(r,n);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function TC(){return TC.cachedResult!==void 0||(TC.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),TC.cachedResult}function pP(t,e={}){return new Promise(function(r,n){let i,s;var a=function(){try{return s=Oee(i,e.fileType||t.type),r([i,s])}catch(l){return n(l)}},o=function(l){try{var c=function(u){try{throw u}catch(d){return n(d)}};try{let u;return Pee(t).then(function(d){try{return u=d,kee(u).then(function(h){try{return i=h,function(){try{return a()}catch(f){return n(f)}}()}catch(f){return c(f)}},c)}catch(h){return c(h)}},c)}catch(u){c(u)}}catch(u){return n(u)}};try{if(TC()||[xs.DESKTOP_SAFARI,xs.MOBILE_SAFARI].includes(qf()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,a()}catch{return o()}},o)}catch{o()}})}function mP(t,e,r,n,i=1){return new Promise(function(s,a){let o;if(e==="image/png"){let c,u,d;return c=t.getContext("2d"),{data:u}=c.getImageData(0,0,t.width,t.height),d=wo.encode([u.buffer],t.width,t.height,4096*i),o=new Blob([d],{type:e}),o.name=r,o.lastModified=n,l.call(this)}{let c=function(){return l.call(this)};if(e==="image/bmp")return new Promise(u=>Eee.toBlob(t,u)).then((function(u){try{return o=u,o.name=r,o.lastModified=n,c.call(this)}catch(d){return a(d)}}).bind(this),a);{let u=function(){return c.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(d){try{return o=d,o.name=r,o.lastModified=n,u.call(this)}catch(h){return a(h)}}).bind(this),a);{let d;return d=t.toDataURL(e,i),Q3(d,r,n).then((function(h){try{return o=h,u.call(this)}catch(f){return a(f)}}).bind(this),a)}}}function l(){return s(o)}})}function Bl(t){t.width=0,t.height=0}function lv(){return new Promise(function(t,e){let r,n,i,s;return lv.cachedResult!==void 0?t(lv.cachedResult):Q3("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return r=a,pP(r).then(function(o){try{return n=o[1],mP(n,r.type,r.name,r.lastModified).then(function(l){try{return i=l,Bl(n),pP(i).then(function(c){try{return s=c[0],lv.cachedResult=s.width===1&&s.height===2,t(lv.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(o){return e(o)}},e)})}function Nee(t){return new Promise((e,r)=>{const n=new Tee;n.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const a=s.byteLength;let o=2;for(;o<a;){if(s.getUint16(o+2,!1)<=8)return e(-1);const l=s.getUint16(o,!1);if(o+=2,l==65505){if(s.getUint32(o+=2,!1)!=1165519206)return e(-1);const c=s.getUint16(o+=6,!1)==18761;o+=s.getUint32(o+4,c);const u=s.getUint16(o,c);o+=2;for(let d=0;d<u;d++)if(s.getUint16(o+12*d,c)==274)return e(s.getUint16(o+12*d+8,c))}else{if((65280&l)!=65280)break;o+=s.getUint16(o,!1)}}return e(-1)},n.onerror=i=>r(i),n.readAsArrayBuffer(t)})}function Ree(t,e){const{width:r}=t,{height:n}=t,{maxWidthOrHeight:i}=e;let s,a=t;return isFinite(i)&&(r>i||n>i)&&([a,s]=eO(r,n),r>n?(a.width=i,a.height=n/r*i):(a.width=r/n*i,a.height=i),s.drawImage(t,0,0,a.width,a.height),Bl(t)),a}function Mee(t,e){const{width:r}=t,{height:n}=t,[i,s]=eO(r,n);switch(e>4&&e<9?(i.width=n,i.height=r):(i.width=r,i.height=n),e){case 2:s.transform(-1,0,0,1,r,0);break;case 3:s.transform(-1,0,0,-1,r,n);break;case 4:s.transform(1,0,0,-1,0,n);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,n,0);break;case 7:s.transform(0,-1,-1,0,n,r);break;case 8:s.transform(0,-1,1,0,0,r)}return s.drawImage(t,0,0,r,n),Bl(t),i}function m8(t,e,r=0){return new Promise(function(n,i){let s,a,o,l,c,u,d,h,f,g,v,y,b,x,w,S,_,A,C,T;function P(I=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=I,e.onProgress(Math.min(s,100))}function O(I){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(I,s),100),e.onProgress(s)}return s=r,a=e.maxIteration||10,o=1024*e.maxSizeMB*1024,P(),pP(t,e).then((function(I){try{return[,l]=I,P(),c=Ree(l,e),P(),new Promise(function(R,B){var D;if(!(D=e.exifOrientation))return Nee(t).then((function(N){try{return D=N,U.call(this)}catch(j){return B(j)}}).bind(this),B);function U(){return R(D)}return U.call(this)}).then((function(R){try{return u=R,P(),lv().then((function(B){try{return d=B?c:Mee(c,u),P(),h=e.initialQuality||1,f=e.fileType||t.type,mP(d,f,t.name,t.lastModified,h).then((function(D){try{{let N=function(){if(a--&&(w>o||w>b)){let L,F;return L=T?.95*C.width:C.width,F=T?.95*C.height:C.height,[_,A]=eO(L,F),A.drawImage(C,0,0,L,F),h*=f==="image/png"?.85:.95,mP(_,f,t.name,t.lastModified,h).then(function(z){try{return S=z,Bl(C),C=_,w=S.size,O(Math.min(99,Math.floor((x-w)/(x-o)*100))),N}catch(K){return i(K)}},i)}return[1]},j=function(){return Bl(C),Bl(_),Bl(c),Bl(d),Bl(l),O(100),n(S)};if(g=D,P(),v=g.size>o,y=g.size>t.size,!v&&!y)return O(100),n(g);var U;return b=t.size,x=g.size,w=x,C=d,T=!e.alwaysKeepResolution&&v,(U=(function(L){for(;L;){if(L.then)return void L.then(U,i);try{if(L.pop){if(L.length)return L.pop()?j.call(this):L;L=N}else L=L.call(this)}catch(F){return i(F)}}}).bind(this))(N)}}catch(N){return i(N)}}).bind(this),i)}catch(D){return i(D)}}).bind(this),i)}catch(B){return i(B)}}).bind(this),i)}catch(R){return i(R)}}).bind(this),i)})}const ije=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let D2;function sje(t,e){return new Promise((r,n)=>{D2||(D2=function(a){const o=[];return o.push(a),URL.createObjectURL(new Blob(o))}(ije));const i=new Worker(D2);i.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)i.terminate();else if(a.data.progress===void 0){if(a.data.error)return n(new Error(a.data.error)),void i.terminate();r(a.data.file),i.terminate()}else e.onProgress(a.data.progress)}),i.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function xi(t,e){return new Promise(function(r,n){let i,s,a,o,l,c;if(i={...e},a=0,{onProgress:o}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=f=>{a=f,typeof o=="function"&&o(a)},!(t instanceof Blob||t instanceof nje))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return m8(t,i).then((function(f){try{return s=f,h.call(this)}catch(g){return n(g)}}).bind(this),n);var u=(function(){try{return h.call(this)}catch(f){return n(f)}}).bind(this),d=function(f){try{return m8(t,i).then(function(g){try{return s=g,u()}catch(v){return n(v)}},n)}catch(g){return n(g)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",sje(t,i).then(function(f){try{return s=f,u()}catch{return d()}},d)}catch{d()}function h(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=Aee(t,s))}catch{}return r(s)}})}xi.getDataUrlFromFile=Pee,xi.getFilefromDataUrl=Q3,xi.loadImage=kee,xi.drawImageInCanvas=Oee,xi.drawFileInCanvas=pP,xi.canvasToFile=mP,xi.getExifOrientation=Nee,xi.handleMaxWidthOrHeight=Ree,xi.followExifOrientation=Mee,xi.cleanupCanvasMemory=Bl,xi.isAutoOrientationInBrowser=lv,xi.approximateBelowMaximumCanvasSizeOfBrowser=jee,xi.copyExifWithoutOrientation=Aee,xi.getBrowserName=qf,xi.version="2.0.2";const Z3=t=>{const{user:e}=It(),[r,n]=E.useState([]),[i,s]=E.useState(!0),[a,o]=E.useState(!1),l=E.useCallback(async()=>{if(e)try{s(!0);const{data:g}=await ne.from("group_members").select("group_id").eq("user_id",e.id),v=(g==null?void 0:g.map(w=>w.group_id))||[];if(v.length===0){n([]),s(!1);return}const{data:y,error:b}=await ne.from("study_activities").select(`
          *,
          groups!inner(name),
          subjects(name),
          study_activity_likes(id, user_id)
        `).in("group_id",v).order("created_at",{ascending:!1}).limit(20);if(b)throw b;const x=await Promise.all((y||[]).map(async w=>{var C;const{data:S}=await ne.from("profiles").select("name, plan").eq("id",w.user_id).single(),{data:_}=ne.storage.from("study-activities").getPublicUrl(w.photo_path),A=w.study_activity_likes.some(T=>T.user_id===(e==null?void 0:e.id));return{id:w.id,group_id:w.group_id,group_name:w.groups.name,user_id:w.user_id,user_name:(S==null?void 0:S.name)||"Usurio",user_plan:(S==null?void 0:S.plan)||"free",subject_id:w.subject_id,subject_name:((C=w.subjects)==null?void 0:C.name)||"Matria Geral",description:w.description,photo_path:w.photo_path,photo_url:_.publicUrl,points_earned:w.points_earned,created_at:new Date(w.created_at),likes_count:w.study_activity_likes.length,user_liked:A}}));n(x)}catch(g){console.error("Error fetching global activities:",g),de.error("Erro ao carregar atividades")}finally{s(!1)}},[e]),c=E.useCallback(async()=>{if(t)try{s(!0);const{data:g,error:v}=await ne.from("study_activities").select(`
          *,
          subjects(name),
          study_activity_likes(id, user_id)
        `).eq("group_id",t).order("created_at",{ascending:!1}).limit(10);if(v)throw v;const y=await Promise.all((g||[]).map(async b=>{var _;const{data:x}=await ne.from("profiles").select("name, plan").eq("id",b.user_id).single(),{data:w}=ne.storage.from("study-activities").getPublicUrl(b.photo_path),S=b.study_activity_likes.some(A=>A.user_id===(e==null?void 0:e.id));return{id:b.id,group_id:b.group_id,user_id:b.user_id,user_name:(x==null?void 0:x.name)||"Usurio",user_plan:(x==null?void 0:x.plan)||"free",subject_id:b.subject_id,subject_name:((_=b.subjects)==null?void 0:_.name)||"Matria Geral",description:b.description,photo_path:b.photo_path,photo_url:w.publicUrl,points_earned:b.points_earned,created_at:new Date(b.created_at),likes_count:b.study_activity_likes.length,user_liked:S}}));n(y)}catch(g){console.error("Error fetching group activities:",g),de.error("Erro ao carregar atividades")}finally{s(!1)}},[t,e]);E.useEffect(()=>{if(!e)return;t?c():l();const g=ne.channel("activities_realtime").on("postgres_changes",{event:"*",schema:"public",table:"study_activities",...t?{filter:`group_id=eq.${t}`}:{}},()=>{console.log(" Atividades de estudo atualizadas"),t?c():l()}).on("postgres_changes",{event:"*",schema:"public",table:"study_activity_likes"},()=>{console.log(" Likes de atividades atualizados"),t?c():l()}).subscribe();return()=>{ne.removeChannel(g)}},[l,c,t,e]);const u=async g=>{const v={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/jpeg"};try{return await xi(g,v)}catch(y){return console.error("Error compressing image:",y),g}};return{activities:r,loading:i,uploading:a,createActivity:async(g,v,y,b,x=10)=>{if(!e)return console.error(" Erro: Usurio no autenticado"),de.error("Voc precisa estar logado"),{success:!1,error:"Usurio no autenticado"};console.log(" Iniciando criao de atividade..."),console.log(" Dados:",{targetGroupId:g,description:y,subjectId:b,photoSize:v.size});try{o(!0),console.log(" Validando permisses do usurio...");const{data:w,error:S}=await ne.from("group_members").select("id").eq("group_id",g).eq("user_id",e.id).maybeSingle();if(S)throw console.error(" Erro ao verificar permisses:",S),new Error(`Erro ao verificar permisses: ${S.message}`);if(!w)return console.error(" Usurio no  membro do grupo"),de.error("Voc no  membro deste grupo"),{success:!1,error:"No  membro do grupo"};console.log(" Permisses validadas"),console.log(" Comprimindo imagem...");const _=await u(v);console.log(" Imagem comprimida:",{tamanhoOriginal:v.size,tamanhoComprimido:_.size,reducao:`${Math.round((1-_.size/v.size)*100)}%`}),console.log(" Fazendo upload da imagem...");const A=`${e.id}/${Date.now()}.jpg`,{error:C}=await ne.storage.from("study-activities").upload(A,_);if(C)throw console.error(" Erro no upload:",C),new Error(`Upload falhou: ${C.message}`);console.log(" Upload concludo:",A),console.log(" Criando registro no banco de dados...");const{data:T,error:P}=await ne.from("study_activities").insert({group_id:g,user_id:e.id,subject_id:b||null,description:y,photo_path:A,points_earned:x}).select().single();if(P)throw console.error(" Erro ao criar registro:",P),new Error(`Banco falhou: ${P.message}`);console.log(" Registro criado:",T.id),console.log(" Adicionando pontos ao usurio...");const{error:O}=await ne.rpc("add_user_points",{p_user_id:e.id,p_group_id:g,p_points:x});return O?console.error(" Erro ao adicionar pontos (no crtico):",O):console.log(" Pontos adicionados com sucesso"),de.success(`Atividade criada com sucesso! +${x} pontos`),console.log(" Atividade criada com sucesso!"),console.log(" Atualizando lista de atividades..."),t?await c():await l(),{success:!0,data:T}}catch(w){console.error(" Erro completo ao criar atividade:",w);const S=w instanceof Error?w.message:"Erro desconhecido ao criar atividade";return de.error(S),{success:!1,error:S}}finally{o(!1),console.log(" Processo finalizado")}},deleteActivity:async g=>{try{const v=r.find(b=>b.id===g);if(!v)return;await ne.storage.from("study-activities").remove([v.photo_path]);const{error:y}=await ne.from("study_activities").delete().eq("id",g);if(y)throw y;de.success("Atividade excluda"),n(b=>b.filter(x=>x.id!==g))}catch(v){console.error("Error deleting activity:",v),de.error("Erro ao excluir atividade")}},toggleLike:async g=>{if(e)try{const v=r.find(y=>y.id===g);if(!v)return;if(v.user_liked){const{error:y}=await ne.from("study_activity_likes").delete().eq("activity_id",g).eq("user_id",e.id);if(y)throw y;n(b=>b.map(x=>x.id===g?{...x,likes_count:x.likes_count-1,user_liked:!1}:x))}else{const{error:y}=await ne.from("study_activity_likes").insert({activity_id:g,user_id:e.id});if(y)throw y;n(b=>b.map(x=>x.id===g?{...x,likes_count:x.likes_count+1,user_liked:!0}:x))}}catch(v){console.error("Error toggling like:",v),de.error("Erro ao curtir atividade")}},refreshActivities:t?c:l}},mt=E.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:pe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));mt.displayName="Card";const Gn=E.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:pe("flex flex-col space-y-1.5 p-6",t),...e}));Gn.displayName="CardHeader";const qn=E.forwardRef(({className:t,...e},r)=>m.jsx("h3",{ref:r,className:pe("text-2xl font-semibold leading-none tracking-tight",t),...e}));qn.displayName="CardTitle";const tO=E.forwardRef(({className:t,...e},r)=>m.jsx("p",{ref:r,className:pe("text-sm text-muted-foreground",t),...e}));tO.displayName="CardDescription";const Et=E.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:pe("p-6 pt-0",t),...e}));Et.displayName="CardContent";const J3=E.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:pe("flex items-center p-6 pt-0",t),...e}));J3.displayName="CardFooter";function Iee(t,e=[]){let r=[];function n(s,a){const o=E.createContext(a);o.displayName=s+"Context";const l=r.length;r=[...r,a];const c=d=>{var b;const{scope:h,children:f,...g}=d,v=((b=h==null?void 0:h[t])==null?void 0:b[l])||o,y=E.useMemo(()=>g,Object.values(g));return m.jsx(v.Provider,{value:y,children:f})};c.displayName=s+"Provider";function u(d,h){var v;const f=((v=h==null?void 0:h[t])==null?void 0:v[l])||o,g=E.useContext(f);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=r.map(a=>E.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,aje(i,...e)]}function aje(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...o,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var Dee={exports:{}},$ee={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=E;function oje(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lje=typeof Object.is=="function"?Object.is:oje,cje=Db.useState,uje=Db.useEffect,dje=Db.useLayoutEffect,hje=Db.useDebugValue;function fje(t,e){var r=e(),n=cje({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return dje(function(){i.value=r,i.getSnapshot=e,$2(i)&&s({inst:i})},[t,r,e]),uje(function(){return $2(i)&&s({inst:i}),t(function(){$2(i)&&s({inst:i})})},[t]),hje(r),r}function $2(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!lje(t,r)}catch{return!0}}function pje(t,e){return e()}var mje=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pje:fje;$ee.useSyncExternalStore=Db.useSyncExternalStore!==void 0?Db.useSyncExternalStore:mje;Dee.exports=$ee;var gje=Dee.exports;function vje(){return gje.useSyncExternalStore(yje,()=>!0,()=>!1)}function yje(){return()=>{}}var e4="Avatar",[bje]=Iee(e4),[xje,Lee]=bje(e4),Fee=E.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=E.useState("idle");return m.jsx(xje,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:m.jsx(is.span,{...n,ref:e})})});Fee.displayName=e4;var Bee="AvatarImage",Uee=E.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,a=Lee(Bee,r),o=wje(n,s),l=Yr(c=>{i(c),a.onImageLoadingStatusChange(c)});return nn(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?m.jsx(is.img,{...s,ref:e,src:n}):null});Uee.displayName=Bee;var Vee="AvatarFallback",zee=E.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=Lee(Vee,r),[a,o]=E.useState(n===void 0);return E.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(l)}},[n]),a&&s.imageLoadingStatus!=="loaded"?m.jsx(is.span,{...i,ref:e}):null});zee.displayName=Vee;function g8(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function wje(t,{referrerPolicy:e,crossOrigin:r}){const n=vje(),i=E.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[a,o]=E.useState(()=>g8(s,t));return nn(()=>{o(g8(s,t))},[s,t]),nn(()=>{const l=d=>()=>{o(d)};if(!s)return;const c=l("loaded"),u=l("error");return s.addEventListener("load",c),s.addEventListener("error",u),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",c),s.removeEventListener("error",u)}},[s,r,e]),a}var Hee=Fee,Wee=Uee,Gee=zee;const CA=E.forwardRef(({className:t,...e},r)=>m.jsx(Hee,{ref:r,className:pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));CA.displayName=Hee.displayName;const Sje=E.forwardRef(({className:t,...e},r)=>m.jsx(Wee,{ref:r,className:pe("aspect-square h-full w-full",t),...e}));Sje.displayName=Wee.displayName;const TA=E.forwardRef(({className:t,...e},r)=>m.jsx(Gee,{ref:r,className:pe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));TA.displayName=Gee.displayName;const _je={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},Aje={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"},PA=({size:t="sm",showTooltip:e=!0,className:r})=>{const n=m.jsx("div",{className:pe("inline-flex items-center justify-center rounded-full bg-gradient-to-br from-yellow-400 to-amber-500 shadow-sm",Aje[t],r),children:m.jsx(bu,{className:pe("text-white",_je[t])})});return e?m.jsxs(eY,{children:[m.jsx(tY,{asChild:!0,children:n}),m.jsx(CB,{children:m.jsx("p",{className:"text-xs",children:"Usurio Premium"})})]}):n},qee=({activity:t,onLike:e,onDelete:r,compact:n=!1,showGroupBadge:i=!1})=>{const{user:s}=It(),a=Ii(),o=(s==null?void 0:s.id)===t.user_id,l=Wj(t.created_at,{addSuffix:!0,locale:Gj}),c=()=>{t.group_id&&a(`/group/${t.group_id}`)};return m.jsxs(mt,{className:n?"p-3":"",children:[m.jsxs(Et,{className:n?"p-0":"pt-6",children:[m.jsxs("div",{className:"flex items-start justify-between mb-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(CA,{className:"h-8 w-8",children:m.jsx(TA,{className:"bg-primary text-primary-foreground text-xs",children:t.user_name.charAt(0).toUpperCase()})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("p",{className:"text-sm font-medium",children:t.user_name}),t.user_plan==="premium"&&m.jsx(PA,{size:"sm"})]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:l})]})]}),m.jsxs("div",{className:"flex gap-1",children:[i&&t.group_name&&m.jsx(Mr,{variant:"outline",className:"cursor-pointer hover:bg-accent",onClick:c,children:t.group_name}),t.subject_name&&m.jsxs(Mr,{variant:"secondary",className:"gap-1",children:[m.jsx(Pm,{className:"h-3 w-3"}),t.subject_name]}),m.jsxs(Mr,{variant:"default",children:["+",t.points_earned," pts"]})]})]}),m.jsx("img",{src:t.photo_url,alt:"Atividade",className:"w-full rounded-lg object-cover mb-3",style:{maxHeight:n?"200px":"400px"}}),m.jsx("p",{className:`text-sm ${n?"line-clamp-2":""}`,children:t.description})]}),m.jsxs(J3,{className:`flex items-center justify-between ${n?"px-0 pb-0 pt-3":""}`,children:[m.jsxs(ge,{variant:"ghost",size:"sm",className:"gap-2",onClick:()=>e(t.id),children:[m.jsx(Bfe,{className:`h-4 w-4 ${t.user_liked?"fill-red-500 text-red-500":""}`}),m.jsx("span",{className:"text-xs",children:t.likes_count})]}),o&&m.jsx(ge,{variant:"ghost",size:"sm",className:"gap-2 text-destructive hover:text-destructive",onClick:()=>r(t.id),children:m.jsx(aB,{className:"h-4 w-4"})})]})]})};function Ut({className:t,...e}){return m.jsx("div",{className:pe("animate-pulse rounded-md bg-muted",t),...e})}const Eje=({groupId:t})=>{const{activities:e,loading:r,toggleLike:n,deleteActivity:i}=Z3(t);return r?m.jsxs("div",{className:"space-y-4",children:[m.jsx(Ut,{className:"h-64 w-full"}),m.jsx(Ut,{className:"h-64 w-full"}),m.jsx(Ut,{className:"h-64 w-full"})]}):e.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:m.jsx(rB,{className:"h-8 w-8 text-muted-foreground"})}),m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma atividade ainda"}),m.jsx("p",{className:"text-muted-foreground",children:"Seja o primeiro a compartilhar uma atividade de estudo!"})]}):m.jsx("div",{className:"space-y-4",children:e.map(s=>m.jsx(qee,{activity:{...s,user_plan:s.user_plan},onLike:n,onDelete:i,showGroupBadge:!0},s.id))})},Cje=({onClick:t})=>m.jsx(ge,{className:"fixed bottom-20 right-6 z-50 h-14 w-14 rounded-full shadow-lg",size:"icon",onClick:t,children:m.jsx(rB,{className:"h-6 w-6"})}),Kee=E.forwardRef(({className:t,...e},r)=>m.jsx("textarea",{className:pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Kee.displayName="Textarea";function b1(t,[e,r]){return Math.min(r,Math.max(e,t))}function kA(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Tje=[" ","Enter","ArrowUp","ArrowDown"],Pje=[" ","Enter"],Im="Select",[rO,nO,kje]=dA(Im),[O0]=gi(Im,[kje,w0]),iO=w0(),[jje,df]=O0(Im),[Oje,Nje]=O0(Im),Xee=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:f,form:g}=t,v=iO(e),[y,b]=E.useState(null),[x,w]=E.useState(null),[S,_]=E.useState(!1),A=Zm(c),[C,T]=ao({prop:n,defaultProp:i??!1,onChange:s,caller:Im}),[P,O]=ao({prop:a,defaultProp:o,onChange:l,caller:Im}),I=E.useRef(null),R=y?g||!!y.closest("form"):!0,[B,D]=E.useState(new Set),U=Array.from(B).map(N=>N.props.value).join(";");return m.jsx(wB,{...v,children:m.jsxs(jje,{required:f,scope:e,trigger:y,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:pi(),value:P,onValueChange:O,open:C,onOpenChange:T,dir:A,triggerPointerDownPosRef:I,disabled:h,children:[m.jsx(rO.Provider,{scope:e,children:m.jsx(Oje,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(N=>{D(j=>new Set(j).add(N))},[]),onNativeOptionRemove:E.useCallback(N=>{D(j=>{const L=new Set(j);return L.delete(N),L})},[]),children:r})}),R?m.jsxs(bte,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:N=>O(N.target.value),disabled:h,form:g,children:[P===void 0?m.jsx("option",{value:""}):null,Array.from(B)]},U):null]})})};Xee.displayName=Im;var Yee="SelectTrigger",Qee=E.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=iO(r),a=df(Yee,r),o=a.disabled||n,l=Fe(e,a.onTriggerChange),c=nO(r),u=E.useRef("touch"),[d,h,f]=wte(v=>{const y=c().filter(w=>!w.disabled),b=y.find(w=>w.value===a.value),x=Ste(y,v,b);x!==void 0&&a.onValueChange(x.value)}),g=v=>{o||(a.onOpenChange(!0),f()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return m.jsx(SB,{asChild:!0,...s,children:m.jsx(ke.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":xte(a.value)?"":void 0,...i,ref:l,onClick:he(i.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&g(v)}),onPointerDown:he(i.onPointerDown,v=>{u.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:he(i.onKeyDown,v=>{const y=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(y&&v.key===" ")&&Tje.includes(v.key)&&(g(),v.preventDefault())})})})});Qee.displayName=Yee;var Zee="SelectValue",Jee=E.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...o}=t,l=df(Zee,r),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=Fe(e,l.onValueNodeChange);return nn(()=>{c(u)},[c,u]),m.jsx(ke.span,{...o,ref:d,style:{pointerEvents:"none"},children:xte(l.value)?m.jsx(m.Fragment,{children:a}):s})});Jee.displayName=Zee;var Rje="SelectIcon",ete=E.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return m.jsx(ke.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});ete.displayName=Rje;var Mje="SelectPortal",tte=t=>m.jsx(hA,{asChild:!0,...t});tte.displayName=Mje;var Dm="SelectContent",rte=E.forwardRef((t,e)=>{const r=df(Dm,t.__scopeSelect),[n,i]=E.useState();if(nn(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Qm.createPortal(m.jsx(nte,{scope:t.__scopeSelect,children:m.jsx(rO.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),s):null}return m.jsx(ite,{...t,ref:e})});rte.displayName=Dm;var Ao=10,[nte,hf]=O0(Dm),Ije="SelectContentImpl",Dje=Cb("SelectContent.RemoveScroll"),ite=E.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:v,avoidCollisions:y,...b}=t,x=df(Dm,r),[w,S]=E.useState(null),[_,A]=E.useState(null),C=Fe(e,J=>S(J)),[T,P]=E.useState(null),[O,I]=E.useState(null),R=nO(r),[B,D]=E.useState(!1),U=E.useRef(!1);E.useEffect(()=>{if(w)return y3(w)},[w]),m3();const N=E.useCallback(J=>{const[ce,...ee]=R().map(te=>te.ref.current),[oe]=ee.slice(-1),ue=document.activeElement;for(const te of J)if(te===ue||(te==null||te.scrollIntoView({block:"nearest"}),te===ce&&_&&(_.scrollTop=0),te===oe&&_&&(_.scrollTop=_.scrollHeight),te==null||te.focus(),document.activeElement!==ue))return},[R,_]),j=E.useCallback(()=>N([T,w]),[N,T,w]);E.useEffect(()=>{B&&j()},[B,j]);const{onOpenChange:L,triggerPointerDownPosRef:F}=x;E.useEffect(()=>{if(w){let J={x:0,y:0};const ce=oe=>{var ue,te;J={x:Math.abs(Math.round(oe.pageX)-(((ue=F.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((te=F.current)==null?void 0:te.y)??0))}},ee=oe=>{J.x<=10&&J.y<=10?oe.preventDefault():w.contains(oe.target)||L(!1),document.removeEventListener("pointermove",ce),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ee,{capture:!0})}}},[w,L,F]),E.useEffect(()=>{const J=()=>L(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[L]);const[z,K]=wte(J=>{const ce=R().filter(ue=>!ue.disabled),ee=ce.find(ue=>ue.ref.current===document.activeElement),oe=Ste(ce,J,ee);oe&&setTimeout(()=>oe.ref.current.focus())}),V=E.useCallback((J,ce,ee)=>{const oe=!U.current&&!ee;(x.value!==void 0&&x.value===ce||oe)&&(P(J),oe&&(U.current=!0))},[x.value]),G=E.useCallback(()=>w==null?void 0:w.focus(),[w]),X=E.useCallback((J,ce,ee)=>{const oe=!U.current&&!ee;(x.value!==void 0&&x.value===ce||oe)&&I(J)},[x.value]),H=n==="popper"?LI:ste,Z=H===LI?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:v,avoidCollisions:y}:{};return m.jsx(nte,{scope:r,content:w,viewport:_,onViewportChange:A,itemRefCallback:V,selectedItem:T,onItemLeave:G,itemTextRefCallback:X,focusSelectedItem:j,selectedItemText:O,position:n,isPositioned:B,searchRef:z,children:m.jsx(Uj,{as:Dje,allowPinchZoom:!0,children:m.jsx(Fj,{asChild:!0,trapped:x.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:he(i,J=>{var ce;(ce=x.trigger)==null||ce.focus({preventScroll:!0}),J.preventDefault()}),children:m.jsx(g0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:m.jsx(H,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:J=>J.preventDefault(),...b,...Z,onPlaced:()=>D(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:he(b.onKeyDown,J=>{const ce=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ce&&J.key.length===1&&K(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let oe=R().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(J.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ue=J.target,te=oe.indexOf(ue);oe=oe.slice(te+1)}setTimeout(()=>N(oe)),J.preventDefault()}})})})})})})});ite.displayName=Ije;var $je="SelectItemAlignedPosition",ste=E.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=df(Dm,r),a=hf(Dm,r),[o,l]=E.useState(null),[c,u]=E.useState(null),d=Fe(e,C=>u(C)),h=nO(r),f=E.useRef(!1),g=E.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:b,focusSelectedItem:x}=a,w=E.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&v&&y&&b){const C=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),O=b.getBoundingClientRect();if(s.dir!=="rtl"){const ue=O.left-T.left,te=P.left-ue,De=C.left-te,je=C.width+De,$e=Math.max(je,T.width),He=window.innerWidth-Ao,Ue=b1(te,[Ao,Math.max(Ao,He-$e)]);o.style.minWidth=je+"px",o.style.left=Ue+"px"}else{const ue=T.right-O.right,te=window.innerWidth-P.right-ue,De=window.innerWidth-C.right-te,je=C.width+De,$e=Math.max(je,T.width),He=window.innerWidth-Ao,Ue=b1(te,[Ao,Math.max(Ao,He-$e)]);o.style.minWidth=je+"px",o.style.right=Ue+"px"}const I=h(),R=window.innerHeight-Ao*2,B=v.scrollHeight,D=window.getComputedStyle(c),U=parseInt(D.borderTopWidth,10),N=parseInt(D.paddingTop,10),j=parseInt(D.borderBottomWidth,10),L=parseInt(D.paddingBottom,10),F=U+N+B+L+j,z=Math.min(y.offsetHeight*5,F),K=window.getComputedStyle(v),V=parseInt(K.paddingTop,10),G=parseInt(K.paddingBottom,10),X=C.top+C.height/2-Ao,H=R-X,Z=y.offsetHeight/2,J=y.offsetTop+Z,ce=U+N+J,ee=F-ce;if(ce<=X){const ue=I.length>0&&y===I[I.length-1].ref.current;o.style.bottom="0px";const te=c.clientHeight-v.offsetTop-v.offsetHeight,De=Math.max(H,Z+(ue?G:0)+te+j),je=ce+De;o.style.height=je+"px"}else{const ue=I.length>0&&y===I[0].ref.current;o.style.top="0px";const De=Math.max(X,U+v.offsetTop+(ue?V:0)+Z)+ee;o.style.height=De+"px",v.scrollTop=ce-X+v.offsetTop}o.style.margin=`${Ao}px 0`,o.style.minHeight=z+"px",o.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[h,s.trigger,s.valueNode,o,c,v,y,b,s.dir,n]);nn(()=>w(),[w]);const[S,_]=E.useState();nn(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const A=E.useCallback(C=>{C&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return m.jsx(Fje,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:f,onScrollButtonChange:A,children:m.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:m.jsx(ke.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ste.displayName=$je;var Lje="SelectPopperPosition",LI=E.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Ao,...s}=t,a=iO(r);return m.jsx(_B,{...a,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});LI.displayName=Lje;var[Fje,t4]=O0(Dm,{}),FI="SelectViewport",ate=E.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=hf(FI,r),a=t4(FI,r),o=Fe(e,s.onViewportChange),l=E.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),m.jsx(rO.Slot,{scope:r,children:m.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:he(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&d){const f=Math.abs(l.current-u.scrollTop);if(f>0){const g=window.innerHeight-Ao*2,v=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),b=Math.max(v,y);if(b<g){const x=b+f,w=Math.min(g,x),S=x-w;d.style.height=w+"px",d.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});ate.displayName=FI;var ote="SelectGroup",[Bje,Uje]=O0(ote),Vje=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=pi();return m.jsx(Bje,{scope:r,id:i,children:m.jsx(ke.div,{role:"group","aria-labelledby":i,...n,ref:e})})});Vje.displayName=ote;var lte="SelectLabel",cte=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Uje(lte,r);return m.jsx(ke.div,{id:i.id,...n,ref:e})});cte.displayName=lte;var gP="SelectItem",[zje,ute]=O0(gP),dte=E.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=t,o=df(gP,r),l=hf(gP,r),c=o.value===n,[u,d]=E.useState(s??""),[h,f]=E.useState(!1),g=Fe(e,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,n,i)}),v=pi(),y=E.useRef("touch"),b=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(zje,{scope:r,value:n,disabled:i,textId:v,isSelected:c,onItemTextChange:E.useCallback(x=>{d(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:m.jsx(rO.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:m.jsx(ke.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:he(a.onFocus,()=>f(!0)),onBlur:he(a.onBlur,()=>f(!1)),onClick:he(a.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:he(a.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:he(a.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:he(a.onPointerMove,x=>{var w;y.current=x.pointerType,i?(w=l.onItemLeave)==null||w.call(l):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(a.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:he(a.onKeyDown,x=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(Pje.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});dte.displayName=gP;var Mx="SelectItemText",hte=E.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,a=df(Mx,r),o=hf(Mx,r),l=ute(Mx,r),c=Nje(Mx,r),[u,d]=E.useState(null),h=Fe(e,b=>d(b),l.onItemTextChange,b=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,b,l.value,l.disabled)}),f=u==null?void 0:u.textContent,g=E.useMemo(()=>m.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=c;return nn(()=>(v(g),()=>y(g)),[v,y,g]),m.jsxs(m.Fragment,{children:[m.jsx(ke.span,{id:l.textId,...s,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Qm.createPortal(s.children,a.valueNode):null]})});hte.displayName=Mx;var fte="SelectItemIndicator",pte=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return ute(fte,r).isSelected?m.jsx(ke.span,{"aria-hidden":!0,...n,ref:e}):null});pte.displayName=fte;var BI="SelectScrollUpButton",mte=E.forwardRef((t,e)=>{const r=hf(BI,t.__scopeSelect),n=t4(BI,t.__scopeSelect),[i,s]=E.useState(!1),a=Fe(e,n.onScrollButtonChange);return nn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?m.jsx(vte,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});mte.displayName=BI;var UI="SelectScrollDownButton",gte=E.forwardRef((t,e)=>{const r=hf(UI,t.__scopeSelect),n=t4(UI,t.__scopeSelect),[i,s]=E.useState(!1),a=Fe(e,n.onScrollButtonChange);return nn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?m.jsx(vte,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});gte.displayName=UI;var vte=E.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=hf("SelectScrollButton",r),a=E.useRef(null),o=nO(r),l=E.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return E.useEffect(()=>()=>l(),[l]),nn(()=>{var u;const c=o().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),m.jsx(ke.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:he(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:he(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:he(i.onPointerLeave,()=>{l()})})}),Hje="SelectSeparator",yte=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return m.jsx(ke.div,{"aria-hidden":!0,...n,ref:e})});yte.displayName=Hje;var VI="SelectArrow",Wje=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=iO(r),s=df(VI,r),a=hf(VI,r);return s.open&&a.position==="popper"?m.jsx(AB,{...i,...n,ref:e}):null});Wje.displayName=VI;var Gje="SelectBubbleInput",bte=E.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=E.useRef(null),s=Fe(n,i),a=kA(e);return E.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const d=new Event("change",{bubbles:!0});u.call(o,e),o.dispatchEvent(d)}},[a,e]),m.jsx(ke.select,{...r,style:{...F7,...r.style},ref:s,defaultValue:e})});bte.displayName=Gje;function xte(t){return t===""||t===void 0}function wte(t){const e=Yr(t),r=E.useRef(""),n=E.useRef(0),i=E.useCallback(a=>{const o=r.current+a;e(o),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=E.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function Ste(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=qje(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==r));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function qje(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Kje=Xee,_te=Qee,Xje=Jee,Yje=ete,Qje=tte,Ate=rte,Zje=ate,Ete=cte,Cte=dte,Jje=hte,eOe=pte,Tte=mte,Pte=gte,kte=yte;const $m=Kje,Lm=Xje,Zh=E.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(_te,{ref:n,className:pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,m.jsx(Yje,{asChild:!0,children:m.jsx(lX,{className:"h-4 w-4 opacity-50"})})]}));Zh.displayName=_te.displayName;const jte=E.forwardRef(({className:t,...e},r)=>m.jsx(Tte,{ref:r,className:pe("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(Rfe,{className:"h-4 w-4"})}));jte.displayName=Tte.displayName;const Ote=E.forwardRef(({className:t,...e},r)=>m.jsx(Pte,{ref:r,className:pe("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(lX,{className:"h-4 w-4"})}));Ote.displayName=Pte.displayName;const Jh=E.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>m.jsx(Qje,{children:m.jsxs(Ate,{ref:i,className:pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[m.jsx(jte,{}),m.jsx(Zje,{className:pe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(Ote,{})]})}));Jh.displayName=Ate.displayName;const tOe=E.forwardRef(({className:t,...e},r)=>m.jsx(Ete,{ref:r,className:pe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));tOe.displayName=Ete.displayName;const Yo=E.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(Cte,{ref:n,className:pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(eOe,{children:m.jsx(km,{className:"h-4 w-4"})})}),m.jsx(Jje,{children:e})]}));Yo.displayName=Cte.displayName;const rOe=E.forwardRef(({className:t,...e},r)=>m.jsx(kte,{ref:r,className:pe("-mx-1 my-1 h-px bg-muted",t),...e}));rOe.displayName=kte.displayName;const Nte=()=>{const{user:t}=It(),[e,r]=E.useState([]),[n,i]=E.useState([]),[s,a]=E.useState([]),[o,l]=E.useState(!0);E.useEffect(()=>{if(!t)return;c();const f=ne.channel("sessions_realtime").on("postgres_changes",{event:"*",schema:"public",table:"study_sessions",filter:`user_id=eq.${t.id}`},()=>{c()}).subscribe();return()=>{ne.removeChannel(f)}},[t]);const c=async()=>{try{l(!0);const{data:f}=await ne.from("group_members").select(`
          group_id,
          groups (
            id,
            name
          )
        `).eq("user_id",t==null?void 0:t.id),g=(f==null?void 0:f.map(x=>({id:x.groups.id,name:x.groups.name})))||[];a(g);const v=g.map(x=>x.id);if(v.length>0){const{data:x}=await ne.from("subjects").select("*").in("group_id",v).order("name"),w=(x==null?void 0:x.map(S=>({id:S.id,name:S.name,group_id:S.group_id})))||[];i(w)}const{data:y}=await ne.from("study_sessions").select("*").eq("user_id",t==null?void 0:t.id).order("started_at",{ascending:!1}),b=(y==null?void 0:y.map(x=>{var w;return{id:x.id,subject_id:x.subject_id,subject_name:((w=n.find(S=>S.id===x.subject_id))==null?void 0:w.name)||"Matria Geral",duration_minutes:x.duration_minutes,points:Math.floor(x.duration_minutes),started_at:new Date(x.started_at),completed_at:x.completed_at?new Date(x.completed_at):null}}))||[];r(b)}catch(f){console.error("Error fetching study data:",f)}finally{l(!1)}},u=f=>!f||f==="general"?null:f;return{studySessions:e,subjects:n,groups:s,loading:o,createStudySession:async(f,g,v)=>{var y;if(!t)return{success:!1,error:"Usurio no autenticado"};try{const b=u(f),x=Math.floor(g/60),w=x,S=n.find(O=>O.id===b),_=(S==null?void 0:S.group_id)||v||null,{data:A,error:C}=await ne.from("study_sessions").insert({user_id:t.id,subject_id:b,group_id:_,duration_minutes:x,started_at:new Date(Date.now()-g*1e3).toISOString(),completed_at:new Date().toISOString()}).select().single();if(C)throw C;if(b){const{data:O}=await ne.from("goals").select("*").eq("subject_id",b).eq("type","time");if(O&&O.length>0)for(const I of O){const R=I.current+x;await ne.from("goals").update({current:R,updated_at:new Date().toISOString()}).eq("id",I.id)}}if(_){const{data:O}=await ne.from("user_points").select("points").eq("user_id",t.id).eq("group_id",_).maybeSingle(),I=(O==null?void 0:O.points)||0;await ne.from("user_points").upsert({user_id:t.id,group_id:_,points:I+w,updated_at:new Date().toISOString()},{onConflict:"user_id,group_id"})}const T=((y=n.find(O=>O.id===b))==null?void 0:y.name)||"Matria Geral",P={id:A.id,subject_id:A.subject_id,subject_name:T,duration_minutes:A.duration_minutes,points:w,started_at:new Date(A.started_at),completed_at:new Date(A.completed_at)};return r(O=>[P,...O]),{success:!0,points:w}}catch(b){return console.error("Error creating study session:",b),{success:!1,error:"Erro ao salvar sesso de estudo"}}},getSubjectsByGroup:f=>n.filter(g=>g.group_id===f),refreshData:c}},nOe=({open:t,onOpenChange:e,groupId:r,userGroups:n=[]})=>{const[i,s]=E.useState(null),[a,o]=E.useState(null),[l,c]=E.useState(""),[u,d]=E.useState(""),[h,f]=E.useState(r||""),g=E.useRef(null),{createActivity:v,uploading:y}=Z3(r),{getSubjectsByGroup:b}=Nte(),x=h?b(h):[],w=E.useMemo(()=>{let T=0;i&&(T+=5);const P=l.trim().length;return P>0&&P<=50?T+=2:P>50&&P<=150?T+=5:P>150&&(T+=8),u&&(T+=5),T},[i,l,u]),S=()=>{const T=l.trim().length;return T===0?0:T<=50?2:T<=150?5:8},_=T=>{var I;const P=(I=T.target.files)==null?void 0:I[0];if(!P)return;if(!P.type.startsWith("image/")){de.error("Por favor selecione uma imagem");return}if(P.size>5*1024*1024){de.error("Imagem muito grande. Mximo 5MB");return}s(P);const O=new FileReader;O.onloadend=()=>{o(O.result)},O.readAsDataURL(P)},A=async()=>{if(!i){de.error("Selecione uma foto");return}if(!l.trim()){de.error("Adicione uma descrio");return}const T=h||r;if(!T){de.error("Selecione um grupo");return}(await v(T,i,l,u||void 0,w)).success&&(s(null),o(null),c(""),d(""),e(!1))},C=()=>{s(null),o(null),g.current&&(g.current.value="")};return m.jsx(va,{open:t,onOpenChange:e,children:m.jsxs(Cs,{className:"max-w-md max-h-[90vh] flex flex-col p-0",children:[m.jsxs(Ts,{className:"px-6 pt-6 pb-4",children:[m.jsx(Ps,{children:"Nova Atividade de Estudo"}),m.jsx(tg,{children:"Compartilhe sua sesso de estudos com o grupo"})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto px-6 space-y-4",children:[a?m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:a,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),m.jsx(ge,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:C,children:m.jsx(Wh,{className:"h-4 w-4"})})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:_,className:"hidden"}),m.jsx("div",{className:"flex gap-2",children:m.jsxs(ge,{variant:"outline",className:"flex-1",onClick:()=>{var T;return(T=g.current)==null?void 0:T.click()},children:[m.jsx(Ufe,{className:"mr-2 h-4 w-4"}),"Escolher da Galeria"]})})]}),!r&&n.length>0&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{children:"Grupo"}),m.jsxs($m,{value:h,onValueChange:f,children:[m.jsx(Zh,{children:m.jsx(Lm,{placeholder:"Selecione o grupo"})}),m.jsx(Jh,{children:n.map(T=>m.jsx(Yo,{value:T.id,children:T.name},T.id))})]})]}),x.length>0&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{children:"Matria (opcional)"}),m.jsxs($m,{value:u,onValueChange:d,children:[m.jsx(Zh,{children:m.jsx(Lm,{placeholder:"Selecione a matria (opcional)"})}),m.jsx(Jh,{children:x.map(T=>m.jsx(Yo,{value:T.id,children:T.name},T.id))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{htmlFor:"description",children:"Descrio"}),m.jsx(Kee,{id:"description",placeholder:"O que voc estudou?",value:l,onChange:T=>c(T.target.value),maxLength:500,rows:3}),m.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[l.length,"/500"]})]}),m.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 border border-amber-200 dark:border-amber-800",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Pontos que voc ganhar:"}),m.jsxs("span",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["+",w]})]}),m.jsxs("div",{className:"space-y-1 text-xs text-amber-700 dark:text-amber-300",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:" Foto"}),m.jsx("span",{className:i?"text-green-600 dark:text-green-400 font-medium":"text-muted-foreground",children:i?"+5":""})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsxs("span",{children:[" Descrio ",l.length>0&&`(${l.trim().length} chars)`]}),m.jsx("span",{className:S()>0?"text-green-600 dark:text-green-400 font-medium":"text-muted-foreground",children:S()===0?"":`+${S()}`})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:" Matria"}),m.jsx("span",{className:u?"text-green-600 dark:text-green-400 font-medium":"text-muted-foreground",children:u?"+5":""})]})]}),w<18&&m.jsx("p",{className:"text-[10px] text-amber-600 dark:text-amber-400 mt-2 italic",children:" Dica: descries longas (+150 chars) e selecionar matria do mais pontos!"})]})]}),m.jsx("div",{className:"px-6 py-4 border-t border-border bg-background",children:m.jsx(ge,{className:"w-full",onClick:A,disabled:y,children:y?"Enviando...":`Publicar Atividade (+${w} pontos)`})})]})})},iOe="b47ac10b-58cc-4372-a567-0e02b2c3d479",sOe=D3({name:Ph().min(3,"Nome do grupo deve ter pelo menos 3 caracteres").max(50,"Nome do grupo no pode ter mais de 50 caracteres"),description:Ph().max(200,"Descrio no pode ter mais de 200 caracteres").optional()}),aOe=({onCreateGroup:t})=>{const{t:e}=Wt(),[r,n]=E.useState(null),[i,s]=E.useState(!1),a=q3({resolver:K3(sOe),defaultValues:{name:"",description:""}}),o=async l=>{s(!0),n(null);try{await t(l.name,l.description||""),a.reset()}catch(c){n(c instanceof Error?c.message:"Erro ao criar grupo. Tente novamente.")}finally{s(!1)}};return m.jsxs("div",{className:"space-y-4",children:[r&&m.jsxs(Zj,{variant:"destructive",children:[m.jsx(nB,{className:"h-4 w-4"}),m.jsx(Jj,{children:r})]}),m.jsx(X3,{...a,children:m.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4",children:[m.jsx(mu,{control:a.control,name:"name",render:({field:l})=>m.jsxs(Wl,{children:[m.jsx(Gl,{children:"Nome do Grupo"}),m.jsx(ql,{children:m.jsx(Cr,{placeholder:"Digite o nome do grupo",...l})}),m.jsx(Kl,{})]})}),m.jsx(mu,{control:a.control,name:"description",render:({field:l})=>m.jsxs(Wl,{children:[m.jsx(Gl,{children:"Descrio (opcional)"}),m.jsx(ql,{children:m.jsx(Cr,{placeholder:"Descreva seu grupo de estudo",...l})}),m.jsx(Kl,{})]})}),m.jsx(ge,{type:"submit",className:"w-full bg-study-primary",disabled:i,children:i?"Criando...":"Criar Grupo"})]})})]})},oOe=()=>{const{t}=Wt(),e=Ii(),{user:r}=It(),{groups:n,loading:i,createGroup:s,joinGroup:a}=$Ae(),[o,l]=E.useState(""),[c,u]=E.useState(!1),[d,h]=E.useState(!1),f=async(y,b)=>{const x=await s(y,b);if(x.success)u(!1),e(`/group/${x.groupId}`),de.success("Grupo criado com sucesso!");else if(x.error==="Criar grupos requer uma assinatura paga")u(!1),e("/plans"),de.error(x.error);else throw new Error(x.error)},g=async y=>{if(y.isPremium&&(r==null?void 0:r.plan)!=="premium"){de.error("Este  um grupo exclusivo para usurios Premium"),e("/plans");return}if(y.id===iOe){if((r==null?void 0:r.plan)!=="premium"){de.error("Este  um grupo exclusivo para usurios Premium"),e("/plans");return}if(!y.isMember){const b=await a(y.id);if(b.success)de.success("Voc entrou no grupo!");else{de.error(b.error);return}}e(`/group/${y.id}`);return}if(!y.isMember){de.error("Voc no faz parte deste grupo");return}e(`/group/${y.id}`)},v=n.filter(y=>y.name.toLowerCase().includes(o.toLowerCase())||y.description.toLowerCase().includes(o.toLowerCase()));return i?m.jsx(Lr,{children:m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-study-primary mx-auto mb-2"}),m.jsx("p",{className:"text-gray-500",children:"Carregando grupos..."})]})})}):m.jsxs(Lr,{children:[m.jsxs("div",{className:"mb-4 flex flex-col gap-2 sm:flex-row sm:items-center",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Cr,{type:"text",placeholder:t("groups.search"),value:o,onChange:y=>l(y.target.value),className:"pl-10 pr-4"}),m.jsx(iB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(JX,{children:m.jsxs(eY,{children:[m.jsx(tY,{asChild:!0,children:m.jsxs(ge,{onClick:()=>{if((r==null?void 0:r.plan)!=="premium"){de.error("Recurso exclusivo para usurios Premium"),e("/plans");return}e("/generate-test")},variant:"outline",className:"flex items-center gap-2 border-yellow-500 text-yellow-700 hover:bg-yellow-50 dark:text-yellow-400 dark:hover:bg-yellow-950",children:[m.jsx(CM,{size:18}),m.jsx("span",{children:"Criar Teste IA"}),m.jsx(bu,{size:14,className:"text-yellow-500"})]})}),m.jsxs(CB,{children:[m.jsx("p",{children:"Gere testes personalizados com Inteligncia Artificial"}),m.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-500",children:" Exclusivo Premium"})]})]})}),m.jsxs(va,{open:c,onOpenChange:u,children:[m.jsx(Rm,{asChild:!0,children:m.jsxs(ge,{className:"bg-study-primary flex items-center gap-2",children:[m.jsx(Tb,{size:18}),m.jsx("span",{children:"Criar Grupo"})]})}),m.jsxs(Cs,{children:[m.jsx(Ts,{children:m.jsx(Ps,{children:t("groups.create")})}),m.jsx(aOe,{onCreateGroup:f})]})]})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Atividades Recentes"}),m.jsx(Eje,{})]}),m.jsx("div",{className:"mb-4",children:m.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Grupos Disponveis"})}),m.jsx("div",{className:"space-y-3",children:v.length>0?v.map(y=>m.jsxs("div",{className:"card hover:border-study-primary cursor-pointer transition-colors",onClick:()=>g(y),children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("h3",{className:"font-semibold text-lg flex items-center",children:y.name}),m.jsx("div",{className:"flex gap-1",children:y.isMember&&m.jsx(Mr,{variant:"secondary",children:"Membro"})})]}),m.jsx("p",{className:"text-sm text-gray-500",children:y.description}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx(v0,{size:16,className:"mr-1 text-gray-400"}),m.jsxs("span",{className:"text-sm text-gray-500",children:[y.members," ",t("groups.members")]})]})]},y.id)):m.jsxs("div",{className:"text-center py-8",children:[m.jsx("p",{className:"text-gray-500",children:t("groups.noGroups")}),m.jsx(ge,{className:"mt-4 bg-study-primary",onClick:()=>u(!0),children:t("groups.createFirst")})]})}),m.jsx(Cje,{onClick:()=>h(!0)}),m.jsx(nOe,{open:d,onOpenChange:h,userGroups:n.filter(y=>y.isMember).map(y=>({id:y.id,name:y.name}))})]})};var sO="Tabs",[lOe]=gi(sO,[k0]),Rte=k0(),[cOe,r4]=lOe(sO),Mte=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=t,u=Zm(o),[d,h]=ao({prop:n,onChange:i,defaultProp:s??"",caller:sO});return m.jsx(cOe,{scope:r,baseId:pi(),value:d,onValueChange:h,orientation:a,dir:u,activationMode:l,children:m.jsx(ke.div,{dir:u,"data-orientation":a,...c,ref:e})})});Mte.displayName=sO;var Ite="TabsList",Dte=E.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=r4(Ite,r),a=Rte(r);return m.jsx(g3,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:m.jsx(ke.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Dte.displayName=Ite;var $te="TabsTrigger",Lte=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,a=r4($te,r),o=Rte(r),l=Ute(a.baseId,n),c=Vte(a.baseId,n),u=n===a.value;return m.jsx(v3,{asChild:!0,...o,focusable:!i,active:u,children:m.jsx(ke.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:he(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(n):d.preventDefault()}),onKeyDown:he(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(n)}),onFocus:he(t.onFocus,()=>{const d=a.activationMode!=="manual";!u&&!i&&d&&a.onValueChange(n)})})})});Lte.displayName=$te;var Fte="TabsContent",Bte=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=t,o=r4(Fte,r),l=Ute(o.baseId,n),c=Vte(o.baseId,n),u=n===o.value,d=E.useRef(u);return E.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),m.jsx(vi,{present:i||u,children:({present:h})=>m.jsx(ke.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});Bte.displayName=Fte;function Ute(t,e){return`${t}-trigger-${e}`}function Vte(t,e){return`${t}-content-${e}`}var uOe=Mte,zte=Dte,Hte=Lte,Wte=Bte;const $u=uOe,uc=E.forwardRef(({className:t,...e},r)=>m.jsx(zte,{ref:r,className:pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));uc.displayName=zte.displayName;const Vt=E.forwardRef(({className:t,...e},r)=>m.jsx(Hte,{ref:r,className:pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Vt.displayName=Hte.displayName;const oa=E.forwardRef(({className:t,...e},r)=>m.jsx(Wte,{ref:r,className:pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));oa.displayName=Wte.displayName;const dOe=[{id:"portuguese",name:"Portugus"},{id:"math",name:"Matemtica"},{id:"history",name:"Histria"},{id:"geography",name:"Geografia"},{id:"physics",name:"Fsica"},{id:"chemistry",name:"Qumica"},{id:"biology",name:"Biologia"},{id:"literature",name:"Literatura"},{id:"english",name:"Ingls"},{id:"essay",name:"Redao"}],hOe=[...dOe],L2={exercises:5,pages:1,time:1},fOe=t=>{const{t:e,i18n:r}=Wt(),{user:n}=It(),[i,s]=E.useState([]),[a,o]=E.useState(""),[l,c]=E.useState(!1),[u,d]=E.useState([]),[h,f]=E.useState([]),[g,v]=E.useState(""),[y,b]=E.useState("exercises"),[x,w]=E.useState(""),[S,_]=E.useState(!1),[A,C]=E.useState(null),[T,P]=E.useState(!1),[O,I]=E.useState(!1),[R,B]=E.useState(null),[D,U]=E.useState(!1),[N,j]=E.useState([]),[L,F]=E.useState(""),[z,K]=E.useState(0),[V,G]=E.useState([]),[X,H]=E.useState(!0),[Z,J]=E.useState(""),ce=E.useCallback(async()=>{if(!(!t||!n)){H(!0);try{const{data:Y}=await ne.from("groups").select("name, type").eq("id",t).single();J((Y==null?void 0:Y.name)||"");const{data:Q}=await ne.from("group_members").select("is_admin").eq("group_id",t).eq("user_id",n.id).single();P((Q==null?void 0:Q.is_admin)||!1);const{data:re}=await ne.from("group_members").select(`
          user_id,
          is_admin
        `).eq("group_id",t),le=(re==null?void 0:re.map(Dt=>Dt.user_id))||[],{data:se}=await ne.from("profiles").select("id, name").in("id",le),ye=(re==null?void 0:re.map(Dt=>{var Os;return{id:Dt.user_id,name:((Os=se==null?void 0:se.find(Aa=>Aa.id===Dt.user_id))==null?void 0:Os.name)||"Unknown User",isAdmin:Dt.is_admin}}))||[];G(ye);const{data:_e}=await ne.from("subjects").select("*").eq("group_id",t).order("name"),Le=(_e==null?void 0:_e.map(Dt=>({id:Dt.id,name:Dt.name})))||[];s(Le);const{data:Ze}=await ne.from("goals").select("*").eq("group_id",t).order("created_at"),xr=(Ze==null?void 0:Ze.map(Dt=>({id:Dt.id,subject:Dt.subject_id||"",type:Dt.type,target:Dt.target,current:Dt.current})))||[];f(xr);const{data:vt}=await ne.from("messages").select(`
          id,
          content,
          created_at,
          user_id
        `).eq("group_id",t).order("created_at"),sn=(vt==null?void 0:vt.map(Dt=>Dt.user_id))||[],{data:tr}=await ne.from("profiles").select("id, name").in("id",sn),Mn=(vt==null?void 0:vt.map(Dt=>{var Os;return{id:Dt.id,userId:Dt.user_id,userName:((Os=tr==null?void 0:tr.find(Aa=>Aa.id===Dt.user_id))==null?void 0:Os.name)||"Unknown User",text:Dt.content,timestamp:new Date(Dt.created_at)}}))||[];j(Mn);const{data:Pr}=await ne.from("user_points").select("points").eq("group_id",t).eq("user_id",n.id).single();K((Pr==null?void 0:Pr.points)||0)}catch(Y){console.error("Error fetching group data:",Y),de.error("Erro ao carregar dados do grupo")}finally{H(!1)}}},[t,n]);return E.useEffect(()=>{if(!t||!n)return;ce();const Y=ne.channel(`group-${t}-realtime`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`group_id=eq.${t}`},async Q=>{const{data:re}=await ne.from("profiles").select("name").eq("id",Q.new.user_id).single(),le={id:Q.new.id,userId:Q.new.user_id,userName:(re==null?void 0:re.name)||"Unknown User",text:Q.new.content,timestamp:new Date(Q.new.created_at)};j(se=>[...se,le])}).on("postgres_changes",{event:"*",schema:"public",table:"goals",filter:`group_id=eq.${t}`},()=>{console.log(" Metas do grupo atualizadas em tempo real"),(async()=>{const{data:re}=await ne.from("goals").select("*").eq("group_id",t).order("created_at"),le=(re==null?void 0:re.map(se=>({id:se.id,subject:se.subject_id||"",type:se.type,target:se.target,current:se.current})))||[];f(le)})()}).on("postgres_changes",{event:"*",schema:"public",table:"user_points",filter:`user_id=eq.${n.id}`},Q=>{Q.new&&Q.new.group_id===t&&(console.log(" Pontos do usurio atualizados"),K(Q.new.points))}).subscribe();return()=>{ne.removeChannel(Y)}},[ce,t,n]),{subjects:i,setSubjects:s,newSubject:a,setNewSubject:o,files:u,goals:h,newGoalSubject:g,setNewGoalSubject:v,newGoalType:y,setNewGoalType:b,newGoalTarget:x,setNewGoalTarget:w,uploadDialogOpen:S,setUploadDialogOpen:_,newFile:A,currentUserIsAdmin:T,deleteConfirmOpen:O,setDeleteConfirmOpen:I,subjectToDelete:R,addVestibularDialogOpen:D,setAddVestibularDialogOpen:U,messages:N,messageText:L,setMessageText:F,members:V,loading:X,userPoints:z,groupName:Z,handleAddSubject:async Y=>{if(Y.preventDefault(),!(!a.trim()||!t||!n||!T))try{const{data:Q,error:re}=await ne.from("subjects").insert({name:a,group_id:t}).select().single();if(re)throw re;const le={id:Q.id,name:Q.name};s([...i,le]),o(""),de.success("Matria adicionada com sucesso")}catch(Q){console.error("Error adding subject:",Q),de.error("Erro ao adicionar matria")}},handleDeleteSubject:Y=>{B(Y),I(!0)},confirmDeleteSubject:async()=>{if(!(!R||!T))try{const{error:Y}=await ne.from("subjects").delete().eq("id",R);if(Y)throw Y;const Q=i.filter(re=>re.id!==R);s(Q),I(!1),B(null),de.success("Matria excluda com sucesso")}catch(Y){console.error("Error deleting subject:",Y),de.error("Erro ao excluir matria")}},handleAddVestibularModule:async()=>{if(!(!t||!n||!T))try{const Y=i.map(_e=>_e.name),Q=hOe.map(_e=>_e.name).filter(_e=>!Y.includes(_e));if(Q.length===0){de.info("Todas as matrias do vestibular j foram adicionadas");return}const re=Q.map(_e=>({name:_e,group_id:t})),{data:le,error:se}=await ne.from("subjects").insert(re).select();if(se)throw se;const ye=le.map(_e=>({id:_e.id,name:_e.name}));s([...i,...ye]),U(!1),de.success("Mdulo Vestibular adicionado com sucesso")}catch(Y){console.error("Error adding vestibular module:",Y),de.error("Erro ao adicionar mdulo vestibular")}},handleAddGoal:async Y=>{if(Y.preventDefault(),!(!g||!y||!x||!t||!n))try{const{data:Q,error:re}=await ne.from("goals").insert({group_id:t,subject_id:g,type:y,target:parseInt(x),current:0,created_by:n.id}).select().single();if(re)throw re;const le={id:Q.id,subject:Q.subject_id||"",type:Q.type,target:Q.target,current:Q.current};f([...h,le]),v(""),b("exercises"),w(""),de.success("Meta adicionada com sucesso")}catch(Q){console.error("Error adding goal:",Q),de.error("Erro ao adicionar meta")}},updateGoalProgress:async(Y,Q)=>{const re=h.find(Le=>Le.id===Y);if(!re||!t||!n)return;if(Q<=0){de.error("O progresso deve ser maior que zero");return}let le=0;re.type==="exercises"?le=Q*L2.exercises:re.type==="pages"?le=Q*L2.pages:re.type==="time"&&(le=Q*L2.time);const se=re.current+Q,ye=Q,_e=le;try{const{error:Le}=await ne.from("goals").update({current:se,updated_at:new Date().toISOString()}).eq("id",Y);if(Le)throw Le;if(ye>0){const{error:Pr}=await ne.from("goal_progress_events").insert({user_id:n.id,group_id:t,goal_id:Y,metric:re.type,delta:ye});if(Pr)throw Pr}const{data:Ze}=await ne.from("user_points").select("points").eq("user_id",n.id).eq("group_id",t).single(),vt=((Ze==null?void 0:Ze.points)||0)+_e,{error:sn}=await ne.from("user_points").upsert({user_id:n.id,group_id:t,points:vt,updated_at:new Date().toISOString()},{onConflict:"user_id,group_id"});if(sn)throw sn;const tr=h.map(Pr=>Pr.id===Y?{...Pr,current:se}:Pr);f(tr),K(vt);const Mn=re.type==="exercises"?"exerccios":re.type==="pages"?"pginas":"minutos";de.success(`Progresso atualizado! +${_e} pontos por ${ye} ${Mn}.`),se>=re.target&&re.current<re.target&&de.success(" Meta concluda! Parabns!",{duration:5e3})}catch(Le){console.error("Error updating goal progress:",Le),de.error("Erro ao atualizar progresso da meta")}},handleDeleteGoal:async Y=>{if(!T||!t){de.error("Apenas administradores podem excluir metas");return}try{const{error:Q}=await ne.from("goals").delete().eq("id",Y);if(Q)throw Q;const re=h.filter(le=>le.id!==Y);f(re),de.success("Meta excluda com sucesso")}catch(Q){console.error("Error deleting goal:",Q),de.error("Erro ao excluir meta")}},handleIncreaseGoalTarget:async(Y,Q)=>{if(!T||!t){de.error("Apenas administradores podem modificar metas");return}const re=h.find(se=>se.id===Y);if(!re)return;if(Q<=0){de.error("O valor adicional deve ser maior que zero");return}const le=re.target+Q;try{const{error:se}=await ne.from("goals").update({target:le,updated_at:new Date().toISOString()}).eq("id",Y);if(se)throw se;const ye=h.map(Le=>Le.id===Y?{...Le,target:le}:Le);f(ye);const _e=re.type==="exercises"?"exerccios":re.type==="pages"?"pginas":"minutos";de.success(`Meta aumentada! Novo alvo: ${le} ${_e}`)}catch(se){console.error("Error increasing goal target:",se),de.error("Erro ao aumentar meta")}},handleFileUpload:()=>{if(!A)return;const Y={id:Date.now().toString(),name:A.name,size:`${(A.size/(1024*1024)).toFixed(1)} MB`,uploadedBy:(n==null?void 0:n.name)||"Usurio",uploadedAt:new Date};d([Y,...u]),C(null),_(!1),de.success("Arquivo enviado com sucesso")},handleFileChange:Y=>{Y.target.files&&Y.target.files[0]&&C(Y.target.files[0])},handleSendMessage:async Y=>{if(Y.preventDefault(),!(!L.trim()||!n||!t))try{if(L.length>1e3){de.error("Mensagem muito longa. Mximo 1000 caracteres.");return}const{data:Q,error:re}=await ne.from("messages").insert({group_id:t,user_id:n.id,content:L.trim()}).select(`
          id,
          content,
          created_at,
          user_id
        `).single();if(re)throw re;F(""),de.success("Mensagem enviada com sucesso")}catch(Q){console.error("Error sending message:",Q),de.error("Erro ao enviar mensagem")}},handleDownloadFile:Y=>{de.success("Download iniciado")},getSubjectNameById:Y=>{const Q=i.find(re=>re.id===Y);return Q?Q.name:Y}}},pOe=[1,2,3],mOe=t=>{switch(t){case"exercises":return"Exerccios";case"pages":return"Pginas";default:return"Tempo (min)"}},gOe=(t,e)=>e<=0?0:Math.min(t/e*100,100),vOe=({goals:t,getSubjectNameById:e,onViewAllGoals:r,groupId:n})=>{const i=Ii(),{activities:s,loading:a,toggleLike:o,deleteActivity:l}=Z3(n),c=E.useMemo(()=>s.slice(0,3),[s]),u=E.useMemo(()=>t.slice(0,2),[t]),d=E.useCallback(()=>{i(`/group/${n}/progress`)},[n,i]);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"card",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsx("h3",{className:"font-semibold",children:" Atividades Recentes"})}),a?m.jsx("div",{className:"space-y-3",children:m.jsx(Ut,{className:"h-48 w-full"})}):c.length===0?m.jsxs("div",{className:"text-center py-8",children:[m.jsx(rB,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),m.jsx("p",{className:"text-muted-foreground text-sm",children:"Nenhuma atividade ainda. Seja o primeiro a postar!"})]}):m.jsx("div",{className:"space-y-4",children:c.map(h=>m.jsx(qee,{activity:{...h,user_plan:h.user_plan},onLike:o,onDelete:l,compact:!0},h.id))})]}),m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"font-semibold",children:"Atividade Recente"}),m.jsxs(ge,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-1",children:[m.jsx(oB,{className:"h-4 w-4"}),"Ver Progresso"]})]}),m.jsx("div",{className:"space-y-3",children:pOe.map(h=>m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx(ym,{size:18,className:"text-gray-400 mt-1"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium",children:"Usurio completou uma sesso de estudo"}),m.jsx("p",{className:"text-xs text-gray-500",children:"2 horas atrs"})]})]},h))})]}),m.jsxs("div",{className:"card",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Metas do Grupo"}),m.jsx("div",{className:"space-y-3",children:u.map(h=>m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx(Pm,{size:18,className:"text-gray-400 mt-1 flex-shrink-0"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("p",{className:"text-sm font-medium truncate",children:[e(h.subject)," - ",mOe(h.type)]}),m.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full mt-1",children:m.jsx("div",{className:"bg-study-primary h-2 rounded-full",style:{width:`${gOe(h.current,h.target)}%`}})}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[h.current," de ",h.target]})]})]},h.id))}),m.jsx(ge,{className:"mt-4 w-full",onClick:r,children:"Ver Todas as Metas"})]})]})},yOe=E.memo(vOe);var aO="Checkbox",[bOe]=gi(aO),[xOe,n4]=bOe(aO);function wOe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:a,name:o,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:d}=t,[h,f]=ao({prop:r,defaultProp:i??!1,onChange:l,caller:aO}),[g,v]=E.useState(null),[y,b]=E.useState(null),x=E.useRef(!1),w=g?!!a||!!g.closest("form"):!0,S={checked:h,disabled:s,setChecked:f,control:g,setControl:v,name:o,form:a,value:u,hasConsumerStoppedPropagationRef:x,required:c,defaultChecked:Bh(i)?!1:i,isFormControl:w,bubbleInput:y,setBubbleInput:b};return m.jsx(xOe,{scope:e,...S,children:SOe(d)?d(S):n})}var Gte="CheckboxTrigger",qte=E.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:a,disabled:o,checked:l,required:c,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:h,isFormControl:f,bubbleInput:g}=n4(Gte,t),v=Fe(i,u),y=E.useRef(l);return E.useEffect(()=>{const b=s==null?void 0:s.form;if(b){const x=()=>d(y.current);return b.addEventListener("reset",x),()=>b.removeEventListener("reset",x)}},[s,d]),m.jsx(ke.button,{type:"button",role:"checkbox","aria-checked":Bh(l)?"mixed":l,"aria-required":c,"data-state":Zte(l),"data-disabled":o?"":void 0,disabled:o,value:a,...n,ref:v,onKeyDown:he(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:he(r,b=>{d(x=>Bh(x)?!0:!x),g&&f&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});qte.displayName=Gte;var i4=E.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:l,onCheckedChange:c,form:u,...d}=t;return m.jsx(wOe,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:o,required:a,onCheckedChange:c,name:n,form:u,value:l,internal_do_not_use_render:({isFormControl:h})=>m.jsxs(m.Fragment,{children:[m.jsx(qte,{...d,ref:e,__scopeCheckbox:r}),h&&m.jsx(Qte,{__scopeCheckbox:r})]})})});i4.displayName=aO;var Kte="CheckboxIndicator",Xte=E.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=n4(Kte,r);return m.jsx(vi,{present:n||Bh(s.checked)||s.checked===!0,children:m.jsx(ke.span,{"data-state":Zte(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Xte.displayName=Kte;var Yte="CheckboxBubbleInput",Qte=E.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:o,disabled:l,name:c,value:u,form:d,bubbleInput:h,setBubbleInput:f}=n4(Yte,t),g=Fe(r,f),v=kA(s),y=gA(n);E.useEffect(()=>{const x=h;if(!x)return;const w=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(w,"checked").set,A=!i.current;if(v!==s&&_){const C=new Event("click",{bubbles:A});x.indeterminate=Bh(s),_.call(x,Bh(s)?!1:s),x.dispatchEvent(C)}},[h,v,s,i]);const b=E.useRef(Bh(s)?!1:s);return m.jsx(ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??b.current,required:o,disabled:l,name:c,value:u,form:d,...e,tabIndex:-1,ref:g,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Qte.displayName=Yte;function SOe(t){return typeof t=="function"}function Bh(t){return t==="indeterminate"}function Zte(t){return Bh(t)?"indeterminate":t?"checked":"unchecked"}const oO=E.forwardRef(({className:t,...e},r)=>m.jsx(i4,{ref:r,className:pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:m.jsx(Xte,{className:pe("flex items-center justify-center text-current"),children:m.jsx(km,{className:"h-4 w-4"})})}));oO.displayName=i4.displayName;const _Oe=({subjects:t,currentUserIsAdmin:e,newSubject:r,setNewSubject:n,deleteConfirmOpen:i,setDeleteConfirmOpen:s,addVestibularDialogOpen:a,setAddVestibularDialogOpen:o,handleAddSubject:l,handleDeleteSubject:c,confirmDeleteSubject:u,handleAddVestibularModule:d})=>{const{t:h}=Wt();return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-semibold",children:"Matrias Disponveis"}),e&&m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(va,{children:[m.jsx(Rm,{asChild:!0,children:m.jsxs(ge,{size:"sm",className:"bg-study-primary",children:[m.jsx(Tb,{size:16,className:"mr-1"}),h("groups.addSubjects")]})}),m.jsxs(Cs,{children:[m.jsx(Ts,{children:m.jsx(Ps,{children:"Adicionar Nova Matria"})}),m.jsxs("form",{onSubmit:l,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(ct,{htmlFor:"subject",children:"Nome da Matria"}),m.jsx(Cr,{id:"subject",value:r,onChange:f=>n(f.target.value),placeholder:"Digite o nome da matria"})]}),m.jsx(ge,{type:"submit",className:"w-full bg-study-primary",children:h("group.addSubject")})]})]})]}),m.jsxs(va,{open:a,onOpenChange:o,children:[m.jsx(Rm,{asChild:!0,children:m.jsxs(ge,{size:"sm",variant:"outline",children:[m.jsx(Tb,{size:16,className:"mr-1"}),h("groups.addVestibular")]})}),m.jsxs(Cs,{children:[m.jsx(Ts,{children:m.jsx(Ps,{children:"Adicionar Mdulo Vestibular"})}),m.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Isso adicionar todas as matrias padro do vestibular ao seu grupo."}),m.jsxs("div",{className:"flex justify-end space-x-2",children:[m.jsx(ge,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),m.jsx(ge,{onClick:d,className:"bg-study-primary",children:"Confirmar"})]})]})]})]})]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:t.map(f=>m.jsx("div",{className:"card p-3 cursor-pointer hover:border-study-primary transition-colors",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(oO,{id:`subject-${f.id}`}),m.jsx(ct,{htmlFor:`subject-${f.id}`,className:"cursor-pointer",children:f.name})]}),e&&m.jsx(ge,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>c(f.id),title:h("groups.deleteSubject"),children:m.jsx(Qfe,{size:14,className:"text-red-500"})})]})},f.id))}),m.jsx(va,{open:i,onOpenChange:s,children:m.jsxs(Cs,{children:[m.jsx(Ts,{children:m.jsx(Ps,{children:"Excluir Matria"})}),m.jsx(tg,{children:"Tem certeza que deseja excluir esta matria? Esta ao no pode ser desfeita."}),m.jsxs(j0,{children:[m.jsx(ge,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),m.jsx(ge,{variant:"destructive",onClick:u,children:"Excluir"})]})]})})]})};var v8=1,AOe=.9,EOe=.8,COe=.17,F2=.1,B2=.999,TOe=.9999,POe=.99,kOe=/[\\\/_+.#"@\[\(\{&]/,jOe=/[\\\/_+.#"@\[\(\{&]/g,OOe=/[\s-]/,Jte=/[\s-]/g;function zI(t,e,r,n,i,s,a){if(s===e.length)return i===t.length?v8:POe;var o=`${i},${s}`;if(a[o]!==void 0)return a[o];for(var l=n.charAt(s),c=r.indexOf(l,i),u=0,d,h,f,g;c>=0;)d=zI(t,e,r,n,c+1,s+1,a),d>u&&(c===i?d*=v8:kOe.test(t.charAt(c-1))?(d*=EOe,f=t.slice(i,c-1).match(jOe),f&&i>0&&(d*=Math.pow(B2,f.length))):OOe.test(t.charAt(c-1))?(d*=AOe,g=t.slice(i,c-1).match(Jte),g&&i>0&&(d*=Math.pow(B2,g.length))):(d*=COe,i>0&&(d*=Math.pow(B2,c-i))),t.charAt(c)!==e.charAt(s)&&(d*=TOe)),(d<F2&&r.charAt(c-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(c-1)!==n.charAt(s))&&(h=zI(t,e,r,n,c+1,s+2,a),h*F2>d&&(d=h*F2)),d>u&&(u=d),c=r.indexOf(l,c+1);return a[o]=u,u}function y8(t){return t.toLowerCase().replace(Jte," ")}function NOe(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,zI(t,e,y8(t),y8(e),0,0,{})}var sx='[cmdk-group=""]',U2='[cmdk-group-items=""]',ROe='[cmdk-group-heading=""]',ere='[cmdk-item=""]',b8=`${ere}:not([aria-disabled="true"])`,HI="cmdk-item-select",Rg="data-value",MOe=(t,e,r)=>NOe(t,e,r),tre=E.createContext(void 0),jA=()=>E.useContext(tre),rre=E.createContext(void 0),s4=()=>E.useContext(rre),nre=E.createContext(void 0),ire=E.forwardRef((t,e)=>{let r=Mg(()=>{var V,G;return{search:"",value:(G=(V=t.value)!=null?V:t.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Mg(()=>new Set),i=Mg(()=>new Map),s=Mg(()=>new Map),a=Mg(()=>new Set),o=sre(t),{label:l,children:c,value:u,onValueChange:d,filter:h,shouldFilter:f,loop:g,disablePointerSelection:v=!1,vimBindings:y=!0,...b}=t,x=pi(),w=pi(),S=pi(),_=E.useRef(null),A=WOe();Fm(()=>{if(u!==void 0){let V=u.trim();r.current.value=V,C.emit()}},[u]),Fm(()=>{A(6,B)},[]);let C=E.useMemo(()=>({subscribe:V=>(a.current.add(V),()=>a.current.delete(V)),snapshot:()=>r.current,setState:(V,G,X)=>{var H,Z,J,ce;if(!Object.is(r.current[V],G)){if(r.current[V]=G,V==="search")R(),O(),A(1,I);else if(V==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ee=document.getElementById(S);ee?ee.focus():(H=document.getElementById(x))==null||H.focus()}if(A(7,()=>{var ee;r.current.selectedItemId=(ee=D())==null?void 0:ee.id,C.emit()}),X||A(5,B),((Z=o.current)==null?void 0:Z.value)!==void 0){let ee=G??"";(ce=(J=o.current).onValueChange)==null||ce.call(J,ee);return}}C.emit()}},emit:()=>{a.current.forEach(V=>V())}}),[]),T=E.useMemo(()=>({value:(V,G,X)=>{var H;G!==((H=s.current.get(V))==null?void 0:H.value)&&(s.current.set(V,{value:G,keywords:X}),r.current.filtered.items.set(V,P(G,X)),A(2,()=>{O(),C.emit()}))},item:(V,G)=>(n.current.add(V),G&&(i.current.has(G)?i.current.get(G).add(V):i.current.set(G,new Set([V]))),A(3,()=>{R(),O(),r.current.value||I(),C.emit()}),()=>{s.current.delete(V),n.current.delete(V),r.current.filtered.items.delete(V);let X=D();A(4,()=>{R(),(X==null?void 0:X.getAttribute("id"))===V&&I(),C.emit()})}),group:V=>(i.current.has(V)||i.current.set(V,new Set),()=>{s.current.delete(V),i.current.delete(V)}),filter:()=>o.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:x,inputId:S,labelId:w,listInnerRef:_}),[]);function P(V,G){var X,H;let Z=(H=(X=o.current)==null?void 0:X.filter)!=null?H:MOe;return V?Z(V,r.current.search,G):0}function O(){if(!r.current.search||o.current.shouldFilter===!1)return;let V=r.current.filtered.items,G=[];r.current.filtered.groups.forEach(H=>{let Z=i.current.get(H),J=0;Z.forEach(ce=>{let ee=V.get(ce);J=Math.max(ee,J)}),G.push([H,J])});let X=_.current;U().sort((H,Z)=>{var J,ce;let ee=H.getAttribute("id"),oe=Z.getAttribute("id");return((J=V.get(oe))!=null?J:0)-((ce=V.get(ee))!=null?ce:0)}).forEach(H=>{let Z=H.closest(U2);Z?Z.appendChild(H.parentElement===Z?H:H.closest(`${U2} > *`)):X.appendChild(H.parentElement===X?H:H.closest(`${U2} > *`))}),G.sort((H,Z)=>Z[1]-H[1]).forEach(H=>{var Z;let J=(Z=_.current)==null?void 0:Z.querySelector(`${sx}[${Rg}="${encodeURIComponent(H[0])}"]`);J==null||J.parentElement.appendChild(J)})}function I(){let V=U().find(X=>X.getAttribute("aria-disabled")!=="true"),G=V==null?void 0:V.getAttribute(Rg);C.setState("value",G||void 0)}function R(){var V,G,X,H;if(!r.current.search||o.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Z=0;for(let J of n.current){let ce=(G=(V=s.current.get(J))==null?void 0:V.value)!=null?G:"",ee=(H=(X=s.current.get(J))==null?void 0:X.keywords)!=null?H:[],oe=P(ce,ee);r.current.filtered.items.set(J,oe),oe>0&&Z++}for(let[J,ce]of i.current)for(let ee of ce)if(r.current.filtered.items.get(ee)>0){r.current.filtered.groups.add(J);break}r.current.filtered.count=Z}function B(){var V,G,X;let H=D();H&&(((V=H.parentElement)==null?void 0:V.firstChild)===H&&((X=(G=H.closest(sx))==null?void 0:G.querySelector(ROe))==null||X.scrollIntoView({block:"nearest"})),H.scrollIntoView({block:"nearest"}))}function D(){var V;return(V=_.current)==null?void 0:V.querySelector(`${ere}[aria-selected="true"]`)}function U(){var V;return Array.from(((V=_.current)==null?void 0:V.querySelectorAll(b8))||[])}function N(V){let G=U()[V];G&&C.setState("value",G.getAttribute(Rg))}function j(V){var G;let X=D(),H=U(),Z=H.findIndex(ce=>ce===X),J=H[Z+V];(G=o.current)!=null&&G.loop&&(J=Z+V<0?H[H.length-1]:Z+V===H.length?H[0]:H[Z+V]),J&&C.setState("value",J.getAttribute(Rg))}function L(V){let G=D(),X=G==null?void 0:G.closest(sx),H;for(;X&&!H;)X=V>0?zOe(X,sx):HOe(X,sx),H=X==null?void 0:X.querySelector(b8);H?C.setState("value",H.getAttribute(Rg)):j(V)}let F=()=>N(U().length-1),z=V=>{V.preventDefault(),V.metaKey?F():V.altKey?L(1):j(1)},K=V=>{V.preventDefault(),V.metaKey?N(0):V.altKey?L(-1):j(-1)};return E.createElement(is.div,{ref:e,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:V=>{var G;(G=b.onKeyDown)==null||G.call(b,V);let X=V.nativeEvent.isComposing||V.keyCode===229;if(!(V.defaultPrevented||X))switch(V.key){case"n":case"j":{y&&V.ctrlKey&&z(V);break}case"ArrowDown":{z(V);break}case"p":case"k":{y&&V.ctrlKey&&K(V);break}case"ArrowUp":{K(V);break}case"Home":{V.preventDefault(),N(0);break}case"End":{V.preventDefault(),F();break}case"Enter":{V.preventDefault();let H=D();if(H){let Z=new Event(HI);H.dispatchEvent(Z)}}}}},E.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:qOe},l),lO(t,V=>E.createElement(rre.Provider,{value:C},E.createElement(tre.Provider,{value:T},V))))}),IOe=E.forwardRef((t,e)=>{var r,n;let i=pi(),s=E.useRef(null),a=E.useContext(nre),o=jA(),l=sre(t),c=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:a==null?void 0:a.forceMount;Fm(()=>{if(!c)return o.item(i,a==null?void 0:a.id)},[c]);let u=are(i,s,[t.value,t.children,s],t.keywords),d=s4(),h=ef(A=>A.value&&A.value===u.current),f=ef(A=>c||o.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);E.useEffect(()=>{let A=s.current;if(!(!A||t.disabled))return A.addEventListener(HI,g),()=>A.removeEventListener(HI,g)},[f,t.onSelect,t.disabled]);function g(){var A,C;v(),(C=(A=l.current).onSelect)==null||C.call(A,u.current)}function v(){d.setState("value",u.current,!0)}if(!f)return null;let{disabled:y,value:b,onSelect:x,forceMount:w,keywords:S,..._}=t;return E.createElement(is.div,{ref:oc(s,e),..._,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!h,"data-disabled":!!y,"data-selected":!!h,onPointerMove:y||o.getDisablePointerSelection()?void 0:v,onClick:y?void 0:g},t.children)}),DOe=E.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:i,...s}=t,a=pi(),o=E.useRef(null),l=E.useRef(null),c=pi(),u=jA(),d=ef(f=>i||u.filter()===!1?!0:f.search?f.filtered.groups.has(a):!0);Fm(()=>u.group(a),[]),are(a,o,[t.value,t.heading,l]);let h=E.useMemo(()=>({id:a,forceMount:i}),[i]);return E.createElement(is.div,{ref:oc(o,e),...s,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},r&&E.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),lO(t,f=>E.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},E.createElement(nre.Provider,{value:h},f))))}),$Oe=E.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,i=E.useRef(null),s=ef(a=>!a.search);return!r&&!s?null:E.createElement(is.div,{ref:oc(i,e),...n,"cmdk-separator":"",role:"separator"})}),LOe=E.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,i=t.value!=null,s=s4(),a=ef(c=>c.search),o=ef(c=>c.selectedItemId),l=jA();return E.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),E.createElement(is.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":o,id:l.inputId,type:"text",value:i?t.value:a,onChange:c=>{i||s.setState("search",c.target.value),r==null||r(c.target.value)}})}),FOe=E.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...i}=t,s=E.useRef(null),a=E.useRef(null),o=ef(c=>c.selectedItemId),l=jA();return E.useEffect(()=>{if(a.current&&s.current){let c=a.current,u=s.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let f=c.offsetHeight;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(d),h.unobserve(c)}}},[]),E.createElement(is.div,{ref:oc(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":n,id:l.listId},lO(t,c=>E.createElement("div",{ref:oc(a,l.listInnerRef),"cmdk-list-sizer":""},c)))}),BOe=E.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:s,container:a,...o}=t;return E.createElement(j3,{open:r,onOpenChange:n},E.createElement(O3,{container:a},E.createElement(Kj,{"cmdk-overlay":"",className:i}),E.createElement(Xj,{"aria-label":t.label,"cmdk-dialog":"",className:s},E.createElement(ire,{ref:e,...o}))))}),UOe=E.forwardRef((t,e)=>ef(r=>r.filtered.count===0)?E.createElement(is.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),VOe=E.forwardRef((t,e)=>{let{progress:r,children:n,label:i="Loading...",...s}=t;return E.createElement(is.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},lO(t,a=>E.createElement("div",{"aria-hidden":!0},a)))}),ks=Object.assign(ire,{List:FOe,Item:IOe,Input:LOe,Group:DOe,Separator:$Oe,Dialog:BOe,Empty:UOe,Loading:VOe});function zOe(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function HOe(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function sre(t){let e=E.useRef(t);return Fm(()=>{e.current=t}),e}var Fm=typeof window>"u"?E.useEffect:E.useLayoutEffect;function Mg(t){let e=E.useRef();return e.current===void 0&&(e.current=t()),e}function ef(t){let e=s4(),r=()=>t(e.snapshot());return E.useSyncExternalStore(e.subscribe,r,r)}function are(t,e,r,n=[]){let i=E.useRef(),s=jA();return Fm(()=>{var a;let o=(()=>{var c;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():i.current}})(),l=n.map(c=>c.trim());s.value(t,o,l),(a=e.current)==null||a.setAttribute(Rg,o),i.current=o}),i}var WOe=()=>{let[t,e]=E.useState(),r=Mg(()=>new Map);return Fm(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,i)=>{r.current.set(n,i),e({})}};function GOe(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function lO({asChild:t,children:e},r){return t&&E.isValidElement(e)?E.cloneElement(GOe(e),{ref:e.ref},r(e.props.children)):r(e)}var qOe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ore=E.forwardRef(({className:t,...e},r)=>m.jsx(ks,{ref:r,className:pe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));ore.displayName=ks.displayName;const lre=E.forwardRef(({className:t,...e},r)=>m.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[m.jsx(iB,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),m.jsx(ks.Input,{ref:r,className:pe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));lre.displayName=ks.Input.displayName;const cre=E.forwardRef(({className:t,...e},r)=>m.jsx(ks.List,{ref:r,className:pe("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));cre.displayName=ks.List.displayName;const ure=E.forwardRef((t,e)=>m.jsx(ks.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));ure.displayName=ks.Empty.displayName;const dre=E.forwardRef(({className:t,...e},r)=>m.jsx(ks.Group,{ref:r,className:pe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));dre.displayName=ks.Group.displayName;const KOe=E.forwardRef(({className:t,...e},r)=>m.jsx(ks.Separator,{ref:r,className:pe("-mx-1 h-px bg-border",t),...e}));KOe.displayName=ks.Separator.displayName;const hre=E.forwardRef(({className:t,...e},r)=>m.jsx(ks.Item,{ref:r,className:pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));hre.displayName=ks.Item.displayName;function XOe({users:t,onSelect:e,onSearchChange:r,loading:n=!1,placeholder:i="Digite o nome do usurio...",emptyMessage:s="Nenhum usurio encontrado",selectedUserId:a,minCharacters:o=2,searchTerm:l=""}){return m.jsxs(ore,{className:"border rounded-md",children:[m.jsxs("div",{className:"flex items-center border-b px-3",children:[m.jsx(iB,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),m.jsx(lre,{placeholder:i,onValueChange:r,value:l,className:"border-0 focus:ring-0"})]}),m.jsx(cre,{className:"max-h-[300px]",children:n?m.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:"Buscando usurios..."}):l.length<o?m.jsxs("div",{className:"py-6 text-center text-sm text-muted-foreground",children:["Digite pelo menos ",o," caracteres"]}):m.jsxs(m.Fragment,{children:[m.jsx(ure,{children:s}),t.length>0&&m.jsx(dre,{heading:"Usurios",children:t.map(c=>m.jsx(hre,{value:c.id,onSelect:()=>e(c),className:"cursor-pointer",children:m.jsxs("div",{className:"flex items-center gap-3 w-full",children:[m.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10",children:m.jsx(lB,{className:"h-4 w-4 text-primary"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"font-medium text-foreground",children:c.name}),m.jsx("div",{className:"text-sm text-muted-foreground truncate",children:c.email})]}),a===c.id&&m.jsx(km,{className:"h-4 w-4 text-primary"})]})},c.id))})]})})]})}const YOe=({open:t,onOpenChange:e,groupId:r})=>{const{t:n}=Wt(),{sendInvitation:i,loading:s,searchUsersByName:a,searchLoading:o}=C3(),[l,c]=E.useState("search"),[u,d]=E.useState(""),[h,f]=E.useState(""),[g,v]=E.useState([]),[y,b]=E.useState(null);E.useEffect(()=>{const _=setTimeout(()=>{h.length>=2?a(h).then(v):v([])},400);return()=>clearTimeout(_)},[h]);const x=()=>{d(""),f(""),v([]),b(null),c("search")},w=async _=>{if(_.preventDefault(),l==="search"&&y){const{error:A}=await i(r,y.email,y.id);A||(x(),e(!1))}else if(l==="email"&&u.includes("@")){const{error:A}=await i(r,u);A||(x(),e(!1))}},S=()=>s?!0:l==="search"?!y:l==="email"?!u.includes("@"):!0;return m.jsx(va,{open:t,onOpenChange:_=>{_||x(),e(_)},children:m.jsxs(Cs,{className:"sm:max-w-[500px]",children:[m.jsxs(Ts,{children:[m.jsx(Ps,{children:n("group.inviteMember")}),m.jsx(tg,{children:"Busque por nome ou digite o email diretamente"})]}),m.jsxs("form",{onSubmit:w,children:[m.jsxs($u,{value:l,onValueChange:_=>c(_),className:"w-full",children:[m.jsxs(uc,{className:"grid w-full grid-cols-2",children:[m.jsx(Vt,{value:"search",children:"Buscar por Nome"}),m.jsx(Vt,{value:"email",children:"Digitar Email"})]}),m.jsx(oa,{value:"search",className:"space-y-4 mt-4",children:y?m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{children:"Usurio Selecionado"}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs(Mr,{variant:"secondary",className:"flex items-center gap-2 py-2 px-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-medium",children:y.name}),m.jsx("div",{className:"text-xs opacity-70",children:y.email})]}),m.jsx(ge,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>b(null),children:m.jsx(Wh,{className:"h-3 w-3"})})]})})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{children:"Buscar Usurio"}),m.jsx(XOe,{users:g,onSelect:b,onSearchChange:f,loading:o,placeholder:"Digite o nome do usurio...",emptyMessage:"Nenhum usurio encontrado",searchTerm:h,minCharacters:2})]})}),m.jsx(oa,{value:"email",className:"space-y-4 mt-4",children:m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{htmlFor:"email",children:"Email"}),m.jsx(Cr,{id:"email",type:"email",placeholder:"usuario@exemplo.com",value:u,onChange:_=>d(_.target.value)})]})})]}),m.jsxs(j0,{className:"mt-6",children:[m.jsx(ge,{type:"button",variant:"outline",onClick:()=>{x(),e(!1)},disabled:s,children:"Cancelar"}),m.jsx(ge,{type:"submit",disabled:S(),children:s?"Enviando...":"Enviar Convite"})]})]})]})})},QOe=({members:t,groupId:e,isAdmin:r=!1})=>{const{t:n}=Wt(),[i,s]=E.useState(!1),[a,o]=E.useState({});E.useEffect(()=>{l()},[t]);const l=async()=>{const c=t.map(d=>d.id);if(c.length===0)return;const{data:u}=await ne.from("profiles").select("id, plan").in("id",c);if(u){const d={};u.forEach(h=>{d[h.id]=h.plan}),o(d)}};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("h3",{className:"font-semibold",children:[n("group.members")," (",t.length,")"]}),r&&m.jsx(ge,{size:"sm",onClick:()=>s(!0),children:n("group.inviteMember")})]}),m.jsx("div",{className:"space-y-3",children:t.map(c=>m.jsxs("div",{className:"card p-3 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(CA,{children:m.jsx(TA,{children:c.name.substring(0,2).toUpperCase()})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{children:c.name}),a[c.id]==="premium"&&m.jsx(PA,{size:"sm"})]})]}),m.jsx("div",{className:"flex items-center gap-2",children:c.isAdmin&&m.jsx(Mr,{children:n("group.admin")})})]},c.id))}),m.jsx(YOe,{open:i,onOpenChange:s,groupId:e})]})};function ZOe(t,e){return E.useReducer((r,n)=>e[r][n]??r,t)}var a4="ScrollArea",[fre]=gi(a4),[JOe,uo]=fre(a4),pre=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,l]=E.useState(null),[c,u]=E.useState(null),[d,h]=E.useState(null),[f,g]=E.useState(null),[v,y]=E.useState(null),[b,x]=E.useState(0),[w,S]=E.useState(0),[_,A]=E.useState(!1),[C,T]=E.useState(!1),P=Fe(e,I=>l(I)),O=Zm(i);return m.jsx(JOe,{scope:r,type:n,dir:O,scrollHideDelay:s,scrollArea:o,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:A,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:S,children:m.jsx(ke.div,{dir:O,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});pre.displayName=a4;var mre="ScrollAreaViewport",gre=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=t,a=uo(mre,r),o=E.useRef(null),l=Fe(e,o,a.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),m.jsx(ke.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:m.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});gre.displayName=mre;var gc="ScrollAreaScrollbar",o4=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=uo(gc,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return E.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?m.jsx(eNe,{...n,ref:e,forceMount:r}):i.type==="scroll"?m.jsx(tNe,{...n,ref:e,forceMount:r}):i.type==="auto"?m.jsx(vre,{...n,ref:e,forceMount:r}):i.type==="always"?m.jsx(l4,{...n,ref:e}):null});o4.displayName=gc;var eNe=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=uo(gc,t.__scopeScrollArea),[s,a]=E.useState(!1);return E.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},u=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),m.jsx(vi,{present:r||s,children:m.jsx(vre,{"data-state":s?"visible":"hidden",...n,ref:e})})}),tNe=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=uo(gc,t.__scopeScrollArea),s=t.orientation==="horizontal",a=uO(()=>l("SCROLL_END"),100),[o,l]=ZOe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),E.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const f=c[u];d!==f&&(l("SCROLL"),a()),d=f};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,s,l,a]),m.jsx(vi,{present:r||o!=="hidden",children:m.jsx(l4,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:he(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:he(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),vre=E.forwardRef((t,e)=>{const r=uo(gc,t.__scopeScrollArea),{forceMount:n,...i}=t,[s,a]=E.useState(!1),o=t.orientation==="horizontal",l=uO(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;a(o?c:u)}},10);return $b(r.viewport,l),$b(r.content,l),m.jsx(vi,{present:n||s,children:m.jsx(l4,{"data-state":s?"visible":"hidden",...i,ref:e})})}),l4=E.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=uo(gc,t.__scopeScrollArea),s=E.useRef(null),a=E.useRef(0),[o,l]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Sre(o.viewport,o.content),u={...n,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function d(h,f){return oNe(h,a.current,o,f)}return r==="horizontal"?m.jsx(rNe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,f=x8(h,o,i.dir);s.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}}):r==="vertical"?m.jsx(nNe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,f=x8(h,o);s.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}}):null}),rNe=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=uo(gc,t.__scopeScrollArea),[a,o]=E.useState(),l=E.useRef(null),c=Fe(e,l,s.onScrollbarXChange);return E.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),m.jsx(bre,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":cO(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),Are(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:yP(a.paddingLeft),paddingEnd:yP(a.paddingRight)}})}})}),nNe=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=uo(gc,t.__scopeScrollArea),[a,o]=E.useState(),l=E.useRef(null),c=Fe(e,l,s.onScrollbarYChange);return E.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),m.jsx(bre,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":cO(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),Are(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:yP(a.paddingTop),paddingEnd:yP(a.paddingBottom)}})}})}),[iNe,yre]=fre(gc),bre=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=t,f=uo(gc,r),[g,v]=E.useState(null),y=Fe(e,P=>v(P)),b=E.useRef(null),x=E.useRef(""),w=f.viewport,S=n.content-n.viewport,_=Yr(u),A=Yr(l),C=uO(d,10);function T(P){if(b.current){const O=P.clientX-b.current.left,I=P.clientY-b.current.top;c({x:O,y:I})}}return E.useEffect(()=>{const P=O=>{const I=O.target;(g==null?void 0:g.contains(I))&&_(O,S)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[w,g,S,_]),E.useEffect(A,[n,A]),$b(g,C),$b(f.content,C),m.jsx(iNe,{scope:r,scrollbar:g,hasThumb:i,onThumbChange:Yr(s),onThumbPointerUp:Yr(a),onThumbPositionChange:A,onThumbPointerDown:Yr(o),children:m.jsx(ke.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:he(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),T(P))}),onPointerMove:he(t.onPointerMove,T),onPointerUp:he(t.onPointerUp,P=>{const O=P.target;O.hasPointerCapture(P.pointerId)&&O.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=x.current,f.viewport&&(f.viewport.style.scrollBehavior=""),b.current=null})})})}),vP="ScrollAreaThumb",xre=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=yre(vP,t.__scopeScrollArea);return m.jsx(vi,{present:r||i.hasThumb,children:m.jsx(sNe,{ref:e,...n})})}),sNe=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,s=uo(vP,r),a=yre(vP,r),{onThumbPositionChange:o}=a,l=Fe(e,d=>a.onThumbChange(d)),c=E.useRef(void 0),u=uO(()=>{c.current&&(c.current(),c.current=void 0)},100);return E.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(u(),!c.current){const f=lNe(d,o);c.current=f,o()}};return o(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,u,o]),m.jsx(ke.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:he(t.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),g=d.clientX-f.left,v=d.clientY-f.top;a.onThumbPointerDown({x:g,y:v})}),onPointerUp:he(t.onPointerUp,a.onThumbPointerUp)})});xre.displayName=vP;var c4="ScrollAreaCorner",wre=E.forwardRef((t,e)=>{const r=uo(c4,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?m.jsx(aNe,{...t,ref:e}):null});wre.displayName=c4;var aNe=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=uo(c4,r),[s,a]=E.useState(0),[o,l]=E.useState(0),c=!!(s&&o);return $b(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),$b(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),a(u)}),c?m.jsx(ke.div,{...n,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function yP(t){return t?parseInt(t,10):0}function Sre(t,e){const r=t/e;return isNaN(r)?0:r}function cO(t){const e=Sre(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function oNe(t,e,r,n="ltr"){const i=cO(r),s=i/2,a=e||s,o=i-a,l=r.scrollbar.paddingStart+a,c=r.scrollbar.size-r.scrollbar.paddingEnd-o,u=r.content-r.viewport,d=n==="ltr"?[0,u]:[u*-1,0];return _re([l,c],d)(t)}function x8(t,e,r="ltr"){const n=cO(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-n,l=r==="ltr"?[0,a]:[a*-1,0],c=b1(t,l);return _re([0,a],[0,o])(c)}function _re(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Are(t,e){return t>0&&t<e}var lNe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=r.left!==s.left,o=r.top!==s.top;(a||o)&&e(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function uO(t,e){const r=Yr(t),n=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),E.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function $b(t,e){const r=Yr(e);nn(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var Ere=pre,cNe=gre,uNe=wre;const u4=E.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(Ere,{ref:n,className:pe("relative overflow-hidden",t),...r,children:[m.jsx(cNe,{className:"h-full w-full rounded-[inherit]",children:e}),m.jsx(Cre,{}),m.jsx(uNe,{})]}));u4.displayName=Ere.displayName;const Cre=E.forwardRef(({className:t,orientation:e="vertical",...r},n)=>m.jsx(o4,{ref:n,orientation:e,className:pe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:m.jsx(xre,{className:"relative flex-1 rounded-full bg-border"})}));Cre.displayName=o4.displayName;const dNe=({messages:t,messageText:e,setMessageText:r,handleSendMessage:n,currentUserId:i=""})=>{const{t:s}=Wt();return m.jsxs("div",{className:"flex flex-col h-[calc(100vh-280px)]",children:[m.jsx("h3",{className:"font-semibold mb-4",children:s("groupMessages.messageHistory")}),m.jsx(u4,{className:"flex-1 mb-4 border rounded-md p-4",children:m.jsx("div",{className:"space-y-4",children:t.map(a=>m.jsx("div",{className:`flex ${a.userId===i?"justify-end":"justify-start"}`,children:m.jsxs("div",{className:`
                  max-w-[80%] rounded-lg px-4 py-2
                  ${a.userId===i?"bg-study-primary text-white":"bg-gray-100 text-gray-800"}
                `,children:[a.userId!==i&&m.jsx("p",{className:"text-xs font-semibold mb-1",children:a.userName}),m.jsx("p",{children:a.text}),m.jsx("p",{className:"text-xs text-right mt-1 opacity-70",children:a.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},a.id))})}),m.jsxs("form",{onSubmit:n,className:"flex space-x-2",children:[m.jsx(Cr,{placeholder:s("groupMessages.placeholder"),value:e,onChange:a=>r(a.target.value),className:"flex-1"}),m.jsxs(ge,{type:"submit",className:"bg-study-primary",children:[m.jsx(Xfe,{size:18}),m.jsx("span",{className:"ml-2 hidden sm:inline",children:s("groupMessages.send")})]})]})]})},hNe=t=>{const{user:e}=It(),[r,n]=E.useState([]),[i,s]=E.useState(!0),[a,o]=E.useState(!1);E.useEffect(()=>{t&&e&&l()},[t,e]);const l=async()=>{if(!(!t||!e))try{s(!0);const{data:f,error:g}=await ne.from("group_files").select(`
          id,
          file_name,
          file_path,
          file_size,
          content_type,
          user_id,
          created_at
        `).eq("group_id",t).order("created_at",{ascending:!1});if(g)throw g;const v=[...new Set((f==null?void 0:f.map(x=>x.user_id))||[])],{data:y}=await ne.from("profiles").select("id, name").in("id",v),b=(f==null?void 0:f.map(x=>{var w;return{id:x.id,file_name:x.file_name,file_path:x.file_path,file_size:x.file_size,content_type:x.content_type,user_id:x.user_id,user_name:((w=y==null?void 0:y.find(S=>S.id===x.user_id))==null?void 0:w.name)||"Unknown User",created_at:new Date(x.created_at)}}))||[];n(b)}catch(f){console.error("Error fetching files:",f),de.error("Erro ao carregar arquivos")}finally{s(!1)}};return{files:r,loading:i,uploading:a,uploadFile:async f=>{if(!t||!e)return{success:!1,error:"Dados insuficientes"};try{o(!0);const{data:g}=await ne.from("profiles").select("plan").eq("id",e.id).single(),v=(g==null?void 0:g.plan)||"free",y=Tn[v];if(!y.canUploadFiles)return de.error("Upload de arquivos disponvel apenas para planos Basic e Premium"),{success:!1,error:"Upload restrito a planos pagos"};const b=y.maxUploadSizeMB*1024*1024;if(f.size>b)return{success:!1,error:`Arquivo muito grande. Mximo ${y.maxUploadSizeMB>=1024?"1 GB":`${y.maxUploadSizeMB} MB`} para seu plano.`};const x=f.name.split(".").pop(),w=`${Date.now()}-${Math.random().toString(36).substring(2)}.${x}`,S=`${t}/${w}`,{error:_}=await ne.storage.from("group-files").upload(S,f,{cacheControl:"3600",upsert:!1});if(_)throw _;const{data:A,error:C}=await ne.from("group_files").insert({group_id:t,user_id:e.id,file_name:f.name,file_path:S,file_size:f.size,content_type:f.type||null}).select().single();if(C)throw C;const T={id:A.id,file_name:A.file_name,file_path:A.file_path,file_size:A.file_size,content_type:A.content_type,user_id:A.user_id,user_name:e.name,created_at:new Date(A.created_at)};return n(P=>[T,...P]),{success:!0}}catch(g){return console.error("Error uploading file:",g),{success:!1,error:"Erro ao fazer upload do arquivo"}}finally{o(!1)}},downloadFile:async f=>{try{const{data:g,error:v}=await ne.storage.from("group-files").download(f.file_path);if(v)throw v;const y=URL.createObjectURL(g),b=document.createElement("a");b.href=y,b.download=f.file_name,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(y),de.success("Download iniciado")}catch(g){console.error("Error downloading file:",g),de.error("Erro ao fazer download do arquivo")}},deleteFile:async f=>{if(f.user_id!==(e==null?void 0:e.id))return de.error("Voc s pode excluir seus prprios arquivos"),{success:!1};try{const{error:g}=await ne.storage.from("group-files").remove([f.file_path]);if(g)throw g;const{error:v}=await ne.from("group_files").delete().eq("id",f.id);if(v)throw v;return n(y=>y.filter(b=>b.id!==f.id)),de.success("Arquivo excludo com sucesso"),{success:!0}}catch(g){return console.error("Error deleting file:",g),de.error("Erro ao excluir arquivo"),{success:!1}}},formatFileSize:f=>{const g=["Bytes","KB","MB","GB"];if(f===0)return"0 Bytes";const v=Math.floor(Math.log(f)/Math.log(1024));return Math.round(f/Math.pow(1024,v)*100)/100+" "+g[v]},refreshFiles:l}},fNe=({groupId:t})=>{const{t:e}=Wt(),{user:r}=It(),{files:n,loading:i,uploading:s,uploadFile:a,downloadFile:o,deleteFile:l,formatFileSize:c}=hNe(t),[u,d]=E.useState(!1),[h,f]=E.useState(null),g=y=>{y.target.files&&y.target.files[0]&&f(y.target.files[0])},v=async()=>{if(!h){de.error("Por favor, selecione um arquivo");return}const y=await a(h);y.success?(f(null),d(!1),de.success("Arquivo enviado com sucesso!")):de.error(y.error||"Erro ao fazer upload")};return i?m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-study-primary mx-auto mb-2"}),m.jsx("p",{className:"text-gray-500",children:"Carregando arquivos..."})]})}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-semibold",children:e("files.title","Arquivos")}),m.jsxs(va,{open:u,onOpenChange:d,children:[m.jsx(Rm,{asChild:!0,children:m.jsxs(ge,{size:"sm",className:"bg-study-primary",children:[m.jsx(Tb,{className:"w-4 h-4 mr-2"}),"Enviar Arquivo"]})}),m.jsxs(Cs,{children:[m.jsx(Ts,{children:m.jsx(Ps,{children:"Enviar Arquivo"})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Cr,{type:"file",onChange:g,accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif"}),h&&m.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Arquivo selecionado: ",h.name," (",c(h.size),")"]})]}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(ge,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),m.jsx(ge,{onClick:v,disabled:!h||s,className:"bg-study-primary",children:s?"Enviando...":"Enviar"})]})]})]})]})]}),m.jsx("div",{className:"space-y-3",children:n.length>0?n.map(y=>m.jsx("div",{className:"card",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx(tV,{className:"w-8 h-8 text-gray-400 mt-1"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium",children:y.file_name}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Enviado por ",y.user_name,"  ",c(y.file_size)]}),m.jsxs("p",{className:"text-xs text-gray-400",children:[y.created_at.toLocaleDateString()," s ",y.created_at.toLocaleTimeString()]})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[y.user_id===(r==null?void 0:r.id)&&m.jsx(Mr,{variant:"secondary",children:"Seu arquivo"}),m.jsx(ge,{size:"sm",variant:"outline",onClick:()=>o(y),children:m.jsx(Lfe,{className:"w-4 h-4"})}),y.user_id===(r==null?void 0:r.id)&&m.jsx(ge,{size:"sm",variant:"outline",onClick:()=>l(y),className:"text-red-600 hover:text-red-800",children:m.jsx(aB,{className:"w-4 h-4"})})]})]})},y.id)):m.jsxs("div",{className:"text-center py-8",children:[m.jsx(tV,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum arquivo ainda"}),m.jsx("p",{className:"text-gray-500",children:"Seja o primeiro a compartilhar um arquivo com o grupo."})]})})]})};var Tre="AlertDialog",[pNe]=gi(Tre,[$J]),Xu=$J(),Pre=t=>{const{__scopeAlertDialog:e,...r}=t,n=Xu(e);return m.jsx(j3,{...n,...r,modal:!0})};Pre.displayName=Tre;var mNe="AlertDialogTrigger",gNe=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Xu(r);return m.jsx(JJ,{...i,...n,ref:e})});gNe.displayName=mNe;var vNe="AlertDialogPortal",kre=t=>{const{__scopeAlertDialog:e,...r}=t,n=Xu(e);return m.jsx(O3,{...n,...r})};kre.displayName=vNe;var yNe="AlertDialogOverlay",jre=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Xu(r);return m.jsx(Kj,{...i,...n,ref:e})});jre.displayName=yNe;var Rv="AlertDialogContent",[bNe,xNe]=pNe(Rv),wNe=I7("AlertDialogContent"),Ore=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=Xu(r),a=E.useRef(null),o=Fe(e,a),l=E.useRef(null);return m.jsx(IPe,{contentName:Rv,titleName:Nre,docsSlug:"alert-dialog",children:m.jsx(bNe,{scope:r,cancelRef:l,children:m.jsxs(Xj,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:he(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[m.jsx(wNe,{children:n}),m.jsx(_Ne,{contentRef:a})]})})})});Ore.displayName=Rv;var Nre="AlertDialogTitle",Rre=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Xu(r);return m.jsx(N3,{...i,...n,ref:e})});Rre.displayName=Nre;var Mre="AlertDialogDescription",Ire=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Xu(r);return m.jsx(R3,{...i,...n,ref:e})});Ire.displayName=Mre;var SNe="AlertDialogAction",Dre=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Xu(r);return m.jsx(M3,{...i,...n,ref:e})});Dre.displayName=SNe;var $re="AlertDialogCancel",Lre=E.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=xNe($re,r),s=Xu(r),a=Fe(e,i);return m.jsx(M3,{...s,...n,ref:a})});Lre.displayName=$re;var _Ne=({contentRef:t})=>{const e=`\`${Rv}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Rv}\` by passing a \`${Mre}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Rv}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},ANe=Pre,ENe=kre,Fre=jre,Bre=Ore,Ure=Dre,Vre=Lre,zre=Rre,Hre=Ire;const CNe=ANe,TNe=ENe,Wre=E.forwardRef(({className:t,...e},r)=>m.jsx(Fre,{className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Wre.displayName=Fre.displayName;const Gre=E.forwardRef(({className:t,...e},r)=>m.jsxs(TNe,{children:[m.jsx(Wre,{}),m.jsx(Bre,{ref:r,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Gre.displayName=Bre.displayName;const qre=({className:t,...e})=>m.jsx("div",{className:pe("flex flex-col space-y-2 text-center sm:text-left",t),...e});qre.displayName="AlertDialogHeader";const Kre=({className:t,...e})=>m.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Kre.displayName="AlertDialogFooter";const Xre=E.forwardRef(({className:t,...e},r)=>m.jsx(zre,{ref:r,className:pe("text-lg font-semibold",t),...e}));Xre.displayName=zre.displayName;const Yre=E.forwardRef(({className:t,...e},r)=>m.jsx(Hre,{ref:r,className:pe("text-sm text-muted-foreground",t),...e}));Yre.displayName=Hre.displayName;const Qre=E.forwardRef(({className:t,...e},r)=>m.jsx(Ure,{ref:r,className:pe(MB(),t),...e}));Qre.displayName=Ure.displayName;const Zre=E.forwardRef(({className:t,...e},r)=>m.jsx(Vre,{ref:r,className:pe(MB({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Zre.displayName=Vre.displayName;const PNe=({goals:t,subjects:e,isAdmin:r,newGoalSubject:n,setNewGoalSubject:i,newGoalType:s,setNewGoalType:a,newGoalTarget:o,setNewGoalTarget:l,handleAddGoal:c,getSubjectNameById:u,updateGoalProgress:d,handleDeleteGoal:h,handleIncreaseGoalTarget:f})=>{var X;const{t:g}=Wt(),[v,y]=E.useState(!1),[b,x]=E.useState(null),[w,S]=E.useState(""),[_,A]=E.useState(!1),[C,T]=E.useState(null),[P,O]=E.useState(!1),[I,R]=E.useState(null),[B,D]=E.useState(""),U=H=>{const Z=Number.parseInt(H,10);return Number.isNaN(Z)||Z<=0?null:Z},N=I?((X=t.find(H=>H.id===I))==null?void 0:X.target)??0:0,j=N+(U(B)??0),L=H=>{if(H.preventDefault(),!b||!w)return;const Z=U(w);if(!Z){de.error(g("goals.invalidAmount"));return}d(b,Z),S(""),y(!1)},F=H=>{x(H),y(!0)},z=H=>{T(H),A(!0)},K=async()=>{C&&(await h(C),A(!1),T(null))},V=H=>{R(H),O(!0)},G=async H=>{if(H.preventDefault(),!I||!B)return;const Z=U(B);if(!Z){de.error("O valor deve ser maior que zero");return}await f(I,Z),D(""),O(!1),R(null)};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"font-semibold",children:g("goals.title")}),r&&m.jsxs(va,{children:[m.jsx(Rm,{asChild:!0,children:m.jsxs(ge,{size:"sm",className:"bg-study-primary",children:[m.jsx(Tb,{size:16,className:"mr-1"}),g("goals.addGoal")]})}),m.jsxs(Cs,{children:[m.jsx(Ts,{children:m.jsx(Ps,{children:g("goals.createGoal")})}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(ct,{htmlFor:"goalSubject",children:g("goals.subject")}),m.jsxs($m,{value:n,onValueChange:i,required:!0,children:[m.jsx(Zh,{children:m.jsx(Lm,{placeholder:g("goals.selectSubject")})}),m.jsx(Jh,{children:e.map(H=>m.jsx(Yo,{value:H.id,children:H.name},H.id))})]})]}),m.jsxs("div",{children:[m.jsx(ct,{htmlFor:"goalType",children:g("goals.type")}),m.jsxs($m,{value:s,onValueChange:H=>a(H),required:!0,children:[m.jsx(Zh,{children:m.jsx(Lm,{placeholder:g("goals.selectType")})}),m.jsxs(Jh,{children:[m.jsx(Yo,{value:"exercises",children:g("goals.types.exercises")}),m.jsx(Yo,{value:"pages",children:g("goals.types.pages")}),m.jsx(Yo,{value:"time",children:g("goals.types.time")})]})]})]}),m.jsxs("div",{children:[m.jsx(ct,{htmlFor:"goalTarget",children:g("goals.target")}),m.jsx(Cr,{id:"goalTarget",type:"number",min:"1",value:o,onChange:H=>l(H.target.value),placeholder:g("goals.enterTarget"),required:!0})]}),m.jsx(ge,{type:"submit",className:"w-full bg-study-primary",children:g("goals.createGoal")})]})]})]})]}),m.jsx(va,{open:v,onOpenChange:y,children:m.jsxs(Cs,{children:[m.jsx(Ts,{children:m.jsx(Ps,{children:g("goals.updateProgress")})}),m.jsxs("form",{onSubmit:L,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(ct,{htmlFor:"progressAmount",children:g("goals.enterAmount")}),m.jsx(Cr,{id:"progressAmount",type:"number",min:"1",value:w,onChange:H=>S(H.target.value),placeholder:g("goals.enterAmountPlaceholder"),required:!0})]}),m.jsx(ge,{type:"submit",className:"w-full bg-study-primary",children:g("goals.saveProgress")})]})]})}),t.length>0?m.jsx("div",{className:"space-y-4",children:t.map(H=>m.jsx("div",{className:"card p-4",children:m.jsxs("div",{className:"flex flex-col space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-medium",children:u(H.subject)}),m.jsx("p",{className:"text-sm text-gray-500",children:H.type==="exercises"?g("goals.types.exercises"):H.type==="pages"?g("goals.types.pages"):g("goals.types.time")})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("p",{className:"font-semibold",children:[H.current," / ",H.target]}),r&&m.jsxs(p1,{children:[m.jsx(m1,{asChild:!0,children:m.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:m.jsx(Ffe,{className:"h-4 w-4"})})}),m.jsxs(Ob,{align:"end",children:[m.jsxs(ua,{onClick:()=>V(H.id),className:"cursor-pointer",children:[m.jsx(oB,{className:"mr-2 h-4 w-4"}),"Aumentar Meta"]}),m.jsxs(ua,{onClick:()=>z(H.id),className:"cursor-pointer text-red-600",children:[m.jsx(aB,{className:"mr-2 h-4 w-4"}),"Excluir Meta"]})]})]})]})]}),m.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full",children:m.jsx("div",{className:"bg-study-primary h-2 rounded-full transition-all",style:{width:`${Math.min(H.current/H.target*100,100)}%`}})}),m.jsx("div",{className:"flex justify-end pt-2",children:m.jsx(ge,{size:"sm",variant:"outline",onClick:()=>F(H.id),children:g("goals.updateProgress")})})]})},H.id))}):m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx(Pm,{className:"mx-auto h-12 w-12 opacity-50 mb-2"}),m.jsx("p",{children:g("goals.noGoals")})]}),m.jsx(CNe,{open:_,onOpenChange:A,children:m.jsxs(Gre,{children:[m.jsxs(qre,{children:[m.jsx(Xre,{children:"Confirmar Excluso"}),m.jsx(Yre,{children:"Tem certeza que deseja excluir esta meta? Esta ao no pode ser desfeita."})]}),m.jsxs(Kre,{children:[m.jsx(Zre,{children:"Cancelar"}),m.jsx(Qre,{onClick:K,className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})}),m.jsx(va,{open:P,onOpenChange:O,children:m.jsxs(Cs,{children:[m.jsx(Ts,{children:m.jsx(Ps,{children:"Aumentar Meta"})}),m.jsxs("form",{onSubmit:G,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(ct,{htmlFor:"additionalTarget",children:"Valor adicional"}),m.jsx(Cr,{id:"additionalTarget",type:"number",min:"1",value:B,onChange:H=>D(H.target.value),placeholder:"Quanto adicionar ao alvo atual?",required:!0}),m.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["O novo valor ser: ",N," + ",U(B)??0," = ",j]})]}),m.jsx(ge,{type:"submit",className:"w-full bg-study-primary",children:"Confirmar"})]})]})})]})},kNe=()=>{const{groupId:t}=fY(),{t:e}=Wt(),{user:r}=It(),[n,i]=E.useState("overview"),{subjects:s,newSubject:a,setNewSubject:o,goals:l,newGoalSubject:c,setNewGoalSubject:u,newGoalType:d,setNewGoalType:h,newGoalTarget:f,setNewGoalTarget:g,currentUserIsAdmin:v,deleteConfirmOpen:y,setDeleteConfirmOpen:b,addVestibularDialogOpen:x,setAddVestibularDialogOpen:w,messages:S,messageText:_,setMessageText:A,members:C,userPoints:T,groupName:P,handleAddSubject:O,handleDeleteSubject:I,confirmDeleteSubject:R,handleAddVestibularModule:B,handleAddGoal:D,updateGoalProgress:U,handleSendMessage:N,getSubjectNameById:j,handleDeleteGoal:L,handleIncreaseGoalTarget:F}=fOe(t);return m.jsxs(Lr,{children:[m.jsx("div",{className:"mb-6",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-study-primary",children:P||`Grupo ${t}`}),m.jsx("div",{className:"flex items-center",children:m.jsxs("div",{className:"bg-study-primary text-white px-3 py-1 rounded-full text-sm font-medium",children:[T," pontos"]})})]})}),m.jsxs($u,{value:n,onValueChange:i,className:"w-full",children:[m.jsxs(uc,{className:"w-full mb-6 flex flex-wrap gap-2 justify-start",children:[m.jsx(Vt,{value:"overview",children:"Viso Geral"}),m.jsx(Vt,{value:"subjects",children:"Matrias"}),m.jsx(Vt,{value:"members",children:"Membros"}),m.jsx(Vt,{value:"messages",children:"Mensagens"}),m.jsx(Vt,{value:"files",children:"Arquivos"}),m.jsx(Vt,{value:"goals",children:"Metas"})]}),m.jsx(oa,{value:"overview",children:m.jsx(yOe,{goals:l,getSubjectNameById:j,onViewAllGoals:()=>i("goals"),groupId:t||""})}),m.jsx(oa,{value:"subjects",children:m.jsx(_Oe,{subjects:s,currentUserIsAdmin:v,newSubject:a,setNewSubject:o,deleteConfirmOpen:y,setDeleteConfirmOpen:b,addVestibularDialogOpen:x,setAddVestibularDialogOpen:w,handleAddSubject:O,handleDeleteSubject:I,confirmDeleteSubject:R,handleAddVestibularModule:B})}),m.jsx(oa,{value:"members",children:m.jsx(QOe,{members:C,groupId:t||"",isAdmin:v})}),m.jsx(oa,{value:"messages",children:m.jsx(dNe,{messages:S,messageText:_,setMessageText:A,handleSendMessage:N,currentUserId:r==null?void 0:r.id})}),m.jsx(oa,{value:"files",children:m.jsx(fNe,{groupId:t})}),m.jsx(oa,{value:"goals",children:m.jsx(PNe,{goals:l,subjects:s,isAdmin:v,newGoalSubject:c,setNewGoalSubject:u,newGoalType:d,setNewGoalType:h,newGoalTarget:f,setNewGoalTarget:g,handleAddGoal:D,getSubjectNameById:j,updateGoalProgress:U,handleDeleteGoal:L,handleIncreaseGoalTarget:F})})]})]})};var jNe=Array.isArray,js=jNe,ONe=typeof HA=="object"&&HA&&HA.Object===Object&&HA,Jre=ONe,NNe=Jre,RNe=typeof self=="object"&&self&&self.Object===Object&&self,MNe=NNe||RNe||Function("return this")(),vc=MNe,INe=vc,DNe=INe.Symbol,OA=DNe,w8=OA,ene=Object.prototype,$Ne=ene.hasOwnProperty,LNe=ene.toString,ax=w8?w8.toStringTag:void 0;function FNe(t){var e=$Ne.call(t,ax),r=t[ax];try{t[ax]=void 0;var n=!0}catch{}var i=LNe.call(t);return n&&(e?t[ax]=r:delete t[ax]),i}var BNe=FNe,UNe=Object.prototype,VNe=UNe.toString;function zNe(t){return VNe.call(t)}var HNe=zNe,S8=OA,WNe=BNe,GNe=HNe,qNe="[object Null]",KNe="[object Undefined]",_8=S8?S8.toStringTag:void 0;function XNe(t){return t==null?t===void 0?KNe:qNe:_8&&_8 in Object(t)?WNe(t):GNe(t)}var Yu=XNe;function YNe(t){return t!=null&&typeof t=="object"}var Qu=YNe,QNe=Yu,ZNe=Qu,JNe="[object Symbol]";function e2e(t){return typeof t=="symbol"||ZNe(t)&&QNe(t)==JNe}var N0=e2e,t2e=js,r2e=N0,n2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i2e=/^\w*$/;function s2e(t,e){if(t2e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||r2e(t)?!0:i2e.test(t)||!n2e.test(t)||e!=null&&t in Object(e)}var d4=s2e;function a2e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ff=a2e;const R0=Mt(ff);var o2e=Yu,l2e=ff,c2e="[object AsyncFunction]",u2e="[object Function]",d2e="[object GeneratorFunction]",h2e="[object Proxy]";function f2e(t){if(!l2e(t))return!1;var e=o2e(t);return e==u2e||e==d2e||e==c2e||e==h2e}var h4=f2e;const Ke=Mt(h4);var p2e=vc,m2e=p2e["__core-js_shared__"],g2e=m2e,V2=g2e,A8=function(){var t=/[^.]+$/.exec(V2&&V2.keys&&V2.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function v2e(t){return!!A8&&A8 in t}var y2e=v2e,b2e=Function.prototype,x2e=b2e.toString;function w2e(t){if(t!=null){try{return x2e.call(t)}catch{}try{return t+""}catch{}}return""}var tne=w2e,S2e=h4,_2e=y2e,A2e=ff,E2e=tne,C2e=/[\\^$.*+?()[\]{}|]/g,T2e=/^\[object .+?Constructor\]$/,P2e=Function.prototype,k2e=Object.prototype,j2e=P2e.toString,O2e=k2e.hasOwnProperty,N2e=RegExp("^"+j2e.call(O2e).replace(C2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function R2e(t){if(!A2e(t)||_2e(t))return!1;var e=S2e(t)?N2e:T2e;return e.test(E2e(t))}var M2e=R2e;function I2e(t,e){return t==null?void 0:t[e]}var D2e=I2e,$2e=M2e,L2e=D2e;function F2e(t,e){var r=L2e(t,e);return $2e(r)?r:void 0}var rg=F2e,B2e=rg,U2e=B2e(Object,"create"),dO=U2e,E8=dO;function V2e(){this.__data__=E8?E8(null):{},this.size=0}var z2e=V2e;function H2e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var W2e=H2e,G2e=dO,q2e="__lodash_hash_undefined__",K2e=Object.prototype,X2e=K2e.hasOwnProperty;function Y2e(t){var e=this.__data__;if(G2e){var r=e[t];return r===q2e?void 0:r}return X2e.call(e,t)?e[t]:void 0}var Q2e=Y2e,Z2e=dO,J2e=Object.prototype,eRe=J2e.hasOwnProperty;function tRe(t){var e=this.__data__;return Z2e?e[t]!==void 0:eRe.call(e,t)}var rRe=tRe,nRe=dO,iRe="__lodash_hash_undefined__";function sRe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=nRe&&e===void 0?iRe:e,this}var aRe=sRe,oRe=z2e,lRe=W2e,cRe=Q2e,uRe=rRe,dRe=aRe;function M0(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}M0.prototype.clear=oRe;M0.prototype.delete=lRe;M0.prototype.get=cRe;M0.prototype.has=uRe;M0.prototype.set=dRe;var hRe=M0;function fRe(){this.__data__=[],this.size=0}var pRe=fRe;function mRe(t,e){return t===e||t!==t&&e!==e}var f4=mRe,gRe=f4;function vRe(t,e){for(var r=t.length;r--;)if(gRe(t[r][0],e))return r;return-1}var hO=vRe,yRe=hO,bRe=Array.prototype,xRe=bRe.splice;function wRe(t){var e=this.__data__,r=yRe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():xRe.call(e,r,1),--this.size,!0}var SRe=wRe,_Re=hO;function ARe(t){var e=this.__data__,r=_Re(e,t);return r<0?void 0:e[r][1]}var ERe=ARe,CRe=hO;function TRe(t){return CRe(this.__data__,t)>-1}var PRe=TRe,kRe=hO;function jRe(t,e){var r=this.__data__,n=kRe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var ORe=jRe,NRe=pRe,RRe=SRe,MRe=ERe,IRe=PRe,DRe=ORe;function I0(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}I0.prototype.clear=NRe;I0.prototype.delete=RRe;I0.prototype.get=MRe;I0.prototype.has=IRe;I0.prototype.set=DRe;var fO=I0,$Re=rg,LRe=vc,FRe=$Re(LRe,"Map"),p4=FRe,C8=hRe,BRe=fO,URe=p4;function VRe(){this.size=0,this.__data__={hash:new C8,map:new(URe||BRe),string:new C8}}var zRe=VRe;function HRe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var WRe=HRe,GRe=WRe;function qRe(t,e){var r=t.__data__;return GRe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var pO=qRe,KRe=pO;function XRe(t){var e=KRe(this,t).delete(t);return this.size-=e?1:0,e}var YRe=XRe,QRe=pO;function ZRe(t){return QRe(this,t).get(t)}var JRe=ZRe,eMe=pO;function tMe(t){return eMe(this,t).has(t)}var rMe=tMe,nMe=pO;function iMe(t,e){var r=nMe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var sMe=iMe,aMe=zRe,oMe=YRe,lMe=JRe,cMe=rMe,uMe=sMe;function D0(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}D0.prototype.clear=aMe;D0.prototype.delete=oMe;D0.prototype.get=lMe;D0.prototype.has=cMe;D0.prototype.set=uMe;var m4=D0,rne=m4,dMe="Expected a function";function g4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(dMe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=t.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(g4.Cache||rne),r}g4.Cache=rne;var nne=g4;const hMe=Mt(nne);var fMe=nne,pMe=500;function mMe(t){var e=fMe(t,function(n){return r.size===pMe&&r.clear(),n}),r=e.cache;return e}var gMe=mMe,vMe=gMe,yMe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bMe=/\\(\\)?/g,xMe=vMe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(yMe,function(r,n,i,s){e.push(i?s.replace(bMe,"$1"):n||r)}),e}),wMe=xMe;function SMe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var v4=SMe,T8=OA,_Me=v4,AMe=js,EMe=N0,P8=T8?T8.prototype:void 0,k8=P8?P8.toString:void 0;function ine(t){if(typeof t=="string")return t;if(AMe(t))return _Me(t,ine)+"";if(EMe(t))return k8?k8.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var CMe=ine,TMe=CMe;function PMe(t){return t==null?"":TMe(t)}var sne=PMe,kMe=js,jMe=d4,OMe=wMe,NMe=sne;function RMe(t,e){return kMe(t)?t:jMe(t,e)?[t]:OMe(NMe(t))}var ane=RMe,MMe=N0;function IMe(t){if(typeof t=="string"||MMe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var mO=IMe,DMe=ane,$Me=mO;function LMe(t,e){e=DMe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[$Me(e[r++])];return r&&r==n?t:void 0}var y4=LMe,FMe=y4;function BMe(t,e,r){var n=t==null?void 0:FMe(t,e);return n===void 0?r:n}var one=BMe;const ya=Mt(one);function UMe(t){return t==null}var VMe=UMe;const ht=Mt(VMe);var zMe=Yu,HMe=js,WMe=Qu,GMe="[object String]";function qMe(t){return typeof t=="string"||!HMe(t)&&WMe(t)&&zMe(t)==GMe}var KMe=qMe;const Bm=Mt(KMe);var lne={exports:{}},Gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b4=Symbol.for("react.element"),x4=Symbol.for("react.portal"),gO=Symbol.for("react.fragment"),vO=Symbol.for("react.strict_mode"),yO=Symbol.for("react.profiler"),bO=Symbol.for("react.provider"),xO=Symbol.for("react.context"),XMe=Symbol.for("react.server_context"),wO=Symbol.for("react.forward_ref"),SO=Symbol.for("react.suspense"),_O=Symbol.for("react.suspense_list"),AO=Symbol.for("react.memo"),EO=Symbol.for("react.lazy"),YMe=Symbol.for("react.offscreen"),cne;cne=Symbol.for("react.module.reference");function ho(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case b4:switch(t=t.type,t){case gO:case yO:case vO:case SO:case _O:return t;default:switch(t=t&&t.$$typeof,t){case XMe:case xO:case wO:case EO:case AO:case bO:return t;default:return e}}case x4:return e}}}Gt.ContextConsumer=xO;Gt.ContextProvider=bO;Gt.Element=b4;Gt.ForwardRef=wO;Gt.Fragment=gO;Gt.Lazy=EO;Gt.Memo=AO;Gt.Portal=x4;Gt.Profiler=yO;Gt.StrictMode=vO;Gt.Suspense=SO;Gt.SuspenseList=_O;Gt.isAsyncMode=function(){return!1};Gt.isConcurrentMode=function(){return!1};Gt.isContextConsumer=function(t){return ho(t)===xO};Gt.isContextProvider=function(t){return ho(t)===bO};Gt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===b4};Gt.isForwardRef=function(t){return ho(t)===wO};Gt.isFragment=function(t){return ho(t)===gO};Gt.isLazy=function(t){return ho(t)===EO};Gt.isMemo=function(t){return ho(t)===AO};Gt.isPortal=function(t){return ho(t)===x4};Gt.isProfiler=function(t){return ho(t)===yO};Gt.isStrictMode=function(t){return ho(t)===vO};Gt.isSuspense=function(t){return ho(t)===SO};Gt.isSuspenseList=function(t){return ho(t)===_O};Gt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===gO||t===yO||t===vO||t===SO||t===_O||t===YMe||typeof t=="object"&&t!==null&&(t.$$typeof===EO||t.$$typeof===AO||t.$$typeof===bO||t.$$typeof===xO||t.$$typeof===wO||t.$$typeof===cne||t.getModuleId!==void 0)};Gt.typeOf=ho;lne.exports=Gt;var QMe=lne.exports,ZMe=Yu,JMe=Qu,eIe="[object Number]";function tIe(t){return typeof t=="number"||JMe(t)&&ZMe(t)==eIe}var une=tIe;const rIe=Mt(une);var nIe=une;function iIe(t){return nIe(t)&&t!=+t}var sIe=iIe;const NA=Mt(sIe);var Xi=function(e){return e===0?0:e>0?1:-1},Kf=function(e){return Bm(e)&&e.indexOf("%")===e.length-1},ve=function(e){return rIe(e)&&!NA(e)},aIe=function(e){return ht(e)},jn=function(e){return ve(e)||Bm(e)},oIe=0,RA=function(e){var r=++oIe;return"".concat(e||"").concat(r)},Yi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&!Bm(e))return n;var s;if(Kf(e)){var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return NA(s)&&(s=n),i&&s>r&&(s=r),s},wd=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},lIe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},gd=function(e,r){return ve(e)&&ve(r)?function(n){return e+n*(r-e)}:function(){return r}};function WI(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ya(n,e))===r})}var cIe=function(e,r){return ve(e)&&ve(r)?e-r:Bm(e)&&Bm(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Mv(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function GI(t){"@babel/helpers - typeof";return GI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GI(t)}var uIe=["viewBox","children"],dIe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],j8=["points","pathLength"],z2={svg:uIe,polygon:j8,polyline:j8},w4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bP=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(E.isValidElement(e)&&(n=e.props),!R0(n))return null;var i={};return Object.keys(n).forEach(function(s){w4.includes(s)&&(i[s]=r||function(a){return n[s](n,a)})}),i},hIe=function(e,r,n){return function(i){return e(r,n,i),null}},Um=function(e,r,n){if(!R0(e)||GI(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];w4.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=hIe(a,r,n))}),i},fIe=["children"],pIe=["children"];function O8(t,e){if(t==null)return{};var r=mIe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var N8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Au=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},R8=null,H2=null,S4=function t(e){if(e===R8&&Array.isArray(H2))return H2;var r=[];return E.Children.forEach(e,function(n){ht(n)||(QMe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),H2=r,R8=e,r};function ro(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Au(i)}):n=[Au(e)],S4(t).forEach(function(i){var s=ya(i,"type.displayName")||ya(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ra(t,e){var r=ro(t,e);return r&&r[0]}var M8=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ve(n)||n<=0||!ve(i)||i<=0)},gIe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vIe=function(e){return e&&e.type&&Bm(e.type)&&gIe.indexOf(e.type)>=0},yIe=function(e,r,n,i){var s,a=(s=z2==null?void 0:z2[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ke(e)&&(i&&a.includes(r)||dIe.includes(r))||n&&w4.includes(r)},qe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(E.isValidElement(e)&&(i=e.props),!R0(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;yIe((o=i)===null||o===void 0?void 0:o[a],a,r,n)&&(s[a]=i[a])}),s},qI=function t(e,r){if(e===r)return!0;var n=E.Children.count(e);if(n!==E.Children.count(r))return!1;if(n===0)return!0;if(n===1)return I8(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],a=r[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!I8(s,a))return!1}return!0},I8=function(e,r){if(ht(e)&&ht(r))return!0;if(!ht(e)&&!ht(r)){var n=e.props||{},i=n.children,s=O8(n,fIe),a=r.props||{},o=a.children,l=O8(a,pIe);return i&&o?Mv(s,l)&&qI(i,o):!i&&!o?Mv(s,l):!1}return!1},D8=function(e,r){var n=[],i={};return S4(e).forEach(function(s,a){if(vIe(s))n.push(s);else if(s){var o=Au(s.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var d=c(s,o,a);n.push(d),i[o]=!0}}}),n},bIe=function(e){var r=e&&e.type;return r&&N8[r]?N8[r]:null},xIe=function(e,r){return S4(r).indexOf(e)},wIe=["children","width","height","viewBox","className","style","title","desc"];function KI(){return KI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KI.apply(this,arguments)}function SIe(t,e){if(t==null)return{};var r=_Ie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Ie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XI(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=SIe(t,wIe),u=i||{width:r,height:n,x:0,y:0},d=ot("recharts-surface",s);return W.createElement("svg",KI({},qe(c,!0,"svg"),{className:d,width:r,height:n,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),W.createElement("title",null,o),W.createElement("desc",null,l),e)}var AIe=["children","className"];function YI(){return YI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YI.apply(this,arguments)}function EIe(t,e){if(t==null)return{};var r=CIe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zt=W.forwardRef(function(t,e){var r=t.children,n=t.className,i=EIe(t,AIe),s=ot("recharts-layer",n);return W.createElement("g",YI({className:s},qe(i,!0),{ref:e}),r)}),tl=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function TIe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}var PIe=TIe,kIe=PIe;function jIe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:kIe(t,e,r)}var OIe=jIe,NIe="\\ud800-\\udfff",RIe="\\u0300-\\u036f",MIe="\\ufe20-\\ufe2f",IIe="\\u20d0-\\u20ff",DIe=RIe+MIe+IIe,$Ie="\\ufe0e\\ufe0f",LIe="\\u200d",FIe=RegExp("["+LIe+NIe+DIe+$Ie+"]");function BIe(t){return FIe.test(t)}var dne=BIe;function UIe(t){return t.split("")}var VIe=UIe,hne="\\ud800-\\udfff",zIe="\\u0300-\\u036f",HIe="\\ufe20-\\ufe2f",WIe="\\u20d0-\\u20ff",GIe=zIe+HIe+WIe,qIe="\\ufe0e\\ufe0f",KIe="["+hne+"]",QI="["+GIe+"]",ZI="\\ud83c[\\udffb-\\udfff]",XIe="(?:"+QI+"|"+ZI+")",fne="[^"+hne+"]",pne="(?:\\ud83c[\\udde6-\\uddff]){2}",mne="[\\ud800-\\udbff][\\udc00-\\udfff]",YIe="\\u200d",gne=XIe+"?",vne="["+qIe+"]?",QIe="(?:"+YIe+"(?:"+[fne,pne,mne].join("|")+")"+vne+gne+")*",ZIe=vne+gne+QIe,JIe="(?:"+[fne+QI+"?",QI,pne,mne,KIe].join("|")+")",eDe=RegExp(ZI+"(?="+ZI+")|"+JIe+ZIe,"g");function tDe(t){return t.match(eDe)||[]}var rDe=tDe,nDe=VIe,iDe=dne,sDe=rDe;function aDe(t){return iDe(t)?sDe(t):nDe(t)}var oDe=aDe,lDe=OIe,cDe=dne,uDe=oDe,dDe=sne;function hDe(t){return function(e){e=dDe(e);var r=cDe(e)?uDe(e):void 0,n=r?r[0]:e.charAt(0),i=r?lDe(r,1).join(""):e.slice(1);return n[t]()+i}}var fDe=hDe,pDe=fDe,mDe=pDe("toUpperCase"),gDe=mDe;const CO=Mt(gDe);function cr(t){return function(){return t}}const yne=Math.cos,xP=Math.sin,ol=Math.sqrt,wP=Math.PI,TO=2*wP,JI=Math.PI,eD=2*JI,Pf=1e-6,vDe=eD-Pf;function bne(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function yDe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bne;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class bDe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bne:yDe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-e,c=i-r,u=a-e,d=o-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Pf)if(!(Math.abs(d*l-c*u)>Pf)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-a,g=i-o,v=l*l+c*c,y=f*f+g*g,b=Math.sqrt(v),x=Math.sqrt(h),w=s*Math.tan((JI-Math.acos((v+h-y)/(2*b*x)))/2),S=w/x,_=w/b;Math.abs(S-1)>Pf&&this._append`L${e+S*u},${r+S*d}`,this._append`A${s},${s},0,0,${+(d*f>u*g)},${this._x1=e+_*l},${this._y1=r+_*c}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,d=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Pf||Math.abs(this._y1-u)>Pf)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%eD+eD),h>vDe?this._append`A${n},${n},0,1,${d},${e-o},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>Pf&&this._append`A${n},${n},0,${+(h>=JI)},${d},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function _4(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new bDe(e)}function A4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xne(t){this._context=t}xne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function PO(t){return new xne(t)}function wne(t){return t[0]}function Sne(t){return t[1]}function _ne(t,e){var r=cr(!0),n=null,i=PO,s=null,a=_4(o);t=typeof t=="function"?t:t===void 0?wne:cr(t),e=typeof e=="function"?e:e===void 0?Sne:cr(e);function o(l){var c,u=(l=A4(l)).length,d,h=!1,f;for(n==null&&(s=i(f=a())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,c,l),+e(d,c,l));if(f)return s=null,f+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:cr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:cr(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:cr(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}function jE(t,e,r){var n=null,i=cr(!0),s=null,a=PO,o=null,l=_4(c);t=typeof t=="function"?t:t===void 0?wne:cr(+t),e=typeof e=="function"?e:cr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Sne:cr(+r);function c(d){var h,f,g,v=(d=A4(d)).length,y,b=!1,x,w=new Array(v),S=new Array(v);for(s==null&&(o=a(x=l())),h=0;h<=v;++h){if(!(h<v&&i(y=d[h],h,d))===b)if(b=!b)f=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=f;--g)o.point(w[g],S[g]);o.lineEnd(),o.areaEnd()}b&&(w[h]=+t(y,h,d),S[h]=+e(y,h,d),o.point(n?+n(y,h,d):w[h],r?+r(y,h,d):S[h]))}if(x)return o=null,x+""||null}function u(){return _ne().defined(i).curve(a).context(s)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:cr(+d),n=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:cr(+d),c):t},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:cr(+d),c):n},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:cr(+d),r=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:cr(+d),c):e},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:cr(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:cr(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),c):s},c}class Ane{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function xDe(t){return new Ane(t,!0)}function wDe(t){return new Ane(t,!1)}const E4={draw(t,e){const r=ol(e/wP);t.moveTo(r,0),t.arc(0,0,r,0,TO)}},SDe={draw(t,e){const r=ol(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Ene=ol(1/3),_De=Ene*2,ADe={draw(t,e){const r=ol(e/_De),n=r*Ene;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},EDe={draw(t,e){const r=ol(e),n=-r/2;t.rect(n,n,r,r)}},CDe=.8908130915292852,Cne=xP(wP/10)/xP(7*wP/10),TDe=xP(TO/10)*Cne,PDe=-yne(TO/10)*Cne,kDe={draw(t,e){const r=ol(e*CDe),n=TDe*r,i=PDe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=TO*s/5,o=yne(a),l=xP(a);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},W2=ol(3),jDe={draw(t,e){const r=-ol(e/(W2*3));t.moveTo(0,r*2),t.lineTo(-W2*r,-r),t.lineTo(W2*r,-r),t.closePath()}},Ca=-.5,Ta=ol(3)/2,tD=1/ol(12),ODe=(tD/2+1)*3,NDe={draw(t,e){const r=ol(e/ODe),n=r/2,i=r*tD,s=n,a=r*tD+r,o=-s,l=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Ca*n-Ta*i,Ta*n+Ca*i),t.lineTo(Ca*s-Ta*a,Ta*s+Ca*a),t.lineTo(Ca*o-Ta*l,Ta*o+Ca*l),t.lineTo(Ca*n+Ta*i,Ca*i-Ta*n),t.lineTo(Ca*s+Ta*a,Ca*a-Ta*s),t.lineTo(Ca*o+Ta*l,Ca*l-Ta*o),t.closePath()}};function RDe(t,e){let r=null,n=_4(i);t=typeof t=="function"?t:cr(t||E4),e=typeof e=="function"?e:cr(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:cr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:cr(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function SP(){}function _P(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Tne(t){this._context=t}Tne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_P(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_P(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MDe(t){return new Tne(t)}function Pne(t){this._context=t}Pne.prototype={areaStart:SP,areaEnd:SP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_P(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IDe(t){return new Pne(t)}function kne(t){this._context=t}kne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_P(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DDe(t){return new kne(t)}function jne(t){this._context=t}jne.prototype={areaStart:SP,areaEnd:SP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $De(t){return new jne(t)}function $8(t){return t<0?-1:1}function L8(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return($8(s)+$8(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function F8(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function G2(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function AP(t){this._context=t}AP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:G2(this,this._t0,F8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,G2(this,F8(this,r=L8(this,t,e)),r);break;default:G2(this,this._t0,r=L8(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function One(t){this._context=new Nne(t)}(One.prototype=Object.create(AP.prototype)).point=function(t,e){AP.prototype.point.call(this,e,t)};function Nne(t){this._context=t}Nne.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function LDe(t){return new AP(t)}function FDe(t){return new One(t)}function Rne(t){this._context=t}Rne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=B8(t),i=B8(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function B8(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function BDe(t){return new Rne(t)}function kO(t,e){this._context=t,this._t=e}kO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function UDe(t){return new kO(t,.5)}function VDe(t){return new kO(t,0)}function zDe(t){return new kO(t,1)}function Lb(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function rD(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function HDe(t,e){return t[e]}function WDe(t){const e=[];return e.key=t,e}function GDe(){var t=cr([]),e=rD,r=Lb,n=HDe;function i(s){var a=Array.from(t.apply(this,arguments),WDe),o,l=a.length,c=-1,u;for(const d of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+n(d,a[o].key,c,s)]).data=d;for(o=0,u=A4(e(a));o<l;++o)a[u[o]].index=o;return r(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:cr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:cr(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?rD:typeof s=="function"?s:cr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??Lb,i):r},i}function qDe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}Lb(t,e)}}function KDe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}Lb(t,e)}}function XDe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,c=0;o<a;++o){for(var u=t[e[o]],d=u[n][1]||0,h=u[n-1][1]||0,f=(d-h)/2,g=0;g<o;++g){var v=t[e[g]],y=v[n][1]||0,b=v[n-1][1]||0;f+=y-b}l+=d,c+=f*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Lb(t,e)}}function x1(t){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x1(t)}var YDe=["type","size","sizeType"];function nD(){return nD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nD.apply(this,arguments)}function U8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(r),!0).forEach(function(n){QDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QDe(t,e,r){return e=ZDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZDe(t){var e=JDe(t,"string");return x1(e)=="symbol"?e:e+""}function JDe(t,e){if(x1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(x1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e$e(t,e){if(t==null)return{};var r=t$e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Mne={symbolCircle:E4,symbolCross:SDe,symbolDiamond:ADe,symbolSquare:EDe,symbolStar:kDe,symbolTriangle:jDe,symbolWye:NDe},r$e=Math.PI/180,n$e=function(e){var r="symbol".concat(CO(e));return Mne[r]||E4},i$e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*r$e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},s$e=function(e,r){Mne["symbol".concat(CO(e))]=r},C4=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=e$e(e,YDe),c=V8(V8({},l),{},{type:n,size:s,sizeType:o}),u=function(){var y=n$e(n),b=RDe().type(y).size(i$e(s,o,n));return b()},d=c.className,h=c.cx,f=c.cy,g=qe(c,!0);return h===+h&&f===+f&&s===+s?W.createElement("path",nD({},g,{className:ot("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:u()})):null};C4.registerSymbol=s$e;function Fb(t){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(t)}function iD(){return iD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iD.apply(this,arguments)}function z8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a$e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z8(Object(r),!0).forEach(function(n){w1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dne(n.key),n)}}function c$e(t,e,r){return e&&l$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u$e(t,e,r){return e=EP(e),d$e(t,Ine()?Reflect.construct(e,r||[],EP(t).constructor):e.apply(t,r))}function d$e(t,e){if(e&&(Fb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h$e(t)}function h$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ine(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ine=function(){return!!t})()}function EP(t){return EP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},EP(t)}function f$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sD(t,e)}function sD(t,e){return sD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sD(t,e)}function w1(t,e,r){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dne(t){var e=p$e(t,"string");return Fb(e)=="symbol"?e:e+""}function p$e(t,e){if(Fb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pa=32,T4=function(t){function e(){return o$e(this,e),u$e(this,e,arguments)}return f$e(e,t),c$e(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Pa/2,a=Pa/6,o=Pa/3,l=n.inactive?i:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Pa,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Pa,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Pa/8,"h").concat(Pa,"v").concat(Pa*3/4,"h").concat(-Pa,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var c=a$e({},n);return delete c.legendIcon,W.cloneElement(n.legendIcon,c)}return W.createElement(C4,{fill:l,cx:s,cy:s,size:Pa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Pa,height:Pa},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,g){var v=f.formatter||l,y=ot(w1(w1({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var b=Ke(f.value)?null:f.value;tl(!Ke(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=f.inactive?c:f.color;return W.createElement("li",iD({className:y,style:d,key:"legend-item-".concat(g)},Um(n.props,f,g)),W.createElement(XI,{width:a,height:a,viewBox:u,style:h},n.renderIcon(f)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},v?v(b,f,g):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(E.PureComponent);w1(T4,"displayName","Legend");w1(T4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var m$e=fO;function g$e(){this.__data__=new m$e,this.size=0}var v$e=g$e;function y$e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var b$e=y$e;function x$e(t){return this.__data__.get(t)}var w$e=x$e;function S$e(t){return this.__data__.has(t)}var _$e=S$e,A$e=fO,E$e=p4,C$e=m4,T$e=200;function P$e(t,e){var r=this.__data__;if(r instanceof A$e){var n=r.__data__;if(!E$e||n.length<T$e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new C$e(n)}return r.set(t,e),this.size=r.size,this}var k$e=P$e,j$e=fO,O$e=v$e,N$e=b$e,R$e=w$e,M$e=_$e,I$e=k$e;function $0(t){var e=this.__data__=new j$e(t);this.size=e.size}$0.prototype.clear=O$e;$0.prototype.delete=N$e;$0.prototype.get=R$e;$0.prototype.has=M$e;$0.prototype.set=I$e;var $ne=$0,D$e="__lodash_hash_undefined__";function $$e(t){return this.__data__.set(t,D$e),this}var L$e=$$e;function F$e(t){return this.__data__.has(t)}var B$e=F$e,U$e=m4,V$e=L$e,z$e=B$e;function CP(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new U$e;++e<r;)this.add(t[e])}CP.prototype.add=CP.prototype.push=V$e;CP.prototype.has=z$e;var Lne=CP;function H$e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Fne=H$e;function W$e(t,e){return t.has(e)}var Bne=W$e,G$e=Lne,q$e=Fne,K$e=Bne,X$e=1,Y$e=2;function Q$e(t,e,r,n,i,s){var a=r&X$e,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,f=r&Y$e?new G$e:void 0;for(s.set(t,e),s.set(e,t);++d<o;){var g=t[d],v=e[d];if(n)var y=a?n(v,g,d,e,t,s):n(g,v,d,t,e,s);if(y!==void 0){if(y)continue;h=!1;break}if(f){if(!q$e(e,function(b,x){if(!K$e(f,x)&&(g===b||i(g,b,r,n,s)))return f.push(x)})){h=!1;break}}else if(!(g===v||i(g,v,r,n,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var Une=Q$e,Z$e=vc,J$e=Z$e.Uint8Array,eLe=J$e;function tLe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var rLe=tLe;function nLe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var P4=nLe,H8=OA,W8=eLe,iLe=f4,sLe=Une,aLe=rLe,oLe=P4,lLe=1,cLe=2,uLe="[object Boolean]",dLe="[object Date]",hLe="[object Error]",fLe="[object Map]",pLe="[object Number]",mLe="[object RegExp]",gLe="[object Set]",vLe="[object String]",yLe="[object Symbol]",bLe="[object ArrayBuffer]",xLe="[object DataView]",G8=H8?H8.prototype:void 0,q2=G8?G8.valueOf:void 0;function wLe(t,e,r,n,i,s,a){switch(r){case xLe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case bLe:return!(t.byteLength!=e.byteLength||!s(new W8(t),new W8(e)));case uLe:case dLe:case pLe:return iLe(+t,+e);case hLe:return t.name==e.name&&t.message==e.message;case mLe:case vLe:return t==e+"";case fLe:var o=aLe;case gLe:var l=n&lLe;if(o||(o=oLe),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=cLe,a.set(t,e);var u=sLe(o(t),o(e),n,i,s,a);return a.delete(t),u;case yLe:if(q2)return q2.call(t)==q2.call(e)}return!1}var SLe=wLe;function _Le(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Vne=_Le,ALe=Vne,ELe=js;function CLe(t,e,r){var n=e(t);return ELe(t)?n:ALe(n,r(t))}var TLe=CLe;function PLe(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var a=t[r];e(a,r,t)&&(s[i++]=a)}return s}var kLe=PLe;function jLe(){return[]}var OLe=jLe,NLe=kLe,RLe=OLe,MLe=Object.prototype,ILe=MLe.propertyIsEnumerable,q8=Object.getOwnPropertySymbols,DLe=q8?function(t){return t==null?[]:(t=Object(t),NLe(q8(t),function(e){return ILe.call(t,e)}))}:RLe,$Le=DLe;function LLe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var FLe=LLe,BLe=Yu,ULe=Qu,VLe="[object Arguments]";function zLe(t){return ULe(t)&&BLe(t)==VLe}var HLe=zLe,K8=HLe,WLe=Qu,zne=Object.prototype,GLe=zne.hasOwnProperty,qLe=zne.propertyIsEnumerable,KLe=K8(function(){return arguments}())?K8:function(t){return WLe(t)&&GLe.call(t,"callee")&&!qLe.call(t,"callee")},k4=KLe,TP={exports:{}};function XLe(){return!1}var YLe=XLe;TP.exports;(function(t,e){var r=vc,n=YLe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(TP,TP.exports);var Hne=TP.exports,QLe=9007199254740991,ZLe=/^(?:0|[1-9]\d*)$/;function JLe(t,e){var r=typeof t;return e=e??QLe,!!e&&(r=="number"||r!="symbol"&&ZLe.test(t))&&t>-1&&t%1==0&&t<e}var j4=JLe,eFe=9007199254740991;function tFe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=eFe}var O4=tFe,rFe=Yu,nFe=O4,iFe=Qu,sFe="[object Arguments]",aFe="[object Array]",oFe="[object Boolean]",lFe="[object Date]",cFe="[object Error]",uFe="[object Function]",dFe="[object Map]",hFe="[object Number]",fFe="[object Object]",pFe="[object RegExp]",mFe="[object Set]",gFe="[object String]",vFe="[object WeakMap]",yFe="[object ArrayBuffer]",bFe="[object DataView]",xFe="[object Float32Array]",wFe="[object Float64Array]",SFe="[object Int8Array]",_Fe="[object Int16Array]",AFe="[object Int32Array]",EFe="[object Uint8Array]",CFe="[object Uint8ClampedArray]",TFe="[object Uint16Array]",PFe="[object Uint32Array]",vr={};vr[xFe]=vr[wFe]=vr[SFe]=vr[_Fe]=vr[AFe]=vr[EFe]=vr[CFe]=vr[TFe]=vr[PFe]=!0;vr[sFe]=vr[aFe]=vr[yFe]=vr[oFe]=vr[bFe]=vr[lFe]=vr[cFe]=vr[uFe]=vr[dFe]=vr[hFe]=vr[fFe]=vr[pFe]=vr[mFe]=vr[gFe]=vr[vFe]=!1;function kFe(t){return iFe(t)&&nFe(t.length)&&!!vr[rFe(t)]}var jFe=kFe;function OFe(t){return function(e){return t(e)}}var Wne=OFe,PP={exports:{}};PP.exports;(function(t,e){var r=Jre,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(PP,PP.exports);var NFe=PP.exports,RFe=jFe,MFe=Wne,X8=NFe,Y8=X8&&X8.isTypedArray,IFe=Y8?MFe(Y8):RFe,Gne=IFe,DFe=FLe,$Fe=k4,LFe=js,FFe=Hne,BFe=j4,UFe=Gne,VFe=Object.prototype,zFe=VFe.hasOwnProperty;function HFe(t,e){var r=LFe(t),n=!r&&$Fe(t),i=!r&&!n&&FFe(t),s=!r&&!n&&!i&&UFe(t),a=r||n||i||s,o=a?DFe(t.length,String):[],l=o.length;for(var c in t)(e||zFe.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||BFe(c,l)))&&o.push(c);return o}var WFe=HFe,GFe=Object.prototype;function qFe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||GFe;return t===r}var KFe=qFe;function XFe(t,e){return function(r){return t(e(r))}}var qne=XFe,YFe=qne,QFe=YFe(Object.keys,Object),ZFe=QFe,JFe=KFe,eBe=ZFe,tBe=Object.prototype,rBe=tBe.hasOwnProperty;function nBe(t){if(!JFe(t))return eBe(t);var e=[];for(var r in Object(t))rBe.call(t,r)&&r!="constructor"&&e.push(r);return e}var iBe=nBe,sBe=h4,aBe=O4;function oBe(t){return t!=null&&aBe(t.length)&&!sBe(t)}var MA=oBe,lBe=WFe,cBe=iBe,uBe=MA;function dBe(t){return uBe(t)?lBe(t):cBe(t)}var jO=dBe,hBe=TLe,fBe=$Le,pBe=jO;function mBe(t){return hBe(t,pBe,fBe)}var gBe=mBe,Q8=gBe,vBe=1,yBe=Object.prototype,bBe=yBe.hasOwnProperty;function xBe(t,e,r,n,i,s){var a=r&vBe,o=Q8(t),l=o.length,c=Q8(e),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var h=o[d];if(!(a?h in e:bBe.call(e,h)))return!1}var f=s.get(t),g=s.get(e);if(f&&g)return f==e&&g==t;var v=!0;s.set(t,e),s.set(e,t);for(var y=a;++d<l;){h=o[d];var b=t[h],x=e[h];if(n)var w=a?n(x,b,h,e,t,s):n(b,x,h,t,e,s);if(!(w===void 0?b===x||i(b,x,r,n,s):w)){v=!1;break}y||(y=h=="constructor")}if(v&&!y){var S=t.constructor,_=e.constructor;S!=_&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return s.delete(t),s.delete(e),v}var wBe=xBe,SBe=rg,_Be=vc,ABe=SBe(_Be,"DataView"),EBe=ABe,CBe=rg,TBe=vc,PBe=CBe(TBe,"Promise"),kBe=PBe,jBe=rg,OBe=vc,NBe=jBe(OBe,"Set"),Kne=NBe,RBe=rg,MBe=vc,IBe=RBe(MBe,"WeakMap"),DBe=IBe,aD=EBe,oD=p4,lD=kBe,cD=Kne,uD=DBe,Xne=Yu,L0=tne,Z8="[object Map]",$Be="[object Object]",J8="[object Promise]",eH="[object Set]",tH="[object WeakMap]",rH="[object DataView]",LBe=L0(aD),FBe=L0(oD),BBe=L0(lD),UBe=L0(cD),VBe=L0(uD),kf=Xne;(aD&&kf(new aD(new ArrayBuffer(1)))!=rH||oD&&kf(new oD)!=Z8||lD&&kf(lD.resolve())!=J8||cD&&kf(new cD)!=eH||uD&&kf(new uD)!=tH)&&(kf=function(t){var e=Xne(t),r=e==$Be?t.constructor:void 0,n=r?L0(r):"";if(n)switch(n){case LBe:return rH;case FBe:return Z8;case BBe:return J8;case UBe:return eH;case VBe:return tH}return e});var zBe=kf,K2=$ne,HBe=Une,WBe=SLe,GBe=wBe,nH=zBe,iH=js,sH=Hne,qBe=Gne,KBe=1,aH="[object Arguments]",oH="[object Array]",OE="[object Object]",XBe=Object.prototype,lH=XBe.hasOwnProperty;function YBe(t,e,r,n,i,s){var a=iH(t),o=iH(e),l=a?oH:nH(t),c=o?oH:nH(e);l=l==aH?OE:l,c=c==aH?OE:c;var u=l==OE,d=c==OE,h=l==c;if(h&&sH(t)){if(!sH(e))return!1;a=!0,u=!1}if(h&&!u)return s||(s=new K2),a||qBe(t)?HBe(t,e,r,n,i,s):WBe(t,e,l,r,n,i,s);if(!(r&KBe)){var f=u&&lH.call(t,"__wrapped__"),g=d&&lH.call(e,"__wrapped__");if(f||g){var v=f?t.value():t,y=g?e.value():e;return s||(s=new K2),i(v,y,r,n,s)}}return h?(s||(s=new K2),GBe(t,e,r,n,i,s)):!1}var QBe=YBe,ZBe=QBe,cH=Qu;function Yne(t,e,r,n,i){return t===e?!0:t==null||e==null||!cH(t)&&!cH(e)?t!==t&&e!==e:ZBe(t,e,r,n,Yne,i)}var N4=Yne,JBe=$ne,e3e=N4,t3e=1,r3e=2;function n3e(t,e,r,n){var i=r.length,s=i,a=!n;if(t==null)return!s;for(t=Object(t);i--;){var o=r[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=r[i];var l=o[0],c=t[l],u=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new JBe;if(n)var h=n(c,u,l,t,e,d);if(!(h===void 0?e3e(u,c,t3e|r3e,n,d):h))return!1}}return!0}var i3e=n3e,s3e=ff;function a3e(t){return t===t&&!s3e(t)}var Qne=a3e,o3e=Qne,l3e=jO;function c3e(t){for(var e=l3e(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,o3e(i)]}return e}var u3e=c3e;function d3e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Zne=d3e,h3e=i3e,f3e=u3e,p3e=Zne;function m3e(t){var e=f3e(t);return e.length==1&&e[0][2]?p3e(e[0][0],e[0][1]):function(r){return r===t||h3e(r,t,e)}}var g3e=m3e;function v3e(t,e){return t!=null&&e in Object(t)}var y3e=v3e,b3e=ane,x3e=k4,w3e=js,S3e=j4,_3e=O4,A3e=mO;function E3e(t,e,r){e=b3e(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var a=A3e(e[n]);if(!(s=t!=null&&r(t,a)))break;t=t[a]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&_3e(i)&&S3e(a,i)&&(w3e(t)||x3e(t)))}var C3e=E3e,T3e=y3e,P3e=C3e;function k3e(t,e){return t!=null&&P3e(t,e,T3e)}var j3e=k3e,O3e=N4,N3e=one,R3e=j3e,M3e=d4,I3e=Qne,D3e=Zne,$3e=mO,L3e=1,F3e=2;function B3e(t,e){return M3e(t)&&I3e(e)?D3e($3e(t),e):function(r){var n=N3e(r,t);return n===void 0&&n===e?R3e(r,t):O3e(e,n,L3e|F3e)}}var U3e=B3e;function V3e(t){return t}var F0=V3e;function z3e(t){return function(e){return e==null?void 0:e[t]}}var H3e=z3e,W3e=y4;function G3e(t){return function(e){return W3e(e,t)}}var q3e=G3e,K3e=H3e,X3e=q3e,Y3e=d4,Q3e=mO;function Z3e(t){return Y3e(t)?K3e(Q3e(t)):X3e(t)}var J3e=Z3e,e4e=g3e,t4e=U3e,r4e=F0,n4e=js,i4e=J3e;function s4e(t){return typeof t=="function"?t:t==null?r4e:typeof t=="object"?n4e(t)?t4e(t[0],t[1]):e4e(t):i4e(t)}var yc=s4e;function a4e(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var Jne=a4e;function o4e(t){return t!==t}var l4e=o4e;function c4e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var u4e=c4e,d4e=Jne,h4e=l4e,f4e=u4e;function p4e(t,e,r){return e===e?f4e(t,e,r):d4e(t,h4e,r)}var m4e=p4e,g4e=m4e;function v4e(t,e){var r=t==null?0:t.length;return!!r&&g4e(t,e,0)>-1}var y4e=v4e;function b4e(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var x4e=b4e;function w4e(){}var S4e=w4e,X2=Kne,_4e=S4e,A4e=P4,E4e=1/0,C4e=X2&&1/A4e(new X2([,-0]))[1]==E4e?function(t){return new X2(t)}:_4e,T4e=C4e,P4e=Lne,k4e=y4e,j4e=x4e,O4e=Bne,N4e=T4e,R4e=P4,M4e=200;function I4e(t,e,r){var n=-1,i=k4e,s=t.length,a=!0,o=[],l=o;if(r)a=!1,i=j4e;else if(s>=M4e){var c=e?null:N4e(t);if(c)return R4e(c);a=!1,i=O4e,l=new P4e}else l=e?[]:o;e:for(;++n<s;){var u=t[n],d=e?e(u):u;if(u=r||u!==0?u:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,r)||(l!==o&&l.push(d),o.push(u))}return o}var D4e=I4e,$4e=yc,L4e=D4e;function F4e(t,e){return t&&t.length?L4e(t,$4e(e)):[]}var B4e=F4e;const uH=Mt(B4e);function eie(t,e,r){return e===!0?uH(t,r):Ke(e)?uH(t,e):t}function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}var U4e=["ref"];function dH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dH(Object(r),!0).forEach(function(n){OO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rie(n.key),n)}}function z4e(t,e,r){return e&&hH(t.prototype,e),r&&hH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function H4e(t,e,r){return e=kP(e),W4e(t,tie()?Reflect.construct(e,r||[],kP(t).constructor):e.apply(t,r))}function W4e(t,e){if(e&&(Bb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G4e(t)}function G4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tie=function(){return!!t})()}function kP(t){return kP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kP(t)}function q4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dD(t,e)}function dD(t,e){return dD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dD(t,e)}function OO(t,e,r){return e=rie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rie(t){var e=K4e(t,"string");return Bb(e)=="symbol"?e:e+""}function K4e(t,e){if(Bb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function X4e(t,e){if(t==null)return{};var r=Y4e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Y4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q4e(t){return t.value}function Z4e(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=X4e(e,U4e);return W.createElement(T4,r)}var fH=1,Iv=function(t){function e(){var r;V4e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=H4e(this,e,[].concat(i)),OO(r,"lastBoundingBox",{width:-1,height:-1}),r}return q4e(e,t),z4e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>fH||Math.abs(i.height-this.lastBoundingBox.height)>fH)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();d={left:((c||0)-f.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return wc(wc({},d),h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=wc(wc({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return W.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){n.wrapperNode=f}},Z4e(s,wc(wc({},this.props),{},{payload:eie(u,c,Q4e)})))}}],[{key:"getWithHeight",value:function(n,i){var s=wc(wc({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&ve(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(E.PureComponent);OO(Iv,"displayName","Legend");OO(Iv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pH=OA,J4e=k4,e5e=js,mH=pH?pH.isConcatSpreadable:void 0;function t5e(t){return e5e(t)||J4e(t)||!!(mH&&t&&t[mH])}var r5e=t5e,n5e=Vne,i5e=r5e;function nie(t,e,r,n,i){var s=-1,a=t.length;for(r||(r=i5e),i||(i=[]);++s<a;){var o=t[s];e>0&&r(o)?e>1?nie(o,e-1,r,n,i):n5e(i,o):n||(i[i.length]=o)}return i}var iie=nie;function s5e(t){return function(e,r,n){for(var i=-1,s=Object(e),a=n(e),o=a.length;o--;){var l=a[t?o:++i];if(r(s[l],l,s)===!1)break}return e}}var a5e=s5e,o5e=a5e,l5e=o5e(),c5e=l5e,u5e=c5e,d5e=jO;function h5e(t,e){return t&&u5e(t,e,d5e)}var sie=h5e,f5e=MA;function p5e(t,e){return function(r,n){if(r==null)return r;if(!f5e(r))return t(r,n);for(var i=r.length,s=e?i:-1,a=Object(r);(e?s--:++s<i)&&n(a[s],s,a)!==!1;);return r}}var m5e=p5e,g5e=sie,v5e=m5e,y5e=v5e(g5e),R4=y5e,b5e=R4,x5e=MA;function w5e(t,e){var r=-1,n=x5e(t)?Array(t.length):[];return b5e(t,function(i,s,a){n[++r]=e(i,s,a)}),n}var aie=w5e;function S5e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var _5e=S5e,gH=N0;function A5e(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=gH(t),a=e!==void 0,o=e===null,l=e===e,c=gH(e);if(!o&&!c&&!s&&t>e||s&&a&&l&&!o&&!c||n&&a&&l||!r&&l||!i)return 1;if(!n&&!s&&!c&&t<e||c&&r&&i&&!n&&!s||o&&r&&i||!a&&i||!l)return-1}return 0}var E5e=A5e,C5e=E5e;function T5e(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,a=i.length,o=r.length;++n<a;){var l=C5e(i[n],s[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var P5e=T5e,Y2=v4,k5e=y4,j5e=yc,O5e=aie,N5e=_5e,R5e=Wne,M5e=P5e,I5e=F0,D5e=js;function $5e(t,e,r){e.length?e=Y2(e,function(s){return D5e(s)?function(a){return k5e(a,s.length===1?s[0]:s)}:s}):e=[I5e];var n=-1;e=Y2(e,R5e(j5e));var i=O5e(t,function(s,a,o){var l=Y2(e,function(c){return c(s)});return{criteria:l,index:++n,value:s}});return N5e(i,function(s,a){return M5e(s,a,r)})}var L5e=$5e;function F5e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var B5e=F5e,U5e=B5e,vH=Math.max;function V5e(t,e,r){return e=vH(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=vH(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),U5e(t,this,o)}}var z5e=V5e;function H5e(t){return function(){return t}}var W5e=H5e,G5e=rg,q5e=function(){try{var t=G5e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),oie=q5e,K5e=W5e,yH=oie,X5e=F0,Y5e=yH?function(t,e){return yH(t,"toString",{configurable:!0,enumerable:!1,value:K5e(e),writable:!0})}:X5e,Q5e=Y5e,Z5e=800,J5e=16,eUe=Date.now;function tUe(t){var e=0,r=0;return function(){var n=eUe(),i=J5e-(n-r);if(r=n,i>0){if(++e>=Z5e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var rUe=tUe,nUe=Q5e,iUe=rUe,sUe=iUe(nUe),aUe=sUe,oUe=F0,lUe=z5e,cUe=aUe;function uUe(t,e){return cUe(lUe(t,e,oUe),t+"")}var dUe=uUe,hUe=f4,fUe=MA,pUe=j4,mUe=ff;function gUe(t,e,r){if(!mUe(r))return!1;var n=typeof e;return(n=="number"?fUe(r)&&pUe(e,r.length):n=="string"&&e in r)?hUe(r[e],t):!1}var NO=gUe,vUe=iie,yUe=L5e,bUe=dUe,bH=NO,xUe=bUe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&bH(t,e[0],e[1])?e=[]:r>2&&bH(e[0],e[1],e[2])&&(e=[e[0]]),yUe(t,vUe(e,1),[])}),wUe=xUe;const M4=Mt(wUe);function S1(t){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S1(t)}function hD(){return hD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hD.apply(this,arguments)}function SUe(t,e){return CUe(t)||EUe(t,e)||AUe(t,e)||_Ue()}function _Ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AUe(t,e){if(t){if(typeof t=="string")return xH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xH(t,e)}}function xH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function CUe(t){if(Array.isArray(t))return t}function wH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wH(Object(r),!0).forEach(function(n){TUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TUe(t,e,r){return e=PUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PUe(t){var e=kUe(t,"string");return S1(e)=="symbol"?e:e+""}function kUe(t,e){if(S1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jUe(t){return Array.isArray(t)&&jn(t[0])&&jn(t[1])?t.join(" ~ "):t}var OUe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,g=e.labelClassName,v=e.label,y=e.labelFormatter,b=e.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(u&&u.length){var R={padding:0,margin:0},B=(h?M4(u,h):u).map(function(D,U){if(D.type==="none")return null;var N=Q2({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},o),j=D.formatter||d||jUe,L=D.value,F=D.name,z=L,K=F;if(j&&z!=null&&K!=null){var V=j(L,F,D,U,u);if(Array.isArray(V)){var G=SUe(V,2);z=G[0],K=G[1]}else z=V}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:N},jn(K)?W.createElement("span",{className:"recharts-tooltip-item-name"},K):null,jn(K)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},z),W.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:R},B)}return null},S=Q2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=Q2({margin:0},c),A=!ht(v),C=A?v:"",T=ot("recharts-default-tooltip",f),P=ot("recharts-tooltip-label",g);A&&y&&u!==void 0&&u!==null&&(C=y(v,u));var O=x?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",hD({className:T,style:S},O),W.createElement("p",{className:P,style:_},W.isValidElement(C)?C:"".concat(C)),w())};function _1(t){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_1(t)}function NE(t,e,r){return e=NUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NUe(t){var e=RUe(t,"string");return _1(e)=="symbol"?e:e+""}function RUe(t,e){if(_1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ox="recharts-tooltip-wrapper",MUe={visibility:"hidden"};function IUe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ot(ox,NE(NE(NE(NE({},"".concat(ox,"-right"),ve(r)&&e&&ve(e.x)&&r>=e.x),"".concat(ox,"-left"),ve(r)&&e&&ve(e.x)&&r<e.x),"".concat(ox,"-bottom"),ve(n)&&e&&ve(e.y)&&n>=e.y),"".concat(ox,"-top"),ve(n)&&e&&ve(e.y)&&n<e.y))}function SH(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&ve(s[n]))return s[n];var u=r[n]-o-i,d=r[n]+i;if(e[n])return a[n]?u:d;if(a[n]){var h=u,f=l[n];return h<f?Math.max(d,l[n]):Math.max(u,l[n])}var g=d+o,v=l[n]+c;return g>v?Math.max(u,l[n]):Math.max(d,l[n])}function DUe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function $Ue(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,d;return a.height>0&&a.width>0&&r?(u=SH({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=SH({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=DUe({translateX:u,translateY:d,useTranslate3d:o})):c=MUe,{cssProperties:c,cssClasses:IUe({translateX:u,translateY:d,coordinate:r})}}function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}function _H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_H(Object(r),!0).forEach(function(n){pD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_H(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cie(n.key),n)}}function BUe(t,e,r){return e&&FUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UUe(t,e,r){return e=jP(e),VUe(t,lie()?Reflect.construct(e,r||[],jP(t).constructor):e.apply(t,r))}function VUe(t,e){if(e&&(Ub(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zUe(t)}function zUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lie=function(){return!!t})()}function jP(t){return jP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jP(t)}function HUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fD(t,e)}function fD(t,e){return fD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fD(t,e)}function pD(t,e,r){return e=cie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cie(t){var e=WUe(t,"string");return Ub(e)=="symbol"?e:e+""}function WUe(t,e){if(Ub(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ub(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EH=1,GUe=function(t){function e(){var r;LUe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=UUe(this,e,[].concat(i)),pD(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pD(r,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return HUe(e,t),BUe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>EH||Math.abs(n.height-this.state.lastBoundingBox.height)>EH)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,f=i.offset,g=i.position,v=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,x=i.wrapperStyle,w=$Ue({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:f,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),S=w.cssClasses,_=w.cssProperties,A=AH(AH({transition:h&&s?"transform ".concat(o,"ms ").concat(l):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return W.createElement("div",{tabIndex:-1,className:S,style:A,ref:function(T){n.wrapperNode=T}},c)}}])}(E.PureComponent),qUe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},B0={isSsr:qUe()};function Vb(t){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}function CH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CH(Object(r),!0).forEach(function(n){I4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,die(n.key),n)}}function YUe(t,e,r){return e&&XUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QUe(t,e,r){return e=OP(e),ZUe(t,uie()?Reflect.construct(e,r||[],OP(t).constructor):e.apply(t,r))}function ZUe(t,e){if(e&&(Vb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JUe(t)}function JUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uie=function(){return!!t})()}function OP(t){return OP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},OP(t)}function eVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mD(t,e)}function mD(t,e){return mD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mD(t,e)}function I4(t,e,r){return e=die(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function die(t){var e=tVe(t,"string");return Vb(e)=="symbol"?e:e+""}function tVe(t,e){if(Vb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rVe(t){return t.dataKey}function nVe(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(OUe,e)}var ia=function(t){function e(){return KUe(this,e),QUe(this,e,arguments)}return eVe(e,t),YUe(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,f=i.offset,g=i.payload,v=i.payloadUniqBy,y=i.position,b=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,_=g??[];d&&_.length&&(_=eie(g.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),v,rVe));var A=_.length>0;return W.createElement(GUe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:s,coordinate:u,hasPayload:A,offset:f,position:y,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:S},nVe(c,TH(TH({},this.props),{},{payload:_})))}}])}(E.PureComponent);I4(ia,"displayName","Tooltip");I4(ia,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!B0.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iVe=vc,sVe=function(){return iVe.Date.now()},aVe=sVe,oVe=/\s/;function lVe(t){for(var e=t.length;e--&&oVe.test(t.charAt(e)););return e}var cVe=lVe,uVe=cVe,dVe=/^\s+/;function hVe(t){return t&&t.slice(0,uVe(t)+1).replace(dVe,"")}var fVe=hVe,pVe=fVe,PH=ff,mVe=N0,kH=NaN,gVe=/^[-+]0x[0-9a-f]+$/i,vVe=/^0b[01]+$/i,yVe=/^0o[0-7]+$/i,bVe=parseInt;function xVe(t){if(typeof t=="number")return t;if(mVe(t))return kH;if(PH(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=PH(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=pVe(t);var r=vVe.test(t);return r||yVe.test(t)?bVe(t.slice(2),r?2:8):gVe.test(t)?kH:+t}var hie=xVe,wVe=ff,Z2=aVe,jH=hie,SVe="Expected a function",_Ve=Math.max,AVe=Math.min;function EVe(t,e,r){var n,i,s,a,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(SVe);e=jH(e)||0,wVe(r)&&(u=!!r.leading,d="maxWait"in r,s=d?_Ve(jH(r.maxWait)||0,e):s,h="trailing"in r?!!r.trailing:h);function f(A){var C=n,T=i;return n=i=void 0,c=A,a=t.apply(T,C),a}function g(A){return c=A,o=setTimeout(b,e),u?f(A):a}function v(A){var C=A-l,T=A-c,P=e-C;return d?AVe(P,s-T):P}function y(A){var C=A-l,T=A-c;return l===void 0||C>=e||C<0||d&&T>=s}function b(){var A=Z2();if(y(A))return x(A);o=setTimeout(b,v(A))}function x(A){return o=void 0,h&&n?f(A):(n=i=void 0,a)}function w(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function S(){return o===void 0?a:x(Z2())}function _(){var A=Z2(),C=y(A);if(n=arguments,i=this,l=A,C){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(b,e),f(l)}return o===void 0&&(o=setTimeout(b,e)),a}return _.cancel=w,_.flush=S,_}var CVe=EVe,TVe=CVe,PVe=ff,kVe="Expected a function";function jVe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(kVe);return PVe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),TVe(t,e,{leading:n,maxWait:e,trailing:i})}var OVe=jVe;const fie=Mt(OVe);function A1(t){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A1(t)}function OH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OH(Object(r),!0).forEach(function(n){NVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NVe(t,e,r){return e=RVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RVe(t){var e=MVe(t,"string");return A1(e)=="symbol"?e:e+""}function MVe(t,e){if(A1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IVe(t,e){return FVe(t)||LVe(t,e)||$Ve(t,e)||DVe()}function DVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ve(t,e){if(t){if(typeof t=="string")return NH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NH(t,e)}}function NH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function FVe(t){if(Array.isArray(t))return t}var PC=E.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,f=t.children,g=t.debounce,v=g===void 0?0:g,y=t.id,b=t.className,x=t.onResize,w=t.style,S=w===void 0?{}:w,_=E.useRef(null),A=E.useRef();A.current=x,E.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var C=E.useState({containerWidth:i.width,containerHeight:i.height}),T=IVe(C,2),P=T[0],O=T[1],I=E.useCallback(function(B,D){O(function(U){var N=Math.round(B),j=Math.round(D);return U.containerWidth===N&&U.containerHeight===j?U:{containerWidth:N,containerHeight:j}})},[]);E.useEffect(function(){var B=function(F){var z,K=F[0].contentRect,V=K.width,G=K.height;I(V,G),(z=A.current)===null||z===void 0||z.call(A,V,G)};v>0&&(B=fie(B,v,{trailing:!0,leading:!1}));var D=new ResizeObserver(B),U=_.current.getBoundingClientRect(),N=U.width,j=U.height;return I(N,j),D.observe(_.current),function(){D.disconnect()}},[I,v]);var R=E.useMemo(function(){var B=P.containerWidth,D=P.containerHeight;if(B<0||D<0)return null;tl(Kf(a)||Kf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),tl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=Kf(a)?B:a,N=Kf(l)?D:l;r&&r>0&&(U?N=U/r:N&&(U=N*r),h&&N>h&&(N=h)),tl(U>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,N,a,l,u,d,r);var j=!Array.isArray(f)&&Au(f.type).endsWith("Chart");return W.Children.map(f,function(L){return W.isValidElement(L)?E.cloneElement(L,RE({width:U,height:N},j?{style:RE({height:"100%",width:"100%",maxHeight:N,maxWidth:U},L.props.style)}:{})):L})},[r,f,l,h,d,u,P,a]);return W.createElement("div",{id:y?"".concat(y):void 0,className:ot("recharts-responsive-container",b),style:RE(RE({},S),{},{width:a,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:_},R)}),RO=function(e){return null};RO.displayName="Cell";function E1(t){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E1(t)}function RH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RH(Object(r),!0).forEach(function(n){BVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BVe(t,e,r){return e=UVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UVe(t){var e=VVe(t,"string");return E1(e)=="symbol"?e:e+""}function VVe(t,e){if(E1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xg={widthCache:{},cacheCount:0},zVe=2e3,HVe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MH="recharts_measurement_span";function WVe(t){var e=gD({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Ew=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||B0.isSsr)return{width:0,height:0};var n=WVe(r),i=JSON.stringify({text:e,copyStyle:n});if(xg.widthCache[i])return xg.widthCache[i];try{var s=document.getElementById(MH);s||(s=document.createElement("span"),s.setAttribute("id",MH),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=gD(gD({},HVe),n);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return xg.widthCache[i]=l,++xg.cacheCount>zVe&&(xg.cacheCount=0,xg.widthCache={}),l}catch{return{width:0,height:0}}},GVe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function C1(t){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C1(t)}function NP(t,e){return YVe(t)||XVe(t,e)||KVe(t,e)||qVe()}function qVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KVe(t,e){if(t){if(typeof t=="string")return IH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IH(t,e)}}function IH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function YVe(t){if(Array.isArray(t))return t}function QVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JVe(n.key),n)}}function ZVe(t,e,r){return e&&DH(t.prototype,e),r&&DH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JVe(t){var e=eze(t,"string");return C1(e)=="symbol"?e:e+""}function eze(t,e){if(C1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(C1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $H=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tze=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rze=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pie={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nze=Object.keys(pie),cv="NaN";function ize(t,e){return t*pie[e]}var ME=function(){function t(e,r){QVe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!tze.test(r)&&(this.num=NaN,this.unit=""),nze.includes(r)&&(this.num=ize(e,r),this.unit="px")}return ZVe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=rze.exec(r))!==null&&n!==void 0?n:[],s=NP(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function mie(t){if(t.includes(cv))return cv;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=$H.exec(e))!==null&&r!==void 0?r:[],i=NP(n,4),s=i[1],a=i[2],o=i[3],l=ME.parse(s??""),c=ME.parse(o??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return cv;e=e.replace($H,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=LH.exec(e))!==null&&d!==void 0?d:[],f=NP(h,4),g=f[1],v=f[2],y=f[3],b=ME.parse(g??""),x=ME.parse(y??""),w=v==="+"?b.add(x):b.subtract(x);if(w.isNaN())return cv;e=e.replace(LH,w.toString())}return e}var FH=/\(([^()]*)\)/;function sze(t){for(var e=t;e.includes("(");){var r=FH.exec(e),n=NP(r,2),i=n[1];e=e.replace(FH,mie(i))}return e}function aze(t){var e=t.replace(/\s+/g,"");return e=sze(e),e=mie(e),e}function oze(t){try{return aze(t)}catch{return cv}}function J2(t){var e=oze(t.slice(5,-1));return e===cv?"":e}var lze=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cze=["dx","dy","angle","className","breakAll"];function vD(){return vD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vD.apply(this,arguments)}function BH(t,e){if(t==null)return{};var r=uze(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function UH(t,e){return pze(t)||fze(t,e)||hze(t,e)||dze()}function dze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hze(t,e){if(t){if(typeof t=="string")return VH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VH(t,e)}}function VH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function pze(t){if(Array.isArray(t))return t}var gie=/[ \f\n\r\t\v\u2028\u2029]+/,vie=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];ht(r)||(n?s=r.toString().split(""):s=r.toString().split(gie));var a=s.map(function(l){return{word:l,width:Ew(l,i).width}}),o=n?0:Ew("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},mze=function(e,r,n,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=ve(a),d=o,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(N,j){var L=j.word,F=j.width,z=N[N.length-1];if(z&&(i==null||s||z.width+F+n<Number(i)))z.words.push(L),z.width+=F+n;else{var K={words:[L],width:F};N.push(K)}return N},[])},f=h(r),g=function(U){return U.reduce(function(N,j){return N.width>j.width?N:j})};if(!u)return f;for(var v="",y=function(U){var N=d.slice(0,U),j=vie({breakAll:c,style:l,children:N+v}).wordsWithComputedWidth,L=h(j),F=L.length>a||g(L).width>Number(i);return[F,L]},b=0,x=d.length-1,w=0,S;b<=x&&w<=d.length-1;){var _=Math.floor((b+x)/2),A=_-1,C=y(A),T=UH(C,2),P=T[0],O=T[1],I=y(_),R=UH(I,1),B=R[0];if(!P&&!B&&(b=_+1),P&&B&&(x=_-1),!P&&B){S=O;break}w++}return S||f},zH=function(e){var r=ht(e)?[]:e.toString().split(gie);return[{words:r}]},gze=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((r||n)&&!B0.isSsr){var l,c,u=vie({breakAll:a,children:i,style:s});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return zH(i);return mze({breakAll:a,children:i,maxLines:o,style:s},l,c,r,n)}return zH(i)},HH="#808080",Vm=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,f=h===void 0?"start":h,g=e.verticalAnchor,v=g===void 0?"end":g,y=e.fill,b=y===void 0?HH:y,x=BH(e,lze),w=E.useMemo(function(){return gze({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),S=x.dx,_=x.dy,A=x.angle,C=x.className,T=x.breakAll,P=BH(x,cze);if(!jn(n)||!jn(s))return null;var O=n+(ve(S)?S:0),I=s+(ve(_)?_:0),R;switch(v){case"start":R=J2("calc(".concat(c,")"));break;case"middle":R=J2("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:R=J2("calc(".concat(w.length-1," * -").concat(o,")"));break}var B=[];if(d){var D=w[0].width,U=x.width;B.push("scale(".concat((ve(U)?U/D:1)/D,")"))}return A&&B.push("rotate(".concat(A,", ").concat(O,", ").concat(I,")")),B.length&&(P.transform=B.join(" ")),W.createElement("text",vD({},qe(P,!0),{x:O,y:I,className:ot("recharts-text",C),textAnchor:f,fill:b.includes("url")?HH:b}),w.map(function(N,j){var L=N.words.join(T?"":" ");return W.createElement("tspan",{x:O,dy:j===0?R:o,key:"".concat(L,"-").concat(j)},L)}))};function Uh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vze(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function D4(t){let e,r,n;t.length!==2?(e=Uh,r=(o,l)=>Uh(t(o),l),n=(o,l)=>t(o)-l):(e=t===Uh||t===vze?t:yze,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function yze(){return 0}function yie(t){return t===null?NaN:+t}function*bze(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const xze=D4(Uh),IA=xze.right;D4(yie).center;class WH extends Map{constructor(e,r=_ze){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(GH(this,e))}has(e){return super.has(GH(this,e))}set(e,r){return super.set(wze(this,e),r)}delete(e){return super.delete(Sze(this,e))}}function GH({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function wze({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Sze({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function _ze(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Aze(t=Uh){if(t===Uh)return bie;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function bie(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Eze=Math.sqrt(50),Cze=Math.sqrt(10),Tze=Math.sqrt(2);function RP(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Eze?10:s>=Cze?5:s>=Tze?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?RP(t,e,r*2):[o,l,c]}function yD(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?RP(e,t,r):RP(t,e,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function bD(t,e,r){return e=+e,t=+t,r=+r,RP(t,e,r)[2]}function xD(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?bD(e,t,r):bD(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function qH(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function KH(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function xie(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?bie:Aze(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),f=Math.max(r,Math.floor(e-c*d/l+h)),g=Math.min(n,Math.floor(e+(l-c)*d/l+h));xie(t,e,f,g,i)}const s=t[e];let a=r,o=n;for(lx(t,r,e),i(t[n],s)>0&&lx(t,r,n);a<o;){for(lx(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?lx(t,r,o):(++o,lx(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function lx(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Pze(t,e,r){if(t=Float64Array.from(bze(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return KH(t);if(e>=1)return qH(t);var n,i=(n-1)*e,s=Math.floor(i),a=qH(xie(t,s).subarray(0,s+1)),o=KH(t.subarray(s+1));return a+(o-a)*(i-s)}}function kze(t,e,r=yie){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function jze(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function fo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Zu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wD=Symbol("implicit");function $4(){var t=new WH,e=[],r=[],n=wD;function i(s){let a=t.get(s);if(a===void 0){if(n!==wD)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new WH;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return $4(e,r).unknown(n)},fo.apply(i,arguments),i}function T1(){var t=$4().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,f=i<n,g=f?i:n,v=f?n:i;s=(v-g)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),g+=(v-g-s*(h-l))*u,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var y=jze(h).map(function(b){return g+s*b});return r(f?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return T1(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},fo.apply(d(),arguments)}function wie(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wie(e())},t}function Cw(){return wie(T1.apply(null,arguments).paddingInner(1))}function L4(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Sie(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function DA(){}var P1=.7,MP=1/P1,Dv="\\s*([+-]?\\d+)\\s*",k1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oze=/^#([0-9a-f]{3,8})$/,Nze=new RegExp(`^rgb\\(${Dv},${Dv},${Dv}\\)$`),Rze=new RegExp(`^rgb\\(${sc},${sc},${sc}\\)$`),Mze=new RegExp(`^rgba\\(${Dv},${Dv},${Dv},${k1}\\)$`),Ize=new RegExp(`^rgba\\(${sc},${sc},${sc},${k1}\\)$`),Dze=new RegExp(`^hsl\\(${k1},${sc},${sc}\\)$`),$ze=new RegExp(`^hsla\\(${k1},${sc},${sc},${k1}\\)$`),XH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};L4(DA,j1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:YH,formatHex:YH,formatHex8:Lze,formatHsl:Fze,formatRgb:QH,toString:QH});function YH(){return this.rgb().formatHex()}function Lze(){return this.rgb().formatHex8()}function Fze(){return _ie(this).formatHsl()}function QH(){return this.rgb().formatRgb()}function j1(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Oze.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?ZH(e):r===3?new Ss(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?IE(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?IE(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Nze.exec(t))?new Ss(e[1],e[2],e[3],1):(e=Rze.exec(t))?new Ss(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Mze.exec(t))?IE(e[1],e[2],e[3],e[4]):(e=Ize.exec(t))?IE(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Dze.exec(t))?tW(e[1],e[2]/100,e[3]/100,1):(e=$ze.exec(t))?tW(e[1],e[2]/100,e[3]/100,e[4]):XH.hasOwnProperty(t)?ZH(XH[t]):t==="transparent"?new Ss(NaN,NaN,NaN,0):null}function ZH(t){return new Ss(t>>16&255,t>>8&255,t&255,1)}function IE(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ss(t,e,r,n)}function Bze(t){return t instanceof DA||(t=j1(t)),t?(t=t.rgb(),new Ss(t.r,t.g,t.b,t.opacity)):new Ss}function SD(t,e,r,n){return arguments.length===1?Bze(t):new Ss(t,e,r,n??1)}function Ss(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}L4(Ss,SD,Sie(DA,{brighter(t){return t=t==null?MP:Math.pow(MP,t),new Ss(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?P1:Math.pow(P1,t),new Ss(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ss(wm(this.r),wm(this.g),wm(this.b),IP(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JH,formatHex:JH,formatHex8:Uze,formatRgb:eW,toString:eW}));function JH(){return`#${Xf(this.r)}${Xf(this.g)}${Xf(this.b)}`}function Uze(){return`#${Xf(this.r)}${Xf(this.g)}${Xf(this.b)}${Xf((isNaN(this.opacity)?1:this.opacity)*255)}`}function eW(){const t=IP(this.opacity);return`${t===1?"rgb(":"rgba("}${wm(this.r)}, ${wm(this.g)}, ${wm(this.b)}${t===1?")":`, ${t})`}`}function IP(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xf(t){return t=wm(t),(t<16?"0":"")+t.toString(16)}function tW(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Xo(t,e,r,n)}function _ie(t){if(t instanceof Xo)return new Xo(t.h,t.s,t.l,t.opacity);if(t instanceof DA||(t=j1(t)),!t)return new Xo;if(t instanceof Xo)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Xo(a,o,l,t.opacity)}function Vze(t,e,r,n){return arguments.length===1?_ie(t):new Xo(t,e,r,n??1)}function Xo(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}L4(Xo,Vze,Sie(DA,{brighter(t){return t=t==null?MP:Math.pow(MP,t),new Xo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?P1:Math.pow(P1,t),new Xo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ss(eR(t>=240?t-240:t+120,i,n),eR(t,i,n),eR(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Xo(rW(this.h),DE(this.s),DE(this.l),IP(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=IP(this.opacity);return`${t===1?"hsl(":"hsla("}${rW(this.h)}, ${DE(this.s)*100}%, ${DE(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rW(t){return t=(t||0)%360,t<0?t+360:t}function DE(t){return Math.max(0,Math.min(1,t||0))}function eR(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const F4=t=>()=>t;function zze(t,e){return function(r){return t+r*e}}function Hze(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Wze(t){return(t=+t)==1?Aie:function(e,r){return r-e?Hze(e,r,t):F4(isNaN(e)?r:e)}}function Aie(t,e){var r=e-t;return r?zze(t,r):F4(isNaN(t)?e:t)}const nW=function t(e){var r=Wze(e);function n(i,s){var a=r((i=SD(i)).r,(s=SD(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),c=Aie(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function Gze(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function qze(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Kze(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=U0(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function Xze(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function DP(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Yze(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=U0(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var _D=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tR=new RegExp(_D.source,"g");function Qze(t){return function(){return t}}function Zze(t){return function(e){return t(e)+""}}function Jze(t,e){var r=_D.lastIndex=tR.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=_D.exec(t))&&(i=tR.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:DP(n,i)})),r=tR.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Zze(l[0].x):Qze(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function U0(t,e){var r=typeof e,n;return e==null||r==="boolean"?F4(e):(r==="number"?DP:r==="string"?(n=j1(e))?(e=n,nW):Jze:e instanceof j1?nW:e instanceof Date?Xze:qze(e)?Gze:Array.isArray(e)?Kze:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Yze:DP)(t,e)}function B4(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function e6e(t,e){e===void 0&&(e=t,t=U0);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function t6e(t){return function(){return t}}function $P(t){return+t}var iW=[0,1];function Qi(t){return t}function AD(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:t6e(isNaN(e)?NaN:.5)}function r6e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function n6e(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=AD(i,n),s=r(a,s)):(n=AD(n,i),s=r(s,a)),function(o){return s(n(o))}}function i6e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=AD(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var l=IA(t,o,1,n)-1;return s[l](i[l](o))}}function $A(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function MO(){var t=iW,e=iW,r=U0,n,i,s,a=Qi,o,l,c;function u(){var h=Math.min(t.length,e.length);return a!==Qi&&(a=r6e(t[0],t[h-1])),o=h>2?i6e:n6e,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=o(t.map(n),e,r)))(n(a(h)))}return d.invert=function(h){return a(i((c||(c=o(e,t.map(n),DP)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,$P),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=B4,u()},d.clamp=function(h){return arguments.length?(a=h?!0:Qi,u()):a!==Qi},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return n=h,i=f,u()}}function U4(){return MO()(Qi,Qi)}function s6e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function LP(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function zb(t){return t=LP(Math.abs(t)),t?t[1]:NaN}function a6e(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function o6e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var l6e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function O1(t){if(!(e=l6e.exec(t)))throw new Error("invalid format: "+t);var e;return new V4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}O1.prototype=V4.prototype;function V4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}V4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function c6e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var FP;function u6e(t,e){var r=LP(t,e);if(!r)return FP=void 0,t.toPrecision(e);var n=r[0],i=r[1],s=i-(FP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+LP(t,Math.max(0,e+s-1))[0]}function sW(t,e){var r=LP(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const aW={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:s6e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sW(t*100,e),r:sW,s:u6e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oW(t){return t}var lW=Array.prototype.map,cW=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function d6e(t){var e=t.grouping===void 0||t.thousands===void 0?oW:a6e(lW.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?oW:o6e(lW.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,h){d=O1(d);var f=d.fill,g=d.align,v=d.sign,y=d.symbol,b=d.zero,x=d.width,w=d.comma,S=d.precision,_=d.trim,A=d.type;A==="n"?(w=!0,A="g"):aW[A]||(S===void 0&&(S=12),_=!0,A="g"),(b||f==="0"&&g==="=")&&(b=!0,f="0",g="=");var C=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),T=(y==="$"?n:/[%p]/.test(A)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),P=aW[A],O=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(R){var B=C,D=T,U,N,j;if(A==="c")D=P(R)+D,R="";else{R=+R;var L=R<0||1/R<0;if(R=isNaN(R)?l:P(Math.abs(R),S),_&&(R=c6e(R)),L&&+R==0&&v!=="+"&&(L=!1),B=(L?v==="("?v:o:v==="-"||v==="("?"":v)+B,D=(A==="s"&&!isNaN(R)&&FP!==void 0?cW[8+FP/3]:"")+D+(L&&v==="("?")":""),O){for(U=-1,N=R.length;++U<N;)if(j=R.charCodeAt(U),48>j||j>57){D=(j===46?i+R.slice(U+1):R.slice(U))+D,R=R.slice(0,U);break}}}w&&!b&&(R=e(R,1/0));var F=B.length+R.length+D.length,z=F<x?new Array(x-F+1).join(f):"";switch(w&&b&&(R=e(z+R,z.length?x-D.length:1/0),z=""),g){case"<":R=B+R+D+z;break;case"=":R=B+z+R+D;break;case"^":R=z.slice(0,F=z.length>>1)+B+R+D+z.slice(F);break;default:R=z+B+R+D;break}return s(R)}return I.toString=function(){return d+""},I}function u(d,h){var f=Math.max(-8,Math.min(8,Math.floor(zb(h)/3)))*3,g=Math.pow(10,-f),v=c((d=O1(d),d.type="f",d),{suffix:cW[8+f/3]});return function(y){return v(g*y)}}return{format:c,formatPrefix:u}}var $E,z4,Eie;h6e({thousands:",",grouping:[3],currency:["$",""]});function h6e(t){return $E=d6e(t),z4=$E.format,Eie=$E.formatPrefix,$E}function f6e(t){return Math.max(0,-zb(Math.abs(t)))}function p6e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zb(e)/3)))*3-zb(Math.abs(t)))}function m6e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zb(e)-zb(t))+1}function Cie(t,e,r,n){var i=xD(t,e,r),s;switch(n=O1(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=p6e(i,a))&&(n.precision=s),Eie(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=m6e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=f6e(i))&&(n.precision=s-(n.type==="%")*2);break}}return z4(n)}function pf(t){var e=t.domain;return t.ticks=function(r){var n=e();return yD(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Cie(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=bD(a,o,r),c===l)return n[i]=a,n[s]=o,e(n);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function BP(){var t=U4();return t.copy=function(){return $A(t,BP())},fo.apply(t,arguments),pf(t)}function Tie(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,$P),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Tie(t).unknown(e)},t=arguments.length?Array.from(t,$P):[0,1],pf(r)}function Pie(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function uW(t){return Math.log(t)}function dW(t){return Math.exp(t)}function g6e(t){return-Math.log(-t)}function v6e(t){return-Math.exp(-t)}function y6e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function b6e(t){return t===10?y6e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function x6e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hW(t){return(e,r)=>-t(-e,r)}function H4(t){const e=t(uW,dW),r=e.domain;let n=10,i,s;function a(){return i=x6e(n),s=b6e(n),r()[0]<0?(i=hW(i),s=hW(s),t(g6e,v6e)):t(uW,dW),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),f=i(u),g,v;const y=o==null?10:+o;let b=[];if(!(n%1)&&f-h<y){if(h=Math.floor(h),f=Math.ceil(f),c>0){for(;h<=f;++h)for(g=1;g<n;++g)if(v=h<0?g/s(-h):g*s(h),!(v<c)){if(v>u)break;b.push(v)}}else for(;h<=f;++h)for(g=n-1;g>=1;--g)if(v=h>0?g/s(-h):g*s(h),!(v<c)){if(v>u)break;b.push(v)}b.length*2<y&&(b=yD(c,u,y))}else b=yD(h,f,Math.min(f-h,y)).map(s);return d?b.reverse():b},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=O1(l)).precision==null&&(l.trim=!0),l=z4(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},e.nice=()=>r(Pie(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function kie(){const t=H4(MO()).domain([1,10]);return t.copy=()=>$A(t,kie()).base(t.base()),fo.apply(t,arguments),t}function fW(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function pW(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function W4(t){var e=1,r=t(fW(e),pW(e));return r.constant=function(n){return arguments.length?t(fW(e=+n),pW(e)):e},pf(r)}function jie(){var t=W4(MO());return t.copy=function(){return $A(t,jie()).constant(t.constant())},fo.apply(t,arguments)}function mW(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function w6e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function S6e(t){return t<0?-t*t:t*t}function G4(t){var e=t(Qi,Qi),r=1;function n(){return r===1?t(Qi,Qi):r===.5?t(w6e,S6e):t(mW(r),mW(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},pf(e)}function q4(){var t=G4(MO());return t.copy=function(){return $A(t,q4()).exponent(t.exponent())},fo.apply(t,arguments),t}function _6e(){return q4.apply(null,arguments).exponent(.5)}function gW(t){return Math.sign(t)*t*t}function A6e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Oie(){var t=U4(),e=[0,1],r=!1,n;function i(s){var a=A6e(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(gW(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,$P)).map(gW)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Oie(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},fo.apply(i,arguments),pf(i)}function Nie(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=kze(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[IA(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Uh),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Nie().domain(t).range(e).unknown(n)},fo.apply(s,arguments)}function Rie(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[IA(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return Rie().domain([t,e]).range(i).unknown(s)},fo.apply(pf(a),arguments)}function Mie(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[IA(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Mie().domain(t).range(e).unknown(r)},fo.apply(i,arguments)}const rR=new Date,nR=new Date;function Rn(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>Rn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(rR.setTime(+s),nR.setTime(+a),t(rR),t(nR),Math.floor(r(rR,nR))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const UP=Rn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);UP.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Rn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):UP);UP.range;const xu=1e3,Za=xu*60,wu=Za*60,Lu=wu*24,K4=Lu*7,vW=Lu*30,iR=Lu*365,Yf=Rn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xu)},(t,e)=>(e-t)/xu,t=>t.getUTCSeconds());Yf.range;const X4=Rn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xu)},(t,e)=>{t.setTime(+t+e*Za)},(t,e)=>(e-t)/Za,t=>t.getMinutes());X4.range;const Y4=Rn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Za)},(t,e)=>(e-t)/Za,t=>t.getUTCMinutes());Y4.range;const Q4=Rn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xu-t.getMinutes()*Za)},(t,e)=>{t.setTime(+t+e*wu)},(t,e)=>(e-t)/wu,t=>t.getHours());Q4.range;const Z4=Rn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*wu)},(t,e)=>(e-t)/wu,t=>t.getUTCHours());Z4.range;const LA=Rn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Za)/Lu,t=>t.getDate()-1);LA.range;const IO=Rn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Lu,t=>t.getUTCDate()-1);IO.range;const Iie=Rn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Lu,t=>Math.floor(t/Lu));Iie.range;function ng(t){return Rn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Za)/K4)}const DO=ng(0),VP=ng(1),E6e=ng(2),C6e=ng(3),Hb=ng(4),T6e=ng(5),P6e=ng(6);DO.range;VP.range;E6e.range;C6e.range;Hb.range;T6e.range;P6e.range;function ig(t){return Rn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/K4)}const $O=ig(0),zP=ig(1),k6e=ig(2),j6e=ig(3),Wb=ig(4),O6e=ig(5),N6e=ig(6);$O.range;zP.range;k6e.range;j6e.range;Wb.range;O6e.range;N6e.range;const J4=Rn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());J4.range;const e5=Rn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());e5.range;const Fu=Rn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Fu.range;const Bu=Rn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Bu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Bu.range;function Die(t,e,r,n,i,s){const a=[[Yf,1,xu],[Yf,5,5*xu],[Yf,15,15*xu],[Yf,30,30*xu],[s,1,Za],[s,5,5*Za],[s,15,15*Za],[s,30,30*Za],[i,1,wu],[i,3,3*wu],[i,6,6*wu],[i,12,12*wu],[n,1,Lu],[n,2,2*Lu],[r,1,K4],[e,1,vW],[e,3,3*vW],[t,1,iR]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&typeof d.range=="function"?d:l(c,u,d),g=f?f.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,f=D4(([,,y])=>y).right(a,h);if(f===a.length)return t.every(xD(c/iR,u/iR,d));if(f===0)return UP.every(Math.max(xD(c,u,d),1));const[g,v]=a[h/a[f-1][2]<a[f][2]/h?f-1:f];return g.every(v)}return[o,l]}const[R6e,M6e]=Die(Bu,e5,$O,Iie,Z4,Y4),[I6e,D6e]=Die(Fu,J4,DO,LA,Q4,X4);function sR(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function aR(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function cx(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function $6e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=ux(i),u=dx(i),d=ux(s),h=dx(s),f=ux(a),g=dx(a),v=ux(o),y=dx(o),b=ux(l),x=dx(l),w={a:j,A:L,b:F,B:z,c:null,d:_W,e:_W,f:a8e,g:g8e,G:y8e,H:n8e,I:i8e,j:s8e,L:$ie,m:o8e,M:l8e,p:K,q:V,Q:CW,s:TW,S:c8e,u:u8e,U:d8e,V:h8e,w:f8e,W:p8e,x:null,X:null,y:m8e,Y:v8e,Z:b8e,"%":EW},S={a:G,A:X,b:H,B:Z,c:null,d:AW,e:AW,f:_8e,g:R8e,G:I8e,H:x8e,I:w8e,j:S8e,L:Fie,m:A8e,M:E8e,p:J,q:ce,Q:CW,s:TW,S:C8e,u:T8e,U:P8e,V:k8e,w:j8e,W:O8e,x:null,X:null,y:N8e,Y:M8e,Z:D8e,"%":EW},_={a:O,A:I,b:R,B,c:D,d:wW,e:wW,f:J6e,g:xW,G:bW,H:SW,I:SW,j:X6e,L:Z6e,m:K6e,M:Y6e,p:P,q:q6e,Q:t8e,s:r8e,S:Q6e,u:V6e,U:z6e,V:H6e,w:U6e,W:W6e,x:U,X:N,y:xW,Y:bW,Z:G6e,"%":e8e};w.x=A(r,w),w.X=A(n,w),w.c=A(e,w),S.x=A(r,S),S.X=A(n,S),S.c=A(e,S);function A(ee,oe){return function(ue){var te=[],De=-1,je=0,$e=ee.length,He,Ue,tt;for(ue instanceof Date||(ue=new Date(+ue));++De<$e;)ee.charCodeAt(De)===37&&(te.push(ee.slice(je,De)),(Ue=yW[He=ee.charAt(++De)])!=null?He=ee.charAt(++De):Ue=He==="e"?" ":"0",(tt=oe[He])&&(He=tt(ue,Ue)),te.push(He),je=De+1);return te.push(ee.slice(je,De)),te.join("")}}function C(ee,oe){return function(ue){var te=cx(1900,void 0,1),De=T(te,ee,ue+="",0),je,$e;if(De!=ue.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(oe&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(je=aR(cx(te.y,0,1)),$e=je.getUTCDay(),je=$e>4||$e===0?zP.ceil(je):zP(je),je=IO.offset(je,(te.V-1)*7),te.y=je.getUTCFullYear(),te.m=je.getUTCMonth(),te.d=je.getUTCDate()+(te.w+6)%7):(je=sR(cx(te.y,0,1)),$e=je.getDay(),je=$e>4||$e===0?VP.ceil(je):VP(je),je=LA.offset(je,(te.V-1)*7),te.y=je.getFullYear(),te.m=je.getMonth(),te.d=je.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),$e="Z"in te?aR(cx(te.y,0,1)).getUTCDay():sR(cx(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-($e+5)%7:te.w+te.U*7-($e+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,aR(te)):sR(te)}}function T(ee,oe,ue,te){for(var De=0,je=oe.length,$e=ue.length,He,Ue;De<je;){if(te>=$e)return-1;if(He=oe.charCodeAt(De++),He===37){if(He=oe.charAt(De++),Ue=_[He in yW?oe.charAt(De++):He],!Ue||(te=Ue(ee,ue,te))<0)return-1}else if(He!=ue.charCodeAt(te++))return-1}return te}function P(ee,oe,ue){var te=c.exec(oe.slice(ue));return te?(ee.p=u.get(te[0].toLowerCase()),ue+te[0].length):-1}function O(ee,oe,ue){var te=f.exec(oe.slice(ue));return te?(ee.w=g.get(te[0].toLowerCase()),ue+te[0].length):-1}function I(ee,oe,ue){var te=d.exec(oe.slice(ue));return te?(ee.w=h.get(te[0].toLowerCase()),ue+te[0].length):-1}function R(ee,oe,ue){var te=b.exec(oe.slice(ue));return te?(ee.m=x.get(te[0].toLowerCase()),ue+te[0].length):-1}function B(ee,oe,ue){var te=v.exec(oe.slice(ue));return te?(ee.m=y.get(te[0].toLowerCase()),ue+te[0].length):-1}function D(ee,oe,ue){return T(ee,e,oe,ue)}function U(ee,oe,ue){return T(ee,r,oe,ue)}function N(ee,oe,ue){return T(ee,n,oe,ue)}function j(ee){return a[ee.getDay()]}function L(ee){return s[ee.getDay()]}function F(ee){return l[ee.getMonth()]}function z(ee){return o[ee.getMonth()]}function K(ee){return i[+(ee.getHours()>=12)]}function V(ee){return 1+~~(ee.getMonth()/3)}function G(ee){return a[ee.getUTCDay()]}function X(ee){return s[ee.getUTCDay()]}function H(ee){return l[ee.getUTCMonth()]}function Z(ee){return o[ee.getUTCMonth()]}function J(ee){return i[+(ee.getUTCHours()>=12)]}function ce(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var oe=A(ee+="",w);return oe.toString=function(){return ee},oe},parse:function(ee){var oe=C(ee+="",!1);return oe.toString=function(){return ee},oe},utcFormat:function(ee){var oe=A(ee+="",S);return oe.toString=function(){return ee},oe},utcParse:function(ee){var oe=C(ee+="",!0);return oe.toString=function(){return ee},oe}}}var yW={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,L6e=/^%/,F6e=/[\\^$*+?|[\]().{}]/g;function Tt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function B6e(t){return t.replace(F6e,"\\$&")}function ux(t){return new RegExp("^(?:"+t.map(B6e).join("|")+")","i")}function dx(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function U6e(t,e,r){var n=Xn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function V6e(t,e,r){var n=Xn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function z6e(t,e,r){var n=Xn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function H6e(t,e,r){var n=Xn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function W6e(t,e,r){var n=Xn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function bW(t,e,r){var n=Xn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function xW(t,e,r){var n=Xn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function G6e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function q6e(t,e,r){var n=Xn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function K6e(t,e,r){var n=Xn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function wW(t,e,r){var n=Xn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function X6e(t,e,r){var n=Xn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function SW(t,e,r){var n=Xn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Y6e(t,e,r){var n=Xn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Q6e(t,e,r){var n=Xn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Z6e(t,e,r){var n=Xn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function J6e(t,e,r){var n=Xn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function e8e(t,e,r){var n=L6e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function t8e(t,e,r){var n=Xn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function r8e(t,e,r){var n=Xn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function _W(t,e){return Tt(t.getDate(),e,2)}function n8e(t,e){return Tt(t.getHours(),e,2)}function i8e(t,e){return Tt(t.getHours()%12||12,e,2)}function s8e(t,e){return Tt(1+LA.count(Fu(t),t),e,3)}function $ie(t,e){return Tt(t.getMilliseconds(),e,3)}function a8e(t,e){return $ie(t,e)+"000"}function o8e(t,e){return Tt(t.getMonth()+1,e,2)}function l8e(t,e){return Tt(t.getMinutes(),e,2)}function c8e(t,e){return Tt(t.getSeconds(),e,2)}function u8e(t){var e=t.getDay();return e===0?7:e}function d8e(t,e){return Tt(DO.count(Fu(t)-1,t),e,2)}function Lie(t){var e=t.getDay();return e>=4||e===0?Hb(t):Hb.ceil(t)}function h8e(t,e){return t=Lie(t),Tt(Hb.count(Fu(t),t)+(Fu(t).getDay()===4),e,2)}function f8e(t){return t.getDay()}function p8e(t,e){return Tt(VP.count(Fu(t)-1,t),e,2)}function m8e(t,e){return Tt(t.getFullYear()%100,e,2)}function g8e(t,e){return t=Lie(t),Tt(t.getFullYear()%100,e,2)}function v8e(t,e){return Tt(t.getFullYear()%1e4,e,4)}function y8e(t,e){var r=t.getDay();return t=r>=4||r===0?Hb(t):Hb.ceil(t),Tt(t.getFullYear()%1e4,e,4)}function b8e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Tt(e/60|0,"0",2)+Tt(e%60,"0",2)}function AW(t,e){return Tt(t.getUTCDate(),e,2)}function x8e(t,e){return Tt(t.getUTCHours(),e,2)}function w8e(t,e){return Tt(t.getUTCHours()%12||12,e,2)}function S8e(t,e){return Tt(1+IO.count(Bu(t),t),e,3)}function Fie(t,e){return Tt(t.getUTCMilliseconds(),e,3)}function _8e(t,e){return Fie(t,e)+"000"}function A8e(t,e){return Tt(t.getUTCMonth()+1,e,2)}function E8e(t,e){return Tt(t.getUTCMinutes(),e,2)}function C8e(t,e){return Tt(t.getUTCSeconds(),e,2)}function T8e(t){var e=t.getUTCDay();return e===0?7:e}function P8e(t,e){return Tt($O.count(Bu(t)-1,t),e,2)}function Bie(t){var e=t.getUTCDay();return e>=4||e===0?Wb(t):Wb.ceil(t)}function k8e(t,e){return t=Bie(t),Tt(Wb.count(Bu(t),t)+(Bu(t).getUTCDay()===4),e,2)}function j8e(t){return t.getUTCDay()}function O8e(t,e){return Tt(zP.count(Bu(t)-1,t),e,2)}function N8e(t,e){return Tt(t.getUTCFullYear()%100,e,2)}function R8e(t,e){return t=Bie(t),Tt(t.getUTCFullYear()%100,e,2)}function M8e(t,e){return Tt(t.getUTCFullYear()%1e4,e,4)}function I8e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Wb(t):Wb.ceil(t),Tt(t.getUTCFullYear()%1e4,e,4)}function D8e(){return"+0000"}function EW(){return"%"}function CW(t){return+t}function TW(t){return Math.floor(+t/1e3)}var wg,Uie,Vie;$8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $8e(t){return wg=$6e(t),Uie=wg.format,wg.parse,Vie=wg.utcFormat,wg.utcParse,wg}function L8e(t){return new Date(t)}function F8e(t){return t instanceof Date?+t:+new Date(+t)}function t5(t,e,r,n,i,s,a,o,l,c){var u=U4(),d=u.invert,h=u.domain,f=c(".%L"),g=c(":%S"),v=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),x=c("%b %d"),w=c("%B"),S=c("%Y");function _(A){return(l(A)<A?f:o(A)<A?g:a(A)<A?v:s(A)<A?y:n(A)<A?i(A)<A?b:x:r(A)<A?w:S)(A)}return u.invert=function(A){return new Date(d(A))},u.domain=function(A){return arguments.length?h(Array.from(A,F8e)):h().map(L8e)},u.ticks=function(A){var C=h();return t(C[0],C[C.length-1],A??10)},u.tickFormat=function(A,C){return C==null?_:c(C)},u.nice=function(A){var C=h();return(!A||typeof A.range!="function")&&(A=e(C[0],C[C.length-1],A??10)),A?h(Pie(C,A)):u},u.copy=function(){return $A(u,t5(t,e,r,n,i,s,a,o,l,c))},u}function B8e(){return fo.apply(t5(I6e,D6e,Fu,J4,DO,LA,Q4,X4,Yf,Uie).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function U8e(){return fo.apply(t5(R6e,M6e,Bu,e5,$O,IO,Z4,Y4,Yf,Vie).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function LO(){var t=0,e=1,r,n,i,s,a=Qi,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(h){var f,g;return arguments.length?([f,g]=h,a=d(f,g),c):[a(0),a(1)]}}return c.range=u(U0),c.rangeRound=u(B4),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),c}}function mf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zie(){var t=pf(LO()(Qi));return t.copy=function(){return mf(t,zie())},Zu.apply(t,arguments)}function Hie(){var t=H4(LO()).domain([1,10]);return t.copy=function(){return mf(t,Hie()).base(t.base())},Zu.apply(t,arguments)}function Wie(){var t=W4(LO());return t.copy=function(){return mf(t,Wie()).constant(t.constant())},Zu.apply(t,arguments)}function r5(){var t=G4(LO());return t.copy=function(){return mf(t,r5()).exponent(t.exponent())},Zu.apply(t,arguments)}function V8e(){return r5.apply(null,arguments).exponent(.5)}function Gie(){var t=[],e=Qi;function r(n){if(n!=null&&!isNaN(n=+n))return e((IA(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Uh),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Pze(t,s/n))},r.copy=function(){return Gie(e).domain(t)},Zu.apply(r,arguments)}function FO(){var t=0,e=.5,r=1,n=1,i,s,a,o,l,c=Qi,u,d=!1,h;function f(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-s)*(n*v<n*s?o:l),c(d?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([t,e,r]=v,i=u(t=+t),s=u(e=+e),a=u(r=+r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,f):[t,e,r]},f.clamp=function(v){return arguments.length?(d=!!v,f):d},f.interpolator=function(v){return arguments.length?(c=v,f):c};function g(v){return function(y){var b,x,w;return arguments.length?([b,x,w]=y,c=e6e(v,[b,x,w]),f):[c(0),c(.5),c(1)]}}return f.range=g(U0),f.rangeRound=g(B4),f.unknown=function(v){return arguments.length?(h=v,f):h},function(v){return u=v,i=v(t),s=v(e),a=v(r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,f}}function qie(){var t=pf(FO()(Qi));return t.copy=function(){return mf(t,qie())},Zu.apply(t,arguments)}function Kie(){var t=H4(FO()).domain([.1,1,10]);return t.copy=function(){return mf(t,Kie()).base(t.base())},Zu.apply(t,arguments)}function Xie(){var t=W4(FO());return t.copy=function(){return mf(t,Xie()).constant(t.constant())},Zu.apply(t,arguments)}function n5(){var t=G4(FO());return t.copy=function(){return mf(t,n5()).exponent(t.exponent())},Zu.apply(t,arguments)}function z8e(){return n5.apply(null,arguments).exponent(.5)}const PW=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:T1,scaleDiverging:qie,scaleDivergingLog:Kie,scaleDivergingPow:n5,scaleDivergingSqrt:z8e,scaleDivergingSymlog:Xie,scaleIdentity:Tie,scaleImplicit:wD,scaleLinear:BP,scaleLog:kie,scaleOrdinal:$4,scalePoint:Cw,scalePow:q4,scaleQuantile:Nie,scaleQuantize:Rie,scaleRadial:Oie,scaleSequential:zie,scaleSequentialLog:Hie,scaleSequentialPow:r5,scaleSequentialQuantile:Gie,scaleSequentialSqrt:V8e,scaleSequentialSymlog:Wie,scaleSqrt:_6e,scaleSymlog:jie,scaleThreshold:Mie,scaleTime:B8e,scaleUtc:U8e,tickFormat:Cie},Symbol.toStringTag,{value:"Module"}));var H8e=N0;function W8e(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],a=e(s);if(a!=null&&(o===void 0?a===a&&!H8e(a):r(a,o)))var o=a,l=s}return l}var BO=W8e;function G8e(t,e){return t>e}var Yie=G8e,q8e=BO,K8e=Yie,X8e=F0;function Y8e(t){return t&&t.length?q8e(t,X8e,K8e):void 0}var Q8e=Y8e;const UO=Mt(Q8e);function Z8e(t,e){return t<e}var Qie=Z8e,J8e=BO,eHe=Qie,tHe=F0;function rHe(t){return t&&t.length?J8e(t,tHe,eHe):void 0}var nHe=rHe;const VO=Mt(nHe);var iHe=v4,sHe=yc,aHe=aie,oHe=js;function lHe(t,e){var r=oHe(t)?iHe:aHe;return r(t,sHe(e))}var cHe=lHe,uHe=iie,dHe=cHe;function hHe(t,e){return uHe(dHe(t,e),1)}var fHe=hHe;const pHe=Mt(fHe);var mHe=N4;function gHe(t,e){return mHe(t,e)}var vHe=gHe;const zO=Mt(vHe);var V0=1e9,yHe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s5,Tr=!0,oo="[DecimalError] ",Sm=oo+"Invalid argument: ",i5=oo+"Exponent out of range: ",z0=Math.floor,jf=Math.pow,bHe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ha,zn=1e7,yr=7,Zie=9007199254740991,HP=z0(Zie/yr),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*yr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return Eu(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return ir(Eu(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return vn(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ha))throw Error(oo+"NaN");if(r.s<1)throw Error(oo+(r.s?"NaN":"-Infinity"));return r.eq(ha)?new n(0):(Tr=!1,e=Eu(N1(r,s),N1(t,s),s),Tr=!0,ir(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tse(e,t):Jie(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(oo+"NaN");return r.s?(Tr=!1,e=Eu(r,t,0,1).times(t),Tr=!0,r.minus(e)):ir(new n(r),i)};Te.naturalExponential=Te.exp=function(){return ese(this)};Te.naturalLogarithm=Te.ln=function(){return N1(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Jie(e,t):tse(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Sm+t);if(e=vn(i)+1,n=i.d.length-1,r=n*yr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(oo+"NaN")}for(t=vn(o),Tr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Zl(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=z0((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(s=n,n=s.plus(Eu(o,s,a+2)).times(.5),Zl(s.d).slice(0,a)===(e=Zl(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ir(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return Tr=!0,ir(n,r)};Te.times=Te.mul=function(t){var e,r,n,i,s,a,o,l,c,u=this,d=u.constructor,h=u.d,f=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=f.length,l<c&&(s=h,h=f,f=s,a=l,l=c,c=a),s=[],a=l+c,n=a;n--;)s.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=s[i]+f[n]*h[i-n-1]+e,s[i--]=o%zn|0,e=o/zn|0;s[i]=(s[i]+e)%zn|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Tr?ir(t,d.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(dc(t,0,V0),e===void 0?e=n.rounding:dc(e,0,8),ir(r,t+vn(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=zm(n,!0):(dc(t,0,V0),e===void 0?e=i.rounding:dc(e,0,8),n=ir(new i(n),t+1,e),r=zm(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?zm(i):(dc(t,0,V0),e===void 0?e=s.rounding:dc(e,0,8),n=ir(new s(i),t+vn(i)+1,e),r=zm(n.abs(),!1,t+vn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return ir(new e(t),vn(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,i,s,a,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(ha);if(o=new l(o),!o.s){if(t.s<1)throw Error(oo+"Infinity");return o}if(o.eq(ha))return o;if(n=l.precision,t.eq(ha))return ir(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=u<0?-u:u)<=Zie){for(i=new l(ha),e=Math.ceil(n/yr+4),Tr=!1;r%2&&(i=i.times(o),jW(i.d,e)),r=z0(r/2),r!==0;)o=o.times(o),jW(o.d,e);return Tr=!0,t.s<0?new l(ha).div(i):ir(i,n)}}else if(s<0)throw Error(oo+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Tr=!1,i=t.times(N1(o,n+c)),Tr=!0,i=ese(i),i.s=s,i};Te.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=vn(i),n=zm(i,r<=s.toExpNeg||r>=s.toExpPos)):(dc(t,1,V0),e===void 0?e=s.rounding:dc(e,0,8),i=ir(new s(i),t,e),r=vn(i),n=zm(i,t<=r||r<=s.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(dc(t,1,V0),e===void 0?e=n.rounding:dc(e,0,8)),ir(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vn(t),r=t.constructor;return zm(t,e<=r.toExpNeg||e>=r.toExpPos)};function Jie(t,e){var r,n,i,s,a,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Tr?ir(e,d):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(n=l,s=-s,o=c.length):(n=c,i=a,o=l.length),a=Math.ceil(d/yr),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,n=c,c=l,l=n),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/zn|0,l[s]%=zn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Tr?ir(e,d):e}function dc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Sm+t)}function Zl(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=yr-n.length,r&&(s+=vd(r)),s+=n;a=t[e],n=a+"",r=yr-n.length,r&&(s+=vd(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Eu=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%zn|0,a=s/zn|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*zn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,l,c,u,d,h,f,g,v,y,b,x,w,S,_,A,C,T,P=n.constructor,O=n.s==i.s?1:-1,I=n.d,R=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(oo+"Division by zero");for(l=n.e-i.e,C=R.length,_=I.length,f=new P(O),g=f.d=[],c=0;R[c]==(I[c]||0);)++c;if(R[c]>(I[c]||0)&&--l,s==null?x=s=P.precision:a?x=s+(vn(n)-vn(i))+1:x=s,x<0)return new P(0);if(x=x/yr+2|0,c=0,C==1)for(u=0,R=R[0],x++;(c<_||u)&&x--;c++)w=u*zn+(I[c]||0),g[c]=w/R|0,u=w%R|0;else{for(u=zn/(R[0]+1)|0,u>1&&(R=t(R,u),I=t(I,u),C=R.length,_=I.length),S=C,v=I.slice(0,C),y=v.length;y<C;)v[y++]=0;T=R.slice(),T.unshift(0),A=R[0],R[1]>=zn/2&&++A;do u=0,o=e(R,v,C,y),o<0?(b=v[0],C!=y&&(b=b*zn+(v[1]||0)),u=b/A|0,u>1?(u>=zn&&(u=zn-1),d=t(R,u),h=d.length,y=v.length,o=e(d,v,h,y),o==1&&(u--,r(d,C<h?T:R,h))):(u==0&&(o=u=1),d=R.slice()),h=d.length,h<y&&d.unshift(0),r(v,d,y),o==-1&&(y=v.length,o=e(R,v,C,y),o<1&&(u++,r(v,C<y?T:R,y))),y=v.length):o===0&&(u++,v=[0]),g[c++]=u,o&&v[0]?v[y++]=I[S]||0:(v=[I[S]],y=1);while((S++<_||v[0]!==void 0)&&x--)}return g[0]||g.shift(),f.e=l,ir(f,a?s+vn(f)+1:s)}}();function ese(t,e){var r,n,i,s,a,o,l=0,c=0,u=t.constructor,d=u.precision;if(vn(t)>16)throw Error(i5+vn(t));if(!t.s)return new u(ha);for(Tr=!1,o=d,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(n=Math.log(jf(2,c))/Math.LN10*2+5|0,o+=n,r=i=s=new u(ha),u.precision=o;;){if(i=ir(i.times(t),o),r=r.times(++l),a=s.plus(Eu(i,r,o)),Zl(a.d).slice(0,o)===Zl(s.d).slice(0,o)){for(;c--;)s=ir(s.times(s),o);return u.precision=d,e==null?(Tr=!0,ir(s,d)):s}s=a}}function vn(t){for(var e=t.e*yr,r=t.d[0];r>=10;r/=10)e++;return e}function oR(t,e,r){if(e>t.LN10.sd())throw Tr=!0,r&&(t.precision=r),Error(oo+"LN10 precision limit exceeded");return ir(new t(t.LN10),e)}function vd(t){for(var e="";t--;)e+="0";return e}function N1(t,e){var r,n,i,s,a,o,l,c,u,d=1,h=10,f=t,g=f.d,v=f.constructor,y=v.precision;if(f.s<1)throw Error(oo+(f.s?"NaN":"-Infinity"));if(f.eq(ha))return new v(0);if(e==null?(Tr=!1,c=y):c=e,f.eq(10))return e==null&&(Tr=!0),oR(v,c);if(c+=h,v.precision=c,r=Zl(g),n=r.charAt(0),s=vn(f),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=Zl(f.d),n=r.charAt(0),d++;s=vn(f),n>1?(f=new v("0."+r),s++):f=new v(n+"."+r.slice(1))}else return l=oR(v,c+2,y).times(s+""),f=N1(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=y,e==null?(Tr=!0,ir(f,y)):f;for(o=a=f=Eu(f.minus(ha),f.plus(ha),c),u=ir(f.times(f),c),i=3;;){if(a=ir(a.times(u),c),l=o.plus(Eu(a,new v(i),c)),Zl(l.d).slice(0,c)===Zl(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(oR(v,c+2,y).times(s+""))),o=Eu(o,new v(d),c),v.precision=y,e==null?(Tr=!0,ir(o,y)):o;o=l,i+=2}}function kW(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=z0(r/yr),t.d=[],n=(r+1)%yr,r<0&&(n+=yr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=yr;n<i;)t.d.push(+e.slice(n,n+=yr));e=e.slice(n),n=yr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Tr&&(t.e>HP||t.e<-HP))throw Error(i5+r)}else t.s=0,t.e=0,t.d=[0];return t}function ir(t,e,r){var n,i,s,a,o,l,c,u,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=yr,i=e,c=d[u=0];else{if(u=Math.ceil((n+1)/yr),s=d.length,u>=s)return t;for(c=s=d[u],a=1;s>=10;s/=10)a++;n%=yr,i=n-yr+a}if(r!==void 0&&(s=jf(10,a-i-1),o=c/s%10|0,l=e<0||d[u+1]!==void 0||c%s,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/jf(10,a-i):0:d[u-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(s=vn(t),d.length=1,e=e-s-1,d[0]=jf(10,(yr-e%yr)%yr),t.e=z0(-e/yr)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=u,s=1,u--):(d.length=u+1,s=jf(10,yr-n),d[u]=i>0?(c/jf(10,a-i)%jf(10,i)|0)*s:0),l)for(;;)if(u==0){(d[0]+=s)==zn&&(d[0]=1,++t.e);break}else{if(d[u]+=s,d[u]!=zn)break;d[u--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(Tr&&(t.e>HP||t.e<-HP))throw Error(i5+vn(t));return t}function tse(t,e){var r,n,i,s,a,o,l,c,u,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Tr?ir(e,f):e;if(l=t.d,d=e.d,n=e.e,c=t.e,l=l.slice(),a=c-n,a){for(u=a<0,u?(r=l,a=-a,o=d.length):(r=d,n=c,o=l.length),i=Math.max(Math.ceil(f/yr),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(r=l,l=d,d=r,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=zn-1;--l[s],l[i]+=zn}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Tr?ir(e,f):e):new h(0)}function zm(t,e,r){var n,i=vn(t),s=Zl(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+vd(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+vd(-i-1)+s,r&&(n=r-a)>0&&(s+=vd(n))):i>=a?(s+=vd(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+vd(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=vd(n))),t.s<0?"-"+s:s}function jW(t,e){if(t.length>e)return t.length=e,!0}function rse(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Sm+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return kW(a,s.toString())}else if(typeof s!="string")throw Error(Sm+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,bHe.test(s))kW(a,s);else throw Error(Sm+s)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=rse,i.config=i.set=xHe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function xHe(t){if(!t||typeof t!="object")throw Error(oo+"Object expected");var e,r,n,i=["precision",1,V0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(z0(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Sm+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Sm+r+": "+n);return this}var s5=rse(yHe);ha=new s5(1);const Zt=s5;function wHe(t){return EHe(t)||AHe(t)||_He(t)||SHe()}function SHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _He(t,e){if(t){if(typeof t=="string")return ED(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ED(t,e)}}function AHe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function EHe(t){if(Array.isArray(t))return ED(t)}function ED(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var CHe=function(e){return e},nse={},ise=function(e){return e===nse},OW=function(e){return function r(){return arguments.length===0||arguments.length===1&&ise(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},THe=function t(e,r){return e===1?r:OW(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==nse}).length;return a>=e?r.apply(void 0,i):t(e-a,OW(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(d){return ise(d)?l.shift():d});return r.apply(void 0,wHe(u).concat(l))}))})},HO=function(e){return THe(e.length,e)},CD=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},PHe=HO(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),kHe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return CHe;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},TD=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},sse=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r&&s.every(function(o,l){return o===r[l]})||(r=s,n=e.apply(void 0,s)),n}};function jHe(t){var e;return t===0?e=1:e=Math.floor(new Zt(t).abs().log(10).toNumber())+1,e}function OHe(t,e,r){for(var n=new Zt(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var NHe=HO(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),RHe=HO(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),MHe=HO(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const WO={rangeStep:OHe,getDigitCount:jHe,interpolateNumber:NHe,uninterpolateNumber:RHe,uninterpolateTruncation:MHe};function PD(t){return $He(t)||DHe(t)||ase(t)||IHe()}function IHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DHe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function $He(t){if(Array.isArray(t))return kD(t)}function R1(t,e){return BHe(t)||FHe(t,e)||ase(t,e)||LHe()}function LHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ase(t,e){if(t){if(typeof t=="string")return kD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kD(t,e)}}function kD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FHe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}}function BHe(t){if(Array.isArray(t))return t}function ose(t){var e=R1(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function lse(t,e,r){if(t.lte(0))return new Zt(0);var n=WO.getDigitCount(t.toNumber()),i=new Zt(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new Zt(Math.ceil(s.div(a).toNumber())).add(r).mul(a),l=o.mul(i);return e?l:new Zt(Math.ceil(l))}function UHe(t,e,r){var n=1,i=new Zt(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Zt(10).pow(WO.getDigitCount(t)-1),i=new Zt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Zt(Math.floor(t)))}else t===0?i=new Zt(Math.floor((e-1)/2)):r||(i=new Zt(Math.floor(t)));var a=Math.floor((e-1)/2),o=kHe(PHe(function(l){return i.add(new Zt(l-a).mul(n)).toNumber()}),CD);return o(0,e)}function cse(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Zt(0),tickMin:new Zt(0),tickMax:new Zt(0)};var s=lse(new Zt(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new Zt(0):(a=new Zt(t).add(e).div(2),a=a.sub(new Zt(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Zt(e).sub(a).div(s).toNumber()),c=o+l+1;return c>r?cse(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:s,tickMin:a.sub(new Zt(o).mul(s)),tickMax:a.add(new Zt(l).mul(s))})}function VHe(t){var e=R1(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=ose([r,n]),l=R1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(PD(CD(0,i-1).map(function(){return 1/0}))):[].concat(PD(CD(0,i-1).map(function(){return-1/0})),[u]);return r>n?TD(d):d}if(c===u)return UHe(c,i,s);var h=cse(c,u,a,s),f=h.step,g=h.tickMin,v=h.tickMax,y=WO.rangeStep(g,v.add(new Zt(.1).mul(f)),f);return r>n?TD(y):y}function zHe(t,e){var r=R1(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=ose([n,i]),o=R1(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),d=lse(new Zt(c).sub(l).div(u-1),s,0),h=[].concat(PD(WO.rangeStep(new Zt(l),new Zt(c).sub(new Zt(.99).mul(d)),d)),[c]);return n>i?TD(h):h}var HHe=sse(VHe),WHe=sse(zHe),GHe="Invariant failed";function Hm(t,e){throw new Error(GHe)}var qHe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function WP(){return WP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WP.apply(this,arguments)}function KHe(t,e){return ZHe(t)||QHe(t,e)||YHe(t,e)||XHe()}function XHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YHe(t,e){if(t){if(typeof t=="string")return NW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NW(t,e)}}function NW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QHe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function ZHe(t){if(Array.isArray(t))return t}function JHe(t,e){if(t==null)return{};var r=eWe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hse(n.key),n)}}function nWe(t,e,r){return e&&rWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iWe(t,e,r){return e=GP(e),sWe(t,use()?Reflect.construct(e,r||[],GP(t).constructor):e.apply(t,r))}function sWe(t,e){if(e&&(Gb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aWe(t)}function aWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function use(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(use=function(){return!!t})()}function GP(t){return GP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},GP(t)}function oWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jD(t,e)}function jD(t,e){return jD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jD(t,e)}function dse(t,e,r){return e=hse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hse(t){var e=lWe(t,"string");return Gb(e)=="symbol"?e:e+""}function lWe(t,e){if(Gb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GO=function(t){function e(){return tWe(this,e),iWe(this,e,arguments)}return oWe(e,t),nWe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,h=JHe(n,qHe),f=qe(h,!1);this.props.direction==="x"&&u.type!=="number"&&Hm();var g=l.map(function(v){var y=c(v,o),b=y.x,x=y.y,w=y.value,S=y.errorVal;if(!S)return null;var _=[],A,C;if(Array.isArray(S)){var T=KHe(S,2);A=T[0],C=T[1]}else A=C=S;if(s==="vertical"){var P=u.scale,O=x+i,I=O+a,R=O-a,B=P(w-A),D=P(w+C);_.push({x1:D,y1:I,x2:D,y2:R}),_.push({x1:B,y1:O,x2:D,y2:O}),_.push({x1:B,y1:I,x2:B,y2:R})}else if(s==="horizontal"){var U=d.scale,N=b+i,j=N-a,L=N+a,F=U(w-A),z=U(w+C);_.push({x1:j,y1:z,x2:L,y2:z}),_.push({x1:N,y1:F,x2:N,y2:z}),_.push({x1:j,y1:F,x2:L,y2:F})}return W.createElement(zt,WP({className:"recharts-errorBar",key:"bar-".concat(_.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},f),_.map(function(K){return W.createElement("line",WP({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return W.createElement(zt,{className:"recharts-errorBars"},g)}}])}(W.Component);dse(GO,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});dse(GO,"displayName","ErrorBar");function M1(t){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M1(t)}function RW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RW(Object(r),!0).forEach(function(n){cWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cWe(t,e,r){return e=uWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uWe(t){var e=dWe(t,"string");return M1(e)=="symbol"?e:e+""}function dWe(t,e){if(M1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(M1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fse=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=ra(r,Iv);if(!a)return null;var o=Iv.defaultProps,l=o!==void 0?wf(wf({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(n||[]).reduce(function(u,d){var h=d.item,f=d.props,g=f.sectors||f.data||[];return u.concat(g.map(function(v){return{type:a.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(n||[]).map(function(u){var d=u.item,h=d.type.defaultProps,f=h!==void 0?wf(wf({},h),d.props):{},g=f.dataKey,v=f.name,y=f.legendType,b=f.hide;return{inactive:b,dataKey:g,type:l.iconType||y||"square",color:a5(d),value:v||g,payload:f}}),wf(wf(wf({},l),Iv.getWithHeight(a,i)),{},{payload:c,item:a})};function I1(t){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I1(t)}function MW(t){return mWe(t)||pWe(t)||fWe(t)||hWe()}function hWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fWe(t,e){if(t){if(typeof t=="string")return OD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OD(t,e)}}function pWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mWe(t){if(Array.isArray(t))return OD(t)}function OD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IW(Object(r),!0).forEach(function(n){$v(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $v(t,e,r){return e=gWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gWe(t){var e=vWe(t,"string");return I1(e)=="symbol"?e:e+""}function vWe(t,e){if(I1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(I1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ni(t,e,r){return ht(t)||ht(e)?r:jn(e)?ya(t,e,r):Ke(e)?e(t):r}function Tw(t,e,r,n){var i=pHe(t,function(o){return Ni(o,e)});if(r==="number"){var s=i.filter(function(o){return ve(o)||parseFloat(o)});return s.length?[VO(s),UO(s)]:[1/0,-1/0]}var a=n?i.filter(function(o){return!ht(o)}):i;return a.map(function(o){return jn(o)||o instanceof Date?o:""})}var yWe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,f=void 0;if(Xi(d-u)!==Xi(h-d)){var g=[];if(Xi(h-d)===Xi(l[1]-l[0])){f=h;var v=d+l[1]-l[0];g[0]=Math.min(v,(v+u)/2),g[1]=Math.max(v,(v+u)/2)}else{f=u;var y=h+l[1]-l[0];g[0]=Math.min(d,(y+d)/2),g[1]=Math.max(d,(y+d)/2)}var b=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){a=i[c].index;break}}else{var x=Math.min(u,h),w=Math.max(u,h);if(e>(x+d)/2&&e<=(w+d)/2){a=i[c].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){a=n[S].index;break}return a},a5=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Kr(Kr({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},bWe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var u=s[o[l]].stackGroups,d=Object.keys(u),h=0,f=d.length;h<f;h++){var g=u[d[h]],v=g.items,y=g.cateAxisId,b=v.filter(function(C){return Au(C.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?Kr(Kr({},x),b[0].props):b[0].props,S=w.barSize,_=w[y];a[_]||(a[_]=[]);var A=ht(S)?r:S;a[_].push({item:b[0],stackList:b.slice(1),barSize:ht(A)?void 0:Yi(A,n,0)})}}return a},xWe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=Yi(r,i,0,!0),u,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,f=i/l,g=a.reduce(function(S,_){return S+_.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&f>0&&(h=!0,f*=.9,g=l*f);var v=(i-g)/2>>0,y={offset:v-c,size:0};u=a.reduce(function(S,_){var A={item:_.item,position:{offset:y.offset+y.size+c,size:h?f:_.barSize}},C=[].concat(MW(S),[A]);return y=C[C.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(T){C.push({item:T,position:y})}),C},d)}else{var b=Yi(n,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var x=(i-2*b-(l-1)*c)/l;x>1&&(x>>=0);var w=o===+o?Math.min(x,o):x;u=a.reduce(function(S,_,A){var C=[].concat(MW(S),[{item:_.item,position:{offset:b+(x+c)*A+(x-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(T){C.push({item:T,position:C[C.length-1].position})}),C},d)}return u},wWe=function(e,r,n,i){var s=n.children,a=n.width,o=n.margin,l=a-(o.left||0)-(o.right||0),c=fse({children:s,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,f=c.align,g=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&f!=="center"&&ve(e[f]))return Kr(Kr({},e),{},$v({},f,e[f]+(d||0)));if((v==="horizontal"||v==="vertical"&&f==="center")&&g!=="middle"&&ve(e[g]))return Kr(Kr({},e),{},$v({},g,e[g]+(h||0)))}return e},SWe=function(e,r,n){return ht(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},pse=function(e,r,n,i,s){var a=r.props.children,o=ro(a,GO).filter(function(c){return SWe(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Ni(u,n);if(ht(d))return c;var h=Array.isArray(d)?[VO(d),UO(d)]:[d,d],f=l.reduce(function(g,v){var y=Ni(u,v,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),x=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(f[0],c[0]),Math.max(f[1],c[1])]},[1/0,-1/0])}return null},_We=function(e,r,n,i,s){var a=r.map(function(o){return pse(e,o,n,s,i)}).filter(function(o){return!ht(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},mse=function(e,r,n,i,s){var a=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&pse(e,l,c,i)||Tw(e,c,n,s)});if(n==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},gse=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},vse=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===r&&(s=!0),l.coordinate===n&&(a=!0),l.coordinate});return s||o.push(r),a||o.push(n),o},Su=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Xi(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!NA(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:s?s[d]:d,index:h,offset:c}})},lR=new WeakMap,LE=function(e,r){if(typeof r!="function")return e;lR.has(e)||lR.set(e,new WeakMap);var n=lR.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},yse=function(e,r,n){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:T1(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:BP(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Cw(),realScaleType:"point"}:s==="category"?{scale:T1(),realScaleType:"band"}:{scale:BP(),realScaleType:"linear"};if(Bm(i)){var l="scale".concat(CO(i));return{scale:(PW[l]||Cw)(),realScaleType:PW[l]?l:"point"}}return Ke(i)?{scale:i}:{scale:Cw(),realScaleType:"point"}},DW=1e-4,bse=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-DW,a=Math.max(i[0],i[1])+DW,o=e(r[0]),l=e(r[n-1]);(o<s||o>a||l<s||l>a)&&e.domain([r[0],r[n-1]])}},AWe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},EWe=function(e,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!ve(e[0])||e[0]<n)&&(s[0]=n),(!ve(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},CWe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0,o=0;o<r;++o){var l=NA(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},TWe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0;a<r;++a){var o=NA(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},PWe={sign:CWe,expand:qDe,none:Lb,silhouette:KDe,wiggle:XDe,positive:TWe},kWe=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),s=PWe[n],a=GDe().keys(i).value(function(o,l){return+Ni(o,l,0)}).order(rD).offset(s);return a(e)},jWe=function(e,r,n,i,s,a){if(!e)return null;var o=a?r.reverse():r,l={},c=o.reduce(function(d,h){var f,g=(f=h.type)!==null&&f!==void 0&&f.defaultProps?Kr(Kr({},h.type.defaultProps),h.props):h.props,v=g.stackId,y=g.hide;if(y)return d;var b=g[n],x=d[b]||{hasStack:!1,stackGroups:{}};if(jn(v)){var w=x.stackGroups[v]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[v]=w}else x.stackGroups[RA("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Kr(Kr({},d),{},$v({},b,x))},l),u={};return Object.keys(c).reduce(function(d,h){var f=c[h];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(v,y){var b=f.stackGroups[y];return Kr(Kr({},v),{},$v({},y,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:kWe(e,b.items,s)}))},g)}return Kr(Kr({},d),{},$v({},h,f))},u)},xse=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,a=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=HHe(c,s,o);return e.domain([VO(u),UO(u)]),{niceTicks:u}}if(s&&i==="number"){var d=e.domain(),h=WHe(d,s,o);return{niceTicks:h}}return null},$W=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=Ni(a,r.dataKey,r.domain[o]);return ht(l)?null:r.scale(l)-s/2+i},OWe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},NWe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Kr(Kr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(jn(s)){var a=r[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},RWe=function(e){return e.reduce(function(r,n){return[VO(n.concat([r[0]]).filter(ve)),UO(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},wse=function(e,r,n){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,u){var d=RWe(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},LW=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FW=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ND=function(e,r,n){if(Ke(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ve(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(LW.test(e[0])){var s=+LW.exec(e[0])[1];i[0]=r[0]-s}else Ke(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ve(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(FW.test(e[1])){var a=+FW.exec(e[1])[1];i[1]=r[1]+a}else Ke(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},qP=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=M4(r,function(d){return d.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},BW=function(e,r,n){return!e||!e.length||zO(e,ya(n,"type.defaultProps.domain"))?r:e},Sse=function(e,r){var n=e.type.defaultProps?Kr(Kr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,a=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Kr(Kr({},qe(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:a5(e),value:Ni(r,i),type:l,payload:r,chartType:c,hide:u})};function D1(t){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D1(t)}function UW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UW(Object(r),!0).forEach(function(n){_se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _se(t,e,r){return e=MWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MWe(t){var e=IWe(t,"string");return D1(e)=="symbol"?e:e+""}function IWe(t,e){if(D1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(D1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DWe(t,e){return BWe(t)||FWe(t,e)||LWe(t,e)||$We()}function $We(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LWe(t,e){if(t){if(typeof t=="string")return VW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VW(t,e)}}function VW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FWe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function BWe(t){if(Array.isArray(t))return t}var KP=Math.PI/180,UWe=function(e){return e*180/Math.PI},fr=function(e,r,n,i){return{x:e+Math.cos(-KP*i)*n,y:r+Math.sin(-KP*i)*n}},Ase=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},VWe=function(e,r,n,i,s){var a=e.width,o=e.height,l=e.startAngle,c=e.endAngle,u=Yi(e.cx,a,a/2),d=Yi(e.cy,o,o/2),h=Ase(a,o,n),f=Yi(e.innerRadius,h,0),g=Yi(e.outerRadius,h,h*.8),v=Object.keys(r);return v.reduce(function(y,b){var x=r[b],w=x.domain,S=x.reversed,_;if(ht(x.range))i==="angleAxis"?_=[l,c]:i==="radiusAxis"&&(_=[f,g]),S&&(_=[_[1],_[0]]);else{_=x.range;var A=_,C=DWe(A,2);l=C[0],c=C[1]}var T=yse(x,s),P=T.realScaleType,O=T.scale;O.domain(w).range(_),bse(O);var I=xse(O,Pc(Pc({},x),{},{realScaleType:P})),R=Pc(Pc(Pc({},x),I),{},{range:_,radius:g,realScaleType:P,scale:O,cx:u,cy:d,innerRadius:f,outerRadius:g,startAngle:l,endAngle:c});return Pc(Pc({},y),{},_se({},b,R))},{})},zWe=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},HWe=function(e,r){var n=e.x,i=e.y,s=r.cx,a=r.cy,o=zWe({x:n,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(n-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:UWe(c),angleInRadian:c}},WWe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:r-a*360,endAngle:n-a*360}},GWe=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},zW=function(e,r){var n=e.x,i=e.y,s=HWe({x:n,y:i},r),a=s.radius,o=s.angle,l=r.innerRadius,c=r.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=WWe(r),d=u.startAngle,h=u.endAngle,f=o,g;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;g=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=d}return g?Pc(Pc({},r),{},{radius:a,angle:GWe(f,r)}):null},Ese=function(e){return!E.isValidElement(e)&&!Ke(e)&&typeof e!="boolean"?e.className:""};function $1(t){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$1(t)}var qWe=["offset"];function KWe(t){return ZWe(t)||QWe(t)||YWe(t)||XWe()}function XWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YWe(t,e){if(t){if(typeof t=="string")return RD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RD(t,e)}}function QWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZWe(t){if(Array.isArray(t))return RD(t)}function RD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JWe(t,e){if(t==null)return{};var r=eGe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HW(Object(r),!0).forEach(function(n){tGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tGe(t,e,r){return e=rGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rGe(t){var e=nGe(t,"string");return $1(e)=="symbol"?e:e+""}function nGe(t,e){if($1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L1.apply(this,arguments)}var iGe=function(e){var r=e.value,n=e.formatter,i=ht(e.children)?r:e.children;return Ke(n)?n(i):i},sGe=function(e,r){var n=Xi(r-e),i=Math.min(Math.abs(r-e),360);return n*i},aGe=function(e,r,n){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,f=l.startAngle,g=l.endAngle,v=l.clockWise,y=(d+h)/2,b=sGe(f,g),x=b>=0?1:-1,w,S;i==="insideStart"?(w=f+x*a,S=v):i==="insideEnd"?(w=g-x*a,S=!v):i==="end"&&(w=g+x*a,S=v),S=b<=0?S:!S;var _=fr(c,u,y,w),A=fr(c,u,y,w+(S?1:-1)*359),C="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(A.x,",").concat(A.y),T=ht(e.id)?RA("recharts-radial-line-"):e.id;return W.createElement("text",L1({},n,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",o)}),W.createElement("defs",null,W.createElement("path",{id:T,d:C})),W.createElement("textPath",{xlinkHref:"#".concat(T)},r))},oGe=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,d=s.endAngle,h=(u+d)/2;if(i==="outside"){var f=fr(a,o,c+n,h),g=f.x,v=f.y;return{x:g,y:v,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,b=fr(a,o,y,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},lGe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,a=r,o=a.x,l=a.y,c=a.width,u=a.height,d=u>=0?1:-1,h=d*i,f=d>0?"end":"start",g=d>0?"start":"end",v=c>=0?1:-1,y=v*i,b=v>0?"end":"start",x=v>0?"start":"end";if(s==="top"){var w={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:f};return wn(wn({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(s==="bottom"){var S={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return wn(wn({},S),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(s==="left"){var _={x:o-y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return wn(wn({},_),n?{width:Math.max(_.x-n.x,0),height:u}:{})}if(s==="right"){var A={x:o+c+y,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return wn(wn({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:u}:{})}var C=n?{width:c,height:u}:{};return s==="insideLeft"?wn({x:o+y,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},C):s==="insideRight"?wn({x:o+c-y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},C):s==="insideTop"?wn({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},C):s==="insideBottom"?wn({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:f},C):s==="insideTopLeft"?wn({x:o+y,y:l+h,textAnchor:x,verticalAnchor:g},C):s==="insideTopRight"?wn({x:o+c-y,y:l+h,textAnchor:b,verticalAnchor:g},C):s==="insideBottomLeft"?wn({x:o+y,y:l+u-h,textAnchor:x,verticalAnchor:f},C):s==="insideBottomRight"?wn({x:o+c-y,y:l+u-h,textAnchor:b,verticalAnchor:f},C):R0(s)&&(ve(s.x)||Kf(s.x))&&(ve(s.y)||Kf(s.y))?wn({x:o+Yi(s.x,c),y:l+Yi(s.y,u),textAnchor:"end",verticalAnchor:"end"},C):wn({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},C)},cGe=function(e){return"cx"in e&&ve(e.cx)};function Wn(t){var e=t.offset,r=e===void 0?5:e,n=JWe(t,qWe),i=wn({offset:r},n),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!s||ht(o)&&ht(l)&&!E.isValidElement(c)&&!Ke(c))return null;if(E.isValidElement(c))return E.cloneElement(c,i);var f;if(Ke(c)){if(f=E.createElement(c,i),E.isValidElement(f))return f}else f=iGe(i);var g=cGe(s),v=qe(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return aGe(i,f,v);var y=g?oGe(i):lGe(i);return W.createElement(Vm,L1({className:ot("recharts-label",d)},v,y,{breakAll:h}),f)}Wn.displayName="Label";var Cse=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,f=e.top,g=e.left,v=e.width,y=e.height,b=e.clockWise,x=e.labelViewBox;if(x)return x;if(ve(v)&&ve(y)){if(ve(d)&&ve(h))return{x:d,y:h,width:v,height:y};if(ve(f)&&ve(g))return{x:f,y:g,width:v,height:y}}return ve(d)&&ve(h)?{x:d,y:h,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:b}:e.viewBox?e.viewBox:{}},uGe=function(e,r){return e?e===!0?W.createElement(Wn,{key:"label-implicit",viewBox:r}):jn(e)?W.createElement(Wn,{key:"label-implicit",viewBox:r,value:e}):E.isValidElement(e)?e.type===Wn?E.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(Wn,{key:"label-implicit",content:e,viewBox:r}):Ke(e)?W.createElement(Wn,{key:"label-implicit",content:e,viewBox:r}):R0(e)?W.createElement(Wn,L1({viewBox:r},e,{key:"label-implicit"})):null:null},dGe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=Cse(e),a=ro(i,Wn).map(function(l,c){return E.cloneElement(l,{viewBox:r||s,key:"label-".concat(c)})});if(!n)return a;var o=uGe(e.label,r||s);return[o].concat(KWe(a))};Wn.parseViewBox=Cse;Wn.renderCallByParent=dGe;function hGe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var fGe=hGe;const pGe=Mt(fGe);function F1(t){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F1(t)}var mGe=["valueAccessor"],gGe=["data","dataKey","clockWise","id","textBreakAll"];function vGe(t){return wGe(t)||xGe(t)||bGe(t)||yGe()}function yGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bGe(t,e){if(t){if(typeof t=="string")return MD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MD(t,e)}}function xGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wGe(t){if(Array.isArray(t))return MD(t)}function MD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XP(){return XP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XP.apply(this,arguments)}function WW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WW(Object(r),!0).forEach(function(n){SGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SGe(t,e,r){return e=_Ge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Ge(t){var e=AGe(t,"string");return F1(e)=="symbol"?e:e+""}function AGe(t,e){if(F1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(F1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qW(t,e){if(t==null)return{};var r=EGe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var CGe=function(e){return Array.isArray(e.value)?pGe(e.value):e.value};function Vh(t){var e=t.valueAccessor,r=e===void 0?CGe:e,n=qW(t,mGe),i=n.data,s=n.dataKey,a=n.clockWise,o=n.id,l=n.textBreakAll,c=qW(n,gGe);return!i||!i.length?null:W.createElement(zt,{className:"recharts-label-list"},i.map(function(u,d){var h=ht(s)?r(u,d):Ni(u&&u.payload,s),f=ht(o)?{}:{id:"".concat(o,"-").concat(d)};return W.createElement(Wn,XP({},qe(u,!0),c,f,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Wn.parseViewBox(ht(a)?u:GW(GW({},u),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Vh.displayName="LabelList";function TGe(t,e){return t?t===!0?W.createElement(Vh,{key:"labelList-implicit",data:e}):W.isValidElement(t)||Ke(t)?W.createElement(Vh,{key:"labelList-implicit",data:e,content:t}):R0(t)?W.createElement(Vh,XP({data:e},t,{key:"labelList-implicit"})):null:null}function PGe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ro(n,Vh).map(function(a,o){return E.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var s=TGe(t.label,e);return[s].concat(vGe(i))}Vh.renderCallByParent=PGe;function B1(t){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B1(t)}function ID(){return ID=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ID.apply(this,arguments)}function KW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KW(Object(r),!0).forEach(function(n){kGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kGe(t,e,r){return e=jGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jGe(t){var e=OGe(t,"string");return B1(e)=="symbol"?e:e+""}function OGe(t,e){if(B1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(B1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NGe=function(e,r){var n=Xi(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},FE=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,d=Math.asin(l/u)/KP,h=c?s:s+a*d,f=fr(r,n,u,h),g=fr(r,n,i,h),v=c?s-a*d:s,y=fr(r,n,u*Math.cos(d*KP),v);return{center:f,circleTangency:g,lineTangency:y,theta:d}},Tse=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=NGe(a,o),c=a+l,u=fr(r,n,s,a),d=fr(r,n,s,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var f=fr(r,n,i,a),g=fr(r,n,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},RGe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Xi(u-c),h=FE({cx:r,cy:n,radius:s,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),f=h.circleTangency,g=h.lineTangency,v=h.theta,y=FE({cx:r,cy:n,radius:s,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),b=y.circleTangency,x=y.lineTangency,w=y.theta,S=l?Math.abs(c-u):Math.abs(c-u)-v-w;if(S<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Tse({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var A=FE({cx:r,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),C=A.circleTangency,T=A.lineTangency,P=A.theta,O=FE({cx:r,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),I=O.circleTangency,R=O.lineTangency,B=O.theta,D=l?Math.abs(c-u):Math.abs(c-u)-P-B;if(D<0&&a===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(d>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},MGe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Pse=function(e){var r=XW(XW({},MGe),e),n=r.cx,i=r.cy,s=r.innerRadius,a=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(a<s||u===d)return null;var f=ot("recharts-sector",h),g=a-s,v=Yi(o,g,0,!0),y;return v>0&&Math.abs(u-d)<360?y=RGe({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(v,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=Tse({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d}),W.createElement("path",ID({},qe(r,!0),{className:f,d:y,role:"img"}))};function U1(t){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U1(t)}function DD(){return DD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DD.apply(this,arguments)}function YW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YW(Object(r),!0).forEach(function(n){IGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IGe(t,e,r){return e=DGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DGe(t){var e=$Ge(t,"string");return U1(e)=="symbol"?e:e+""}function $Ge(t,e){if(U1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(U1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZW={curveBasisClosed:IDe,curveBasisOpen:DDe,curveBasis:MDe,curveBumpX:xDe,curveBumpY:wDe,curveLinearClosed:$De,curveLinear:PO,curveMonotoneX:LDe,curveMonotoneY:FDe,curveNatural:BDe,curveStep:UDe,curveStepAfter:zDe,curveStepBefore:VDe},BE=function(e){return e.x===+e.x&&e.y===+e.y},hx=function(e){return e.x},fx=function(e){return e.y},LGe=function(e,r){if(Ke(e))return e;var n="curve".concat(CO(e));return(n==="curveMonotone"||n==="curveBump")&&r?ZW["".concat(n).concat(r==="vertical"?"Y":"X")]:ZW[n]||PO},FGe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=LGe(n,o),d=c?s.filter(function(v){return BE(v)}):s,h;if(Array.isArray(a)){var f=c?a.filter(function(v){return BE(v)}):a,g=d.map(function(v,y){return QW(QW({},v),{},{base:f[y]})});return o==="vertical"?h=jE().y(fx).x1(hx).x0(function(v){return v.base.x}):h=jE().x(hx).y1(fx).y0(function(v){return v.base.y}),h.defined(BE).curve(u),h(g)}return o==="vertical"&&ve(a)?h=jE().y(fx).x1(hx).x0(a):ve(a)?h=jE().x(hx).y1(fx).y0(a):h=_ne().x(hx).y(fx),h.defined(BE).curve(u),h(d)},$D=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?FGe(e):i;return E.createElement("path",DD({},qe(e,!1),bP(e),{className:ot("recharts-curve",r),d:a,ref:s}))},kse={exports:{}},BGe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UGe=BGe,VGe=UGe;function jse(){}function Ose(){}Ose.resetWarningCache=jse;var zGe=function(){function t(n,i,s,a,o,l){if(l!==VGe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Ose,resetWarningCache:jse};return r.PropTypes=r,r};kse.exports=zGe();var HGe=kse.exports;const Nt=Mt(HGe),{getOwnPropertyNames:WGe,getOwnPropertySymbols:GGe}=Object,{hasOwnProperty:qGe}=Object.prototype;function cR(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function UE(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:s}=i,a=s.get(r),o=s.get(n);if(a&&o)return a===n&&o===r;s.set(r,n),s.set(n,r);const l=t(r,n,i);return s.delete(r),s.delete(n),l}}function KGe(t){return t!=null?t[Symbol.toStringTag]:void 0}function JW(t){return WGe(t).concat(GGe(t))}const XGe=Object.hasOwn||((t,e)=>qGe.call(t,e));function sg(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const YGe="__v",QGe="__o",ZGe="_owner",{getOwnPropertyDescriptor:eG,keys:tG}=Object;function JGe(t,e){return t.byteLength===e.byteLength&&YP(new Uint8Array(t),new Uint8Array(e))}function eqe(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function tqe(t,e){return t.byteLength===e.byteLength&&YP(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function rqe(t,e){return sg(t.getTime(),e.getTime())}function nqe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function iqe(t,e){return t===e}function rG(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),s=t.entries();let a,o,l=0;for(;(a=s.next())&&!a.done;){const c=e.entries();let u=!1,d=0;for(;(o=c.next())&&!o.done;){if(i[d]){d++;continue}const h=a.value,f=o.value;if(r.equals(h[0],f[0],l,d,t,e,r)&&r.equals(h[1],f[1],h[0],f[0],t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}const sqe=sg;function aqe(t,e,r){const n=tG(t);let i=n.length;if(tG(e).length!==i)return!1;for(;i-- >0;)if(!Nse(t,e,r,n[i]))return!1;return!0}function px(t,e,r){const n=JW(t);let i=n.length;if(JW(e).length!==i)return!1;let s,a,o;for(;i-- >0;)if(s=n[i],!Nse(t,e,r,s)||(a=eG(t,s),o=eG(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function oqe(t,e){return sg(t.valueOf(),e.valueOf())}function lqe(t,e){return t.source===e.source&&t.flags===e.flags}function nG(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),s=t.values();let a,o;for(;(a=s.next())&&!a.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&r.equals(a.value,o.value,a.value,o.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function YP(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function cqe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Nse(t,e,r,n){return(n===ZGe||n===QGe||n===YGe)&&(t.$$typeof||e.$$typeof)?!0:XGe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const uqe="[object ArrayBuffer]",dqe="[object Arguments]",hqe="[object Boolean]",fqe="[object DataView]",pqe="[object Date]",mqe="[object Error]",gqe="[object Map]",vqe="[object Number]",yqe="[object Object]",bqe="[object RegExp]",xqe="[object Set]",wqe="[object String]",Sqe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},_qe="[object URL]",Aqe=Object.prototype.toString;function Eqe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:a,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:f,unknownTagComparators:g}){return function(y,b,x){if(y===b)return!0;if(y==null||b==null)return!1;const w=typeof y;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?o(y,b,x):w==="function"?s(y,b,x):!1;const S=y.constructor;if(S!==b.constructor)return!1;if(S===Object)return l(y,b,x);if(Array.isArray(y))return e(y,b,x);if(S===Date)return n(y,b,x);if(S===RegExp)return u(y,b,x);if(S===Map)return a(y,b,x);if(S===Set)return d(y,b,x);const _=Aqe.call(y);if(_===pqe)return n(y,b,x);if(_===bqe)return u(y,b,x);if(_===gqe)return a(y,b,x);if(_===xqe)return d(y,b,x);if(_===yqe)return typeof y.then!="function"&&typeof b.then!="function"&&l(y,b,x);if(_===_qe)return f(y,b,x);if(_===mqe)return i(y,b,x);if(_===dqe)return l(y,b,x);if(Sqe[_])return h(y,b,x);if(_===uqe)return t(y,b,x);if(_===fqe)return r(y,b,x);if(_===hqe||_===vqe||_===wqe)return c(y,b,x);if(g){let A=g[_];if(!A){const C=KGe(y);C&&(A=g[C])}if(A)return A(y,b,x)}return!1}}function Cqe({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:JGe,areArraysEqual:r?px:eqe,areDataViewsEqual:tqe,areDatesEqual:rqe,areErrorsEqual:nqe,areFunctionsEqual:iqe,areMapsEqual:r?cR(rG,px):rG,areNumbersEqual:sqe,areObjectsEqual:r?px:aqe,arePrimitiveWrappersEqual:oqe,areRegExpsEqual:lqe,areSetsEqual:r?cR(nG,px):nG,areTypedArraysEqual:r?cR(YP,px):YP,areUrlsEqual:cqe,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=UE(n.areArraysEqual),s=UE(n.areMapsEqual),a=UE(n.areObjectsEqual),o=UE(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:o})}return n}function Tqe(t){return function(e,r,n,i,s,a,o){return t(e,r,o)}}function Pqe({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=r();return e(o,l,{cache:c,equals:n,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const s={cache:void 0,equals:n,meta:void 0,strict:i};return function(o,l){return e(o,l,s)}}const kqe=gf();gf({strict:!0});gf({circular:!0});gf({circular:!0,strict:!0});gf({createInternalComparator:()=>sg});gf({strict:!0,createInternalComparator:()=>sg});gf({circular:!0,createInternalComparator:()=>sg});gf({circular:!0,createInternalComparator:()=>sg,strict:!0});function gf(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,s=Cqe(t),a=Eqe(s),o=r?r(a):Tqe(a);return Pqe({circular:e,comparator:a,createState:n,equals:o,strict:i})}function jqe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function iG(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):jqe(i)};requestAnimationFrame(n)}function LD(t){"@babel/helpers - typeof";return LD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LD(t)}function Oqe(t){return Iqe(t)||Mqe(t)||Rqe(t)||Nqe()}function Nqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rqe(t,e){if(t){if(typeof t=="string")return sG(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sG(t,e)}}function sG(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Iqe(t){if(Array.isArray(t))return t}function Dqe(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,o=Oqe(a),l=o[0],c=o.slice(1);if(typeof l=="number"){iG(i.bind(null,c),l);return}i(l),iG(i.bind(null,c));return}LD(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function V1(t){"@babel/helpers - typeof";return V1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V1(t)}function aG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aG(Object(r),!0).forEach(function(n){Rse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rse(t,e,r){return e=$qe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $qe(t){var e=Lqe(t,"string");return V1(e)==="symbol"?e:String(e)}function Lqe(t,e){if(V1(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(V1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fqe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Bqe=function(e){return e},Uqe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Pw=function(e,r){return Object.keys(r).reduce(function(n,i){return oG(oG({},n),{},Rse({},i,e(i,r[i])))},{})},lG=function(e,r,n){return e.map(function(i){return"".concat(Uqe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Vqe(t,e){return Wqe(t)||Hqe(t,e)||Mse(t,e)||zqe()}function zqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Wqe(t){if(Array.isArray(t))return t}function Gqe(t){return Xqe(t)||Kqe(t)||Mse(t)||qqe()}function qqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mse(t,e){if(t){if(typeof t=="string")return FD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FD(t,e)}}function Kqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xqe(t){if(Array.isArray(t))return FD(t)}function FD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var QP=1e-4,Ise=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Dse=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},cG=function(e,r){return function(n){var i=Ise(e,r);return Dse(i,n)}},Yqe=function(e,r){return function(n){var i=Ise(e,r),s=[].concat(Gqe(i.map(function(a,o){return a*o}).slice(1)),[0]);return Dse(s,n)}},uG=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],a=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=Vqe(c,4);i=u[0],s=u[1],a=u[2],o=u[3]}}}var d=cG(i,a),h=cG(s,o),f=Yqe(i,a),g=function(b){return b>1?1:b<0?0:b},v=function(b){for(var x=b>1?1:b,w=x,S=0;S<8;++S){var _=d(w)-x,A=f(w);if(Math.abs(_-x)<QP||A<QP)return h(w);w=g(w-_/A)}return h(w)};return v.isStepper=!1,v},Qqe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(u,d,h){var f=-(u-d)*n,g=h*s,v=h+(f-g)*o/1e3,y=h*o/1e3+u;return Math.abs(y-d)<QP&&Math.abs(v)<QP?[d,0]:[y,v]};return l.isStepper=!0,l.dt=o,l},Zqe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uG(i);case"spring":return Qqe();default:if(i.split("(")[0]==="cubic-bezier")return uG(i)}return typeof i=="function"?i:null};function z1(t){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z1(t)}function dG(t){return t9e(t)||e9e(t)||$se(t)||Jqe()}function Jqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t9e(t){if(Array.isArray(t))return UD(t)}function hG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hG(Object(r),!0).forEach(function(n){BD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BD(t,e,r){return e=r9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r9e(t){var e=n9e(t,"string");return z1(e)==="symbol"?e:String(e)}function n9e(t,e){if(z1(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(z1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i9e(t,e){return o9e(t)||a9e(t,e)||$se(t,e)||s9e()}function s9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $se(t,e){if(t){if(typeof t=="string")return UD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UD(t,e)}}function UD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a9e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function o9e(t){if(Array.isArray(t))return t}var ZP=function(e,r,n){return e+(r-e)*n},VD=function(e){var r=e.from,n=e.to;return r!==n},l9e=function t(e,r,n){var i=Pw(function(s,a){if(VD(a)){var o=e(a.from,a.to,a.velocity),l=i9e(o,2),c=l[0],u=l[1];return si(si({},a),{},{from:c,velocity:u})}return a},r);return n<1?Pw(function(s,a){return VD(a)?si(si({},a),{},{velocity:ZP(a.velocity,i[s].velocity,n),from:ZP(a.from,i[s].from,n)}):a},r):t(e,i,n-1)};const c9e=function(t,e,r,n,i){var s=Fqe(t,e),a=s.reduce(function(y,b){return si(si({},y),{},BD({},b,[t[b],e[b]]))},{}),o=s.reduce(function(y,b){return si(si({},y),{},BD({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return Pw(function(b,x){return x.from},o)},f=function(){return!Object.values(o).filter(VD).length},g=function(b){c||(c=b);var x=b-c,w=x/r.dt;o=l9e(r,o,w),i(si(si(si({},t),e),h())),c=b,f()||(l=requestAnimationFrame(d))},v=function(b){u||(u=b);var x=(b-u)/n,w=Pw(function(_,A){return ZP.apply(void 0,dG(A).concat([r(x)]))},a);if(i(si(si(si({},t),e),w)),x<1)l=requestAnimationFrame(d);else{var S=Pw(function(_,A){return ZP.apply(void 0,dG(A).concat([r(1)]))},a);i(si(si(si({},t),e),S))}};return d=r.isStepper?g:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function qb(t){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qb(t)}var u9e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function d9e(t,e){if(t==null)return{};var r=h9e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function h9e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function uR(t){return g9e(t)||m9e(t)||p9e(t)||f9e()}function f9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p9e(t,e){if(t){if(typeof t=="string")return zD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zD(t,e)}}function m9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g9e(t){if(Array.isArray(t))return zD(t)}function zD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fG(Object(r),!0).forEach(function(n){Ix(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ix(t,e,r){return e=Lse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y9e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lse(n.key),n)}}function b9e(t,e,r){return e&&y9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lse(t){var e=x9e(t,"string");return qb(e)==="symbol"?e:String(e)}function x9e(t,e){if(qb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HD(t,e)}function HD(t,e){return HD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HD(t,e)}function S9e(t){var e=_9e();return function(){var n=JP(t),i;if(e){var s=JP(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return WD(this,i)}}function WD(t,e){if(e&&(qb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GD(t)}function GD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function JP(t){return JP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},JP(t)}var Uu=function(t){w9e(r,t);var e=S9e(r);function r(n,i){var s;v9e(this,r),s=e.call(this,n,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,u=a.to,d=a.steps,h=a.children,f=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(GD(s)),s.changeStyle=s.changeStyle.bind(GD(s)),!o||f<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:u}),WD(s);if(d&&d.length)s.state={style:d[0].style};else if(c){if(typeof h=="function")return s.state={style:c},WD(s);s.state={style:l?Ix({},l,c):c}}else s.state={style:{}};return s}return b9e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,d=s.from,h=this.state.style;if(o){if(!a){var f={style:l?Ix({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(f);return}if(!(kqe(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||c?d:i.to;if(this.state&&h){var y={style:l?Ix({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(y)}this.runAnimation(bo(bo({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,f=c9e(a,o,Zqe(c),l,this.changeStyle),g=function(){s.stopJSAnimation=f()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,d=c.duration,h=d===void 0?0:d,f=function(v,y,b){if(b===0)return v;var x=y.duration,w=y.easing,S=w===void 0?"ease":w,_=y.style,A=y.properties,C=y.onAnimationEnd,T=b>0?a[b-1]:y,P=A||Object.keys(_);if(typeof S=="function"||S==="spring")return[].concat(uR(v),[s.runJSAnimation.bind(s,{from:T.style,to:_,duration:x,easing:S}),x]);var O=lG(P,x,S),I=bo(bo(bo({},T.style),_),{},{transition:O});return[].concat(uR(v),[I,x,C]).filter(Bqe)};return this.manager.start([l].concat(uR(a.reduce(f,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Dqe());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,f=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=o?Ix({},o,l):l,y=lG(Object.keys(v),a,c);g.start([u,s,bo(bo({},v),{},{transition:y}),a,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=d9e(i,u9e),c=E.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!o||c===0||a<=0)return s;var d=function(f){var g=f.props,v=g.style,y=v===void 0?{}:v,b=g.className,x=E.cloneElement(f,bo(bo({},l),{},{style:bo(bo({},y),u),className:b}));return x};return c===1?d(E.Children.only(s)):W.createElement("div",null,E.Children.map(s,function(h){return d(h)}))}}]),r}(E.PureComponent);Uu.displayName="Animate";Uu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Uu.propTypes={from:Nt.oneOfType([Nt.object,Nt.string]),to:Nt.oneOfType([Nt.object,Nt.string]),attributeName:Nt.string,duration:Nt.number,begin:Nt.number,easing:Nt.oneOfType([Nt.string,Nt.func]),steps:Nt.arrayOf(Nt.shape({duration:Nt.number.isRequired,style:Nt.object.isRequired,easing:Nt.oneOfType([Nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Nt.func]),properties:Nt.arrayOf("string"),onAnimationEnd:Nt.func})),children:Nt.oneOfType([Nt.node,Nt.func]),isActive:Nt.bool,canBegin:Nt.bool,onAnimationEnd:Nt.func,shouldReAnimate:Nt.bool,onAnimationStart:Nt.func,onAnimationReStart:Nt.func};function H1(t){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H1(t)}function ek(){return ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ek.apply(this,arguments)}function A9e(t,e){return P9e(t)||T9e(t,e)||C9e(t,e)||E9e()}function E9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C9e(t,e){if(t){if(typeof t=="string")return pG(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pG(t,e)}}function pG(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function T9e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function P9e(t){if(Array.isArray(t))return t}function mG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mG(Object(r),!0).forEach(function(n){k9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k9e(t,e,r){return e=j9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j9e(t){var e=O9e(t,"string");return H1(e)=="symbol"?e:e+""}function O9e(t,e){if(H1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(H1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vG=function(e,r,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(a>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=s[h]>a?a:s[h];u="M".concat(e,",").concat(r+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(r)),u+="L ".concat(e+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*d[1])),u+="L ".concat(e+n,",").concat(r+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-l*d[2],",").concat(r+i)),u+="L ".concat(e+l*d[3],",").concat(r+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-o*d[3])),u+="Z"}else if(a>0&&s===+s&&s>0){var g=Math.min(a,s);u="M ".concat(e,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*g,`
            L `).concat(e+n,",").concat(r+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(r+i-o*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},N9e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,a=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),u=Math.max(s,s+o),d=Math.min(a,a+l),h=Math.max(a,a+l);return n>=c&&n<=u&&i>=d&&i<=h}return!1},R9e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},o5=function(e){var r=gG(gG({},R9e),e),n=E.useRef(),i=E.useState(-1),s=A9e(i,2),a=s[0],o=s[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&o(S)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,h=r.radius,f=r.className,g=r.animationEasing,v=r.animationDuration,y=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=ot("recharts-rectangle",f);return x?W.createElement(Uu,{canBegin:a>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:v,animationEasing:g,isActive:x},function(S){var _=S.width,A=S.height,C=S.x,T=S.y;return W.createElement(Uu,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:b,easing:g},W.createElement("path",ek({},qe(r,!0),{className:w,d:vG(C,T,_,A,h),ref:n})))}):W.createElement("path",ek({},qe(r,!0),{className:w,d:vG(l,c,u,d,h)}))},M9e=["points","className","baseLinePoints","connectNulls"];function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uv.apply(this,arguments)}function I9e(t,e){if(t==null)return{};var r=D9e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function D9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yG(t){return B9e(t)||F9e(t)||L9e(t)||$9e()}function $9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L9e(t,e){if(t){if(typeof t=="string")return qD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qD(t,e)}}function F9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B9e(t){if(Array.isArray(t))return qD(t)}function qD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bG=function(e){return e&&e.x===+e.x&&e.y===+e.y},U9e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){bG(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),bG(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},kw=function(e,r){var n=U9e(e);r&&(n=[n.reduce(function(s,a){return[].concat(yG(s),yG(a))},[])]);var i=n.map(function(s){return s.reduce(function(a,o,l){return"".concat(a).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},V9e=function(e,r,n){var i=kw(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(kw(r.reverse(),n).slice(1))},z9e=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,a=I9e(e,M9e);if(!r||!r.length)return null;var o=ot("recharts-polygon",n);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=V9e(r,i,s);return W.createElement("g",{className:o},W.createElement("path",uv({},qe(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?W.createElement("path",uv({},qe(a,!0),{fill:"none",d:kw(r,s)})):null,l?W.createElement("path",uv({},qe(a,!0),{fill:"none",d:kw(i,s)})):null)}var u=kw(r,s);return W.createElement("path",uv({},qe(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",className:o,d:u}))};function KD(){return KD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KD.apply(this,arguments)}var l5=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,a=ot("recharts-dot",s);return r===+r&&n===+n&&i===+i?E.createElement("circle",KD({},qe(e,!1),bP(e),{className:a,cx:r,cy:n,r:i})):null};function W1(t){"@babel/helpers - typeof";return W1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W1(t)}var H9e=["x","y","top","left","width","height","className"];function XD(){return XD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XD.apply(this,arguments)}function xG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W9e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xG(Object(r),!0).forEach(function(n){G9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G9e(t,e,r){return e=q9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q9e(t){var e=K9e(t,"string");return W1(e)=="symbol"?e:e+""}function K9e(t,e){if(W1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(W1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X9e(t,e){if(t==null)return{};var r=Y9e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Y9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Q9e=function(e,r,n,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},Z9e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,f=h===void 0?0:h,g=e.className,v=X9e(e,H9e),y=W9e({x:n,y:s,top:o,left:c,width:d,height:f},v);return!ve(n)||!ve(s)||!ve(d)||!ve(f)||!ve(o)||!ve(c)?null:W.createElement("path",XD({},qe(y,!0),{className:ot("recharts-cross",g),d:Q9e(n,s,d,f,o,c)}))},J9e=BO,eKe=Yie,tKe=yc;function rKe(t,e){return t&&t.length?J9e(t,tKe(e),eKe):void 0}var nKe=rKe;const iKe=Mt(nKe);var sKe=BO,aKe=yc,oKe=Qie;function lKe(t,e){return t&&t.length?sKe(t,aKe(e),oKe):void 0}var cKe=lKe;const uKe=Mt(cKe);var dKe=["cx","cy","angle","ticks","axisLine"],hKe=["ticks","tick","angle","tickFormatter","stroke"];function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jw.apply(this,arguments)}function wG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wG(Object(r),!0).forEach(function(n){qO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SG(t,e){if(t==null)return{};var r=fKe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fKe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bse(n.key),n)}}function mKe(t,e,r){return e&&_G(t.prototype,e),r&&_G(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gKe(t,e,r){return e=tk(e),vKe(t,Fse()?Reflect.construct(e,r||[],tk(t).constructor):e.apply(t,r))}function vKe(t,e){if(e&&(Kb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yKe(t)}function yKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fse=function(){return!!t})()}function tk(t){return tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tk(t)}function bKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YD(t,e)}function YD(t,e){return YD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YD(t,e)}function qO(t,e,r){return e=Bse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bse(t){var e=xKe(t,"string");return Kb(e)=="symbol"?e:e+""}function xKe(t,e){if(Kb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KO=function(t){function e(){return pKe(this,e),gKe(this,e,arguments)}return bKe(e,t),mKe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,a=s.angle,o=s.cx,l=s.cy;return fr(o,l,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,o=n.ticks,l=iKe(o,function(u){return u.coordinate||0}),c=uKe(o,function(u){return u.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,o=n.ticks,l=n.axisLine,c=SG(n,dKe),u=o.reduce(function(g,v){return[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)]},[1/0,-1/0]),d=fr(i,s,u[0],a),h=fr(i,s,u[1],a),f=Sf(Sf(Sf({},qe(c,!1)),{},{fill:"none"},qe(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return W.createElement("line",jw({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,u=SG(i,hKe),d=this.getTickTextAnchor(),h=qe(u,!1),f=qe(a,!1),g=s.map(function(v,y){var b=n.getTickValueCoord(v),x=Sf(Sf(Sf(Sf({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:c},f),{},{index:y},b),{},{payload:v});return W.createElement(zt,jw({className:ot("recharts-polar-radius-axis-tick",Ese(a)),key:"tick-".concat(v.coordinate)},Um(n.props,v,y)),e.renderTickItem(a,x,l?l(v.value,y):v.value))});return W.createElement(zt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,a=n.tick;return!i||!i.length?null:W.createElement(zt,{className:ot("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Wn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var a;return W.isValidElement(n)?a=W.cloneElement(n,i):Ke(n)?a=n(i):a=W.createElement(Vm,jw({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(E.PureComponent);qO(KO,"displayName","PolarRadiusAxis");qO(KO,"axisType","radiusAxis");qO(KO,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Df.apply(this,arguments)}function AG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _f(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AG(Object(r),!0).forEach(function(n){XO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vse(n.key),n)}}function SKe(t,e,r){return e&&EG(t.prototype,e),r&&EG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ke(t,e,r){return e=rk(e),AKe(t,Use()?Reflect.construct(e,r||[],rk(t).constructor):e.apply(t,r))}function AKe(t,e){if(e&&(Xb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EKe(t)}function EKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Use(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Use=function(){return!!t})()}function rk(t){return rk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rk(t)}function CKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QD(t,e)}function QD(t,e){return QD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QD(t,e)}function XO(t,e,r){return e=Vse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vse(t){var e=TKe(t,"string");return Xb(e)=="symbol"?e:e+""}function TKe(t,e){if(Xb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PKe=Math.PI/180,CG=1e-5,YO=function(t){function e(){return wKe(this,e),_Ke(this,e,arguments)}return CKe(e,t),SKe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,u=c||8,d=fr(s,a,o,n.coordinate),h=fr(s,a,o+(l==="inner"?-1:1)*u,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*PKe),a;return s>CG?a=i==="outer"?"start":"end":s<-CG?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.radius,o=n.axisLine,l=n.axisLineType,c=_f(_f({},qe(this.props,!1)),{},{fill:"none"},qe(o,!1));if(l==="circle")return W.createElement(l5,Df({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:a}));var u=this.props.ticks,d=u.map(function(h){return fr(i,s,a,h.coordinate)});return W.createElement(z9e,Df({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,u=qe(this.props,!1),d=qe(a,!1),h=_f(_f({},u),{},{fill:"none"},qe(o,!1)),f=s.map(function(g,v){var y=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),x=_f(_f(_f({textAnchor:b},u),{},{stroke:"none",fill:c},d),{},{index:v,payload:g,x:y.x2,y:y.y2});return W.createElement(zt,Df({className:ot("recharts-polar-angle-axis-tick",Ese(a)),key:"tick-".concat(g.coordinate)},Um(n.props,g,v)),o&&W.createElement("line",Df({className:"recharts-polar-angle-axis-tick-line"},h,y)),a&&e.renderTickItem(a,x,l?l(g.value,v):g.value))});return W.createElement(zt,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,a=n.axisLine;return s<=0||!i||!i.length?null:W.createElement(zt,{className:ot("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var a;return W.isValidElement(n)?a=W.cloneElement(n,i):Ke(n)?a=n(i):a=W.createElement(Vm,Df({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(E.PureComponent);XO(YO,"displayName","PolarAngleAxis");XO(YO,"axisType","angleAxis");XO(YO,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var kKe=qne,jKe=kKe(Object.getPrototypeOf,Object),OKe=jKe,NKe=Yu,RKe=OKe,MKe=Qu,IKe="[object Object]",DKe=Function.prototype,$Ke=Object.prototype,zse=DKe.toString,LKe=$Ke.hasOwnProperty,FKe=zse.call(Object);function BKe(t){if(!MKe(t)||NKe(t)!=IKe)return!1;var e=RKe(t);if(e===null)return!0;var r=LKe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&zse.call(r)==FKe}var UKe=BKe;const VKe=Mt(UKe);var zKe=Yu,HKe=Qu,WKe="[object Boolean]";function GKe(t){return t===!0||t===!1||HKe(t)&&zKe(t)==WKe}var qKe=GKe;const KKe=Mt(qKe);function G1(t){"@babel/helpers - typeof";return G1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G1(t)}function nk(){return nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nk.apply(this,arguments)}function XKe(t,e){return JKe(t)||ZKe(t,e)||QKe(t,e)||YKe()}function YKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QKe(t,e){if(t){if(typeof t=="string")return TG(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TG(t,e)}}function TG(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZKe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function JKe(t){if(Array.isArray(t))return t}function PG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PG(Object(r),!0).forEach(function(n){e7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e7e(t,e,r){return e=t7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t7e(t){var e=r7e(t,"string");return G1(e)=="symbol"?e:e+""}function r7e(t,e){if(G1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(G1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jG=function(e,r,n,i,s){var a=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-a/2,",").concat(r+s),o+="L ".concat(e+n-a/2-i,",").concat(r+s),o+="L ".concat(e,",").concat(r," Z"),o},n7e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i7e=function(e){var r=kG(kG({},n7e),e),n=E.useRef(),i=E.useState(-1),s=XKe(i,2),a=s[0],o=s[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,h=r.height,f=r.className,g=r.animationEasing,v=r.animationDuration,y=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var x=ot("recharts-trapezoid",f);return b?W.createElement(Uu,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:v,animationEasing:g,isActive:b},function(w){var S=w.upperWidth,_=w.lowerWidth,A=w.height,C=w.x,T=w.y;return W.createElement(Uu,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:g},W.createElement("path",nk({},qe(r,!0),{className:x,d:jG(C,T,S,_,A),ref:n})))}):W.createElement("g",null,W.createElement("path",nk({},qe(r,!0),{className:x,d:jG(l,c,u,d,h)})))},s7e=["option","shapeType","propTransformer","activeClassName","isActive"];function q1(t){"@babel/helpers - typeof";return q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q1(t)}function a7e(t,e){if(t==null)return{};var r=o7e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ik(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OG(Object(r),!0).forEach(function(n){l7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l7e(t,e,r){return e=c7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c7e(t){var e=u7e(t,"string");return q1(e)=="symbol"?e:e+""}function u7e(t,e){if(q1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(q1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d7e(t,e){return ik(ik({},e),t)}function h7e(t,e){return t==="symbols"}function NG(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(o5,r);case"trapezoid":return W.createElement(i7e,r);case"sector":return W.createElement(Pse,r);case"symbols":if(h7e(e))return W.createElement(C4,r);break;default:return null}}function f7e(t){return E.isValidElement(t)?t.props:t}function Hse(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?d7e:n,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=a7e(t,s7e),c;if(E.isValidElement(e))c=E.cloneElement(e,ik(ik({},l),f7e(e)));else if(Ke(e))c=e(l);else if(VKe(e)&&!KKe(e)){var u=i(e,l);c=W.createElement(NG,{shapeType:r,elementProps:u})}else{var d=l;c=W.createElement(NG,{shapeType:r,elementProps:d})}return o?W.createElement(zt,{className:a},c):c}function QO(t,e){return e!=null&&"trapezoids"in t.props}function ZO(t,e){return e!=null&&"sectors"in t.props}function K1(t,e){return e!=null&&"points"in t.props}function p7e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function m7e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function g7e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function v7e(t,e){var r;return QO(t,e)?r=p7e:ZO(t,e)?r=m7e:K1(t,e)&&(r=g7e),r}function y7e(t,e){var r;return QO(t,e)?r="trapezoids":ZO(t,e)?r="sectors":K1(t,e)&&(r="points"),r}function b7e(t,e){if(QO(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ZO(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return K1(t,e)?e.payload:{}}function x7e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=y7e(r,e),s=b7e(r,e),a=n.filter(function(l,c){var u=zO(s,l),d=r.props[i].filter(function(g){var v=v7e(r,e);return v(g,e)}),h=r.props[i].indexOf(d[d.length-1]),f=c===h;return u&&f}),o=n.indexOf(a[a.length-1]);return o}var kC;function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dv.apply(this,arguments)}function RG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RG(Object(r),!0).forEach(function(n){Ka(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gse(n.key),n)}}function S7e(t,e,r){return e&&MG(t.prototype,e),r&&MG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _7e(t,e,r){return e=sk(e),A7e(t,Wse()?Reflect.construct(e,r||[],sk(t).constructor):e.apply(t,r))}function A7e(t,e){if(e&&(Yb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E7e(t)}function E7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wse=function(){return!!t})()}function sk(t){return sk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sk(t)}function C7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZD(t,e)}function ZD(t,e){return ZD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZD(t,e)}function Ka(t,e,r){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gse(t){var e=T7e(t,"string");return Yb(e)=="symbol"?e:e+""}function T7e(t,e){if(Yb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ju=function(t){function e(r){var n;return w7e(this,e),n=_7e(this,e,[r]),Ka(n,"pieRef",null),Ka(n,"sectorRefs",[]),Ka(n,"id",RA("recharts-pie-")),Ka(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ke(i)&&i()}),Ka(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ke(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return C7e(e,t),S7e(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,l=s.dataKey,c=s.valueKey,u=qe(this.props,!1),d=qe(a,!1),h=qe(o,!1),f=a&&a.offsetRadius||20,g=n.map(function(v,y){var b=(v.startAngle+v.endAngle)/2,x=fr(v.cx,v.cy,v.outerRadius+f,b),w=lr(lr(lr(lr({},u),v),{},{stroke:"none"},d),{},{index:y,textAnchor:e.getTextAnchor(x.x,v.cx)},x),S=lr(lr(lr(lr({},u),v),{},{fill:"none",stroke:v.fill},h),{},{index:y,points:[fr(v.cx,v.cy,v.outerRadius,b),x]}),_=l;return ht(l)&&ht(c)?_="value":ht(l)&&(_=c),W.createElement(zt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},o&&e.renderLabelLineItem(o,S,"line"),e.renderLabelItem(a,w,Ni(v,_)))});return W.createElement(zt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,l=s.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var d=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,f=d?a:h,g=lr(lr({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return W.createElement(zt,dv({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Um(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),W.createElement(Hse,dv({option:f,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state,h=d.prevSectors,f=d.prevIsAnimationActive;return W.createElement(Uu,{begin:o,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var v=g.t,y=[],b=s&&s[0],x=b.startAngle;return s.forEach(function(w,S){var _=h&&h[S],A=S>0?ya(w,"paddingAngle",0):0;if(_){var C=gd(_.endAngle-_.startAngle,w.endAngle-w.startAngle),T=lr(lr({},w),{},{startAngle:x+A,endAngle:x+C(v)+A});y.push(T),x=T.endAngle}else{var P=w.endAngle,O=w.startAngle,I=gd(0,P-O),R=I(v),B=lr(lr({},w),{},{startAngle:x+A,endAngle:x+R+A});y.push(B),x=B.endAngle}}),W.createElement(zt,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!zO(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,l=i.label,c=i.cx,u=i.cy,d=i.innerRadius,h=i.outerRadius,f=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!a||!a.length||!ve(c)||!ve(u)||!ve(d)||!ve(h))return null;var v=ot("recharts-pie",o);return W.createElement(zt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(b){n.pieRef=b}},this.renderSectors(),l&&this.renderLabels(a),Wn.renderCallByParent(this.props,null,!1),(!f||g)&&Vh.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(W.isValidElement(n))return W.cloneElement(n,i);if(Ke(n))return n(i);var a=ot("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return W.createElement($D,dv({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,s){if(W.isValidElement(n))return W.cloneElement(n,i);var a=s;if(Ke(n)&&(a=n(i),W.isValidElement(a)))return a;var o=ot("recharts-pie-label-text",typeof n!="boolean"&&!Ke(n)?n.className:"");return W.createElement(Vm,dv({},i,{alignmentBaseline:"middle",className:o}),a)}}])}(E.PureComponent);kC=Ju;Ka(Ju,"displayName","Pie");Ka(Ju,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!B0.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ka(Ju,"parseDeltaAngle",function(t,e){var r=Xi(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ka(Ju,"getRealPieData",function(t){var e=t.data,r=t.children,n=qe(t,!1),i=ro(r,RO);return e&&e.length?e.map(function(s,a){return lr(lr(lr({payload:s},n),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return lr(lr({},n),s.props)}):[]});Ka(Ju,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,a=Ase(i,s),o=n+Yi(t.cx,i,i/2),l=r+Yi(t.cy,s,s/2),c=Yi(t.innerRadius,a,0),u=Yi(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});Ka(Ju,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?lr(lr({},e.type.defaultProps),e.props):e.props,i=kC.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,a=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,h=n.tooltipType,f=Math.abs(n.minAngle),g=kC.parseCoordinateOfPie(n,r),v=kC.parseDeltaAngle(a,o),y=Math.abs(v),b=c;ht(c)&&ht(d)?(tl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ht(c)&&(tl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var x=i.filter(function(T){return Ni(T,b,0)!==0}).length,w=(y>=360?x:x-1)*l,S=y-x*f-w,_=i.reduce(function(T,P){var O=Ni(P,b,0);return T+(ve(O)?O:0)},0),A;if(_>0){var C;A=i.map(function(T,P){var O=Ni(T,b,0),I=Ni(T,u,P),R=(ve(O)?O:0)/_,B;P?B=C.endAngle+Xi(v)*l*(O!==0?1:0):B=a;var D=B+Xi(v)*((O!==0?f:0)+R*S),U=(B+D)/2,N=(g.innerRadius+g.outerRadius)/2,j=[{name:I,value:O,payload:T,dataKey:b,type:h}],L=fr(g.cx,g.cy,N,U);return C=lr(lr(lr({percent:R,cornerRadius:s,name:I,tooltipPayload:j,midAngle:U,middleRadius:N,tooltipPosition:L},T),g),{},{value:Ni(T,b),startAngle:B,endAngle:D,payload:T,paddingAngle:Xi(v)*l}),C})}return lr(lr({},g),{},{sectors:A,data:i})});var P7e=Math.ceil,k7e=Math.max;function j7e(t,e,r,n){for(var i=-1,s=k7e(P7e((e-t)/(r||1)),0),a=Array(s);s--;)a[n?s:++i]=t,t+=r;return a}var O7e=j7e,N7e=hie,IG=1/0,R7e=17976931348623157e292;function M7e(t){if(!t)return t===0?t:0;if(t=N7e(t),t===IG||t===-IG){var e=t<0?-1:1;return e*R7e}return t===t?t:0}var qse=M7e,I7e=O7e,D7e=NO,dR=qse;function $7e(t){return function(e,r,n){return n&&typeof n!="number"&&D7e(e,r,n)&&(r=n=void 0),e=dR(e),r===void 0?(r=e,e=0):r=dR(r),n=n===void 0?e<r?1:-1:dR(n),I7e(e,r,n,t)}}var L7e=$7e,F7e=L7e,B7e=F7e(),U7e=B7e;const ak=Mt(U7e);function X1(t){"@babel/helpers - typeof";return X1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X1(t)}function DG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $G(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DG(Object(r),!0).forEach(function(n){Kse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kse(t,e,r){return e=V7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V7e(t){var e=z7e(t,"string");return X1(e)=="symbol"?e:e+""}function z7e(t,e){if(X1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(X1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H7e=["Webkit","Moz","O","ms"],W7e=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=H7e.reduce(function(s,a){return $G($G({},s),{},Kse({},a+n,r))},{});return i[e]=r,i};function Qb(t){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(t)}function ok(){return ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ok.apply(this,arguments)}function LG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LG(Object(r),!0).forEach(function(n){Ms(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yse(n.key),n)}}function q7e(t,e,r){return e&&FG(t.prototype,e),r&&FG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function K7e(t,e,r){return e=lk(e),X7e(t,Xse()?Reflect.construct(e,r||[],lk(t).constructor):e.apply(t,r))}function X7e(t,e){if(e&&(Qb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y7e(t)}function Y7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xse=function(){return!!t})()}function lk(t){return lk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lk(t)}function Q7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JD(t,e)}function JD(t,e){return JD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JD(t,e)}function Ms(t,e,r){return e=Yse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yse(t){var e=Z7e(t,"string");return Qb(e)=="symbol"?e:e+""}function Z7e(t,e){if(Qb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var J7e=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Cw().domain(ak(0,l)).range([s,s+a-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},BG=function(e){return e.changedTouches&&!!e.changedTouches.length},Zb=function(t){function e(r){var n;return G7e(this,e),n=K7e(this,e,[r]),Ms(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ms(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ms(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),n.detachDragEndListener()}),Ms(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ms(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ms(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ms(n,"handleSlideDragStart",function(i){var s=BG(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Q7e(e,t),q7e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(i,s),h=Math.max(i,s),f=e.getIndexInRange(a,d),g=e.getIndexInRange(a,h);return{startIndex:f-f%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=Ni(s[n],o,n);return Ke(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,f=l.endIndex,g=l.onChange,v=n.pageX-s;v>0?v=Math.min(v,c+u-d-o,c+u-d-a):v<0&&(v=Math.max(v,c-a,c-o));var y=this.getIndex({startX:a+v,endX:o+v});(y.startIndex!==h||y.endIndex!==f)&&g&&g(y),this.setState({startX:a+v,endX:o+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=BG(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],u=this.props,d=u.x,h=u.width,f=u.travellerWidth,g=u.onChange,v=u.gap,y=u.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-s;x>0?x=Math.min(x,d+h-f-c):x<0&&(x=Math.max(x,d-c)),b[a]=c+x;var w=this.getIndex(b),S=w.startIndex,_=w.endIndex,A=function(){var T=y.length-1;return a==="startX"&&(o>l?S%v===0:_%v===0)||o<l&&_===T||a==="endX"&&(o>l?_%v===0:S%v===0)||o>l&&_===T};this.setState(Ms(Ms({},a,c+x),"brushMoveStartX",n.pageX),function(){g&&A()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],d=o.indexOf(u);if(d!==-1){var h=d+n;if(!(h===-1||h>=o.length)){var f=o[h];i==="startX"&&f>=c||i==="endX"&&f<=l||this.setState(Ms({},i,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.fill,c=n.stroke;return W.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,d=E.Children.only(c);return d?W.cloneElement(d,{x:i,y:s,width:a,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,f=l.ariaLabel,g=l.data,v=l.startIndex,y=l.endIndex,b=Math.max(n,this.props.x),x=hR(hR({},qe(this.props,!1)),{},{x:b,y:c,width:u,height:d}),w=f||"Min value: ".concat((s=g[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=g[y])===null||a===void 0?void 0:a.name);return W.createElement(zt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),o.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(n,i)+c,d=Math.max(Math.abs(i-n)-c,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:d,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,h=u.endX,f=5,g={pointerEvents:"none",fill:c};return W.createElement(zt,{className:"recharts-brush-texts"},W.createElement(Vm,ok({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:a+o/2},g),this.getTextOfTick(i)),W.createElement(Vm,ok({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+f,y:a+o/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,o=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,h=this.state,f=h.startX,g=h.endX,v=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!ve(o)||!ve(l)||!ve(c)||!ve(u)||c<=0||u<=0)return null;var w=ot("recharts-brush",s),S=W.Children.count(a)===1,_=W7e("userSelect","none");return W.createElement(zt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(v||y||b||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,o=n.height,l=n.stroke,c=Math.floor(s+o/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),W.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Ke(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return hR({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?J7e({data:s,width:a,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var h=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);n[l]>i?o=l:a=l}return i>=n[o]?o:a}}])}(E.PureComponent);Ms(Zb,"displayName","Brush");Ms(Zb,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var eXe=R4;function tXe(t,e){var r;return eXe(t,function(n,i,s){return r=e(n,i,s),!r}),!!r}var rXe=tXe,nXe=Fne,iXe=yc,sXe=rXe,aXe=js,oXe=NO;function lXe(t,e,r){var n=aXe(t)?nXe:sXe;return r&&oXe(t,e,r)&&(e=void 0),n(t,iXe(e))}var cXe=lXe;const uXe=Mt(cXe);var ac=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},UG=oie;function dXe(t,e,r){e=="__proto__"&&UG?UG(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var hXe=dXe,fXe=hXe,pXe=sie,mXe=yc;function gXe(t,e){var r={};return e=mXe(e),pXe(t,function(n,i,s){fXe(r,i,e(n,i,s))}),r}var vXe=gXe;const yXe=Mt(vXe);function bXe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var xXe=bXe,wXe=R4;function SXe(t,e){var r=!0;return wXe(t,function(n,i,s){return r=!!e(n,i,s),r}),r}var _Xe=SXe,AXe=xXe,EXe=_Xe,CXe=yc,TXe=js,PXe=NO;function kXe(t,e,r){var n=TXe(t)?AXe:EXe;return r&&PXe(t,e,r)&&(e=void 0),n(t,CXe(e))}var jXe=kXe;const Qse=Mt(jXe);var OXe=["x","y"];function Y1(t){"@babel/helpers - typeof";return Y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y1(t)}function e$(){return e$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e$.apply(this,arguments)}function VG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VG(Object(r),!0).forEach(function(n){NXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NXe(t,e,r){return e=RXe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RXe(t){var e=MXe(t,"string");return Y1(e)=="symbol"?e:e+""}function MXe(t,e){if(Y1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IXe(t,e){if(t==null)return{};var r=DXe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DXe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $Xe(t,e){var r=t.x,n=t.y,i=IXe(t,OXe),s="".concat(r),a=parseInt(s,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return mx(mx(mx(mx(mx({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function zG(t){return W.createElement(Hse,e$({shapeType:"rectangle",propTransformer:$Xe,activeClassName:"recharts-active-bar"},t))}var LXe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=ve(n)||aIe(n);return s?e(n,i):(s||Hm(),r)}},FXe=["value","background"],Zse;function Jb(t){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}function BXe(t,e){if(t==null)return{};var r=UXe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UXe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ck(){return ck=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ck.apply(this,arguments)}function HG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HG(Object(r),!0).forEach(function(n){kh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eae(n.key),n)}}function zXe(t,e,r){return e&&WG(t.prototype,e),r&&WG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function HXe(t,e,r){return e=uk(e),WXe(t,Jse()?Reflect.construct(e,r||[],uk(t).constructor):e.apply(t,r))}function WXe(t,e){if(e&&(Jb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GXe(t)}function GXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jse=function(){return!!t})()}function uk(t){return uk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uk(t)}function qXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t$(t,e)}function t$(t,e){return t$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t$(t,e)}function kh(t,e,r){return e=eae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eae(t){var e=KXe(t,"string");return Jb(e)=="symbol"?e:e+""}function KXe(t,e){if(Jb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vu=function(t){function e(){var r;VXe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=HXe(this,e,[].concat(i)),kh(r,"state",{isAnimationFinished:!1}),kh(r,"id",RA("recharts-bar-")),kh(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),kh(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return qXe(e,t),zXe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,u=qe(this.props,!1);return n&&n.map(function(d,h){var f=h===l,g=f?c:a,v=dn(dn(dn({},u),d),{},{isActive:f,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(zt,ck({className:"recharts-bar-rectangle"},Um(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),W.createElement(zG,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return W.createElement(Uu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,v=s.map(function(y,b){var x=h&&h[b];if(x){var w=gd(x.x,y.x),S=gd(x.y,y.y),_=gd(x.width,y.width),A=gd(x.height,y.height);return dn(dn({},y),{},{x:w(g),y:S(g),width:_(g),height:A(g)})}if(a==="horizontal"){var C=gd(0,y.height),T=C(g);return dn(dn({},y),{},{y:y.y+y.height-T,height:T})}var P=gd(0,y.width),O=P(g);return dn(dn({},y),{},{width:O})});return W.createElement(zt,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!zO(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=qe(this.props.background,!1);return s.map(function(c,u){c.value;var d=c.background,h=BXe(c,FXe);if(!d)return null;var f=dn(dn(dn(dn(dn({},h),{},{fill:"#eee"},d),l),Um(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return W.createElement(zG,ck({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},f))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=ro(u,GO);if(!d)return null;var h=c==="vertical"?a[0].height/2:a[0].width/2,f=function(y,b){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:Ni(y,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return W.createElement(zt,g,d.map(function(v){return W.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,a=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,h=n.height,f=n.isAnimationActive,g=n.background,v=n.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,b=ot("recharts-bar",a),x=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,S=x||w,_=ht(v)?this.id:v;return W.createElement(zt,{className:b},x||w?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(_)},W.createElement("rect",{x:x?c:c-d/2,y:w?u:u-h/2,width:x?d:d*2,height:w?h:h*2}))):null,W.createElement(zt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(_,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,_),(!f||y)&&Vh.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(E.PureComponent);Zse=Vu;kh(Vu,"displayName","Bar");kh(Vu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!B0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});kh(Vu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,f=AWe(n,r);if(!f)return null;var g=e.layout,v=r.type.defaultProps,y=v!==void 0?dn(dn({},v),r.props):r.props,b=y.dataKey,x=y.children,w=y.minPointSize,S=g==="horizontal"?a:s,_=c?S.scale.domain():null,A=OWe({numericAxis:S}),C=ro(x,RO),T=d.map(function(P,O){var I,R,B,D,U,N;c?I=EWe(c[u+O],_):(I=Ni(P,b),Array.isArray(I)||(I=[A,I]));var j=LXe(w,Zse.defaultProps.minPointSize)(I[1],O);if(g==="horizontal"){var L,F=[a.scale(I[0]),a.scale(I[1])],z=F[0],K=F[1];R=$W({axis:s,ticks:o,bandSize:i,offset:f.offset,entry:P,index:O}),B=(L=K??z)!==null&&L!==void 0?L:void 0,D=f.size;var V=z-K;if(U=Number.isNaN(V)?0:V,N={x:R,y:a.y,width:D,height:a.height},Math.abs(j)>0&&Math.abs(U)<Math.abs(j)){var G=Xi(U||j)*(Math.abs(j)-Math.abs(U));B-=G,U+=G}}else{var X=[s.scale(I[0]),s.scale(I[1])],H=X[0],Z=X[1];if(R=H,B=$W({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:P,index:O}),D=Z-H,U=f.size,N={x:s.x,y:B,width:s.width,height:U},Math.abs(j)>0&&Math.abs(D)<Math.abs(j)){var J=Xi(D||j)*(Math.abs(j)-Math.abs(D));D+=J}}return dn(dn(dn({},P),{},{x:R,y:B,width:D,height:U,value:c?I:I[1],payload:P,background:N},C&&C[O]&&C[O].props),{},{tooltipPayload:[Sse(r,P)],tooltipPosition:{x:R+D/2,y:B+U/2}})});return dn({data:T,layout:g},h)});function Q1(t){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q1(t)}function XXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tae(n.key),n)}}function YXe(t,e,r){return e&&GG(t.prototype,e),r&&GG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qG(Object(r),!0).forEach(function(n){JO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JO(t,e,r){return e=tae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tae(t){var e=QXe(t,"string");return Q1(e)=="symbol"?e:e+""}function QXe(t,e){if(Q1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Q1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZXe=function(e,r,n,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!ra(c,Vu);return u.reduce(function(f,g){var v=r[g],y=v.orientation,b=v.domain,x=v.padding,w=x===void 0?{}:x,S=v.mirror,_=v.reversed,A="".concat(y).concat(S?"Mirror":""),C,T,P,O,I;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var R=b[1]-b[0],B=1/0,D=v.categoricalDomain.sort(cIe);if(D.forEach(function(X,H){H>0&&(B=Math.min((X||0)-(D[H-1]||0),B))}),Number.isFinite(B)){var U=B/R,N=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(C=U*N/2),v.padding==="no-gap"){var j=Yi(e.barCategoryGap,U*N),L=U*N/2;C=L-j-(L-j)/N*j}}}i==="xAxis"?T=[n.left+(w.left||0)+(C||0),n.left+n.width-(w.right||0)-(C||0)]:i==="yAxis"?T=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(C||0),n.top+n.height-(w.bottom||0)-(C||0)]:T=v.range,_&&(T=[T[1],T[0]]);var F=yse(v,s,h),z=F.scale,K=F.realScaleType;z.domain(b).range(T),bse(z);var V=xse(z,Wo(Wo({},v),{},{realScaleType:K}));i==="xAxis"?(I=y==="top"&&!S||y==="bottom"&&S,P=n.left,O=d[A]-I*v.height):i==="yAxis"&&(I=y==="left"&&!S||y==="right"&&S,P=d[A]-I*v.width,O=n.top);var G=Wo(Wo(Wo({},v),V),{},{realScaleType:K,x:P,y:O,scale:z,width:i==="xAxis"?n.width:v.width,height:i==="yAxis"?n.height:v.height});return G.bandSize=qP(G,V),!v.hide&&i==="xAxis"?d[A]+=(I?-1:1)*G.height:v.hide||(d[A]+=(I?-1:1)*G.width),Wo(Wo({},f),{},JO({},g,G))},{})},rae=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},JXe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return rae({x:r,y:n},{x:i,y:s})},nae=function(){function t(e){XXe(this,t),this.scale=e}return YXe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();JO(nae,"EPS",1e-4);var c5=function(e){var r=Object.keys(e).reduce(function(n,i){return Wo(Wo({},n),{},JO({},i,nae.create(e[i])))},{});return Wo(Wo({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return yXe(i,function(l,c){return r[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return Qse(i,function(s,a){return r[a].isInRange(s)})}})};function eYe(t){return(t%180+180)%180}var tYe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=eYe(i),a=s*Math.PI/180,o=Math.atan(n/r),l=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},rYe=yc,nYe=MA,iYe=jO;function sYe(t){return function(e,r,n){var i=Object(e);if(!nYe(e)){var s=rYe(r);e=iYe(e),r=function(o){return s(i[o],o,i)}}var a=t(e,r,n);return a>-1?i[s?e[a]:a]:void 0}}var aYe=sYe,oYe=qse;function lYe(t){var e=oYe(t),r=e%1;return e===e?r?e-r:e:0}var cYe=lYe,uYe=Jne,dYe=yc,hYe=cYe,fYe=Math.max;function pYe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:hYe(r);return i<0&&(i=fYe(n+i,0)),uYe(t,dYe(e),i)}var mYe=pYe,gYe=aYe,vYe=mYe,yYe=gYe(vYe),bYe=yYe;const xYe=Mt(bYe);var wYe=hMe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),u5=E.createContext(void 0),d5=E.createContext(void 0),iae=E.createContext(void 0),sae=E.createContext({}),aae=E.createContext(void 0),oae=E.createContext(0),lae=E.createContext(0),KG=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,u=wYe(s);return W.createElement(u5.Provider,{value:n},W.createElement(d5.Provider,{value:i},W.createElement(sae.Provider,{value:s},W.createElement(iae.Provider,{value:u},W.createElement(aae.Provider,{value:a},W.createElement(oae.Provider,{value:c},W.createElement(lae.Provider,{value:l},o)))))))},SYe=function(){return E.useContext(aae)},cae=function(e){var r=E.useContext(u5);r==null&&Hm();var n=r[e];return n==null&&Hm(),n},_Ye=function(){var e=E.useContext(u5);return wd(e)},AYe=function(){var e=E.useContext(d5),r=xYe(e,function(n){return Qse(n.domain,Number.isFinite)});return r||wd(e)},uae=function(e){var r=E.useContext(d5);r==null&&Hm();var n=r[e];return n==null&&Hm(),n},EYe=function(){var e=E.useContext(iae);return e},CYe=function(){return E.useContext(sae)},h5=function(){return E.useContext(lae)},f5=function(){return E.useContext(oae)};function e0(t){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e0(t)}function TYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PYe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hae(n.key),n)}}function kYe(t,e,r){return e&&PYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jYe(t,e,r){return e=dk(e),OYe(t,dae()?Reflect.construct(e,r||[],dk(t).constructor):e.apply(t,r))}function OYe(t,e){if(e&&(e0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NYe(t)}function NYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dae=function(){return!!t})()}function dk(t){return dk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dk(t)}function RYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r$(t,e)}function r$(t,e){return r$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r$(t,e)}function XG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XG(Object(r),!0).forEach(function(n){p5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p5(t,e,r){return e=hae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hae(t){var e=MYe(t,"string");return e0(e)=="symbol"?e:e+""}function MYe(t,e){if(e0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IYe(t,e){return FYe(t)||LYe(t,e)||$Ye(t,e)||DYe()}function DYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ye(t,e){if(t){if(typeof t=="string")return QG(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QG(t,e)}}function QG(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LYe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function FYe(t){if(Array.isArray(t))return t}function n$(){return n$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n$.apply(this,arguments)}var BYe=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):Ke(e)?n=e(r):n=W.createElement("line",n$({},r,{className:"recharts-reference-line-line"})),n},UYe=function(e,r,n,i,s,a,o,l,c){var u=s.x,d=s.y,h=s.width,f=s.height;if(n){var g=c.y,v=e.y.apply(g,{position:a});if(ac(c,"discard")&&!e.y.isInRange(v))return null;var y=[{x:u+h,y:v},{x:u,y:v}];return l==="left"?y.reverse():y}if(r){var b=c.x,x=e.x.apply(b,{position:a});if(ac(c,"discard")&&!e.x.isInRange(x))return null;var w=[{x,y:d+f},{x,y:d}];return o==="top"?w.reverse():w}if(i){var S=c.segment,_=S.map(function(A){return e.apply(A,{position:a})});return ac(c,"discard")&&uXe(_,function(A){return!e.isInRange(A)})?null:_}return null};function VYe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=SYe(),u=cae(i),d=uae(s),h=EYe();if(!c||!h)return null;tl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=c5({x:u.scale,y:d.scale}),g=jn(e),v=jn(r),y=n&&n.length===2,b=UYe(f,g,v,y,h,t.position,u.orientation,d.orientation,t);if(!b)return null;var x=IYe(b,2),w=x[0],S=w.x,_=w.y,A=x[1],C=A.x,T=A.y,P=ac(t,"hidden")?"url(#".concat(c,")"):void 0,O=YG(YG({clipPath:P},qe(t,!0)),{},{x1:S,y1:_,x2:C,y2:T});return W.createElement(zt,{className:ot("recharts-reference-line",o)},BYe(a,O),Wn.renderCallByParent(t,JXe({x1:S,y1:_,x2:C,y2:T})))}var m5=function(t){function e(){return TYe(this,e),jYe(this,e,arguments)}return RYe(e,t),kYe(e,[{key:"render",value:function(){return W.createElement(VYe,this.props)}}])}(W.Component);p5(m5,"displayName","ReferenceLine");p5(m5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function i$(){return i$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i$.apply(this,arguments)}function t0(t){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t0(t)}function ZG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZG(Object(r),!0).forEach(function(n){eN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HYe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pae(n.key),n)}}function WYe(t,e,r){return e&&HYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GYe(t,e,r){return e=hk(e),qYe(t,fae()?Reflect.construct(e,r||[],hk(t).constructor):e.apply(t,r))}function qYe(t,e){if(e&&(t0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KYe(t)}function KYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fae=function(){return!!t})()}function hk(t){return hk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hk(t)}function XYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s$(t,e)}function s$(t,e){return s$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s$(t,e)}function eN(t,e,r){return e=pae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pae(t){var e=YYe(t,"string");return t0(e)=="symbol"?e:e+""}function YYe(t,e){if(t0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QYe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,a=c5({x:i.scale,y:s.scale}),o=a.apply({x:r,y:n},{bandAware:!0});return ac(e,"discard")&&!a.isInRange(o)?null:o},tN=function(t){function e(){return zYe(this,e),GYe(this,e,arguments)}return XYe(e,t),WYe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,o=n.alwaysShow,l=n.clipPathId,c=jn(i),u=jn(s);if(tl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=QYe(this.props);if(!d)return null;var h=d.x,f=d.y,g=this.props,v=g.shape,y=g.className,b=ac(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=JG(JG({clipPath:b},qe(this.props,!0)),{},{cx:h,cy:f});return W.createElement(zt,{className:ot("recharts-reference-dot",y)},e.renderDot(v,x),Wn.renderCallByParent(this.props,{x:h-a,y:f-a,width:2*a,height:2*a}))}}])}(W.Component);eN(tN,"displayName","ReferenceDot");eN(tN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});eN(tN,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Ke(t)?r=t(e):r=W.createElement(l5,i$({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function a$(){return a$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a$.apply(this,arguments)}function r0(t){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r0(t)}function eq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eq(Object(r),!0).forEach(function(n){rN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JYe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gae(n.key),n)}}function eQe(t,e,r){return e&&JYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tQe(t,e,r){return e=fk(e),rQe(t,mae()?Reflect.construct(e,r||[],fk(t).constructor):e.apply(t,r))}function rQe(t,e){if(e&&(r0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nQe(t)}function nQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mae=function(){return!!t})()}function fk(t){return fk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fk(t)}function iQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o$(t,e)}function o$(t,e){return o$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o$(t,e)}function rN(t,e,r){return e=gae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gae(t){var e=sQe(t,"string");return r0(e)=="symbol"?e:e+""}function sQe(t,e){if(r0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(r0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aQe=function(e,r,n,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,u=s.xAxis,d=s.yAxis;if(!u||!d)return null;var h=c5({x:u.scale,y:d.scale}),f={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ac(s,"discard")&&(!h.isInRange(f)||!h.isInRange(g))?null:rae(f,g)},nN=function(t){function e(){return ZYe(this,e),tQe(this,e,arguments)}return iQe(e,t),eQe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;tl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=jn(i),h=jn(s),f=jn(a),g=jn(o),v=this.props.shape;if(!d&&!h&&!f&&!g&&!v)return null;var y=aQe(d,h,f,g,this.props);if(!y&&!v)return null;var b=ac(this.props,"hidden")?"url(#".concat(u,")"):void 0;return W.createElement(zt,{className:ot("recharts-reference-area",l)},e.renderRect(v,tq(tq({clipPath:b},qe(this.props,!0)),y)),Wn.renderCallByParent(this.props,y))}}])}(W.Component);rN(nN,"displayName","ReferenceArea");rN(nN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});rN(nN,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Ke(t)?r=t(e):r=W.createElement(o5,a$({},e,{className:"recharts-reference-area-rect"})),r});function vae(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function oQe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return tYe(n,r)}function lQe(t,e,r){var n=r==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function pk(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function cQe(t,e){return vae(t,e+1)}function uQe(t,e,r,n,i){for(var s=(n||[]).slice(),a=e.start,o=e.end,l=0,c=1,u=a,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:vae(n,c)};var v=l,y,b=function(){return y===void 0&&(y=r(g,v)),y},x=g.coordinate,w=l===0||pk(t,x,b,u,o);w||(l=0,u=a,c+=1),w&&(u=x+t*(b()/2+i),l+=c)},h;c<=s.length;)if(h=d(),h)return h.v;return[]}function Z1(t){"@babel/helpers - typeof";return Z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z1(t)}function rq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ki(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rq(Object(r),!0).forEach(function(n){dQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dQe(t,e,r){return e=hQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQe(t){var e=fQe(t,"string");return Z1(e)=="symbol"?e:e+""}function fQe(t,e){if(Z1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Z1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pQe(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(h){var f=s[h],g,v=function(){return g===void 0&&(g=r(f,h)),g};if(h===a-1){var y=t*(f.coordinate+t*v()/2-l);s[h]=f=ki(ki({},f),{},{tickCoord:y>0?f.coordinate-y*t:f.coordinate})}else s[h]=f=ki(ki({},f),{},{tickCoord:f.coordinate});var b=pk(t,f.tickCoord,v,o,l);b&&(l=f.tickCoord-t*(v()/2+i),s[h]=ki(ki({},f),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return s}function mQe(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var u=n[o-1],d=r(u,o-1),h=t*(u.coordinate+t*d/2-c);a[o-1]=u=ki(ki({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var f=pk(t,u.tickCoord,function(){return d},l,c);f&&(c=u.tickCoord-t*(d/2+i),a[o-1]=ki(ki({},u),{},{isShow:!0}))}for(var g=s?o-1:o,v=function(x){var w=a[x],S,_=function(){return S===void 0&&(S=r(w,x)),S};if(x===0){var A=t*(w.coordinate-t*_()/2-l);a[x]=w=ki(ki({},w),{},{tickCoord:A<0?w.coordinate-A*t:w.coordinate})}else a[x]=w=ki(ki({},w),{},{tickCoord:w.coordinate});var C=pk(t,w.tickCoord,_,l,c);C&&(l=w.tickCoord+t*(_()/2+i),a[x]=ki(ki({},w),{},{isShow:!0}))},y=0;y<g;y++)v(y);return a}function g5(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(ve(l)||B0.isSsr)return cQe(i,typeof l=="number"&&ve(l)?l:0);var h=[],f=o==="top"||o==="bottom"?"width":"height",g=u&&f==="width"?Ew(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=function(w,S){var _=Ke(c)?c(w.value,S):w.value;return f==="width"?oQe(Ew(_,{fontSize:e,letterSpacing:r}),g,d):Ew(_,{fontSize:e,letterSpacing:r})[f]},y=i.length>=2?Xi(i[1].coordinate-i[0].coordinate):1,b=lQe(s,y,f);return l==="equidistantPreserveStart"?uQe(y,b,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=mQe(y,b,v,i,a,l==="preserveStartEnd"):h=pQe(y,b,v,i,a),h.filter(function(x){return x.isShow}))}var gQe=["viewBox"],vQe=["viewBox"],yQe=["ticks"];function n0(t){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(t)}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hv.apply(this,arguments)}function nq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nq(Object(r),!0).forEach(function(n){v5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fR(t,e){if(t==null)return{};var r=bQe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bQe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bae(n.key),n)}}function wQe(t,e,r){return e&&iq(t.prototype,e),r&&iq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SQe(t,e,r){return e=mk(e),_Qe(t,yae()?Reflect.construct(e,r||[],mk(t).constructor):e.apply(t,r))}function _Qe(t,e){if(e&&(n0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AQe(t)}function AQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yae=function(){return!!t})()}function mk(t){return mk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mk(t)}function EQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l$(t,e)}function l$(t,e){return l$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l$(t,e)}function v5(t,e,r){return e=bae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bae(t){var e=CQe(t,"string");return n0(e)=="symbol"?e:e+""}function CQe(t,e){if(n0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(n0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H0=function(t){function e(r){var n;return xQe(this,e),n=SQe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return EQe(e,t),wQe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,a=fR(n,gQe),o=this.props,l=o.viewBox,c=fR(o,vQe);return!Mv(s,l)||!Mv(a,c)||!Mv(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,f,g,v,y,b,x,w=d?-1:1,S=n.tickSize||u,_=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":f=g=n.coordinate,y=a+ +!d*l,v=y-w*S,x=v-w*h,b=_;break;case"left":v=y=n.coordinate,g=s+ +!d*o,f=g-w*S,b=f-w*h,x=_;break;case"right":v=y=n.coordinate,g=s+ +d*o,f=g+w*S,b=f+w*h,x=_;break;default:f=g=n.coordinate,y=a+ +d*l,v=y+w*S,x=v+w*h,b=_;break}return{line:{x1:f,y1:v,x2:g,y2:y},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=xn(xn(xn({},qe(this.props,!1)),qe(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=xn(xn({},d),{},{x1:i,y1:s+h*o,x2:i+a,y2:s+h*o})}else{var f=+(l==="left"&&!c||l==="right"&&c);d=xn(xn({},d),{},{x1:i+f*a,y1:s,x2:i+f*a,y2:s+o})}return W.createElement("line",hv({},d,{className:ot("recharts-cartesian-axis-line",ya(u,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,f=g5(xn(xn({},this.props),{},{ticks:n}),i,s),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=qe(this.props,!1),b=qe(u,!1),x=xn(xn({},y),{},{fill:"none"},qe(l,!1)),w=f.map(function(S,_){var A=a.getTickLineCoord(S),C=A.line,T=A.tick,P=xn(xn(xn(xn({textAnchor:g,verticalAnchor:v},y),{},{stroke:"none",fill:c},b),T),{},{index:_,payload:S,visibleTicksCount:f.length,tickFormatter:d});return W.createElement(zt,hv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Um(a.props,S,_)),l&&W.createElement("line",hv({},x,C,{className:ot("recharts-cartesian-axis-tick-line",ya(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(Ke(d)?d(S.value,_):S.value).concat(h||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,f=fR(d,yQe),g=h;return Ke(l)&&(g=h&&h.length>0?l(this.props):l(f)),a<=0||o<=0||!g||!g.length?null:W.createElement(zt,{className:ot("recharts-cartesian-axis",c),ref:function(y){n.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Wn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var a,o=ot(i.className,"recharts-cartesian-axis-tick-value");return W.isValidElement(n)?a=W.cloneElement(n,xn(xn({},i),{},{className:o})):Ke(n)?a=n(xn(xn({},i),{},{className:o})):a=W.createElement(Vm,hv({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(E.Component);v5(H0,"displayName","CartesianAxis");v5(H0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var TQe=["x1","y1","x2","y2","key"],PQe=["offset"];function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function sq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sq(Object(r),!0).forEach(function(n){kQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kQe(t,e,r){return e=jQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jQe(t){var e=OQe(t,"string");return Wm(e)=="symbol"?e:e+""}function OQe(t,e){if(Wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qf.apply(this,arguments)}function aq(t,e){if(t==null)return{};var r=NQe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NQe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var RQe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return W.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function xae(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(Ke(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=aq(e,TQe),c=qe(l,!1);c.offset;var u=aq(c,PQe);r=W.createElement("line",Qf({},u,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function MQe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Oi(Oi({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return xae(i,c)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function IQe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Oi(Oi({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return xae(i,c)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function DQe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,f){return h-f});i!==u[0]&&u.unshift(0);var d=u.map(function(h,f){var g=!u[f+1],v=g?i+a-h:u[f+1]-h;if(v<=0)return null;var y=f%e.length;return W.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:v,width:s,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function $Qe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,f){return h-f});s!==u[0]&&u.unshift(0);var d=u.map(function(h,f){var g=!u[f+1],v=g?s+o-h:u[f+1]-h;if(v<=0)return null;var y=f%n.length;return W.createElement("rect",{key:"react-".concat(f),x:h,y:a,width:v,height:l,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var LQe=function(e,r){var n=e.xAxis,i=e.width,s=e.height,a=e.offset;return vse(g5(Oi(Oi(Oi({},H0.defaultProps),n),{},{ticks:Su(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,r)},FQe=function(e,r){var n=e.yAxis,i=e.width,s=e.height,a=e.offset;return vse(g5(Oi(Oi(Oi({},H0.defaultProps),n),{},{ticks:Su(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,r)},Sg={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function gk(t){var e,r,n,i,s,a,o=h5(),l=f5(),c=CYe(),u=Oi(Oi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Sg.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Sg.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Sg.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Sg.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Sg.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Sg.verticalFill,x:ve(t.x)?t.x:c.left,y:ve(t.y)?t.y:c.top,width:ve(t.width)?t.width:c.width,height:ve(t.height)?t.height:c.height}),d=u.x,h=u.y,f=u.width,g=u.height,v=u.syncWithTicks,y=u.horizontalValues,b=u.verticalValues,x=_Ye(),w=AYe();if(!ve(f)||f<=0||!ve(g)||g<=0||!ve(d)||d!==+d||!ve(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||LQe,_=u.horizontalCoordinatesGenerator||FQe,A=u.horizontalPoints,C=u.verticalPoints;if((!A||!A.length)&&Ke(_)){var T=y&&y.length,P=_({yAxis:w?Oi(Oi({},w),{},{ticks:T?y:w.ticks}):void 0,width:o,height:l,offset:c},T?!0:v);tl(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wm(P),"]")),Array.isArray(P)&&(A=P)}if((!C||!C.length)&&Ke(S)){var O=b&&b.length,I=S({xAxis:x?Oi(Oi({},x),{},{ticks:O?b:x.ticks}):void 0,width:o,height:l,offset:c},O?!0:v);tl(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wm(I),"]")),Array.isArray(I)&&(C=I)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(RQe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),W.createElement(MQe,Qf({},u,{offset:c,horizontalPoints:A,xAxis:x,yAxis:w})),W.createElement(IQe,Qf({},u,{offset:c,verticalPoints:C,xAxis:x,yAxis:w})),W.createElement(DQe,Qf({},u,{horizontalPoints:A})),W.createElement($Qe,Qf({},u,{verticalPoints:C})))}gk.displayName="CartesianGrid";function i0(t){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}function BQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_ae(n.key),n)}}function VQe(t,e,r){return e&&UQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zQe(t,e,r){return e=vk(e),HQe(t,wae()?Reflect.construct(e,r||[],vk(t).constructor):e.apply(t,r))}function HQe(t,e){if(e&&(i0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WQe(t)}function WQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wae=function(){return!!t})()}function vk(t){return vk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vk(t)}function GQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c$(t,e)}function c$(t,e){return c$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c$(t,e)}function Sae(t,e,r){return e=_ae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ae(t){var e=qQe(t,"string");return i0(e)=="symbol"?e:e+""}function qQe(t,e){if(i0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(i0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function u$(){return u$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u$.apply(this,arguments)}function KQe(t){var e=t.xAxisId,r=h5(),n=f5(),i=cae(e);return i==null?null:E.createElement(H0,u$({},i,{className:ot("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return Su(a,!0)}}))}var s0=function(t){function e(){return BQe(this,e),zQe(this,e,arguments)}return GQe(e,t),VQe(e,[{key:"render",value:function(){return E.createElement(KQe,this.props)}}])}(E.Component);Sae(s0,"displayName","XAxis");Sae(s0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function a0(t){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a0(t)}function XQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cae(n.key),n)}}function QQe(t,e,r){return e&&YQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZQe(t,e,r){return e=yk(e),JQe(t,Aae()?Reflect.construct(e,r||[],yk(t).constructor):e.apply(t,r))}function JQe(t,e){if(e&&(a0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eZe(t)}function eZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aae=function(){return!!t})()}function yk(t){return yk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yk(t)}function tZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d$(t,e)}function d$(t,e){return d$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d$(t,e)}function Eae(t,e,r){return e=Cae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cae(t){var e=rZe(t,"string");return a0(e)=="symbol"?e:e+""}function rZe(t,e){if(a0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(a0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function h$(){return h$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h$.apply(this,arguments)}var nZe=function(e){var r=e.yAxisId,n=h5(),i=f5(),s=uae(r);return s==null?null:E.createElement(H0,h$({},s,{className:ot("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Su(o,!0)}}))},o0=function(t){function e(){return XQe(this,e),ZQe(this,e,arguments)}return tZe(e,t),QQe(e,[{key:"render",value:function(){return E.createElement(nZe,this.props)}}])}(E.Component);Eae(o0,"displayName","YAxis");Eae(o0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function oq(t){return oZe(t)||aZe(t)||sZe(t)||iZe()}function iZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sZe(t,e){if(t){if(typeof t=="string")return f$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f$(t,e)}}function aZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oZe(t){if(Array.isArray(t))return f$(t)}function f$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p$=function(e,r,n,i,s){var a=ro(e,m5),o=ro(e,tN),l=[].concat(oq(a),oq(o)),c=ro(e,nN),u="".concat(i,"Id"),d=i[0],h=r;if(l.length&&(h=l.reduce(function(v,y){if(y.props[u]===n&&ac(y.props,"extendDomain")&&ve(y.props[d])){var b=y.props[d];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},h)),c.length){var f="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(v,y){if(y.props[u]===n&&ac(y.props,"extendDomain")&&ve(y.props[f])&&ve(y.props[g])){var b=y.props[f],x=y.props[g];return[Math.min(v[0],b,x),Math.max(v[1],b,x)]}return v},h)}return s&&s.length&&(h=s.reduce(function(v,y){return ve(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},h)),h},Tae={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],f]:l._events[g].push(f):(l._events[g]=f,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,g=new Array(f);h<f;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,f,g){var v=r?r+c:c;if(!this._events[v])return!1;var y=this._events[v],b=arguments.length,x,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,g),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];y.fn.apply(y.context,x)}else{var S=y.length,_;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,d);break;case 4:y[w].fn.call(y[w].context,u,d,h);break;default:if(!x)for(_=1,x=new Array(b-1);_<b;_++)x[_-1]=arguments[_];y[w].fn.apply(y[w].context,x)}}return!0},o.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var f=r?r+c:c;if(!this._events[f])return this;if(!u)return a(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&a(this,f);else{for(var v=0,y=[],b=g.length;v<b;v++)(g[v].fn!==u||h&&!g[v].once||d&&g[v].context!==d)&&y.push(g[v]);y.length?this._events[f]=y.length===1?y[0]:y:a(this,f)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(Tae);var lZe=Tae.exports;const cZe=Mt(lZe);var pR=new cZe,mR="recharts.syncMouseEvents";function J1(t){"@babel/helpers - typeof";return J1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J1(t)}function uZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dZe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pae(n.key),n)}}function hZe(t,e,r){return e&&dZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gR(t,e,r){return e=Pae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pae(t){var e=fZe(t,"string");return J1(e)=="symbol"?e:e+""}function fZe(t,e){if(J1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(J1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pZe=function(){function t(){uZe(this,t),gR(this,"activeIndex",0),gR(this,"coordinateList",[]),gR(this,"layout","horizontal")}return hZe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,a=r.container,o=a===void 0?null:a,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,h=r.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+l+c,h=a+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function mZe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ve(n)&&ve(i))return!0}return!1}function gZe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function kae(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,a=fr(e,r,n,i),o=fr(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function vZe(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=fr(o,l,c,d),f=fr(o,l,u,d);n=h.x,i=h.y,s=f.x,a=f.y}else return kae(e);return[{x:n,y:i},{x:s,y:a}]}function eS(t){"@babel/helpers - typeof";return eS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eS(t)}function lq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lq(Object(r),!0).forEach(function(n){yZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yZe(t,e,r){return e=bZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bZe(t){var e=xZe(t,"string");return eS(e)=="symbol"?e:e+""}function xZe(t,e){if(eS(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eS(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wZe(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!s||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,v=$D;if(h==="ScatterChart")g=a,v=Z9e;else if(h==="BarChart")g=gZe(d,a,l,u),v=o5;else if(d==="radial"){var y=kae(a),b=y.cx,x=y.cy,w=y.radius,S=y.startAngle,_=y.endAngle;g={cx:b,cy:x,startAngle:S,endAngle:_,innerRadius:w,outerRadius:w},v=Pse}else g={points:vZe(d,a,l)},v=$D;var A=VE(VE(VE(VE({stroke:"#ccc",pointerEvents:"none"},l),g),qe(f,!1)),{},{payload:o,payloadIndex:c,className:ot("recharts-tooltip-cursor",f.className)});return E.isValidElement(f)?E.cloneElement(f,A):E.createElement(v,A)}var SZe=["item"],_Ze=["children","className","width","height","style","compact","title","desc"];function l0(t){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fv.apply(this,arguments)}function cq(t,e){return CZe(t)||EZe(t,e)||Oae(t,e)||AZe()}function AZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function CZe(t){if(Array.isArray(t))return t}function uq(t,e){if(t==null)return{};var r=TZe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TZe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kZe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nae(n.key),n)}}function jZe(t,e,r){return e&&kZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OZe(t,e,r){return e=bk(e),NZe(t,jae()?Reflect.construct(e,r||[],bk(t).constructor):e.apply(t,r))}function NZe(t,e){if(e&&(l0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RZe(t)}function RZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jae=function(){return!!t})()}function bk(t){return bk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bk(t)}function MZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m$(t,e)}function m$(t,e){return m$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m$(t,e)}function c0(t){return $Ze(t)||DZe(t)||Oae(t)||IZe()}function IZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oae(t,e){if(t){if(typeof t=="string")return g$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g$(t,e)}}function DZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ze(t){if(Array.isArray(t))return g$(t)}function g$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dq(Object(r),!0).forEach(function(n){Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ve(t,e,r){return e=Nae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nae(t){var e=LZe(t,"string");return l0(e)=="symbol"?e:e+""}function LZe(t,e){if(l0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(l0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FZe={xAxis:["bottom","top"],yAxis:["left","right"]},BZe={width:"100%",height:"100%"},Rae={x:0,y:0};function zE(t){return t}var UZe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},VZe=function(e,r,n,i){var s=r.find(function(u){return u&&u.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return ae(ae(ae({},i),fr(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return ae(ae(ae({},i),fr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return Rae},iN=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,a=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(c0(o),c0(c)):o},[]);return a.length>0?a:e&&e.length&&ve(i)&&ve(s)?e.slice(i,s+1):[]};function Mae(t){return t==="number"?[0,"auto"]:void 0}var v$=function(e,r,n,i){var s=e.graphicalItems,a=e.tooltipAxis,o=iN(r,e);return n<0||!s||!s.length||n>=o.length?null:s.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var f=d===void 0?o:d;h=WI(f,a.dataKey,i)}else h=d&&d[n]||o[n];return h?[].concat(c0(l),[Sse(c,h)]):l},[])},hq=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},a=UZe(s,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=yWe(a,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=v$(e,r,u,d),f=VZe(n,o,u,s);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},zZe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,f=gse(u,s);return n.reduce(function(g,v){var y,b=v.type.defaultProps!==void 0?ae(ae({},v.type.defaultProps),v.props):v.props,x=b.type,w=b.dataKey,S=b.allowDataOverflow,_=b.allowDuplicatedCategory,A=b.scale,C=b.ticks,T=b.includeHidden,P=b[a];if(g[P])return g;var O=iN(e.data,{graphicalItems:i.filter(function(V){var G,X=a in V.props?V.props[a]:(G=V.type.defaultProps)===null||G===void 0?void 0:G[a];return X===P}),dataStartIndex:l,dataEndIndex:c}),I=O.length,R,B,D;mZe(b.domain,S,x)&&(R=ND(b.domain,null,S),f&&(x==="number"||A!=="auto")&&(D=Tw(O,w,"category")));var U=Mae(x);if(!R||R.length===0){var N,j=(N=b.domain)!==null&&N!==void 0?N:U;if(w){if(R=Tw(O,w,x),x==="category"&&f){var L=lIe(R);_&&L?(B=R,R=ak(0,I)):_||(R=BW(j,R,v).reduce(function(V,G){return V.indexOf(G)>=0?V:[].concat(c0(V),[G])},[]))}else if(x==="category")_?R=R.filter(function(V){return V!==""&&!ht(V)}):R=BW(j,R,v).reduce(function(V,G){return V.indexOf(G)>=0||G===""||ht(G)?V:[].concat(c0(V),[G])},[]);else if(x==="number"){var F=_We(O,i.filter(function(V){var G,X,H=a in V.props?V.props[a]:(G=V.type.defaultProps)===null||G===void 0?void 0:G[a],Z="hide"in V.props?V.props.hide:(X=V.type.defaultProps)===null||X===void 0?void 0:X.hide;return H===P&&(T||!Z)}),w,s,u);F&&(R=F)}f&&(x==="number"||A!=="auto")&&(D=Tw(O,w,"category"))}else f?R=ak(0,I):o&&o[P]&&o[P].hasStack&&x==="number"?R=h==="expand"?[0,1]:wse(o[P].stackGroups,l,c):R=mse(O,i.filter(function(V){var G=a in V.props?V.props[a]:V.type.defaultProps[a],X="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return G===P&&(T||!X)}),x,u,!0);if(x==="number")R=p$(d,R,P,s,C),j&&(R=ND(j,R,S));else if(x==="category"&&j){var z=j,K=R.every(function(V){return z.indexOf(V)>=0});K&&(R=z)}}return ae(ae({},g),{},Ve({},P,ae(ae({},b),{},{axisType:s,domain:R,categoricalDomain:D,duplicateDomain:B,originalDomain:(y=b.domain)!==null&&y!==void 0?y:U,isCategorical:f,layout:u})))},{})},HZe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,d=e.children,h=iN(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),f=h.length,g=gse(u,s),v=-1;return n.reduce(function(y,b){var x=b.type.defaultProps!==void 0?ae(ae({},b.type.defaultProps),b.props):b.props,w=x[a],S=Mae("number");if(!y[w]){v++;var _;return g?_=ak(0,f):o&&o[w]&&o[w].hasStack?(_=wse(o[w].stackGroups,l,c),_=p$(d,_,w,s)):(_=ND(S,mse(h,n.filter(function(A){var C,T,P=a in A.props?A.props[a]:(C=A.type.defaultProps)===null||C===void 0?void 0:C[a],O="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===w&&!O}),"number",u),i.defaultProps.allowDataOverflow),_=p$(d,_,w,s)),ae(ae({},y),{},Ve({},w,ae(ae({axisType:s},i.defaultProps),{},{hide:!0,orientation:ya(FZe,"".concat(s,".").concat(v%2),null),domain:_,originalDomain:S,isCategorical:g,layout:u})))}return y},{})},WZe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,a=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=ro(u,s),f={};return h&&h.length?f=zZe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(f=HZe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),f},GZe=function(e){var r=wd(e),n=Su(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:M4(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:qP(r,n)}},fq=function(e){var r=e.children,n=e.defaultShowTooltip,i=ra(r,Zb),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},qZe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Au(r&&r.type);return n&&n.indexOf("Bar")>=0})},pq=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},KZe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,d=n.children,h=n.margin||{},f=ra(d,Zb),g=ra(d,Iv),v=Object.keys(l).reduce(function(_,A){var C=l[A],T=C.orientation;return!C.mirror&&!C.hide?ae(ae({},_),{},Ve({},T,_[T]+C.width)):_},{left:h.left||0,right:h.right||0}),y=Object.keys(a).reduce(function(_,A){var C=a[A],T=C.orientation;return!C.mirror&&!C.hide?ae(ae({},_),{},Ve({},T,ya(_,"".concat(T))+C.height)):_},{top:h.top||0,bottom:h.bottom||0}),b=ae(ae({},y),v),x=b.bottom;f&&(b.bottom+=f.props.height||Zb.defaultProps.height),g&&r&&(b=wWe(b,i,n,r));var w=c-b.left-b.right,S=u-b.top-b.bottom;return ae(ae({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(S,0)})},XZe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Iae=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(b,x){var w=x.graphicalItems,S=x.stackGroups,_=x.offset,A=x.updateId,C=x.dataStartIndex,T=x.dataEndIndex,P=b.barSize,O=b.layout,I=b.barGap,R=b.barCategoryGap,B=b.maxBarSize,D=pq(O),U=D.numericAxisName,N=D.cateAxisName,j=qZe(w),L=[];return w.forEach(function(F,z){var K=iN(b.data,{graphicalItems:[F],dataStartIndex:C,dataEndIndex:T}),V=F.type.defaultProps!==void 0?ae(ae({},F.type.defaultProps),F.props):F.props,G=V.dataKey,X=V.maxBarSize,H=V["".concat(U,"Id")],Z=V["".concat(N,"Id")],J={},ce=l.reduce(function(q,Y){var Q=x["".concat(Y.axisType,"Map")],re=V["".concat(Y.axisType,"Id")];Q&&Q[re]||Y.axisType==="zAxis"||Hm();var le=Q[re];return ae(ae({},q),{},Ve(Ve({},Y.axisType,le),"".concat(Y.axisType,"Ticks"),Su(le)))},J),ee=ce[N],oe=ce["".concat(N,"Ticks")],ue=S&&S[H]&&S[H].hasStack&&NWe(F,S[H].stackGroups),te=Au(F.type).indexOf("Bar")>=0,De=qP(ee,oe),je=[],$e=j&&bWe({barSize:P,stackGroups:S,totalSize:XZe(ce,N)});if(te){var He,Ue,tt=ht(X)?B:X,bt=(He=(Ue=qP(ee,oe,!0))!==null&&Ue!==void 0?Ue:tt)!==null&&He!==void 0?He:0;je=xWe({barGap:I,barCategoryGap:R,bandSize:bt!==De?bt:De,sizeList:$e[Z],maxBarSize:tt}),bt!==De&&(je=je.map(function(q){return ae(ae({},q),{},{position:ae(ae({},q.position),{},{offset:q.position.offset-bt/2})})}))}var er=F&&F.type&&F.type.getComposedData;er&&L.push({props:ae(ae({},er(ae(ae({},ce),{},{displayedData:K,props:b,dataKey:G,item:F,bandSize:De,barPosition:je,offset:_,stackedData:ue,layout:O,dataStartIndex:C,dataEndIndex:T}))),{},Ve(Ve(Ve({key:F.key||"item-".concat(z)},U,ce[U]),N,ce[N]),"animationId",A)),childIndex:xIe(F,b.children),item:F})}),L},f=function(b,x){var w=b.props,S=b.dataStartIndex,_=b.dataEndIndex,A=b.updateId;if(!M8({props:w}))return null;var C=w.children,T=w.layout,P=w.stackOffset,O=w.data,I=w.reverseStackOrder,R=pq(T),B=R.numericAxisName,D=R.cateAxisName,U=ro(C,n),N=jWe(O,U,"".concat(B,"Id"),"".concat(D,"Id"),P,I),j=l.reduce(function(V,G){var X="".concat(G.axisType,"Map");return ae(ae({},V),{},Ve({},X,WZe(w,ae(ae({},G),{},{graphicalItems:U,stackGroups:G.axisType===B&&N,dataStartIndex:S,dataEndIndex:_}))))},{}),L=KZe(ae(ae({},j),{},{props:w,graphicalItems:U}),x==null?void 0:x.legendBBox);Object.keys(j).forEach(function(V){j[V]=u(w,j[V],L,V.replace("Map",""),r)});var F=j["".concat(D,"Map")],z=GZe(F),K=h(w,ae(ae({},j),{},{dataStartIndex:S,dataEndIndex:_,updateId:A,graphicalItems:U,stackGroups:N,offset:L}));return ae(ae({formattedGraphicalItems:K,graphicalItems:U,offset:L,stackGroups:N},z),j)},g=function(y){function b(x){var w,S,_;return PZe(this,b),_=OZe(this,b,[x]),Ve(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(_,"accessibilityManager",new pZe),Ve(_,"handleLegendBBoxUpdate",function(A){if(A){var C=_.state,T=C.dataStartIndex,P=C.dataEndIndex,O=C.updateId;_.setState(ae({legendBBox:A},f({props:_.props,dataStartIndex:T,dataEndIndex:P,updateId:O},ae(ae({},_.state),{},{legendBBox:A}))))}}),Ve(_,"handleReceiveSyncEvent",function(A,C,T){if(_.props.syncId===A){if(T===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(C)}}),Ve(_,"handleBrushChange",function(A){var C=A.startIndex,T=A.endIndex;if(C!==_.state.dataStartIndex||T!==_.state.dataEndIndex){var P=_.state.updateId;_.setState(function(){return ae({dataStartIndex:C,dataEndIndex:T},f({props:_.props,dataStartIndex:C,dataEndIndex:T,updateId:P},_.state))}),_.triggerSyncEvent({dataStartIndex:C,dataEndIndex:T})}}),Ve(_,"handleMouseEnter",function(A){var C=_.getMouseInfo(A);if(C){var T=ae(ae({},C),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T);var P=_.props.onMouseEnter;Ke(P)&&P(T,A)}}),Ve(_,"triggeredAfterMouseMove",function(A){var C=_.getMouseInfo(A),T=C?ae(ae({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(T),_.triggerSyncEvent(T);var P=_.props.onMouseMove;Ke(P)&&P(T,A)}),Ve(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Ve(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Ve(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),Ve(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};_.setState(C),_.triggerSyncEvent(C);var T=_.props.onMouseLeave;Ke(T)&&T(C,A)}),Ve(_,"handleOuterEvent",function(A){var C=bIe(A),T=ya(_.props,"".concat(C));if(C&&Ke(T)){var P,O;/.*touch.*/i.test(C)?O=_.getMouseInfo(A.changedTouches[0]):O=_.getMouseInfo(A),T((P=O)!==null&&P!==void 0?P:{},A)}}),Ve(_,"handleClick",function(A){var C=_.getMouseInfo(A);if(C){var T=ae(ae({},C),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T);var P=_.props.onClick;Ke(P)&&P(T,A)}}),Ve(_,"handleMouseDown",function(A){var C=_.props.onMouseDown;if(Ke(C)){var T=_.getMouseInfo(A);C(T,A)}}),Ve(_,"handleMouseUp",function(A){var C=_.props.onMouseUp;if(Ke(C)){var T=_.getMouseInfo(A);C(T,A)}}),Ve(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Ve(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),Ve(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),Ve(_,"handleDoubleClick",function(A){var C=_.props.onDoubleClick;if(Ke(C)){var T=_.getMouseInfo(A);C(T,A)}}),Ve(_,"handleContextMenu",function(A){var C=_.props.onContextMenu;if(Ke(C)){var T=_.getMouseInfo(A);C(T,A)}}),Ve(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&pR.emit(mR,_.props.syncId,A,_.eventEmitterSymbol)}),Ve(_,"applySyncEvent",function(A){var C=_.props,T=C.layout,P=C.syncMethod,O=_.state.updateId,I=A.dataStartIndex,R=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(ae({dataStartIndex:I,dataEndIndex:R},f({props:_.props,dataStartIndex:I,dataEndIndex:R,updateId:O},_.state)));else if(A.activeTooltipIndex!==void 0){var B=A.chartX,D=A.chartY,U=A.activeTooltipIndex,N=_.state,j=N.offset,L=N.tooltipTicks;if(!j)return;if(typeof P=="function")U=P(L,A);else if(P==="value"){U=-1;for(var F=0;F<L.length;F++)if(L[F].value===A.activeLabel){U=F;break}}var z=ae(ae({},j),{},{x:j.left,y:j.top}),K=Math.min(B,z.x+z.width),V=Math.min(D,z.y+z.height),G=L[U]&&L[U].value,X=v$(_.state,_.props.data,U),H=L[U]?{x:T==="horizontal"?L[U].coordinate:K,y:T==="horizontal"?V:L[U].coordinate}:Rae;_.setState(ae(ae({},A),{},{activeLabel:G,activeCoordinate:H,activePayload:X,activeTooltipIndex:U}))}else _.setState(A)}),Ve(_,"renderCursor",function(A){var C,T=_.state,P=T.isTooltipActive,O=T.activeCoordinate,I=T.activePayload,R=T.offset,B=T.activeTooltipIndex,D=T.tooltipAxisBandSize,U=_.getTooltipEventType(),N=(C=A.props.active)!==null&&C!==void 0?C:P,j=_.props.layout,L=A.key||"_recharts-cursor";return W.createElement(wZe,{key:L,activeCoordinate:O,activePayload:I,activeTooltipIndex:B,chartName:r,element:A,isActive:N,layout:j,offset:R,tooltipAxisBandSize:D,tooltipEventType:U})}),Ve(_,"renderPolarAxis",function(A,C,T){var P=ya(A,"type.axisType"),O=ya(_.state,"".concat(P,"Map")),I=A.type.defaultProps,R=I!==void 0?ae(ae({},I),A.props):A.props,B=O&&O[R["".concat(P,"Id")]];return E.cloneElement(A,ae(ae({},B),{},{className:ot(P,B.className),key:A.key||"".concat(C,"-").concat(T),ticks:Su(B,!0)}))}),Ve(_,"renderPolarGrid",function(A){var C=A.props,T=C.radialLines,P=C.polarAngles,O=C.polarRadius,I=_.state,R=I.radiusAxisMap,B=I.angleAxisMap,D=wd(R),U=wd(B),N=U.cx,j=U.cy,L=U.innerRadius,F=U.outerRadius;return E.cloneElement(A,{polarAngles:Array.isArray(P)?P:Su(U,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(O)?O:Su(D,!0).map(function(z){return z.coordinate}),cx:N,cy:j,innerRadius:L,outerRadius:F,key:A.key||"polar-grid",radialLines:T})}),Ve(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,C=_.props,T=C.children,P=C.width,O=C.height,I=_.props.margin||{},R=P-(I.left||0)-(I.right||0),B=fse({children:T,formattedGraphicalItems:A,legendWidth:R,legendContent:c});if(!B)return null;var D=B.item,U=uq(B,SZe);return E.cloneElement(D,ae(ae({},U),{},{chartWidth:P,chartHeight:O,margin:I,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Ve(_,"renderTooltip",function(){var A,C=_.props,T=C.children,P=C.accessibilityLayer,O=ra(T,ia);if(!O)return null;var I=_.state,R=I.isTooltipActive,B=I.activeCoordinate,D=I.activePayload,U=I.activeLabel,N=I.offset,j=(A=O.props.active)!==null&&A!==void 0?A:R;return E.cloneElement(O,{viewBox:ae(ae({},N),{},{x:N.left,y:N.top}),active:j,label:U,payload:j?D:[],coordinate:B,accessibilityLayer:P})}),Ve(_,"renderBrush",function(A){var C=_.props,T=C.margin,P=C.data,O=_.state,I=O.offset,R=O.dataStartIndex,B=O.dataEndIndex,D=O.updateId;return E.cloneElement(A,{key:A.key||"_recharts-brush",onChange:LE(_.handleBrushChange,A.props.onChange),data:P,x:ve(A.props.x)?A.props.x:I.left,y:ve(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(T.bottom||0),width:ve(A.props.width)?A.props.width:I.width,startIndex:R,endIndex:B,updateId:"brush-".concat(D)})}),Ve(_,"renderReferenceElement",function(A,C,T){if(!A)return null;var P=_,O=P.clipPathId,I=_.state,R=I.xAxisMap,B=I.yAxisMap,D=I.offset,U=A.type.defaultProps||{},N=A.props,j=N.xAxisId,L=j===void 0?U.xAxisId:j,F=N.yAxisId,z=F===void 0?U.yAxisId:F;return E.cloneElement(A,{key:A.key||"".concat(C,"-").concat(T),xAxis:R[L],yAxis:B[z],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:O})}),Ve(_,"renderActivePoints",function(A){var C=A.item,T=A.activePoint,P=A.basePoint,O=A.childIndex,I=A.isRange,R=[],B=C.props.key,D=C.item.type.defaultProps!==void 0?ae(ae({},C.item.type.defaultProps),C.item.props):C.item.props,U=D.activeDot,N=D.dataKey,j=ae(ae({index:O,dataKey:N,cx:T.x,cy:T.y,r:4,fill:a5(C.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},qe(U,!1)),bP(U));return R.push(b.renderActiveDot(U,j,"".concat(B,"-activePoint-").concat(O))),P?R.push(b.renderActiveDot(U,ae(ae({},j),{},{cx:P.x,cy:P.y}),"".concat(B,"-basePoint-").concat(O))):I&&R.push(null),R}),Ve(_,"renderGraphicChild",function(A,C,T){var P=_.filterFormatItem(A,C,T);if(!P)return null;var O=_.getTooltipEventType(),I=_.state,R=I.isTooltipActive,B=I.tooltipAxis,D=I.activeTooltipIndex,U=I.activeLabel,N=_.props.children,j=ra(N,ia),L=P.props,F=L.points,z=L.isRange,K=L.baseLine,V=P.item.type.defaultProps!==void 0?ae(ae({},P.item.type.defaultProps),P.item.props):P.item.props,G=V.activeDot,X=V.hide,H=V.activeBar,Z=V.activeShape,J=!!(!X&&R&&j&&(G||H||Z)),ce={};O!=="axis"&&j&&j.props.trigger==="click"?ce={onClick:LE(_.handleItemMouseEnter,A.props.onClick)}:O!=="axis"&&(ce={onMouseLeave:LE(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:LE(_.handleItemMouseEnter,A.props.onMouseEnter)});var ee=E.cloneElement(A,ae(ae({},P.props),ce));function oe(Y){return typeof B.dataKey=="function"?B.dataKey(Y.payload):null}if(J)if(D>=0){var ue,te;if(B.dataKey&&!B.allowDuplicatedCategory){var De=typeof B.dataKey=="function"?oe:"payload.".concat(B.dataKey.toString());ue=WI(F,De,U),te=z&&K&&WI(K,De,U)}else ue=F==null?void 0:F[D],te=z&&K&&K[D];if(Z||H){var je=A.props.activeIndex!==void 0?A.props.activeIndex:D;return[E.cloneElement(A,ae(ae(ae({},P.props),ce),{},{activeIndex:je})),null,null]}if(!ht(ue))return[ee].concat(c0(_.renderActivePoints({item:P,activePoint:ue,basePoint:te,childIndex:D,isRange:z})))}else{var $e,He=($e=_.getItemByXY(_.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:ee},Ue=He.graphicalItem,tt=Ue.item,bt=tt===void 0?A:tt,er=Ue.childIndex,q=ae(ae(ae({},P.props),ce),{},{activeIndex:er});return[E.cloneElement(bt,q),null,null]}return z?[ee,null,null]:[ee,null]}),Ve(_,"renderCustomized",function(A,C,T){return E.cloneElement(A,ae(ae({key:"recharts-customized-".concat(T)},_.props),_.state))}),Ve(_,"renderMap",{CartesianGrid:{handler:zE,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:zE},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:zE},YAxis:{handler:zE},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:RA("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=fie(_.triggeredAfterMouseMove,(S=x.throttleDelay)!==null&&S!==void 0?S:1e3/60),_.state={},_}return MZe(b,y),jZe(b,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,_=w.data,A=w.height,C=w.layout,T=ra(S,ia);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,I=v$(this.state,_,P,O),R=this.state.tooltipTicks[P].coordinate,B=(this.state.offset.top+A)/2,D=C==="horizontal",U=D?{x:R,y:B}:{y:R,x:B},N=this.state.formattedGraphicalItems.find(function(L){var F=L.item;return F.type.name==="Scatter"});N&&(U=ae(ae({},U),N.props.points[P].tooltipPosition),I=N.props.points[P].tooltipPayload);var j={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:U};this.setState(j),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(w){qI([ra(w.children,ia)],[ra(this.props.children,ia)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ra(this.props.children,ia);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return o.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,_=S.getBoundingClientRect(),A=GVe(_),C={chartX:Math.round(w.pageX-A.left),chartY:Math.round(w.pageY-A.top)},T=_.width/S.offsetWidth||1,P=this.inRange(C.chartX,C.chartY,T);if(!P)return null;var O=this.state,I=O.xAxisMap,R=O.yAxisMap,B=this.getTooltipEventType(),D=hq(this.state,this.props.data,this.props.layout,P);if(B!=="axis"&&I&&R){var U=wd(I).scale,N=wd(R).scale,j=U&&U.invert?U.invert(C.chartX):null,L=N&&N.invert?N.invert(C.chartY):null;return ae(ae({},C),{},{xValue:j,yValue:L},D)}return D?ae(ae({},C),D):null}},{key:"inRange",value:function(w,S){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,C=w/_,T=S/_;if(A==="horizontal"||A==="vertical"){var P=this.state.offset,O=C>=P.left&&C<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return O?{x:C,y:T}:null}var I=this.state,R=I.angleAxisMap,B=I.radiusAxisMap;if(R&&B){var D=wd(R);return zW({x:C,y:T},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),_=ra(w,ia),A={};_&&S==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=bP(this.props,this.handleOuterEvent);return ae(ae({},C),A)}},{key:"addListener",value:function(){pR.on(mR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){pR.removeListener(mR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,_){for(var A=this.state.formattedGraphicalItems,C=0,T=A.length;C<T;C++){var P=A[C];if(P.item===w||P.props.key===w.key||S===Au(P.item.type)&&_===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,_=S.left,A=S.top,C=S.height,T=S.width;return W.createElement("defs",null,W.createElement("clipPath",{id:w},W.createElement("rect",{x:_,y:A,height:C,width:T})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,_){var A=cq(_,2),C=A[0],T=A[1];return ae(ae({},S),{},Ve({},C,T.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,_){var A=cq(_,2),C=A[0],T=A[1];return ae(ae({},S),{},Ve({},C,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,_=S.formattedGraphicalItems,A=S.activeItem;if(_&&_.length)for(var C=0,T=_.length;C<T;C++){var P=_[C],O=P.props,I=P.item,R=I.type.defaultProps!==void 0?ae(ae({},I.type.defaultProps),I.props):I.props,B=Au(I.type);if(B==="Bar"){var D=(O.data||[]).find(function(L){return N9e(w,L)});if(D)return{graphicalItem:P,payload:D}}else if(B==="RadialBar"){var U=(O.data||[]).find(function(L){return zW(w,L)});if(U)return{graphicalItem:P,payload:U}}else if(QO(P,A)||ZO(P,A)||K1(P,A)){var N=x7e({graphicalItem:P,activeTooltipItem:A,itemData:R.data}),j=R.activeIndex===void 0?N:R.activeIndex;return{graphicalItem:ae(ae({},P),{},{childIndex:j}),payload:K1(P,A)?R.data[N]:P.props.data[N]}}}return null}},{key:"render",value:function(){var w=this;if(!M8(this))return null;var S=this.props,_=S.children,A=S.className,C=S.width,T=S.height,P=S.style,O=S.compact,I=S.title,R=S.desc,B=uq(S,_Ze),D=qe(B,!1);if(O)return W.createElement(KG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(XI,fv({},D,{width:C,height:T,title:I,desc:R}),this.renderClipPath(),D8(_,this.renderMap)));if(this.props.accessibilityLayer){var U,N;D.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,D.role=(N=this.props.role)!==null&&N!==void 0?N:"application",D.onKeyDown=function(L){w.accessibilityManager.keyboardEvent(L)},D.onFocus=function(){w.accessibilityManager.focus()}}var j=this.parseEventsOfWrapper();return W.createElement(KG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",fv({className:ot("recharts-wrapper",A),style:ae({position:"relative",cursor:"default",width:C,height:T},P)},j,{ref:function(F){w.container=F}}),W.createElement(XI,fv({},D,{width:C,height:T,title:I,desc:R,style:BZe}),this.renderClipPath(),D8(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(E.Component);Ve(g,"displayName",r),Ve(g,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ve(g,"getDerivedStateFromProps",function(y,b){var x=y.dataKey,w=y.data,S=y.children,_=y.width,A=y.height,C=y.layout,T=y.stackOffset,P=y.margin,O=b.dataStartIndex,I=b.dataEndIndex;if(b.updateId===void 0){var R=fq(y);return ae(ae(ae({},R),{},{updateId:0},f(ae(ae({props:y},R),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:w,prevWidth:_,prevHeight:A,prevLayout:C,prevStackOffset:T,prevMargin:P,prevChildren:S})}if(x!==b.prevDataKey||w!==b.prevData||_!==b.prevWidth||A!==b.prevHeight||C!==b.prevLayout||T!==b.prevStackOffset||!Mv(P,b.prevMargin)){var B=fq(y),D={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},U=ae(ae({},hq(b,w,C)),{},{updateId:b.updateId+1}),N=ae(ae(ae({},B),D),U);return ae(ae(ae({},N),f(ae({props:y},N),b)),{},{prevDataKey:x,prevData:w,prevWidth:_,prevHeight:A,prevLayout:C,prevStackOffset:T,prevMargin:P,prevChildren:S})}if(!qI(S,b.prevChildren)){var j,L,F,z,K=ra(S,Zb),V=K&&(j=(L=K.props)===null||L===void 0?void 0:L.startIndex)!==null&&j!==void 0?j:O,G=K&&(F=(z=K.props)===null||z===void 0?void 0:z.endIndex)!==null&&F!==void 0?F:I,X=V!==O||G!==I,H=!ht(w),Z=H&&!X?b.updateId:b.updateId+1;return ae(ae({updateId:Z},f(ae(ae({props:y},b),{},{updateId:Z,dataStartIndex:V,dataEndIndex:G}),b)),{},{prevChildren:S,dataStartIndex:V,dataEndIndex:G})}return null}),Ve(g,"renderActiveDot",function(y,b,x){var w;return E.isValidElement(y)?w=E.cloneElement(y,b):Ke(y)?w=y(b):w=W.createElement(l5,b),W.createElement(zt,{className:"recharts-active-dot",key:x},w)});var v=E.forwardRef(function(b,x){return W.createElement(g,fv({},b,{ref:x}))});return v.displayName=g.displayName,v},y$=Iae({chartName:"BarChart",GraphicalChild:Vu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:s0},{axisType:"yAxis",AxisComp:o0}],formatAxisMap:ZXe}),YZe=Iae({chartName:"PieChart",GraphicalChild:Ju,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:YO},{axisType:"radiusAxis",AxisComp:KO}],formatAxisMap:VWe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),y5="Progress",b5=100,[QZe]=Iee(y5),[ZZe,JZe]=QZe(y5),Dae=E.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=eJe,...a}=t;(i||i===0)&&!mq(i)&&console.error(tJe(`${i}`,"Progress"));const o=mq(i)?i:b5;n!==null&&!gq(n,o)&&console.error(rJe(`${n}`,"Progress"));const l=gq(n,o)?n:null,c=xk(l)?s(l,o):void 0;return m.jsx(ZZe,{scope:r,value:l,max:o,children:m.jsx(is.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":xk(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Fae(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});Dae.displayName=y5;var $ae="ProgressIndicator",Lae=E.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=JZe($ae,r);return m.jsx(is.div,{"data-state":Fae(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});Lae.displayName=$ae;function eJe(t,e){return`${Math.round(t/e*100)}%`}function Fae(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function xk(t){return typeof t=="number"}function mq(t){return xk(t)&&!isNaN(t)&&t>0}function gq(t,e){return xk(t)&&!isNaN(t)&&t<=e&&t>=0}function tJe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${b5}\`.`}function rJe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${b5} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Bae=Dae,nJe=Lae;const u0=E.forwardRef(({className:t,value:e,...r},n)=>m.jsx(Bae,{ref:n,className:pe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:m.jsx(nJe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));u0.displayName=Bae.displayName;const b$=(t=new Date)=>{const e=new Date(t);e.setHours(0,0,0,0);const r=new Date(e);return r.setDate(r.getDate()+1),{start:e,endExclusive:r}},iJe=(t,e=new Date)=>{if(t==="day")return b$(e).start;const r=new Date(e);return t==="week"?r.setDate(r.getDate()-6):t==="month"?r.setDate(r.getDate()-29):(r.setMonth(r.getMonth()-11),r.setDate(1)),r.setHours(0,0,0,0),r},_g=t=>new Date(t).toLocaleDateString("en-CA"),gx=(t,e)=>{const r=new Date(t);return r>=e.start&&r<e.endExclusive},HE=["hsl(265, 85%, 75%)","hsl(265, 53%, 64%)","hsl(195, 85%, 60%)","hsl(122, 39%, 49%)","hsl(45, 100%, 51%)"],vR=t=>t.pages??Math.floor(t.duration_minutes/5)*2,yR=t=>t.exercises??Math.floor(t.duration_minutes/10);function sJe(t,e="week",r){const[n,i]=E.useState({totalStudyTime:0,totalPages:0,totalExercises:0,studyStreak:0,weeklyData:[],subjectData:[],goalsProgress:[]}),[s,a]=E.useState(!0),{user:o}=It(),l=E.useRef(null),c=t??r,u=E.useCallback((b,x,w)=>{const S=new Date;if(w==="year"){const T=[];for(let P=11;P>=0;P--){const O=new Date(S.getFullYear(),S.getMonth()-P,1),I=`${O.getFullYear()}-${String(O.getMonth()+1).padStart(2,"0")}`,R=b.filter(j=>{const L=new Date(j.started_at);return`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}`===I}),B=x.filter(j=>{const L=new Date(j.created_at);return`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}`===I}),D=R.reduce((j,L)=>j+L.duration_minutes,0)+B.filter(j=>j.metric==="time").reduce((j,L)=>j+L.delta,0),U=R.reduce((j,L)=>j+vR(L),0)+B.filter(j=>j.metric==="pages").reduce((j,L)=>j+L.delta,0),N=R.reduce((j,L)=>j+yR(L),0)+B.filter(j=>j.metric==="exercises").reduce((j,L)=>j+L.delta,0);T.push({name:O.toLocaleDateString("pt-BR",{month:"short"}),time:D,pages:U,exercises:N,date:I})}return T}const _=w==="month"?30:7,A=["dom","seg","ter","qua","qui","sex","sb"],C=[];for(let T=_-1;T>=0;T--){const P=new Date;P.setDate(P.getDate()-T);const O=_g(P),I=b.filter(N=>{const j=N.completed_at??N.started_at;return _g(j)===O}),R=x.filter(N=>_g(N.created_at)===O),B=I.reduce((N,j)=>N+j.duration_minutes,0)+R.filter(N=>N.metric==="time").reduce((N,j)=>N+j.delta,0),D=I.reduce((N,j)=>N+vR(j),0)+R.filter(N=>N.metric==="pages").reduce((N,j)=>N+j.delta,0),U=I.reduce((N,j)=>N+yR(j),0)+R.filter(N=>N.metric==="exercises").reduce((N,j)=>N+j.delta,0);C.push({name:w==="week"?A[P.getDay()]:P.toLocaleDateString("pt-BR",{day:"2-digit"}),time:B,pages:D,exercises:U,date:O})}return C},[]),d=E.useCallback(async b=>{const x={};b.forEach(A=>{var T;const C=((T=A.subjects)==null?void 0:T.name)||"Outros";x[C]=(x[C]||0)+A.duration_minutes});const w=Object.values(x).reduce((A,C)=>A+C,0);if(w===0)return[];const S=Object.entries(x).map(([A,C],T)=>({name:A,value:Math.round(C/w*100),color:HE[T%HE.length]})).sort((A,C)=>C.value-A.value),_=S.reduce((A,C)=>A+C.value,0);return _>0&&_!==100&&S.length>0&&(S[0].value+=100-_),S},[]),h=E.useCallback(async b=>{const{data:x}=await ne.from("goals").select(`
        id,
        type,
        current,
        target,
        subjects:subject_id (
          name
        )
      `).eq("group_id",b);return(x||[]).map(w=>{var S;return{id:w.id,type:w.type,subject:((S=w.subjects)==null?void 0:S.name)||"Geral",current:w.current,target:w.target,progress:w.target>0?Math.round(w.current/w.target*100):0}})},[]),f=E.useCallback(async b=>{if(!o)return[];const x=b$();let w=ne.from("study_sessions").select(`
        id,
        started_at,
        completed_at,
        duration_minutes,
        subjects:subject_id (
          id,
          name
        )
      `).eq("user_id",o.id).not("completed_at","is",null).order("started_at",{ascending:!0});b&&(w=w.eq("group_id",b));const{data:S}=await w;return(S||[]).filter(A=>{const C=gx(A.started_at,x),T=A.completed_at?gx(A.completed_at,x):!1;return C||T}).map((A,C)=>{var T;return{id:A.id,startTime:new Date(A.started_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),endTime:A.completed_at?new Date(A.completed_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"-",duration:A.duration_minutes,subject:((T=A.subjects)==null?void 0:T.name)||"Sem matria",subjectColor:HE[C%HE.length]}})},[o]),g=E.useCallback(async b=>{if(!o)return 0;let x=ne.from("study_sessions").select("started_at").eq("user_id",o.id).not("completed_at","is",null).order("started_at",{ascending:!1});b&&(x=x.eq("group_id",b));const{data:w}=await x;if(!w||w.length===0)return 0;let S=0;const _=new Date;_.setHours(0,0,0,0);const A=new Set(w.map(C=>_g(C.started_at)));for(A.has(_g(_))||_.setDate(_.getDate()-1);A.has(_g(_));)S++,_.setDate(_.getDate()-1);return S},[o]),v=E.useCallback(async()=>{if(o)try{a(!0);const b=iJe(e),x=b$();let w=ne.from("study_sessions").select(`
          *,
          subjects:subject_id (
            id,
            name
          )
        `).eq("user_id",o.id).gte("started_at",b.toISOString()).not("completed_at","is",null);t&&(w=w.eq("group_id",t));const{data:S}=await w,_=S||[],A=e==="day"?_.filter(H=>{const Z=gx(H.started_at,x),J=H.completed_at?gx(H.completed_at,x):!1;return Z||J}):_;let C=ne.from("goal_progress_events").select("*").gte("created_at",b.toISOString());t?C=C.eq("group_id",t):C=C.eq("user_id",o.id);const{data:T}=await C,P=T||[],O=e==="day"?P.filter(H=>gx(H.created_at,x)):P,I=O.filter(H=>H.metric==="time").reduce((H,Z)=>H+Z.delta,0),R=O.filter(H=>H.metric==="pages").reduce((H,Z)=>H+Z.delta,0),B=O.filter(H=>H.metric==="exercises").reduce((H,Z)=>H+Z.delta,0),D=A.reduce((H,Z)=>H+Z.duration_minutes,0),U=A.reduce((H,Z)=>H+vR(Z),0),N=A.reduce((H,Z)=>H+yR(Z),0),j=u(A,O,e),L=D+I,F=U+R,z=N+B,K=await g(t),V=await d(A),G=c?await h(c):[],X=e==="day"?await f(t):[];i({totalStudyTime:L,totalPages:F,totalExercises:z,studyStreak:K,weeklyData:j,subjectData:V,goalsProgress:G,dailySessions:X})}catch(b){console.error("Error fetching progress data:",b)}finally{a(!1)}},[o,t,c,e,u,g,d,h,f]),y=E.useCallback(()=>{l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{v()},300)},[v]);return E.useEffect(()=>{o&&v()},[v,o]),E.useEffect(()=>{if(!o)return;const b=`progress_realtime:${o.id}:${t||c||"all"}`,x=ne.channel(b);return x.on("postgres_changes",{event:"*",schema:"public",table:"study_sessions",filter:`user_id=eq.${o.id}`},y),x.on("postgres_changes",{event:"*",schema:"public",table:"goal_progress_events",filter:t?`group_id=eq.${t}`:`user_id=eq.${o.id}`},y),c&&(x.on("postgres_changes",{event:"*",schema:"public",table:"goals",filter:`group_id=eq.${c}`},y),x.on("postgres_changes",{event:"*",schema:"public",table:"user_points",filter:`group_id=eq.${c}`},y)),x.subscribe(),()=>{l.current&&(clearTimeout(l.current),l.current=null),ne.removeChannel(x)}},[o,t,c,y]),{stats:n,loading:s,refreshData:v}}const vq=()=>{const[t,e]=E.useState("week"),[r,n]=E.useState("individual"),[i,s]=E.useState(!1),[a,o]=E.useState(void 0),{t:l}=Wt(),{user:c}=It(),u=fY(),d=u==null?void 0:u.groupId,{toast:h}=R7();E.useEffect(()=>{let x=!0;return(async()=>{if(d){x&&o(d),localStorage.setItem("activeGroupId",d);return}const S=localStorage.getItem("activeGroupId");if(S){x&&o(S);return}if(!c){x&&o(void 0);return}const{data:_}=await ne.from("group_members").select("group_id").eq("user_id",c.id).order("joined_at",{ascending:!0}).limit(1).maybeSingle(),A=_==null?void 0:_.group_id;A&&localStorage.setItem("activeGroupId",A),x&&o(A||void 0)})(),()=>{x=!1}},[d,c]);const f=a,{stats:g,loading:v,refreshData:y}=sJe(r==="group"?f:void 0,t,f);E.useEffect(()=>{y();const x=()=>{y()};return window.addEventListener("focus",x),()=>window.removeEventListener("focus",x)},[y,r,f]);const b=async()=>{s(!0);try{await y(),h({title:"Atualizado",description:"Progresso atualizado com sucesso"})}catch{h({title:"Erro",description:"No foi possvel atualizar os dados",variant:"destructive"})}finally{s(!1)}};return v?m.jsx(Lr,{children:m.jsxs("div",{className:"animate-pulse space-y-4",children:[m.jsx("div",{className:"h-8 bg-muted rounded w-48"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:[...Array(4)].map((x,w)=>m.jsx(mt,{children:m.jsx(Et,{className:"p-3",children:m.jsx("div",{className:"h-16 bg-muted rounded"})})},w))})]})}):m.jsx(Lr,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(oB,{className:"h-6 w-6 text-primary"}),m.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:l("progress.title")})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(ge,{variant:"outline",size:"icon",onClick:b,disabled:i,className:"h-9 w-9",children:m.jsx(dX,{className:`h-4 w-4 ${i?"animate-spin":""}`})}),m.jsx($u,{value:r,onValueChange:x=>n(x),className:"w-auto",children:m.jsxs(uc,{className:"grid grid-cols-2 h-9",children:[m.jsxs(Vt,{value:"individual",className:"text-xs flex items-center gap-1",children:[m.jsx(v0,{className:"h-3 w-3"}),"Individual"]}),f&&m.jsxs(Vt,{value:"group",className:"text-xs flex items-center gap-1",children:[m.jsx(kx,{className:"h-3 w-3"}),"Grupo"]})]})}),m.jsx($u,{value:t,onValueChange:e,className:"w-auto",children:m.jsxs(uc,{className:"grid grid-cols-4 h-9",children:[m.jsx(Vt,{value:"day",className:"text-xs",children:"Dia"}),m.jsx(Vt,{value:"week",className:"text-xs",children:l("leaderboard.week")}),m.jsx(Vt,{value:"month",className:"text-xs",children:l("leaderboard.month")}),m.jsx(Vt,{value:"year",className:"text-xs",children:"Ano"})]})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsx(mt,{className:"border-l-4 border-l-primary bg-gradient-to-br from-background to-background/50",children:m.jsx(Et,{className:"p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:l("progress.pagesRead")}),m.jsx("div",{className:"text-2xl font-bold text-primary",children:g.totalPages})]}),m.jsx(Pm,{className:"h-8 w-8 text-primary opacity-80"})]})})}),m.jsx(mt,{className:"border-l-4 border-l-secondary bg-gradient-to-br from-background to-background/50",children:m.jsx(Et,{className:"p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:l("progress.studyTime")}),m.jsxs("div",{className:"text-2xl font-bold text-secondary",children:[g.totalStudyTime," min"]})]}),m.jsx(ym,{className:"h-8 w-8 text-secondary opacity-80"})]})})}),m.jsx(mt,{className:"border-l-4 border-l-accent bg-gradient-to-br from-background to-background/50",children:m.jsx(Et,{className:"p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:l("progress.exercises")}),m.jsx("div",{className:"text-2xl font-bold text-accent",children:g.totalExercises})]}),m.jsx(kx,{className:"h-8 w-8 text-accent opacity-80"})]})})}),m.jsx(mt,{className:"border-l-4 border-l-destructive bg-gradient-to-br from-background to-background/50",children:m.jsx(Et,{className:"p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:l("progress.studyStreak")}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-2xl font-bold text-destructive",children:g.studyStreak}),m.jsx(EM,{className:"h-5 w-5 text-destructive"})]})]}),m.jsx(tB,{className:"h-8 w-8 text-destructive opacity-80"})]})})})]}),g.goalsProgress.length>0&&m.jsxs(mt,{className:"bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:[m.jsx(Gn,{children:m.jsxs(qn,{className:"flex items-center gap-2",children:[m.jsx(kx,{className:"h-5 w-5 text-primary"}),r==="group"?"Progresso das Metas do Grupo":"Meu Progresso nas Metas do Grupo"]})}),m.jsx(Et,{className:"space-y-4",children:g.goalsProgress.map(x=>m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("span",{className:"font-medium",children:x.subject}),m.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",x.type==="time"?"Tempo":x.type==="pages"?"Pginas":"Exerccios",")"]})]}),m.jsxs("span",{className:"text-sm font-medium",children:[x.current,"/",x.target]})]}),m.jsx(u0,{value:x.progress,className:"h-2"}),m.jsx("div",{className:"text-right",children:m.jsxs(Mr,{variant:"outline",className:"text-[10px] h-5",children:[x.progress,"% concludo"]})})]},x.id))})]}),t==="day"&&g.dailySessions&&m.jsxs(mt,{children:[m.jsx(Gn,{children:m.jsxs(qn,{className:"flex items-center gap-2",children:[m.jsx(EM,{className:"h-5 w-5 text-primary"}),"Sesses de Estudo de Hoje"]})}),m.jsx(Et,{children:g.dailySessions.length>0?m.jsxs("div",{className:"space-y-3",children:[g.dailySessions.map(x=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border bg-card hover:bg-accent/50 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x.subjectColor}}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-sm",children:x.subject}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.startTime," - ",x.endTime]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-semibold text-primary",children:[x.duration," min"]}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.floor(x.duration/5)*2," pginas"]})]})]},x.id)),m.jsx("div",{className:"mt-4 p-4 rounded-lg bg-primary/10 border border-primary/20",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"font-medium",children:"Total de Hoje"}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-primary",children:[g.totalStudyTime," min"]}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.totalPages," pginas  ",g.totalExercises," exerccios"]}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.dailySessions.length," ",g.dailySessions.length===1?"sesso":"sesses"]})]})]})})]}):m.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[m.jsx(ym,{className:"mx-auto h-12 w-12 opacity-50 mb-3"}),m.jsx("p",{className:"text-sm",children:"Nenhuma sesso de estudo registrada hoje"}),m.jsx("p",{className:"text-xs mt-1",children:"Inicie uma sesso no Timer para comear!"})]})})]}),t!=="day"&&m.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[m.jsxs(mt,{className:"bg-gradient-to-br from-card to-card/50 border-border/50 shadow-lg",children:[m.jsx(Gn,{className:"pb-3",children:m.jsxs(qn,{className:"text-lg flex items-center gap-2",children:[m.jsx(ym,{className:"h-5 w-5 text-primary"}),l("progress.studyTimeByDay")]})}),m.jsx(Et,{children:m.jsx("div",{className:"h-64",children:m.jsx(PC,{width:"100%",height:"100%",children:m.jsxs(y$,{data:g.weeklyData,margin:{top:10,right:10,left:-20,bottom:0},children:[m.jsx(gk,{strokeDasharray:"3 3",vertical:!1,className:"opacity-30"}),m.jsx(s0,{dataKey:"name",fontSize:12,tick:{fill:"hsl(var(--muted-foreground))"}}),m.jsx(o0,{tickFormatter:x=>`${x}m`,fontSize:12,tick:{fill:"hsl(var(--muted-foreground))"}}),m.jsx(ia,{formatter:x=>[`${x} minutos`,l("progress.studyTime")],labelFormatter:x=>`${x}`,contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),m.jsx(Vu,{dataKey:"time",fill:"hsl(var(--primary))",radius:[4,4,0,0],className:"hover:opacity-80 transition-opacity"})]})})})})]}),m.jsxs(mt,{className:"bg-gradient-to-br from-card to-card/50 border-border/50 shadow-lg",children:[m.jsx(Gn,{className:"pb-3",children:m.jsxs(qn,{className:"text-lg flex items-center gap-2",children:[m.jsx(Pm,{className:"h-5 w-5 text-secondary"}),l("progress.pagesReadByDay")]})}),m.jsx(Et,{children:m.jsx("div",{className:"h-64",children:m.jsx(PC,{width:"100%",height:"100%",children:m.jsxs(y$,{data:g.weeklyData,margin:{top:10,right:10,left:-20,bottom:0},children:[m.jsx(gk,{strokeDasharray:"3 3",vertical:!1,className:"opacity-30"}),m.jsx(s0,{dataKey:"name",fontSize:12,tick:{fill:"hsl(var(--muted-foreground))"}}),m.jsx(o0,{fontSize:12,tick:{fill:"hsl(var(--muted-foreground))"}}),m.jsx(ia,{formatter:x=>[`${x} pginas`,l("progress.pagesRead")],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),m.jsx(Vu,{dataKey:"pages",fill:"hsl(var(--secondary))",radius:[4,4,0,0],className:"hover:opacity-80 transition-opacity"})]})})})})]})]}),g.subjectData.length>0&&m.jsxs(mt,{className:"bg-gradient-to-br from-card to-card/50 border-border/50 shadow-lg",children:[m.jsx(Gn,{className:"pb-3",children:m.jsxs(qn,{className:"text-lg flex items-center gap-2",children:[m.jsx(kx,{className:"h-5 w-5 text-accent"}),l("progress.studyBySubject")]})}),m.jsx(Et,{children:m.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 items-center",children:[m.jsx("div",{className:"h-64 flex items-center justify-center",children:m.jsx(PC,{width:"100%",height:200,children:m.jsxs(YZe,{children:[m.jsx(Ju,{data:g.subjectData,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:x,percent:w})=>`${x} ${(w*100).toFixed(0)}%`,className:"hover:opacity-80 transition-opacity",children:g.subjectData.map((x,w)=>m.jsx(RO,{fill:x.color},`cell-${w}`))}),m.jsx(ia,{formatter:x=>[`${x}%`,"Percentagem"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})}),m.jsx("div",{className:"space-y-3",children:g.subjectData.map((x,w)=>m.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x.color}}),m.jsx("span",{className:"font-medium",children:x.name})]}),m.jsxs(Mr,{variant:"secondary",className:"font-bold",style:{backgroundColor:`${x.color}20`,color:x.color,borderColor:x.color},children:[x.value,"%"]})]},x.name))})]})})]})]})})},Uae=E.forwardRef(({className:t,...e},r)=>m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsx("table",{ref:r,className:pe("w-full caption-bottom text-sm",t),...e})}));Uae.displayName="Table";const Vae=E.forwardRef(({className:t,...e},r)=>m.jsx("thead",{ref:r,className:pe("[&_tr]:border-b",t),...e}));Vae.displayName="TableHeader";const zae=E.forwardRef(({className:t,...e},r)=>m.jsx("tbody",{ref:r,className:pe("[&_tr:last-child]:border-0",t),...e}));zae.displayName="TableBody";const aJe=E.forwardRef(({className:t,...e},r)=>m.jsx("tfoot",{ref:r,className:pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));aJe.displayName="TableFooter";const x$=E.forwardRef(({className:t,...e},r)=>m.jsx("tr",{ref:r,className:pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));x$.displayName="TableRow";const Dx=E.forwardRef(({className:t,...e},r)=>m.jsx("th",{ref:r,className:pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Dx.displayName="TableHead";const $x=E.forwardRef(({className:t,...e},r)=>m.jsx("td",{ref:r,className:pe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));$x.displayName="TableCell";const oJe=E.forwardRef(({className:t,...e},r)=>m.jsx("caption",{ref:r,className:pe("mt-4 text-sm text-muted-foreground",t),...e}));oJe.displayName="TableCaption";const yq=1,lJe=()=>{const{t}=Wt(),{user:e}=It(),{seconds:r,isRunning:n,selectedSubject:i,selectedGroup:s,setIsRunning:a,setSelectedSubject:o,setSelectedGroup:l,resetTimer:c}=SY(),{studySessions:u,subjects:d,groups:h,loading:f,createStudySession:g,getSubjectsByGroup:v}=Nte(),y=C=>{const T=Math.floor(C/3600),P=Math.floor(C%3600/60),O=C%60;return`${T.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`},b=C=>{const T=C/60;return Math.floor(T*yq)},x=()=>{if(!i||!s){de.error("Por favor, selecione uma matria e um grupo antes de iniciar");return}a(!0),de.success("Cronmetro iniciado")},w=()=>{a(!1),de.info("Cronmetro pausado")},S=()=>{n?de.error("Pause o cronmetro antes de reiniciar"):(c(),de.info("Cronmetro reiniciado"))},_=async()=>{if(r<60){de.error("Estude por pelo menos 1 minuto para registrar a sesso");return}a(!1);const C=await g(i,r,s);C.success?(de.success(`Sesso de estudo concluda! Voc ganhou ${C.points} pontos!`),c()):de.error(C.error||"Erro ao salvar sesso de estudo")},A=s?v(s):d;return f?m.jsx(Lr,{children:m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-study-primary mx-auto mb-2"}),m.jsx("p",{className:"text-gray-500",children:"Carregando..."})]})})}):m.jsxs(Lr,{children:[m.jsx("h1",{className:"text-2xl font-bold mb-6",children:t("timer.title")}),m.jsxs("div",{className:"flex flex-col gap-6",children:[m.jsxs(mt,{children:[m.jsx(Gn,{className:"pb-2",children:m.jsxs(qn,{className:"flex justify-between",children:[m.jsx("span",{children:t("timer.timeElapsed")}),m.jsxs("span",{children:[b(r)," ",t("timer.points")]})]})}),m.jsxs(Et,{children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"text-5xl font-bold mb-4",children:y(r)}),m.jsxs("p",{className:"text-sm text-gray-500",children:[yq," ",t("timer.pointsPerMinute")]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:t("timer.selectGroup")}),m.jsxs($m,{value:s,onValueChange:C=>{l(C),o("")},disabled:n,children:[m.jsx(Zh,{className:"w-full",children:m.jsx(Lm,{placeholder:t("timer.selectGroup")})}),m.jsx(Jh,{children:h.map(C=>m.jsx(Yo,{value:C.id,children:C.name},C.id))})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:t("timer.selectSubject")}),m.jsxs($m,{value:i,onValueChange:o,disabled:n||!s,children:[m.jsx(Zh,{className:"w-full",children:m.jsx(Lm,{placeholder:t("timer.selectSubject")})}),m.jsxs(Jh,{children:[m.jsx(Yo,{value:"general",children:"Estudo Geral"}),A.map(C=>m.jsx(Yo,{value:C.id,children:C.name},C.id))]})]})]})]}),m.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[n?m.jsxs(ge,{onClick:w,className:"bg-amber-500 hover:bg-amber-600 flex items-center gap-2",children:[m.jsx(Gfe,{size:18}),t("timer.pause")]}):m.jsxs(ge,{onClick:x,className:"bg-green-500 hover:bg-green-600 flex items-center gap-2",children:[m.jsx(qfe,{size:18}),t(r===0?"timer.start":"timer.resume")]}),m.jsxs(ge,{onClick:_,className:"bg-red-500 hover:bg-red-600 flex items-center gap-2",disabled:r===0,children:[m.jsx(Ife,{size:18}),t("timer.stop")]}),m.jsxs(ge,{variant:"outline",onClick:S,disabled:r===0||n,children:[m.jsx(Kfe,{size:18}),m.jsx("span",{className:"sr-only",children:t("timer.reset")})]})]})]})]}),m.jsxs(mt,{children:[m.jsx(Gn,{className:"pb-2",children:m.jsx(qn,{children:t("timer.history")})}),m.jsx(Et,{children:u.length>0?m.jsx(u4,{className:"h-60",children:m.jsxs(Uae,{children:[m.jsx(Vae,{children:m.jsxs(x$,{children:[m.jsx(Dx,{children:t("timer.subject")}),m.jsx(Dx,{children:t("timer.duration")}),m.jsx(Dx,{children:t("timer.points")}),m.jsx(Dx,{children:t("timer.date")})]})}),m.jsx(zae,{children:u.map(C=>{const T=Math.floor(C.duration_minutes/60),P=C.duration_minutes%60;return m.jsxs(x$,{children:[m.jsx($x,{children:C.subject_name}),m.jsxs($x,{children:[T>0&&`${T}h `,P,"m"]}),m.jsx($x,{children:C.points}),m.jsx($x,{children:C.started_at.toLocaleDateString()})]},C.id)})})]})}):m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx(ym,{className:"mx-auto h-12 w-12 opacity-50 mb-2"}),m.jsx("p",{children:t("timer.noSessions")})]})})]})]})]})};function cJe(){const[t,e]=E.useState({todayIntake:0,dailyGoal:2500,weeklyData:[]}),[r,n]=E.useState(!0),{user:i}=It(),s=E.useCallback(async()=>{if(i)try{n(!0);const c=new Date().toISOString().split("T")[0],{data:u}=await ne.from("profiles").select("water_goal_ml").eq("id",i.id).single(),d=(u==null?void 0:u.water_goal_ml)||2500,{data:h}=await ne.from("water_intake").select("amount_ml").eq("user_id",i.id).eq("date",c),f=(h==null?void 0:h.reduce((y,b)=>y+b.amount_ml,0))||0,g=[],v=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];for(let y=6;y>=0;y--){const b=new Date;b.setDate(b.getDate()-y);const x=b.toISOString().split("T")[0],w=v[b.getDay()],{data:S}=await ne.from("water_intake").select("amount_ml").eq("user_id",i.id).eq("date",x),_=(S==null?void 0:S.reduce((A,C)=>A+C.amount_ml,0))||0;g.push({name:w,intake:_})}e({todayIntake:f,dailyGoal:d,weeklyData:g})}catch(c){console.error("Error fetching water data:",c)}finally{n(!1)}},[i]);return E.useEffect(()=>{if(!i)return;s();const c=ne.channel("water_realtime").on("postgres_changes",{event:"*",schema:"public",table:"water_intake",filter:`user_id=eq.${i.id}`},()=>{console.log(" Consumo de gua atualizado"),s()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${i.id}`},u=>{u.new&&u.new.water_goal_ml&&(console.log(" Meta de gua atualizada"),e(d=>({...d,dailyGoal:u.new.water_goal_ml})))}).subscribe();return()=>{ne.removeChannel(c)}},[s,i]),{waterStats:t,loading:r,addWaterIntake:async c=>{if(i)try{const u=new Date().toISOString().split("T")[0],{error:d}=await ne.from("water_intake").insert({user_id:i.id,amount_ml:c,date:u});if(d)throw d;e(h=>({...h,todayIntake:h.todayIntake+c})),de.success(`+${c}ml de gua adicionado!`),t.todayIntake+c>=t.dailyGoal&&de.success(" Meta diria de hidratao atingida!",{duration:5e3})}catch(u){console.error("Error adding water intake:",u),de.error("Erro ao registrar consumo de gua")}},removeWaterIntake:async c=>{if(i)try{const u=new Date().toISOString().split("T")[0],{data:d}=await ne.from("water_intake").select("id, amount_ml").eq("user_id",i.id).eq("date",u).order("consumed_at",{ascending:!1}).limit(1);if(d&&d.length>0){const{error:h}=await ne.from("water_intake").delete().eq("id",d[0].id);if(h)throw h;e(f=>({...f,todayIntake:Math.max(f.todayIntake-d[0].amount_ml,0)})),de.success(`-${d[0].amount_ml}ml removido`)}}catch(u){console.error("Error removing water intake:",u),de.error("Erro ao remover consumo de gua")}},updateWaterGoal:async c=>{if(i)try{const{error:u}=await ne.from("profiles").update({water_goal_ml:c}).eq("id",i.id);if(u)throw u;e(d=>({...d,dailyGoal:c})),de.success("Meta de gua atualizada!")}catch(u){console.error("Error updating water goal:",u),de.error("Erro ao atualizar meta de gua")}},refreshData:s}}const uJe=()=>{const{t}=Wt(),{waterStats:e,loading:r,addWaterIntake:n,removeWaterIntake:i,updateWaterGoal:s}=cJe(),[a,o]=E.useState("ml"),[l,c]=E.useState(!1),[u,d]=E.useState(""),h=()=>{const x=parseInt(u);x>=500&&x<=5e3&&(s(x),c(!1),d(""))},f=[{label:" Sedentrio",value:2e3},{label:" Moderado",value:2500},{label:" Ativo",value:3e3},{label:" Muito ativo",value:3500}],g=a==="ml"?e.todayIntake:(e.todayIntake/1e3).toFixed(1),v=a==="ml"?e.dailyGoal:(e.dailyGoal/1e3).toFixed(1),y=e.todayIntake/e.dailyGoal*100,b=e.weeklyData.map(x=>({name:x.name,intake:a==="ml"?x.intake:x.intake/1e3}));return r?m.jsx(Lr,{children:m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:t("water.title")}),m.jsxs(mt,{className:"overflow-hidden mb-6",children:[m.jsx("div",{className:"relative bg-gradient-to-br from-blue-400 to-blue-600 p-6 text-white",children:m.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[m.jsx(Ut,{className:"h-16 w-32 mb-4 bg-white/20"}),m.jsx(Ut,{className:"h-3 w-52 bg-white/20"})]})}),m.jsxs(Et,{className:"p-4",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx(Ut,{className:"h-8 w-40"})}),m.jsxs("div",{className:"flex justify-center gap-3 mb-2",children:[m.jsx(Ut,{className:"h-14 w-14 rounded-full"}),m.jsx(Ut,{className:"h-14 w-14 rounded-full"}),m.jsx(Ut,{className:"h-14 w-14 rounded-full"})]}),m.jsx("div",{className:"flex justify-center",children:m.jsx(Ut,{className:"h-10 w-32"})})]})]})]})}):m.jsx(Lr,{children:m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:t("water.title")}),m.jsxs(mt,{className:"overflow-hidden mb-6",children:[m.jsxs("div",{className:"relative bg-gradient-to-br from-blue-400 to-blue-600 p-6 text-white",children:[m.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYzMCIgc3Ryb2tlLXdpZHRoPSIyIiBkPSJNMCwzMCBDNjAsMzAgOTAsMCA5MCwwIFMxMjAsMzAgMTgwLDMwIEMxODAsMzAgMjEwLDAgMjEwLDAgUzI0MCwzMCAzMDAsMzAgTDMwMCwxMDAgTDAsMTAwIFoiPjwvcGF0aD4KPC9zdmc+Cg==')] opacity-20"}),m.jsx("div",{className:"absolute top-2 right-2 z-20",children:m.jsxs(va,{open:l,onOpenChange:c,children:[m.jsx(Rm,{asChild:!0,children:m.jsx(ge,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:m.jsx(sB,{className:"w-4 h-4"})})}),m.jsxs(Cs,{className:"sm:max-w-[425px]",children:[m.jsxs(Ts,{children:[m.jsx(Ps,{children:"Ajustar Meta Diria de gua"}),m.jsx(tg,{children:"Escolha uma meta pr-definida ou defina uma personalizada (500ml - 5000ml)"})]}),m.jsxs("div",{className:"space-y-4 py-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{children:"Sugestes baseadas em atividade:"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(x=>m.jsxs(ge,{variant:"outline",onClick:()=>{s(x.value),c(!1)},className:"h-auto py-3 flex flex-col items-center text-xs",children:[m.jsx("span",{children:x.label}),m.jsxs("span",{className:"font-bold",children:[x.value,"ml"]})]},x.value))})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{htmlFor:"custom-goal",children:"Meta personalizada (ml):"}),m.jsx(Cr,{id:"custom-goal",type:"number",min:"500",max:"5000",step:"100",placeholder:"2500",value:u,onChange:x=>d(x.target.value)})]})]}),m.jsx(j0,{children:m.jsx(ge,{onClick:h,disabled:!u||parseInt(u)<500||parseInt(u)>5e3,children:"Salvar Meta"})})]})]})}),m.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[m.jsxs("div",{className:"mb-2 text-center",children:[m.jsx("div",{className:"text-xs text-blue-100",children:t("water.todaysIntake")}),m.jsxs("div",{className:"text-3xl font-bold",children:[g," ",a]}),m.jsxs("div",{className:"text-xs text-blue-100",children:[t("water.goal"),": ",v," ",a]})]}),m.jsx(u0,{value:y,className:"h-3 bg-blue-300/50 w-full max-w-52"})]})]}),m.jsxs(Et,{className:"p-4",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx($u,{onValueChange:o,value:a,className:"w-40",children:m.jsxs(uc,{className:"grid grid-cols-3 h-8",children:[m.jsx(Vt,{value:"ml",className:"text-xs",children:"ml"}),m.jsx(Vt,{value:"L",className:"text-xs",children:"L"}),m.jsx(Vt,{value:"cup",className:"text-xs",children:"Copo"})]})})}),m.jsxs("div",{className:"flex justify-center gap-3 mb-2",children:[m.jsxs(ge,{variant:"outline",size:"sm",className:"h-14 w-14 rounded-full flex flex-col items-center justify-center",onClick:()=>n(250),children:[m.jsx(IT,{size:18,className:"text-blue-500 mb-1"}),m.jsx("span",{className:"text-xs",children:"+1 Copo"})]}),m.jsxs(ge,{variant:"outline",size:"sm",className:"h-14 w-14 rounded-full flex flex-col items-center justify-center",onClick:()=>n(500),children:[m.jsx(IT,{size:18,className:"text-blue-500 mb-1"}),m.jsx("span",{className:"text-xs",children:"+500ml"})]}),m.jsxs(ge,{variant:"outline",size:"sm",className:"h-14 w-14 rounded-full flex flex-col items-center justify-center",onClick:()=>i(250),children:[m.jsx(Hfe,{size:18,className:"text-red-500 mb-1"}),m.jsx("span",{className:"text-xs",children:"-250ml"})]})]}),m.jsx("div",{className:"flex justify-center",children:m.jsxs(ge,{className:"bg-blue-500 hover:bg-blue-600",onClick:()=>n(250),children:[m.jsx(Tb,{size:18,className:"mr-1"})," ",t("water.addWater")]})})]})]}),m.jsxs(mt,{children:[m.jsx(Gn,{className:"pb-2",children:m.jsx(qn,{className:"text-base",children:t("water.weeklyIntake")})}),m.jsx(Et,{children:m.jsx("div",{className:"h-64",children:m.jsx(PC,{width:"100%",height:"100%",children:m.jsxs(y$,{data:b,margin:{top:20,right:10,left:-18,bottom:0},children:[m.jsx(gk,{strokeDasharray:"3 3",vertical:!1}),m.jsx(s0,{dataKey:"name"}),m.jsx(o0,{tickFormatter:x=>`${x}${a}`}),m.jsx(ia,{formatter:x=>[`${x} ${a}`,"Consumo"],labelFormatter:x=>`${x}`}),m.jsx(Vu,{dataKey:"intake",fill:"#33C3F0",radius:[4,4,0,0]})]})})})})]})]})})};function dJe(t="week"){const[e,r]=E.useState([]),[n,i]=E.useState([]),[s,a]=E.useState(!0),{user:o}=It(),l=E.useCallback(async()=>{var c;if(o)try{a(!0);const{data:u}=await ne.from("group_members").select(`
          groups:group_id (
            id,
            name
          )
        `).eq("user_id",o.id),d=(u==null?void 0:u.map(y=>y.groups.id))||[],{data:h}=await ne.from("user_points").select("user_id, points"),f={};h==null||h.forEach(y=>{f[y.user_id]=(f[y.user_id]||0)+y.points});const g=Object.entries(f).map(([y,b])=>({user_id:y,points:b})).sort((y,b)=>b.points-y.points).slice(0,50);let v=[];if(g&&g.length>0){const y=g.map(x=>x.user_id),{data:b}=await ne.from("profiles").select("id, name, plan").in("id",y);v=g.map((x,w)=>{const S=b==null?void 0:b.find(_=>_.id===x.user_id);return{id:x.user_id,name:(S==null?void 0:S.name)||"Usurio",points:x.points,rank:w+1,plan:(S==null?void 0:S.plan)||void 0,isCurrentUser:x.user_id===o.id}})}if(r(v),d.length>0){const y=[];for(const b of d){const x=(c=u==null?void 0:u.find(_=>_.groups.id===b))==null?void 0:c.groups,{data:w}=await ne.from("user_points").select("user_id, points").eq("group_id",b).order("points",{ascending:!1});let S=[];if(w&&w.length>0){const _=w.map(C=>C.user_id),{data:A}=await ne.from("profiles").select("id, name, plan").in("id",_);S=w.map((C,T)=>{const P=A==null?void 0:A.find(O=>O.id===C.user_id);return{id:C.user_id,name:(P==null?void 0:P.name)||"Usurio",points:C.points,rank:T+1,plan:(P==null?void 0:P.plan)||void 0,isCurrentUser:C.user_id===o.id}})}x&&y.push({id:b,name:x.name,members:S})}i(y)}}catch(u){console.error("Error fetching leaderboard data:",u)}finally{a(!1)}},[o]);return E.useEffect(()=>{o&&l()},[o,t,l]),{globalLeaderboard:e,groupLeaderboards:n,loading:s,refreshData:l}}const hJe=()=>{const{t}=Wt(),[e,r]=E.useState("week"),[n,i]=E.useState("global"),[s,a]=E.useState(""),{globalLeaderboard:o,groupLeaderboards:l,loading:c,refreshData:u}=dJe(e);W.useEffect(()=>{l.length>0&&!s&&a(l[0].id)},[l,s]);const d=l.find(f=>f.id===s),h=n==="global"?o:(d==null?void 0:d.members)||[];return m.jsxs(Lr,{children:[m.jsxs("div",{className:"mb-4",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-bold",children:t("leaderboard.title")}),m.jsxs(ge,{variant:"outline",size:"sm",onClick:u,disabled:c,className:"flex items-center gap-2",children:[m.jsx(dX,{size:16,className:c?"animate-spin":""}),"Atualizar"]})]}),m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx($u,{value:n,onValueChange:i,className:"w-auto",children:m.jsxs(uc,{className:"grid grid-cols-2 h-9",children:[m.jsxs(Vt,{value:"global",className:"flex items-center",children:[m.jsx(gC,{size:14,className:"mr-1"}),m.jsx("span",{children:t("leaderboard.global")})]}),m.jsxs(Vt,{value:"group",className:"flex items-center",children:[m.jsx(v0,{size:14,className:"mr-1"}),m.jsx("span",{children:t("leaderboard.group")})]})]})}),m.jsx($u,{value:e,onValueChange:r,className:"w-auto",children:m.jsxs(uc,{className:"grid grid-cols-3 h-9",children:[m.jsx(Vt,{value:"week",className:"text-xs px-2",children:t("leaderboard.week")}),m.jsx(Vt,{value:"month",className:"text-xs px-2",children:t("leaderboard.month")}),m.jsx(Vt,{value:"all",className:"text-xs px-2",children:t("leaderboard.allTime")})]})})]}),n==="group"&&l.length>0&&m.jsx("div",{className:"mb-4",children:m.jsxs($m,{value:s,onValueChange:a,children:[m.jsx(Zh,{children:m.jsx(Lm,{placeholder:t("leaderboard.selectGroup")})}),m.jsx(Jh,{children:l.map(f=>m.jsx(Yo,{value:f.id,children:f.name},f.id))})]})})]}),m.jsx("div",{className:"space-y-2",children:c?Array.from({length:5}).map((f,g)=>m.jsx(mt,{children:m.jsxs(Et,{className:"p-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(Ut,{className:"w-8 h-8 rounded-full mr-3"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(Ut,{className:"h-10 w-10 rounded-full mr-3"}),m.jsxs("div",{children:[m.jsx(Ut,{className:"h-4 w-24 mb-2"}),m.jsx(Ut,{className:"h-3 w-16"})]})]})]}),m.jsx(Ut,{className:"w-5 h-5"})]})},g)):h.length===0?m.jsx(mt,{children:m.jsxs(Et,{className:"p-8 text-center text-muted-foreground",children:[m.jsx(gC,{size:48,className:"mx-auto mb-4 opacity-50"}),m.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhum dado disponvel"}),m.jsx("p",{className:"text-sm",children:n==="global"?"No h rankings globais ainda.":"No h rankings para este grupo ainda."})]})}):h.map(f=>{const g=v=>v===1?"bg-yellow-500":v===2?"bg-gray-400":v===3?"bg-amber-700":"bg-gray-200 text-gray-700";return m.jsx(mt,{className:`${f.isCurrentUser?"border-primary border-2":""}`,children:m.jsxs(Et,{className:"p-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:`w-8 h-8 rounded-full ${g(f.rank)} flex items-center justify-center text-white font-bold mr-3`,children:f.rank}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(CA,{className:"h-10 w-10 mr-3",children:m.jsx(TA,{className:"bg-primary text-primary-foreground",children:f.name.charAt(0).toUpperCase()})}),m.jsxs("div",{children:[m.jsxs("div",{className:"font-medium flex items-center gap-1.5",children:[f.name,f.plan==="premium"&&m.jsx(PA,{size:"sm"}),f.isCurrentUser&&m.jsx("span",{className:"text-xs ml-1 text-primary",children:"(Voc)"})]}),m.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.points," pontos"]})]})]})]}),f.rank<=3&&m.jsx(gC,{size:20,className:`
                        ${f.rank===1?"text-yellow-500":""}
                        ${f.rank===2?"text-gray-400":""}
                        ${f.rank===3?"text-amber-700":""}
                      `})]})},f.id)})})]})};var sN="Switch",[fJe]=gi(sN),[pJe,mJe]=fJe(sN),Hae=E.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:u,...d}=t,[h,f]=E.useState(null),g=Fe(e,w=>f(w)),v=E.useRef(!1),y=h?u||!!h.closest("form"):!0,[b,x]=ao({prop:i,defaultProp:s??!1,onChange:c,caller:sN});return m.jsxs(pJe,{scope:r,checked:b,disabled:o,children:[m.jsx(ke.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":Kae(b),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:g,onClick:he(t.onClick,w=>{x(S=>!S),y&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),y&&m.jsx(qae,{control:h,bubbles:!v.current,name:n,value:l,checked:b,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Hae.displayName=sN;var Wae="SwitchThumb",Gae=E.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=mJe(Wae,r);return m.jsx(ke.span,{"data-state":Kae(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Gae.displayName=Wae;var gJe="SwitchBubbleInput",qae=E.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const a=E.useRef(null),o=Fe(a,s),l=kA(r),c=gA(e);return E.useEffect(()=>{const u=a.current;if(!u)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&f){const g=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(g)}},[l,r,n]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qae.displayName=gJe;function Kae(t){return t?"checked":"unchecked"}var Xae=Hae,vJe=Gae;const pv=E.forwardRef(({className:t,...e},r)=>m.jsx(Xae,{className:pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:m.jsx(vJe,{className:pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));pv.displayName=Xae.displayName;function yJe(){const[t,e]=E.useState({name:"",points:0,level:1,progress:0,pointsToNextLevel:100,groups:0,rank:0,achievements:[]}),[r,n]=E.useState(!0),{user:i}=It();E.useEffect(()=>{i&&s()},[i]);const s=async()=>{if(i)try{n(!0);const{data:a}=await ne.from("profiles").select("name").eq("id",i.id).single(),{data:o}=await ne.from("user_points").select("points").eq("user_id",i.id),l=(o==null?void 0:o.reduce((C,T)=>C+T.points,0))||0,c=Math.floor(l/100)+1,u=l%100,d=100-u,{data:h}=await ne.from("group_members").select("group_id").eq("user_id",i.id),f=(h==null?void 0:h.length)||0,{data:g}=await ne.from("user_points").select("user_id, points"),v={};g==null||g.forEach(C=>{v[C.user_id]=(v[C.user_id]||0)+C.points});const b=Object.entries(v).sort(([,C],[,T])=>T-C).findIndex(([C])=>C===i.id)+1,{data:x}=await ne.from("achievements").select("*"),{data:w}=await ne.from("user_achievements").select("achievement_id, earned_at").eq("user_id",i.id),S=new Set(w==null?void 0:w.map(C=>C.achievement_id)),_=new Map(w==null?void 0:w.map(C=>[C.achievement_id,C.earned_at])),A=(x||[]).map(C=>({...C,earned:S.has(C.id),earned_at:_.get(C.id)}));e({name:(a==null?void 0:a.name)||"Usurio",points:l,level:c,progress:u,pointsToNextLevel:d,groups:f,rank:b||999,achievements:A})}catch(a){console.error("Error fetching profile data:",a)}finally{n(!1)}};return{profileStats:t,loading:r,refreshData:s}}function bJe(){const[t,e]=E.useState([]),[r,n]=E.useState(!0),{user:i}=It();E.useEffect(()=>{i&&s()},[i]);const s=async()=>{if(i)try{n(!0);const{data:o}=await ne.from("achievements").select("*").order("created_at",{ascending:!0}),{data:l}=await ne.from("user_achievements").select("achievement_id, earned_at").eq("user_id",i.id),c=new Set(l==null?void 0:l.map(h=>h.achievement_id)),u=new Map(l==null?void 0:l.map(h=>[h.achievement_id,h.earned_at])),d=(o||[]).map(h=>({...h,earned:c.has(h.id),earned_at:u.get(h.id)}));e(d)}catch(o){console.error("Error fetching achievements:",o)}finally{n(!1)}};return{achievements:t,loading:r,refreshAchievements:s,checkAndUnlockAchievements:async()=>{if(i)try{const{data:o}=await ne.from("user_points").select("points").eq("user_id",i.id),l=(o==null?void 0:o.reduce((v,y)=>v+y.points,0))||0,{data:c}=await ne.from("group_members").select("group_id").eq("user_id",i.id),u=(c==null?void 0:c.length)||0,{data:d}=await ne.from("study_sessions").select("id").eq("user_id",i.id).not("completed_at","is",null),h=(d==null?void 0:d.length)||0,{data:f}=await ne.from("water_intake").select("date").eq("user_id",i.id).order("date",{ascending:!1});let g=0;if(f&&f.length>0){const v=f.map(b=>b.date),y=[...new Set(v)].sort().reverse();for(let b=0;b<y.length;b++){const x=new Date(y[b]),w=new Date;if(w.setDate(w.getDate()-b),x.toDateString()===w.toDateString())g++;else break}}for(const v of t){if(v.earned)continue;let y=!1;(v.points_required&&l>=v.points_required||v.groups_required&&u>=v.groups_required||v.sessions_required&&h>=v.sessions_required||v.water_days_required&&g>=v.water_days_required)&&(y=!0),y&&(await ne.from("user_achievements").insert({user_id:i.id,achievement_id:v.id}),await ne.from("notifications").insert({user_id:i.id,type:"achievement",title:" Nova conquista desbloqueada!",message:`Voc conquistou: ${v.icon} ${v.name_key}`,link:"/profile"}))}await s()}catch(o){console.error("Error checking achievements:",o)}}}}function xJe(){const[t,e]=E.useState({goalReminders:!0,groupActivity:!0,achievements:!0,weeklyReport:!1}),[r,n]=E.useState(!0),{user:i}=It();E.useEffect(()=>{i&&s()},[i]);const s=async()=>{if(i)try{n(!0);const{data:l,error:c}=await ne.from("user_preferences").select("*").eq("user_id",i.id).single();if(c&&c.code!=="PGRST116")throw c;l?e({goalReminders:l.goal_reminders,groupActivity:l.group_activity,achievements:l.achievements,weeklyReport:l.weekly_report}):await a()}catch(l){console.error("Error fetching preferences:",l),mC({title:"Erro",description:"Erro ao carregar preferncias de notificao",variant:"destructive"})}finally{n(!1)}},a=async()=>{if(i)try{const{error:l}=await ne.from("user_preferences").insert([{user_id:i.id,goal_reminders:!0,group_activity:!0,achievements:!0,weekly_report:!1}]);if(l)throw l}catch(l){console.error("Error creating default preferences:",l)}};return{preferences:t,loading:r,updatePreference:async(l,c)=>{if(i)try{const u={...t,[l]:c};e(u);const d=l==="goalReminders"?"goal_reminders":l==="groupActivity"?"group_activity":l==="weeklyReport"?"weekly_report":"achievements",{error:h}=await ne.from("user_preferences").upsert([{user_id:i.id,[d]:c,goal_reminders:u.goalReminders,group_activity:u.groupActivity,achievements:u.achievements,weekly_report:u.weeklyReport}]);if(h)throw h;mC({title:"Sucesso",description:"Preferncia atualizada com sucesso"})}catch(u){console.error("Error updating preference:",u),e(t),mC({title:"Erro",description:"Erro ao atualizar preferncia",variant:"destructive"})}},refreshPreferences:s}}function wJe({achievements:t}){const{t:e}=Wt(),r=[{key:"points",label:"Pontos"},{key:"groups",label:"Grupos"},{key:"sessions",label:"Sesses"},{key:"water",label:"Hidratao"}];return m.jsx("div",{className:"space-y-6",children:r.map(n=>{const i=t.filter(s=>s.category===n.key);return i.length===0?null:m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:n.label}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(s=>m.jsxs(mt,{className:`p-4 relative overflow-hidden transition-all ${s.earned?"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20":"bg-muted/50 opacity-60"}`,children:[!s.earned&&m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx(zfe,{className:"h-4 w-4 text-muted-foreground"})}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"text-4xl",children:s.icon}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-semibold text-foreground truncate",children:e(`achievements.${s.name_key}`,s.name_key)}),m.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e(`achievements.${s.description_key}`,s.description_key)}),s.earned&&s.earned_at&&m.jsx(Mr,{variant:"secondary",className:"mt-2 text-xs",children:new Date(s.earned_at).toLocaleDateString()}),!s.earned&&m.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[s.points_required&&`${s.points_required} pontos`,s.groups_required&&`${s.groups_required} grupos`,s.sessions_required&&`${s.sessions_required} sesses`,s.water_days_required&&`${s.water_days_required} dias de hidratao`]})]})]})]},s.id))})]},n.key)})})}const SJe=()=>{var h,f;const{t}=Wt(),e=Ii(),{user:r}=It(),{profileStats:n,loading:i}=yJe(),{achievements:s}=bJe(),{preferences:a,loading:o,updatePreference:l}=xJe(),c=g=>{l(g,!a[g])},u=s.filter(g=>g.earned),d=s.length;return i?m.jsx(Lr,{children:m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(Ut,{className:"h-24 w-24 rounded-full mx-auto mb-4"}),m.jsx(Ut,{className:"h-8 w-48 mx-auto mb-2"}),m.jsx(Ut,{className:"h-5 w-32 mx-auto mb-4"}),m.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[m.jsx(Ut,{className:"h-5 w-24"}),m.jsx(Ut,{className:"h-5 w-24"})]}),m.jsx(Ut,{className:"h-3 w-72 mx-auto mb-2"}),m.jsx(Ut,{className:"h-4 w-40 mx-auto mb-4"}),m.jsxs("div",{className:"flex justify-center space-x-2",children:[m.jsx(Ut,{className:"h-8 w-32"}),m.jsx(Ut,{className:"h-8 w-32"})]})]})}):m.jsxs(Lr,{children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("div",{}),m.jsx(CA,{className:"h-24 w-24",children:m.jsx(TA,{className:"bg-primary text-primary-foreground text-xl",children:((f=(h=n==null?void 0:n.name)==null?void 0:h.charAt(0))==null?void 0:f.toUpperCase())||"U"})}),m.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>e("/profile/settings"),className:"text-muted-foreground hover:text-foreground",children:m.jsx(sB,{size:20})})]}),m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold",children:(n==null?void 0:n.name)||"Usurio"}),(r==null?void 0:r.plan)==="premium"&&m.jsx(PA,{size:"lg"})]}),(r==null?void 0:r.plan)==="premium"&&m.jsxs(Mr,{className:"bg-gradient-to-r from-amber-400 to-yellow-500 text-white mb-1",children:[m.jsx(bu,{className:"h-3 w-3 mr-1"}),"Premium"]}),m.jsxs("div",{className:"text-muted-foreground mb-2",children:[t("profile.level")," ",(n==null?void 0:n.level)||1," ",t("profile.scholar")]}),m.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(gC,{size:16,className:"text-primary mr-1"}),m.jsxs("span",{children:[(n==null?void 0:n.points)||0," ",t("profile.points")]})]}),m.jsx("div",{className:"w-1 h-1 bg-muted rounded-full"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(tB,{size:16,className:"text-primary mr-1"}),m.jsxs("span",{children:[t("profile.rank")," #",(n==null?void 0:n.rank)||"--"]})]})]}),m.jsxs("div",{className:"max-w-xs mx-auto mb-1 flex justify-between text-xs",children:[m.jsxs("span",{children:[t("profile.level")," ",(n==null?void 0:n.level)||1]}),m.jsxs("span",{children:[t("profile.level")," ",((n==null?void 0:n.level)||1)+1]})]}),m.jsx("div",{className:"max-w-xs mx-auto mb-1",children:m.jsx(u0,{value:(n==null?void 0:n.progress)||0,className:"h-2"})}),m.jsxs("div",{className:"text-xs text-muted-foreground mb-4",children:[(n==null?void 0:n.pointsToNextLevel)||100," ",t("profile.toNextLevel")]}),m.jsxs("div",{className:"flex justify-center space-x-2",children:[m.jsxs(ge,{variant:"outline",size:"sm",className:"flex items-center",onClick:()=>e("/progress"),children:[m.jsx(EM,{size:14,className:"mr-1"}),m.jsx("span",{children:t("profile.studyStats")})]}),m.jsxs(ge,{variant:"outline",size:"sm",className:"flex items-center",onClick:()=>e("/groups"),children:[m.jsx(kfe,{size:14,className:"mr-1"}),m.jsxs("span",{children:[t("profile.myGroups")," (",(n==null?void 0:n.groups)||0,")"]})]})]})]}),m.jsxs(mt,{className:"mb-6",children:[m.jsx(Gn,{className:"pb-2",children:m.jsxs(qn,{className:"text-base",children:[t("profile.achievements")," (",u.length,"/",d,")"]})}),m.jsx(Et,{children:m.jsx(wJe,{achievements:s})})]}),m.jsxs(mt,{children:[m.jsx(Gn,{className:"pb-2",children:m.jsxs(qn,{className:"text-base flex items-center",children:[m.jsx(oX,{size:16,className:"mr-2"}),t("profile.notificationSettings")]})}),m.jsx(Et,{children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx(ct,{htmlFor:"goal-reminders",className:"font-medium",children:t("profile.goalReminders")}),m.jsx("p",{className:"text-sm text-muted-foreground",children:t("profile.dailyReminders")})]}),m.jsx(pv,{id:"goal-reminders",checked:a.goalReminders,onCheckedChange:()=>c("goalReminders"),disabled:o})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx(ct,{htmlFor:"group-activity",className:"font-medium",children:t("profile.groupActivity")}),m.jsx("p",{className:"text-sm text-muted-foreground",children:t("profile.groupUpdates")})]}),m.jsx(pv,{id:"group-activity",checked:a.groupActivity,onCheckedChange:()=>c("groupActivity"),disabled:o})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx(ct,{htmlFor:"achievements",className:"font-medium",children:t("profile.achievementNotifications")}),m.jsx("p",{className:"text-sm text-muted-foreground",children:t("profile.achievementAlerts")})]}),m.jsx(pv,{id:"achievements",checked:a.achievements,onCheckedChange:()=>c("achievements"),disabled:o})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx(ct,{htmlFor:"weekly-report",className:"font-medium",children:t("profile.weeklyReport")}),m.jsx("p",{className:"text-sm text-muted-foreground",children:t("profile.progressSummary")})]}),m.jsx(pv,{id:"weekly-report",checked:a.weeklyReport,onCheckedChange:()=>c("weeklyReport"),disabled:o})]})]})})]})]})},_Je=()=>{const t=cf();return E.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),m.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},AJe=D3({email:Ph().email("Digite um email vlido").min(1,"Email  obrigatrio"),password:Ph().min(6,"A senha deve ter pelo menos 6 caracteres").max(50,"A senha no pode ter mais de 50 caracteres")}),EJe=()=>{const{t}=Wt(),{login:e,user:r,isLoading:n,isAuthActionLoading:i}=It(),s=Ii(),[a,o]=E.useState(null);E.useEffect(()=>{!n&&r&&s("/groups",{replace:!0})},[r,n,s]);const l=q3({resolver:K3(AJe),defaultValues:{email:"",password:""}}),c=async u=>{o(null);const{error:d}=await e(u.email,u.password);if(d){o(d.message),de.error("Falha no login: "+d.message);return}de.success("Login realizado com sucesso"),s("/groups",{replace:!0})};return m.jsx(Lr,{children:m.jsx("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:m.jsxs("div",{className:"w-full max-w-md space-y-6",children:[m.jsx("div",{className:"text-center",children:m.jsx("h1",{className:"text-2xl font-bold text-study-primary",children:t("login.title")})}),a&&m.jsxs(Zj,{variant:"destructive",children:[m.jsx(nB,{className:"h-4 w-4"}),m.jsx(Jj,{children:a})]}),m.jsx(X3,{...l,children:m.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[m.jsx(mu,{control:l.control,name:"email",render:({field:u})=>m.jsxs(Wl,{children:[m.jsx(Gl,{children:t("login.email")}),m.jsx(ql,{children:m.jsx(Cr,{type:"email",placeholder:"seu@email.com",autoComplete:"email",...u})}),m.jsx(Kl,{})]})}),m.jsx(mu,{control:l.control,name:"password",render:({field:u})=>m.jsxs(Wl,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Gl,{children:t("login.password")}),m.jsx(Ql,{to:"/forgot-password",className:"text-xs text-study-primary hover:underline",children:t("login.forgotPassword")})]}),m.jsx(ql,{children:m.jsx(Cr,{type:"password",autoComplete:"current-password",...u})}),m.jsx(Kl,{})]})}),m.jsx(ge,{type:"submit",className:"w-full bg-study-primary",disabled:i,children:i?"Carregando...":t("login.loginButton")})]})}),m.jsx("div",{className:"text-center text-sm",children:m.jsxs("p",{children:[t("login.registerPrompt")," ",m.jsx(Ql,{to:"/register",className:"text-study-primary hover:underline",children:t("login.registerButton")})]})}),m.jsxs("div",{className:"text-center text-xs text-gray-500 pt-6 space-y-1",children:[m.jsx("p",{children:"Ao continuar, voc concorda com nossos"}),m.jsxs("p",{children:[m.jsx(Ql,{to:"/terms",className:"text-study-primary hover:underline",children:"Termos de Uso"})," ","&"," ",m.jsx(Ql,{to:"/privacy",className:"text-study-primary hover:underline",children:"Poltica de Privacidade"})]})]})]})})})},CJe=D3({name:Ph().min(3,"Nome deve ter pelo menos 3 caracteres").max(50,"Nome no pode ter mais de 50 caracteres"),email:Ph().email("Digite um email vlido").min(1,"Email  obrigatrio"),password:Ph().min(8,"A senha deve ter pelo menos 8 caracteres").max(50,"A senha no pode ter mais de 50 caracteres"),confirmPassword:Ph().min(1,"Confirme sua senha"),acceptTerms:hke().refine(t=>t===!0,{message:"Voc deve aceitar os termos de uso e poltica de privacidade"})}).refine(t=>t.password===t.confirmPassword,{message:"As senhas no coincidem",path:["confirmPassword"]}),TJe=()=>{const{t}=Wt(),{register:e,isAuthActionLoading:r}=It();Ii();const[n,i]=E.useState(null),s=q3({resolver:K3(CJe),defaultValues:{name:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}}),a=async o=>{i(null);const{error:l}=await e(o.name,o.email,o.password);if(l){i(l.message),de.error("Falha no cadastro: "+l.message);return}de.success("Cadastro realizado com sucesso! Verifique seu email para confirmar a conta.")};return m.jsx(Lr,{children:m.jsx("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:m.jsxs("div",{className:"w-full max-w-md space-y-6",children:[m.jsx("div",{className:"text-center",children:m.jsx("h1",{className:"text-2xl font-bold text-study-primary",children:t("register.title")})}),n&&m.jsxs(Zj,{variant:"destructive",children:[m.jsx(nB,{className:"h-4 w-4"}),m.jsx(Jj,{children:n})]}),m.jsx(X3,{...s,children:m.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-4",children:[m.jsx(mu,{control:s.control,name:"name",render:({field:o})=>m.jsxs(Wl,{children:[m.jsx(Gl,{children:t("register.name")}),m.jsx(ql,{children:m.jsx(Cr,{placeholder:"Seu nome completo",...o})}),m.jsx(Kl,{})]})}),m.jsx(mu,{control:s.control,name:"email",render:({field:o})=>m.jsxs(Wl,{children:[m.jsx(Gl,{children:t("register.email")}),m.jsx(ql,{children:m.jsx(Cr,{type:"email",placeholder:"seu@email.com",autoComplete:"email",...o})}),m.jsx(Kl,{})]})}),m.jsx(mu,{control:s.control,name:"password",render:({field:o})=>m.jsxs(Wl,{children:[m.jsx(Gl,{children:t("register.password")}),m.jsx(ql,{children:m.jsx(Cr,{type:"password",autoComplete:"new-password",...o})}),m.jsx(Kl,{})]})}),m.jsx(mu,{control:s.control,name:"confirmPassword",render:({field:o})=>m.jsxs(Wl,{children:[m.jsx(Gl,{children:t("register.confirmPassword")}),m.jsx(ql,{children:m.jsx(Cr,{type:"password",autoComplete:"new-password",...o})}),m.jsx(Kl,{})]})}),m.jsx(mu,{control:s.control,name:"acceptTerms",render:({field:o})=>m.jsxs(Wl,{className:"flex flex-row items-start space-x-3 space-y-0",children:[m.jsx(ql,{children:m.jsx(oO,{checked:o.value,onCheckedChange:o.onChange})}),m.jsxs("div",{className:"space-y-1 leading-none",children:[m.jsxs(Gl,{className:"text-sm font-normal",children:["Aceito os ",m.jsx(Ql,{to:"/terms",className:"text-study-primary hover:underline",children:"Termos de Uso"})," ","e a"," ",m.jsx(Ql,{to:"/privacy",className:"text-study-primary hover:underline",children:"Poltica de Privacidade"})]}),m.jsx(Kl,{})]})]})}),m.jsx(ge,{type:"submit",className:"w-full bg-study-primary",disabled:r,children:r?"Carregando...":t("register.registerButton")})]})}),m.jsx("div",{className:"text-center text-sm",children:m.jsxs("p",{children:[t("register.loginPrompt")," ",m.jsx(Ql,{to:"/login",className:"text-study-primary hover:underline",children:t("register.loginButton")})]})})]})})})},PJe=()=>{const{t}=Wt(),e=Ii(),{user:r,updateUserPlan:n}=It(),[i,s]=E.useState(!1),a=h=>{n(h),de.success(`Voc assinou o plano ${Sw[h]}!`),e("/my-plan")},o=h=>{const f=pl[h];return h==="free"?"Grtis":i?`$${(f.yearly/12).toFixed(2)}`:`$${f.monthly}`},l=h=>h==="free"?"Para sempre":i?"/ms (cobrado anualmente)":"/ms",c=h=>{if(h==="free")return 0;const f=pl[h].monthly*12,g=pl[h].yearly;return Math.round((f-g)/f*100)},u=[{label:"Grupos de estudo",free:"3",basic:"5",premium:"Ilimitado"},{label:"Membros por grupo",free:"5",basic:"20",premium:"Ilimitado"},{label:"Timer de estudos",free:!0,basic:!0,premium:!0},{label:"Controle de gua",free:!0,basic:!0,premium:!0},{label:"Progresso bsico",free:!0,basic:!0,premium:!0},{label:"Upload de arquivos",free:!1,basic:"100 MB",premium:"1 GB"},{label:"Histrico completo",free:"30 dias",basic:!0,premium:!0},{label:"Sem anncios",free:!1,basic:!0,premium:!0},{label:"Estatsticas avanadas",free:!1,basic:!0,premium:!0},{label:"Gerador de testes com IA",free:!1,basic:!1,premium:!0},{label:"Badge Premium exclusivo",free:!1,basic:!1,premium:!0},{label:"Suporte prioritrio",free:!1,basic:!1,premium:!0}],d=[{id:"free",description:"Para comear a estudar"},{id:"basic",description:"Para estudantes dedicados"},{id:"premium",description:"Para o mximo desempenho"}];return m.jsx(Lr,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl font-bold",children:t("plans.title")}),m.jsx("p",{className:"text-muted-foreground mt-2",children:"Escolha o plano ideal para alcanar seus objetivos"})]}),m.jsxs("div",{className:"flex items-center justify-center gap-4",children:[m.jsx(ct,{htmlFor:"billing-toggle",className:i?"text-muted-foreground":"font-semibold",children:"Mensal"}),m.jsx(pv,{id:"billing-toggle",checked:i,onCheckedChange:s}),m.jsx(ct,{htmlFor:"billing-toggle",className:i?"font-semibold":"text-muted-foreground",children:"Anual"}),i&&m.jsx(Mr,{variant:"secondary",className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:"Economize at 17%"})]}),m.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:d.map(h=>{const f=(r==null?void 0:r.plan)===h.id,g=h.id==="premium",v=h.id==="basic";return m.jsxs(mt,{className:`relative overflow-hidden transition-all ${g?"border-amber-400 dark:border-amber-500 shadow-lg":""} ${v?"border-primary":""} ${f?"ring-2 ring-primary":""}`,children:[m.jsx("div",{className:`h-1 ${g?"bg-gradient-to-r from-amber-400 to-yellow-500":v?"bg-primary":"bg-muted"}`}),v&&m.jsx("div",{className:"absolute top-4 right-4",children:m.jsxs(Mr,{className:"bg-primary",children:[m.jsx(hX,{className:"h-3 w-3 mr-1"}),"Mais Popular"]})}),g&&m.jsx("div",{className:"absolute top-4 right-4",children:m.jsxs(Mr,{className:"bg-gradient-to-r from-amber-400 to-yellow-500 text-white",children:[m.jsx(bu,{className:"h-3 w-3 mr-1"}),"Premium"]})}),m.jsxs(Gn,{className:"pt-8",children:[m.jsxs(qn,{className:"flex items-center gap-2",children:[Sw[h.id],g&&m.jsx(bu,{className:"h-5 w-5 text-amber-500"})]}),m.jsx(tO,{children:h.description}),m.jsxs("div",{className:"pt-4",children:[m.jsx("span",{className:"text-3xl font-bold",children:o(h.id)}),m.jsx("span",{className:"text-muted-foreground text-sm",children:l(h.id)}),i&&h.id!=="free"&&m.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:["Economize ",c(h.id),"%"]})]})]}),m.jsx(Et,{children:m.jsx("ul",{className:"space-y-3",children:u.map((y,b)=>{const x=y[h.id],w=x===!0||typeof x=="string"&&x!=="";return m.jsxs("li",{className:"flex items-start gap-2",children:[w?m.jsx(km,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}):m.jsx(Wh,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),m.jsxs("span",{className:`text-sm ${w?"":"text-muted-foreground"}`,children:[y.label,typeof x=="string"&&x!==""&&!["true","false"].includes(x)&&m.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",x,")"]})]})]},b)})})}),m.jsx(J3,{children:m.jsx(ge,{className:`w-full ${g?"bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white":v?"bg-primary":""}`,variant:h.id==="free"?"outline":"default",disabled:f,onClick:()=>a(h.id),children:f?"Plano Atual":h.id==="free"?"Comear Grtis":m.jsxs(m.Fragment,{children:[m.jsx(bu,{className:"mr-2 h-4 w-4"}),"Assinar ",Sw[h.id]]})})})]},h.id)})}),m.jsxs(mt,{className:"mt-8",children:[m.jsx(Gn,{children:m.jsx(qn,{className:"text-lg",children:"Comparao Detalhada"})}),m.jsx(Et,{children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b",children:[m.jsx("th",{className:"text-left py-3 px-2",children:"Recurso"}),m.jsx("th",{className:"text-center py-3 px-2",children:"Free"}),m.jsx("th",{className:"text-center py-3 px-2 bg-primary/5",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{children:"Basic"}),m.jsx(Mr,{variant:"outline",className:"text-xs mt-1",children:"Popular"})]})}),m.jsx("th",{className:"text-center py-3 px-2",children:m.jsxs("div",{className:"flex items-center justify-center gap-1",children:[m.jsx(bu,{className:"h-3 w-3 text-amber-500"}),"Premium"]})})]})}),m.jsxs("tbody",{children:[u.map((h,f)=>m.jsxs("tr",{className:f%2===0?"bg-muted/30":"",children:[m.jsx("td",{className:"py-3 px-2",children:h.label}),["free","basic","premium"].map(g=>{const v=h[g],y=g==="basic";return m.jsx("td",{className:`text-center py-3 px-2 ${y?"bg-primary/5":""}`,children:v===!0?m.jsx(km,{className:"h-4 w-4 text-green-500 mx-auto"}):v===!1?m.jsx(Wh,{className:"h-4 w-4 text-muted-foreground mx-auto"}):m.jsx("span",{className:"font-medium",children:v})},g)})]},f)),m.jsxs("tr",{className:"border-t font-medium",children:[m.jsx("td",{className:"py-3 px-2",children:"Preo"}),m.jsx("td",{className:"text-center py-3 px-2",children:"Grtis"}),m.jsxs("td",{className:"text-center py-3 px-2 bg-primary/5",children:["$",i?(pl.basic.yearly/12).toFixed(2):pl.basic.monthly,"/ms"]}),m.jsxs("td",{className:"text-center py-3 px-2",children:["$",i?(pl.premium.yearly/12).toFixed(2):pl.premium.monthly,"/ms"]})]})]})]})})})]}),m.jsxs("div",{className:"text-center text-sm text-muted-foreground space-y-2",children:[m.jsx("p",{children:"Todos os planos pagos incluem 7 dias de garantia de reembolso."}),m.jsx("p",{children:"Cancele a qualquer momento, sem taxas adicionais."})]})]})})},kJe=()=>{const{user:t}=It(),[e,r]=E.useState({groupsCreated:0,storageUsedMB:0}),[n,i]=E.useState(!0),s=(t==null?void 0:t.plan)||"free",a=DAe(s);E.useEffect(()=>{t&&o()},[t]);const o=async()=>{if(t)try{const{count:f}=await ne.from("groups").select("*",{count:"exact",head:!0}).eq("creator_id",t.id),{data:g}=await ne.from("group_files").select("file_size").eq("user_id",t.id),y=((g==null?void 0:g.reduce((b,x)=>b+(x.file_size||0),0))||0)/(1024*1024);r({groupsCreated:f||0,storageUsedMB:Math.round(y*100)/100})}catch(f){console.error("Error fetching usage:",f)}finally{i(!1)}},l=()=>a.maxGroups===null?!0:e.groupsCreated<a.maxGroups,c=f=>a.canUploadFiles?f<=a.maxUploadSizeMB:!1,u=f=>{const g=a[f];return typeof g=="boolean"?g:typeof g=="number"?g>0:g!==null},d=()=>a.maxGroups===null?null:Math.max(0,a.maxGroups-e.groupsCreated),h=f=>f==="aiTests"||f==="premiumBadge"||f==="customThemes"?s==="premium"?null:"premium":f==="uploadFiles"||f==="advancedStats"?s==="premium"||s==="basic"?null:"basic":null;return{currentPlan:s,limits:a,usage:e,loading:n,canCreateGroup:l,canUploadFile:c,canAccessFeature:u,groupsRemaining:d,groupsUsed:e.groupsCreated,storageUsedMB:e.storageUsedMB,getUpgradeRequiredPlan:h,refreshUsage:o}};var jJe="Separator",bq="horizontal",OJe=["horizontal","vertical"],Yae=E.forwardRef((t,e)=>{const{decorative:r,orientation:n=bq,...i}=t,s=NJe(n)?n:bq,o=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return m.jsx(is.div,{"data-orientation":s,...o,...i,ref:e})});Yae.displayName=jJe;function NJe(t){return OJe.includes(t)}var Qae=Yae;const x5=E.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>m.jsx(Qae,{ref:i,decorative:r,orientation:e,className:pe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));x5.displayName=Qae.displayName;const RJe=()=>{const{t}=Wt(),e=Ii(),{user:r}=It(),{currentPlan:n,limits:i,usage:s}=kJe(),a=[{key:"maxGroups",label:"Grupos de estudo",getValue:u=>Tn[u].maxGroups===null?"Ilimitado":Tn[u].maxGroups},{key:"maxMembersPerGroup",label:"Membros por grupo",getValue:u=>Tn[u].maxMembersPerGroup===null?"Ilimitado":Tn[u].maxMembersPerGroup},{key:"maxUploadSizeMB",label:"Limite de upload",getValue:u=>`${Tn[u].maxUploadSizeMB>=1024?"1 GB":Tn[u].maxUploadSizeMB+" MB"}`},{key:"historyDays",label:"Histrico de atividades",getValue:u=>Tn[u].historyDays===null?"Completo":`${Tn[u].historyDays} dias`},{key:"hasAds",label:"Sem anncios",getValue:u=>!Tn[u].hasAds},{key:"canUploadFiles",label:"Upload de arquivos",getValue:u=>Tn[u].canUploadFiles},{key:"hasAdvancedStats",label:"Estatsticas avanadas",getValue:u=>Tn[u].hasAdvancedStats},{key:"hasAITests",label:"Gerador de testes com IA",getValue:u=>Tn[u].hasAITests},{key:"hasPremiumBadge",label:"Badge Premium exclusivo",getValue:u=>Tn[u].hasPremiumBadge},{key:"hasPrioritySupport",label:"Suporte prioritrio",getValue:u=>Tn[u].hasPrioritySupport}],o=["free","basic","premium"],l=i.maxGroups?Math.min(s.groupsCreated/i.maxGroups*100,100):0,c=i.maxUploadSizeMB?Math.min(s.storageUsedMB/i.maxUploadSizeMB*100,100):0;return m.jsx(Lr,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Meu Plano"}),m.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua assinatura e veja seu uso"})]}),m.jsxs(mt,{className:"overflow-hidden",children:[m.jsx("div",{className:`h-2 ${n==="premium"?"bg-gradient-to-r from-amber-400 to-yellow-500":n==="basic"?"bg-primary":"bg-muted"}`}),m.jsxs(Gn,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-3",children:m.jsxs(qn,{className:"text-xl flex items-center gap-2",children:["Plano ",Sw[n],n==="premium"&&m.jsx(PA,{size:"md"})]})}),m.jsx(Mr,{variant:n==="premium"?"default":"secondary",className:n==="premium"?"bg-gradient-to-r from-amber-400 to-yellow-500 text-white":"",children:"Ativo"})]}),m.jsxs(tO,{children:[n==="free"&&"Plano gratuito com recursos bsicos",n==="basic"&&"Recursos avanados para estudantes dedicados",n==="premium"&&"Acesso completo a todos os recursos"]})]}),m.jsxs(Et,{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"text-2xl font-bold",children:["$",pl[n].monthly,m.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/ms"})]}),n!=="premium"&&m.jsxs(ge,{onClick:()=>e("/plans"),children:[m.jsx(bu,{className:"mr-2 h-4 w-4"}),"Fazer Upgrade"]})]}),n!=="free"&&m.jsx("div",{className:"text-sm text-muted-foreground",children:"Prxima renovao: 15 de Fevereiro, 2026"})]})]}),m.jsxs(mt,{children:[m.jsx(Gn,{children:m.jsx(qn,{className:"text-base",children:"Uso Atual"})}),m.jsxs(Et,{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{children:"Grupos Criados"}),m.jsxs("span",{className:"font-medium",children:[s.groupsCreated," / ",i.maxGroups??""]})]}),i.maxGroups&&m.jsx(u0,{value:l,className:"h-2"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{children:"Armazenamento Usado"}),m.jsxs("span",{className:"font-medium",children:[s.storageUsedMB.toFixed(2)," MB / ",i.maxUploadSizeMB>=1024?"1 GB":`${i.maxUploadSizeMB} MB`]})]}),m.jsx(u0,{value:c,className:"h-2"})]})]})]}),m.jsxs(mt,{children:[m.jsx(Gn,{children:m.jsx(qn,{className:"text-base",children:"Comparao de Planos"})}),m.jsx(Et,{children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b",children:[m.jsx("th",{className:"text-left py-3 px-2 font-medium",children:"Recurso"}),o.map(u=>m.jsx("th",{className:`text-center py-3 px-2 font-medium ${u===n?"bg-primary/5":""}`,children:m.jsxs("div",{className:"flex flex-col items-center gap-1",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[Sw[u],u==="premium"&&m.jsx(bu,{className:"h-3 w-3 text-amber-500"})]}),u===n&&m.jsx(Mr,{variant:"outline",className:"text-xs",children:"Atual"})]})},u))]})}),m.jsxs("tbody",{children:[a.map((u,d)=>m.jsxs("tr",{className:d%2===0?"bg-muted/30":"",children:[m.jsx("td",{className:"py-3 px-2",children:u.label}),o.map(h=>{const f=u.getValue(h);return m.jsx("td",{className:`text-center py-3 px-2 ${h===n?"bg-primary/5":""}`,children:typeof f=="boolean"?f?m.jsx(km,{className:"h-4 w-4 text-green-500 mx-auto"}):m.jsx(Wh,{className:"h-4 w-4 text-muted-foreground mx-auto"}):m.jsx("span",{className:"font-medium",children:f})},h)})]},u.key)),m.jsxs("tr",{className:"border-t",children:[m.jsx("td",{className:"py-3 px-2 font-medium",children:"Preo Mensal"}),o.map(u=>m.jsx("td",{className:`text-center py-3 px-2 font-bold ${u===n?"bg-primary/5":""}`,children:pl[u].monthly===0?"Grtis":`$${pl[u].monthly}`},u))]})]})]})})})]}),m.jsxs(mt,{children:[m.jsx(Gn,{children:m.jsx(qn,{className:"text-base",children:"Gerenciar Assinatura"})}),m.jsxs(Et,{className:"space-y-3",children:[m.jsxs(ge,{variant:"outline",className:"w-full justify-start",onClick:()=>e("/plans"),children:[m.jsx(Pfe,{className:"mr-2 h-4 w-4"}),n==="premium"?"Ver todos os planos":"Fazer upgrade do plano"]}),m.jsxs(ge,{variant:"outline",className:"w-full justify-start",disabled:!0,children:[m.jsx($fe,{className:"mr-2 h-4 w-4"}),"Histrico de pagamentos",m.jsx(Mr,{variant:"secondary",className:"ml-auto text-xs",children:"Em breve"})]}),m.jsxs(ge,{variant:"outline",className:"w-full justify-start",disabled:!0,children:[m.jsx(sB,{className:"mr-2 h-4 w-4"}),"Mtodo de pagamento",m.jsx(Mr,{variant:"secondary",className:"ml-auto text-xs",children:"Em breve"})]}),n!=="free"&&m.jsx(x5,{className:"my-4"}),n!=="free"&&m.jsxs(va,{children:[m.jsx(Rm,{asChild:!0,children:m.jsxs(ge,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10",children:[m.jsx(fX,{className:"mr-2 h-4 w-4"}),"Cancelar assinatura"]})}),m.jsxs(Cs,{children:[m.jsxs(Ts,{children:[m.jsx(Ps,{children:"Cancelar Assinatura"}),m.jsx(tg,{children:"Tem certeza que deseja cancelar sua assinatura? Voc continuar tendo acesso at o final do perodo atual."})]}),m.jsxs("div",{className:"py-4 space-y-2 text-sm text-muted-foreground",children:[m.jsx("p",{children:" Seu acesso continuar at 15 de Fevereiro, 2026"}),m.jsx("p",{children:" Voc perder acesso aos recursos premium aps essa data"}),m.jsx("p",{children:" Seus dados sero mantidos, mas alguns recursos ficaro limitados"})]}),m.jsxs(j0,{children:[m.jsx(ge,{variant:"outline",children:"Manter Assinatura"}),m.jsx(ge,{variant:"destructive",disabled:!0,children:"Confirmar Cancelamento"})]})]})]})]})]})]})})};var Zae=["PageUp","PageDown"],Jae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eoe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},W0="Slider",[w$,MJe,IJe]=dA(W0),[toe]=gi(W0,[IJe]),[DJe,aN]=toe(W0),roe=E.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:u,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:g,...v}=t,y=E.useRef(new Set),b=E.useRef(0),w=a==="horizontal"?$Je:LJe,[S=[],_]=ao({prop:u,defaultProp:c,onChange:I=>{var B;(B=[...y.current][b.current])==null||B.focus(),d(I)}}),A=E.useRef(S);function C(I){const R=zJe(S,I);O(I,R)}function T(I){O(I,b.current)}function P(){const I=A.current[b.current];S[b.current]!==I&&h(S)}function O(I,R,{commit:B}={commit:!1}){const D=qJe(s),U=KJe(Math.round((I-n)/s)*s+n,D),N=b1(U,[n,i]);_((j=[])=>{const L=UJe(j,N,R);if(GJe(L,l*s)){b.current=L.indexOf(N);const F=String(L)!==String(j);return F&&B&&h(L),F?L:j}else return j})}return m.jsx(DJe,{scope:t.__scopeSlider,name:r,disabled:o,min:n,max:i,valueIndexToChangeRef:b,thumbs:y.current,values:S,orientation:a,form:g,children:m.jsx(w$.Provider,{scope:t.__scopeSlider,children:m.jsx(w$.Slot,{scope:t.__scopeSlider,children:m.jsx(w,{"aria-disabled":o,"data-disabled":o?"":void 0,...v,ref:e,onPointerDown:he(v.onPointerDown,()=>{o||(A.current=S)}),min:n,max:i,inverted:f,onSlideStart:o?void 0:C,onSlideMove:o?void 0:T,onSlideEnd:o?void 0:P,onHomeKeyDown:()=>!o&&O(n,0,{commit:!0}),onEndKeyDown:()=>!o&&O(i,S.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:R})=>{if(!o){const U=Zae.includes(I.key)||I.shiftKey&&Jae.includes(I.key)?10:1,N=b.current,j=S[N],L=s*U*R;O(j+L,N,{commit:!0})}}})})})})});roe.displayName=W0;var[noe,ioe]=toe(W0,{startEdge:"left",endEdge:"right",size:"width",direction:1}),$Je=E.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,[d,h]=E.useState(null),f=Fe(e,w=>h(w)),g=E.useRef(void 0),v=Zm(i),y=v==="ltr",b=y&&!s||!y&&s;function x(w){const S=g.current||d.getBoundingClientRect(),_=[0,S.width],C=w5(_,b?[r,n]:[n,r]);return g.current=S,C(w-S.left)}return m.jsx(noe,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:m.jsx(soe,{dir:v,"data-orientation":"horizontal",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const S=x(w.clientX);a==null||a(S)},onSlideMove:w=>{const S=x(w.clientX);o==null||o(S)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:w=>{const _=eoe[b?"from-left":"from-right"].includes(w.key);c==null||c({event:w,direction:_?-1:1})}})})}),LJe=E.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=t,u=E.useRef(null),d=Fe(e,u),h=E.useRef(void 0),f=!i;function g(v){const y=h.current||u.current.getBoundingClientRect(),b=[0,y.height],w=w5(b,f?[n,r]:[r,n]);return h.current=y,w(v-y.top)}return m.jsx(noe,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:m.jsx(soe,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const y=g(v.clientY);s==null||s(y)},onSlideMove:v=>{const y=g(v.clientY);a==null||a(y)},onSlideEnd:()=>{h.current=void 0,o==null||o()},onStepKeyDown:v=>{const b=eoe[f?"from-bottom":"from-top"].includes(v.key);l==null||l({event:v,direction:b?-1:1})}})})}),soe=E.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=t,u=aN(W0,r);return m.jsx(ke.span,{...c,ref:e,onKeyDown:he(t.onKeyDown,d=>{d.key==="Home"?(a(d),d.preventDefault()):d.key==="End"?(o(d),d.preventDefault()):Zae.concat(Jae).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:he(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(h)?h.focus():n(d)}),onPointerMove:he(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:he(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),s(d))})})}),aoe="SliderTrack",ooe=E.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=aN(aoe,r);return m.jsx(ke.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});ooe.displayName=aoe;var S$="SliderRange",loe=E.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=aN(S$,r),s=ioe(S$,r),a=E.useRef(null),o=Fe(e,a),l=i.values.length,c=i.values.map(h=>doe(h,i.min,i.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return m.jsx(ke.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:o,style:{...t.style,[s.startEdge]:u+"%",[s.endEdge]:d+"%"}})});loe.displayName=S$;var _$="SliderThumb",coe=E.forwardRef((t,e)=>{const r=MJe(t.__scopeSlider),[n,i]=E.useState(null),s=Fe(e,o=>i(o)),a=E.useMemo(()=>n?r().findIndex(o=>o.ref.current===n):-1,[r,n]);return m.jsx(FJe,{...t,ref:s,index:a})}),FJe=E.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...s}=t,a=aN(_$,r),o=ioe(_$,r),[l,c]=E.useState(null),u=Fe(e,x=>c(x)),d=l?a.form||!!l.closest("form"):!0,h=gA(l),f=a.values[n],g=f===void 0?0:doe(f,a.min,a.max),v=VJe(n,a.values.length),y=h==null?void 0:h[o.size],b=y?HJe(y,g,o.direction):0;return E.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${g}% + ${b}px)`},children:[m.jsx(w$.ItemSlot,{scope:t.__scopeSlider,children:m.jsx(ke.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":f,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:u,style:f===void 0?{display:"none"}:t.style,onFocus:he(t.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),d&&m.jsx(uoe,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:f},n)]})});coe.displayName=_$;var BJe="RadioBubbleInput",uoe=E.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const i=E.useRef(null),s=Fe(i,n),a=kA(e);return E.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const d=new Event("input",{bubbles:!0});u.call(o,e),o.dispatchEvent(d)}},[a,e]),m.jsx(ke.input,{style:{display:"none"},...r,ref:s,defaultValue:e})});uoe.displayName=BJe;function UJe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,s)=>i-s)}function doe(t,e,r){const s=100/(r-e)*(t-e);return b1(s,[0,100])}function VJe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function zJe(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function HJe(t,e,r){const n=t/2,s=w5([0,50],[0,n]);return(n-s(e)*r)*r}function WJe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function GJe(t,e){if(e>0){const r=WJe(t);return Math.min(...r)>=e}return!0}function w5(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function qJe(t){return(String(t).split(".")[1]||"").length}function KJe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var hoe=roe,XJe=ooe,YJe=loe,QJe=coe;const foe=E.forwardRef(({className:t,...e},r)=>m.jsxs(hoe,{ref:r,className:pe("relative flex w-full touch-none select-none items-center",t),...e,children:[m.jsx(XJe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:m.jsx(YJe,{className:"absolute h-full bg-primary"})}),m.jsx(QJe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));foe.displayName=hoe.displayName;var S5="Radio",[ZJe,poe]=gi(S5),[JJe,eet]=ZJe(S5),moe=E.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:s,disabled:a,value:o="on",onCheck:l,form:c,...u}=t,[d,h]=E.useState(null),f=Fe(e,y=>h(y)),g=E.useRef(!1),v=d?c||!!d.closest("form"):!0;return m.jsxs(JJe,{scope:r,checked:i,disabled:a,children:[m.jsx(ke.button,{type:"button",role:"radio","aria-checked":i,"data-state":boe(i),"data-disabled":a?"":void 0,disabled:a,value:o,...u,ref:f,onClick:he(t.onClick,y=>{i||l==null||l(),v&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),v&&m.jsx(yoe,{control:d,bubbles:!g.current,name:n,value:o,checked:i,required:s,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})});moe.displayName=S5;var goe="RadioIndicator",voe=E.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,s=eet(goe,r);return m.jsx(vi,{present:n||s.checked,children:m.jsx(ke.span,{"data-state":boe(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});voe.displayName=goe;var tet="RadioBubbleInput",yoe=E.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const a=E.useRef(null),o=Fe(a,s),l=kA(r),c=gA(e);return E.useEffect(()=>{const u=a.current;if(!u)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&f){const g=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(g)}},[l,r,n]),m.jsx(ke.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yoe.displayName=tet;function boe(t){return t?"checked":"unchecked"}var ret=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oN="RadioGroup",[net]=gi(oN,[k0,poe]),xoe=k0(),woe=poe(),[iet,set]=net(oN),Soe=E.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:s,required:a=!1,disabled:o=!1,orientation:l,dir:c,loop:u=!0,onValueChange:d,...h}=t,f=xoe(r),g=Zm(c),[v,y]=ao({prop:s,defaultProp:i??null,onChange:d,caller:oN});return m.jsx(iet,{scope:r,name:n,required:a,disabled:o,value:v,onValueChange:y,children:m.jsx(g3,{asChild:!0,...f,orientation:l,dir:g,loop:u,children:m.jsx(ke.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":o?"":void 0,dir:g,...h,ref:e})})})});Soe.displayName=oN;var _oe="RadioGroupItem",Aoe=E.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,s=set(_oe,r),a=s.disabled||n,o=xoe(r),l=woe(r),c=E.useRef(null),u=Fe(e,c),d=s.value===i.value,h=E.useRef(!1);return E.useEffect(()=>{const f=v=>{ret.includes(v.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",g)}},[]),m.jsx(v3,{asChild:!0,...o,focusable:!a,active:d,children:m.jsx(moe,{disabled:a,required:s.required,checked:d,...l,...i,name:s.name,ref:u,onCheck:()=>s.onValueChange(i.value),onKeyDown:he(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:he(i.onFocus,()=>{var f;h.current&&((f=c.current)==null||f.click())})})})});Aoe.displayName=_oe;var aet="RadioGroupIndicator",Eoe=E.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=woe(r);return m.jsx(voe,{...i,...n,ref:e})});Eoe.displayName=aet;var Coe=Soe,Toe=Aoe,oet=Eoe;const A$=E.forwardRef(({className:t,...e},r)=>m.jsx(Coe,{className:pe("grid gap-2",t),...e,ref:r}));A$.displayName=Coe.displayName;const Lx=E.forwardRef(({className:t,...e},r)=>m.jsx(Toe,{ref:r,className:pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:m.jsx(oet,{className:"flex items-center justify-center",children:m.jsx(cX,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Lx.displayName=Toe.displayName;const zi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),E$=[.001,0,0,.001,0,0],bR=1.35,ea={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Sd={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},tS="pdfjs_internal_editor_",nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},gt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},cet={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},C$={TRIANGLES:1,LATTICE:2},Sn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},jC={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},cn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ig={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},lN={ERRORS:0,WARNINGS:1,INFOS:5},rS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},vx={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},uet={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let cN=lN.WARNINGS;function det(t){Number.isInteger(t)&&(cN=t)}function het(){return cN}function uN(t){cN>=lN.INFOS&&console.info(`Info: ${t}`)}function Ye(t){cN>=lN.WARNINGS&&console.warn(`Warning: ${t}`)}function Ot(t){throw new Error(t)}function jt(t,e){t||Ot(e)}function fet(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Poe(t,e=null,r=null){if(!t)return null;if(r&&typeof t=="string"){if(r.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(r.tryConvertEncoding)try{t=bet(t)}catch{}}const n=e?URL.parse(t,e):URL.parse(t);return fet(n)?n:null}function koe(t,e,r=!1){const n=URL.parse(t);return n?(n.hash=e,n.href):r&&Poe(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Qe(t,e,r,n=!1){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}const ag=function(){function e(r,n){this.message=r,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class xq extends ag{constructor(e,r){super(e,"PasswordException"),this.code=r}}class xR extends ag{constructor(e,r){super(e,"UnknownErrorException"),this.details=r}}class T$ extends ag{constructor(e){super(e,"InvalidPDFException")}}class wk extends ag{constructor(e,r,n){super(e,"ResponseException"),this.status=r,this.missing=n}}class pet extends ag{constructor(e){super(e,"FormatError")}}class tf extends ag{constructor(e){super(e,"AbortException")}}function met(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Ot("Invalid argument for bytesToString");const e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);const n=[];for(let i=0;i<e;i+=r){const s=Math.min(i+r,e),a=t.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function dN(t){typeof t!="string"&&Ot("Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n)&255;return r}function get(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function vet(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function yet(){try{return new Function(""),!0}catch{return!1}}class Nn{static get isLittleEndian(){return Qe(this,"isLittleEndian",vet())}static get isEvalSupported(){return Qe(this,"isEvalSupported",yet())}static get isOffscreenCanvasSupported(){return Qe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Qe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Qe(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Qe(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:r}=navigator;return Qe(this,"platform",{isAndroid:r.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:r.includes("Firefox")})}static get isCSSRoundSupported(){var e,r;return Qe(this,"isCSSRoundSupported",(r=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:r.call(e,"width: round(1.5px, 1px)"))}}const wR=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Cu,OC,P$;class we{static makeHexColor(e,r,n){return`#${wR[e]}${wR[r]}${wR[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,r){let n;e[0]?(e[0]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[0],r[2]*=e[0],e[3]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[3],r[3]*=e[3]):(n=r[0],r[0]=r[1],r[1]=n,n=r[2],r[2]=r[3],r[3]=n,e[1]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[1],r[3]*=e[1],e[2]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[2],r[2]*=e[2]),r[0]+=e[4],r[1]+=e[5],r[2]+=e[4],r[3]+=e[5]}static transform(e,r){return[e[0]*r[0]+e[2]*r[1],e[1]*r[0]+e[3]*r[1],e[0]*r[2]+e[2]*r[3],e[1]*r[2]+e[3]*r[3],e[0]*r[4]+e[2]*r[5]+e[4],e[1]*r[4]+e[3]*r[5]+e[5]]}static multiplyByDOMMatrix(e,r){return[e[0]*r.a+e[2]*r.b,e[1]*r.a+e[3]*r.b,e[0]*r.c+e[2]*r.d,e[1]*r.c+e[3]*r.d,e[0]*r.e+e[2]*r.f+e[4],e[1]*r.e+e[3]*r.f+e[5]]}static applyTransform(e,r,n=0){const i=e[n],s=e[n+1];e[n]=i*r[0]+s*r[2]+r[4],e[n+1]=i*r[1]+s*r[3]+r[5]}static applyTransformToBezier(e,r,n=0){const i=r[0],s=r[1],a=r[2],o=r[3],l=r[4],c=r[5];for(let u=0;u<6;u+=2){const d=e[n+u],h=e[n+u+1];e[n+u]=d*i+h*a+l,e[n+u+1]=d*s+h*o+c}}static applyInverseTransform(e,r){const n=e[0],i=e[1],s=r[0]*r[3]-r[1]*r[2];e[0]=(n*r[3]-i*r[2]+r[2]*r[5]-r[4]*r[3])/s,e[1]=(-n*r[1]+i*r[0]+r[4]*r[1]-r[5]*r[0])/s}static axialAlignedBoundingBox(e,r,n){const i=r[0],s=r[1],a=r[2],o=r[3],l=r[4],c=r[5],u=e[0],d=e[1],h=e[2],f=e[3];let g=i*u+l,v=g,y=i*h+l,b=y,x=o*d+c,w=x,S=o*f+c,_=S;if(s!==0||a!==0){const A=s*u,C=s*h,T=a*d,P=a*f;g+=T,b+=T,y+=P,v+=P,x+=A,_+=A,S+=C,w+=C}n[0]=Math.min(n[0],g,y,v,b),n[1]=Math.min(n[1],x,S,w,_),n[2]=Math.max(n[2],g,y,v,b),n[3]=Math.max(n[3],x,S,w,_)}static inverseTransform(e){const r=e[0]*e[3]-e[1]*e[2];return[e[3]/r,-e[1]/r,-e[2]/r,e[0]/r,(e[2]*e[5]-e[4]*e[3])/r,(e[4]*e[1]-e[5]*e[0])/r]}static singularValueDecompose2dScale(e,r){const n=e[0],i=e[1],s=e[2],a=e[3],o=n**2+i**2,l=n*s+i*a,c=s**2+a**2,u=(o+c)/2,d=Math.sqrt(u**2-(o*c-l**2));r[0]=Math.sqrt(u+d||1),r[1]=Math.sqrt(u-d||1)}static normalizeRect(e){const r=e.slice(0);return e[0]>e[2]&&(r[0]=e[2],r[2]=e[0]),e[1]>e[3]&&(r[1]=e[3],r[3]=e[1]),r}static intersect(e,r){const n=Math.max(Math.min(e[0],e[2]),Math.min(r[0],r[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(r[0],r[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(r[1],r[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(r[1],r[3]));return s>a?null:[n,s,i,a]}static pointBoundingBox(e,r,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],r),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],r)}static rectBoundingBox(e,r,n,i,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],r,i),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],r,i)}static bezierBoundingBox(e,r,n,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],r,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],r,l),$(this,Cu,P$).call(this,e,n,s,o,r,i,a,l,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),c),$(this,Cu,P$).call(this,e,n,s,o,r,i,a,l,3*(-r+3*(i-a)+l),6*(r-2*i+a),3*(i-r),c)}}Cu=new WeakSet,OC=function(e,r,n,i,s,a,o,l,c,u){if(c<=0||c>=1)return;const d=1-c,h=c*c,f=h*c,g=d*(d*(d*e+3*c*r)+3*h*n)+f*i,v=d*(d*(d*s+3*c*a)+3*h*o)+f*l;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],v),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],v)},P$=function(e,r,n,i,s,a,o,l,c,u,d,h){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&$(this,Cu,OC).call(this,e,r,n,i,s,a,o,l,-d/u,h);return}const f=u**2-4*d*c;if(f<0)return;const g=Math.sqrt(f),v=2*c;$(this,Cu,OC).call(this,e,r,n,i,s,a,o,l,(-u+g)/v,h),$(this,Cu,OC).call(this,e,r,n,i,s,a,o,l,(-u-g)/v,h)},M(we,Cu);function bet(t){return decodeURIComponent(escape(t))}let SR=null,wq=null;function xet(t){return SR||(SR=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,wq=new Map([["","t"]])),t.replaceAll(SR,(e,r,n)=>r?r.normalize("NFKC"):wq.get(n))}function joe(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),met(t)}const mv="pdfjs_internal_id_";function wet(t,e,r){if(!Array.isArray(r)||r.length<2)return!1;const[n,i,...s]=r;if(!t(n)&&!Number.isInteger(n)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function li(t,e,r){return Math.min(Math.max(t,e),r)}typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,r)=>e+r,0)});class nS{static textContent(e){const r=[],n={items:r,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(nS.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&r.push({str:a}),!!s.children)for(const c of s.children)i(c)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class Ooe{static setupStorage(e,r,n,i,s){const a=i.getValue(r,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(r,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(r,{value:c})});break}}static setAttributes({html:e,element:r,storage:n=null,intent:i,linkService:s}){const{attributes:a}=r,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,r,n)}static render(e){var d,h;const r=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);a.append(f),o&&nS.shouldBuildText(i.name)&&c.push(f)}return{textDivs:c}}const u=[[i,-1,a]];for(;u.length>0;){const[f,g,v]=u.at(-1);if(g+1===f.children.length){u.pop();continue}const y=f.children[++u.at(-1)[1]];if(y===null)continue;const{name:b}=y;if(b==="#text"){const w=document.createTextNode(y.value);c.push(w),v.append(w);continue}const x=(d=y==null?void 0:y.attributes)!=null&&d.xmlns?document.createElementNS(y.attributes.xmlns,b):document.createElement(b);if(v.append(x),y.attributes&&this.setAttributes({html:x,element:y,storage:r,intent:s,linkService:n}),((h=y.children)==null?void 0:h.length)>0)u.push([y,-1,x]);else if(y.value){const w=document.createTextNode(y.value);o&&nS.shouldBuildText(b)&&c.push(w),x.append(w)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const r=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=r,e.div.hidden=!1}}const _c="http://www.w3.org/2000/svg",$f=class $f{};ie($f,"CSS",96),ie($f,"PDF",72),ie($f,"PDF_TO_CSS_UNITS",$f.CSS/$f.PDF);let rf=$f;async function FA(t,e="text"){if(Fx(t,document.baseURI)){const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);switch(e){case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"json":return r.json()}return r.text()}return new Promise((r,n)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":r(i.response);return}r(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class BA{constructor({viewBox:e,userUnit:r,scale:n,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=r,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=a,n*=r;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,d,h,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let g,v,y,b;u===0?(g=Math.abs(c-e[1])*n+s,v=Math.abs(l-e[0])*n+a,y=(e[3]-e[1])*n,b=(e[2]-e[0])*n):(g=Math.abs(l-e[0])*n+s,v=Math.abs(c-e[1])*n+a,y=(e[2]-e[0])*n,b=(e[3]-e[1])*n),this.transform=[u*n,d*n,h*n,f*n,g-u*n*l-h*n*c,v-d*n*l-f*n*c],this.width=y,this.height=b}get rawDims(){const e=this.viewBox;return Qe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:r=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new BA({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,r){const n=[e,r];return we.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const r=[e[0],e[1]];we.applyTransform(r,this.transform);const n=[e[2],e[3]];return we.applyTransform(n,this.transform),[r[0],r[1],n[0],n[1]]}convertToPdfPoint(e,r){const n=[e,r];return we.applyInverseTransform(n,this.transform),n}}class _5 extends ag{constructor(e,r=0){super(e,"RenderingCancelledException"),this.extraDelay=r}}function hN(t){const e=t.length;let r=0;for(;r<e&&t[r].trim()==="";)r++;return t.substring(r,r+5).toLowerCase()==="data:"}function A5(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function _et(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Aet(t,e="document.pdf"){if(typeof t!="string")return e;if(hN(t))return Ye('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!n)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(s.test(a))return i(a);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(n.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return i(l[0])}return e}class Sq{constructor(){ie(this,"started",Object.create(null));ie(this,"times",[])}time(e){e in this.started&&Ye(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ye(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let r=0;for(const{name:n}of this.times)r=Math.max(n.length,r);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(r)} ${s-i}ms
`);return e.join("")}}function Fx(t,e){const r=e?URL.parse(t,e):URL.parse(t);return(r==null?void 0:r.protocol)==="http:"||(r==null?void 0:r.protocol)==="https:"}function lo(t){t.preventDefault()}function Xr(t){t.preventDefault(),t.stopPropagation()}function Eet(t){console.log("Deprecated API usage: "+t)}var hS;class Sk{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;p(this,hS)||k(this,hS,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const r=p(this,hS).exec(e);if(!r)return null;const n=parseInt(r[1],10);let i=parseInt(r[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(r[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(r[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(r[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(r[6],10);l=l>=0&&l<=59?l:0;const c=r[7]||"Z";let u=parseInt(r[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(r[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(a+=u,o+=d):c==="+"&&(a-=u,o-=d),new Date(Date.UTC(n,i,s,a,o,l))}}hS=new WeakMap,M(Sk,hS);function Cet(t,{scale:e=1,rotation:r=0}){const{width:n,height:i}=t.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new BA({viewBox:s,userUnit:1,scale:e,rotation:r})}function UA(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ye(`Not a valid color format: "${t}"`),[0,0,0])}function Tet(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const r of t.keys()){e.style.color=r;const n=window.getComputedStyle(e).color;t.set(r,UA(n))}e.remove()}function Or(t){const{a:e,b:r,c:n,d:i,e:s,f:a}=t.getTransform();return[e,r,n,i,s,a]}function cl(t){const{a:e,b:r,c:n,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,r,n,i,s,a]}function Gm(t,e,r=!1,n=!0){if(e instanceof BA){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=Nn.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,u=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!r||e.rotation%180===0?(a.width=u,a.height=d):(a.width=d,a.height=u)}n&&t.setAttribute("data-main-rotation",e.rotation)}class hc{constructor(){const{pixelRatio:e}=hc;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,r,n,i,s=-1){let a=1/0,o=1/0,l=1/0;n=hc.capPixels(n,s),n>0&&(a=Math.sqrt(n/(e*r))),i!==-1&&(o=i/e,l=i/r);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,r){if(r>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+r/100));return e>0?Math.min(e,n):n}return e}}const k$=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Pet{static get isDarkMode(){var e;return Qe(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class ket{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:r}=e;r.width=r.height="0",r.display="none",r.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),Qe(this,"commentForegroundColor",UA(n))}}function jet(t,e,r,n){n=Math.min(Math.max(n??1,0),1);const i=255*(1-n);return t=Math.round(t*n+i),e=Math.round(e*n+i),r=Math.round(r*n+i),[t,e,r]}function _q(t,e){const r=t[0]/255,n=t[1]/255,i=t[2]/255,s=Math.max(r,n,i),a=Math.min(r,n,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case r:e[0]=((n-i)/l+(n<i?6:0))*60;break;case n:e[0]=((i-r)/l+2)*60;break;case i:e[0]=((r-n)/l+4)*60;break}}e[2]=o}function j$(t,e){const r=t[0],n=t[1],i=t[2],s=(1-Math.abs(2*i-1))*n,a=s*(1-Math.abs(r/60%2-1)),o=i-s/2;switch(Math.floor(r/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function Aq(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function Eq(t,e,r){j$(t,r),r.map(Aq);const n=.2126*r[0]+.7152*r[1]+.0722*r[2];j$(e,r),r.map(Aq);const i=.2126*r[0]+.7152*r[1]+.0722*r[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const Cq=new Map;function Oet(t,e){const r=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=Cq.get(r);if(n)return n;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);_q(t,a);const o=i.subarray(6,9);_q(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),Eq(a,o,s)<c){let u,d;l?(u=a[2],d=1):(u=0,d=a[2]);const h=.005;for(;d-u>h;){const f=a[2]=(u+d)/2;l===Eq(a,o,s)<c?u=f:d=f}a[2]=l?d:u}return j$(a,s),n=we.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),Cq.set(r,n),n}function Noe({html:t,dir:e,className:r},n){const i=document.createDocumentFragment();if(typeof t=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=t.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else Ooe.render({xfaHtml:t,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",r),n.append(i)}function Roe(t){const e=new Path2D;if(!t)return e;for(let r=0,n=t.length;r<n;)switch(t[r++]){case vx.moveTo:e.moveTo(t[r++],t[r++]);break;case vx.lineTo:e.lineTo(t[r++],t[r++]);break;case vx.curveTo:e.bezierCurveTo(t[r++],t[r++],t[r++],t[r++],t[r++],t[r++]);break;case vx.quadraticCurveTo:e.quadraticCurveTo(t[r++],t[r++],t[r++],t[r++]);break;case vx.closePath:e.closePath();break;default:Ye(`Unrecognized drawing path operator: ${t[r-1]}`);break}return e}var Rc,Oo,qv,kd,ip,d0,Moe,Ioe;const yt=class yt{constructor(){M(this,d0)}get pagesNumber(){return p(yt,kd)}set pagesNumber(e){p(yt,kd)!==e&&(k(yt,kd,e),e===0&&(k(yt,Oo,null),k(yt,Rc,null)))}addListener(e){p(yt,ip).push(e)}removeListener(e){const r=p(yt,ip).indexOf(e);r>=0&&p(yt,ip).splice(r,1)}movePages(e,r,n){$(this,d0,Ioe).call(this,!0);const i=p(yt,Oo),s=p(yt,Rc);p(yt,qv).set(s);const a=r.length,o=new Uint32Array(a);let l=0;for(let f=0;f<a;f++){const g=r[f]-1;o[f]=i[g],g<n&&(l+=1)}const c=p(yt,kd);let u=n-l;const d=c-a;u=li(u,0,d);for(let f=0,g=0;f<c;f++)e.has(f+1)||(i[g++]=i[f]);i.copyWithin(u+a,u,d),i.set(o,u);let h=!1;for(let f=0,g=c;f<g;f++){const v=i[f];h||(h=v!==f+1),s[v-1]=f+1}$(this,d0,Moe).call(this),h||(this.pagesNumber=0)}hasBeenAltered(){return p(yt,Oo)!==null}getPageMappingForSaving(){return{pageIndices:p(yt,Rc)?p(yt,Rc).map(e=>e-1):null}}getPrevPageNumber(e){return p(yt,qv)[p(yt,Oo)[e-1]-1]}getPageNumber(e){var r;return((r=p(yt,Rc))==null?void 0:r[e-1])??e}getPageId(e){var r;return((r=p(yt,Oo))==null?void 0:r[e-1])??e}static get instance(){return Qe(this,"instance",new yt)}getMapping(){return p(yt,Oo).subarray(0,this.pagesNumber)}};Rc=new WeakMap,Oo=new WeakMap,qv=new WeakMap,kd=new WeakMap,ip=new WeakMap,d0=new WeakSet,Moe=function(){for(const e of p(yt,ip))e()},Ioe=function(e){if(p(yt,Oo))return;const r=p(yt,kd),n=new Uint32Array(3*r),i=k(yt,Oo,n.subarray(0,r)),s=k(yt,Rc,n.subarray(r,2*r));if(e)for(let a=0;a<r;a++)i[a]=s[a]=a+1;k(yt,qv,n.subarray(2*r))},M(yt,Rc,null),M(yt,Oo,null),M(yt,qv,null),M(yt,kd,0),M(yt,ip,[]);let iS=yt;var jd,Od,Na,Ra,fS,Nd,Kv,Xv,pS,Lk,Doe,di,$oe,Loe,Dg,Bx;const kc=class kc{constructor(e){M(this,di);M(this,jd,null);M(this,Od,null);M(this,Na);M(this,Ra,null);M(this,fS,null);M(this,Nd,null);M(this,Kv,null);M(this,Xv,null);k(this,Na,e),p(kc,pS)||k(kc,pS,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=k(this,jd,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const r=p(this,Na)._uiManager._signal;r instanceof AbortSignal&&!r.aborted&&(e.addEventListener("contextmenu",lo,{signal:r}),e.addEventListener("pointerdown",$(kc,Lk,Doe),{signal:r}));const n=k(this,Ra,document.createElement("div"));n.className="buttons",e.append(n);const i=p(this,Na).toolbarPosition;if(i){const{style:s}=e,a=p(this,Na)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return p(this,jd)}hide(){var e;p(this,jd).classList.add("hidden"),(e=p(this,Od))==null||e.hideDropdown()}show(){var e,r;p(this,jd).classList.remove("hidden"),(e=p(this,fS))==null||e.shown(),(r=p(this,Nd))==null||r.shown()}addDeleteButton(){const{editorType:e,_uiManager:r}=p(this,Na),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",p(kc,pS)[e]),$(this,di,Dg).call(this,n)&&n.addEventListener("click",i=>{r.delete()},{signal:r._signal}),p(this,Ra).append(n)}async addAltText(e){const r=await e.render();$(this,di,Dg).call(this,r),p(this,Ra).append(r,p(this,di,Bx)),k(this,fS,e)}addComment(e,r=null){if(p(this,Nd))return;const n=e.renderForToolbar();if(!n)return;$(this,di,Dg).call(this,n);const i=k(this,Kv,p(this,di,Bx));r?(p(this,Ra).insertBefore(n,r),p(this,Ra).insertBefore(i,r)):p(this,Ra).append(n,i),k(this,Nd,e),e.toolbar=this}addColorPicker(e){if(p(this,Od))return;k(this,Od,e);const r=e.renderButton();$(this,di,Dg).call(this,r),p(this,Ra).append(r,p(this,di,Bx))}async addEditSignatureButton(e){const r=k(this,Xv,await e.renderEditButton(p(this,Na)));$(this,di,Dg).call(this,r),p(this,Ra).append(r,p(this,di,Bx))}removeButton(e){var r,n;switch(e){case"comment":(r=p(this,Nd))==null||r.removeToolbarCommentButton(),k(this,Nd,null),(n=p(this,Kv))==null||n.remove(),k(this,Kv,null);break}}async addButton(e,r){switch(e){case"colorPicker":r&&this.addColorPicker(r);break;case"altText":r&&await this.addAltText(r);break;case"editSignature":r&&await this.addEditSignatureButton(r);break;case"delete":this.addDeleteButton();break;case"comment":r&&this.addComment(r);break}}async addButtonBefore(e,r,n){if(!r&&e==="comment")return;const i=p(this,Ra).querySelector(n);i&&e==="comment"&&this.addComment(r,i)}updateEditSignatureButton(e){p(this,Xv)&&(p(this,Xv).title=e)}remove(){var e;p(this,jd).remove(),(e=p(this,Od))==null||e.destroy(),k(this,Od,null)}};jd=new WeakMap,Od=new WeakMap,Na=new WeakMap,Ra=new WeakMap,fS=new WeakMap,Nd=new WeakMap,Kv=new WeakMap,Xv=new WeakMap,pS=new WeakMap,Lk=new WeakSet,Doe=function(e){e.stopPropagation()},di=new WeakSet,$oe=function(e){p(this,Na)._focusEventsAllowed=!1,Xr(e)},Loe=function(e){p(this,Na)._focusEventsAllowed=!0,Xr(e)},Dg=function(e){const r=p(this,Na)._uiManager._signal;return!(r instanceof AbortSignal)||r.aborted?!1:(e.addEventListener("focusin",$(this,di,$oe).bind(this),{capture:!0,signal:r}),e.addEventListener("focusout",$(this,di,Loe).bind(this),{capture:!0,signal:r}),e.addEventListener("contextmenu",lo,{signal:r}),!0)},Bx=function(){const e=document.createElement("div");return e.className="divider",e},M(kc,Lk),M(kc,pS,null);let O$=kc;var mS,sp,Mc,zu,Foe,Boe,N$;class Net{constructor(e){M(this,zu);M(this,mS,null);M(this,sp,null);M(this,Mc);k(this,Mc,e)}show(e,r,n){const[i,s]=$(this,zu,Boe).call(this,r,n),{style:a}=p(this,sp)||k(this,sp,$(this,zu,Foe).call(this));e.append(p(this,sp)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){p(this,sp).remove()}}mS=new WeakMap,sp=new WeakMap,Mc=new WeakMap,zu=new WeakSet,Foe=function(){const e=k(this,sp,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const r=p(this,Mc)._signal;r instanceof AbortSignal&&!r.aborted&&e.addEventListener("contextmenu",lo,{signal:r});const n=k(this,mS,document.createElement("div"));return n.className="buttons",e.append(n),p(this,Mc).hasCommentManager()&&$(this,zu,N$).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{p(this,Mc).commentSelection("floating_button")}),$(this,zu,N$).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{p(this,Mc).highlightSelection("floating_button")}),e},Boe=function(e,r){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(r?s.width:0);if(a>n){i=o,n=a;continue}r?o>i&&(i=o):o<i&&(i=o)}return[r?1-i:i,n]},N$=function(e,r,n,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",r);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",n);const o=p(this,Mc)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",lo,{signal:o}),s.addEventListener("click",i,{signal:o})),p(this,mS).append(s)};function Uoe(t,e,r){for(const n of r)e.addEventListener(n,t[n].bind(t))}var ap,op,Yv,lp;const qt=class qt{static initializeAndAddPointerId(e){(p(qt,op)||k(qt,op,new Set)).add(e)}static setPointer(e,r){p(qt,ap)||k(qt,ap,r),p(qt,lp)??k(qt,lp,e)}static setTimeStamp(e){k(qt,Yv,e)}static isSamePointerId(e){return p(qt,ap)===e}static isSamePointerIdOrRemove(e){var r;return p(qt,ap)===e?!0:((r=p(qt,op))==null||r.delete(e),!1)}static isSamePointerType(e){return p(qt,lp)===e}static isInitializedAndDifferentPointerType(e){return p(qt,lp)!==null&&!qt.isSamePointerType(e)}static isSameTimeStamp(e){return p(qt,Yv)===e}static isUsingMultiplePointers(){var e;return((e=p(qt,op))==null?void 0:e.size)>=1}static clearPointerType(){k(qt,lp,null)}static clearPointerIds(){k(qt,ap,NaN),k(qt,op,null)}static clearTimeStamp(){k(qt,Yv,NaN)}};ap=new WeakMap,op=new WeakMap,Yv=new WeakMap,lp=new WeakMap,M(qt,ap,NaN),M(qt,op,null),M(qt,Yv,NaN),M(qt,lp,null);let Si=qt;var Fk;class Ret{constructor(){M(this,Fk,0)}get id(){return`${tS}${Fr(this,Fk)._++}`}}Fk=new WeakMap;var Qv,gS,Ai,Zv,NC;const N5=class N5{constructor(){M(this,Zv);M(this,Qv,joe());M(this,gS,0);M(this,Ai,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Qe(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:r,name:n,size:i,type:s}=e;return $(this,Zv,NC).call(this,`${r}_${n}_${i}_${s}`,e)}async getFromUrl(e){return $(this,Zv,NC).call(this,e,e)}async getFromBlob(e,r){const n=await r;return $(this,Zv,NC).call(this,e,n)}async getFromId(e){p(this,Ai)||k(this,Ai,new Map);const r=p(this,Ai).get(e);if(!r)return null;if(r.bitmap)return r.refCounter+=1,r;if(r.file)return this.getFromFile(r.file);if(r.blobPromise){const{blobPromise:n}=r;return delete r.blobPromise,this.getFromBlob(r.id,n)}return this.getFromUrl(r.url)}getFromCanvas(e,r){p(this,Ai)||k(this,Ai,new Map);let n=p(this,Ai).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(r.width,r.height);return i.getContext("2d").drawImage(r,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${p(this,Qv)}_${Fr(this,gS)._++}`,refCounter:1,isSvg:!1},p(this,Ai).set(e,n),p(this,Ai).set(n.id,n),n}getSvgUrl(e){const r=p(this,Ai).get(e);return r!=null&&r.isSvg?r.svgUrl:null}deleteId(e){var i;p(this,Ai)||k(this,Ai,new Map);const r=p(this,Ai).get(e);if(!r||(r.refCounter-=1,r.refCounter!==0))return;const{bitmap:n}=r;if(!r.url&&!r.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),r.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),r.bitmap=null}isValidId(e){return e.startsWith(`image_${p(this,Qv)}_`)}};Qv=new WeakMap,gS=new WeakMap,Ai=new WeakMap,Zv=new WeakSet,NC=async function(e,r){p(this,Ai)||k(this,Ai,new Map);let n=p(this,Ai).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${p(this,Qv)}_${Fr(this,gS)._++}`,refCounter:0,isSvg:!1});let i;if(typeof r=="string"?(n.url=r,i=await FA(r,"blob")):r instanceof File?i=n.file=r:r instanceof Blob&&(i=r),i.type==="image/svg+xml"){const s=N5._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,c()},a.onload=async()=>{const d=n.svgUrl=a.result;o.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=u});a.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Ye(i),n=null}return p(this,Ai).set(e,n),n&&p(this,Ai).set(n.id,n),n};let R$=N5;var Zr,Rd,vS,kr;class Met{constructor(e=128){M(this,Zr,[]);M(this,Rd,!1);M(this,vS);M(this,kr,-1);k(this,vS,e)}add({cmd:e,undo:r,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),p(this,Rd))return;const l={cmd:e,undo:r,post:n,type:s};if(p(this,kr)===-1){p(this,Zr).length>0&&(p(this,Zr).length=0),k(this,kr,0),p(this,Zr).push(l);return}if(a&&p(this,Zr)[p(this,kr)].type===s){o&&(l.undo=p(this,Zr)[p(this,kr)].undo),p(this,Zr)[p(this,kr)]=l;return}const c=p(this,kr)+1;c===p(this,vS)?p(this,Zr).splice(0,1):(k(this,kr,c),c<p(this,Zr).length&&p(this,Zr).splice(c)),p(this,Zr).push(l)}undo(){if(p(this,kr)===-1)return;k(this,Rd,!0);const{undo:e,post:r}=p(this,Zr)[p(this,kr)];e(),r==null||r(),k(this,Rd,!1),k(this,kr,p(this,kr)-1)}redo(){if(p(this,kr)<p(this,Zr).length-1){k(this,kr,p(this,kr)+1),k(this,Rd,!0);const{cmd:e,post:r}=p(this,Zr)[p(this,kr)];e(),r==null||r(),k(this,Rd,!1)}}hasSomethingToUndo(){return p(this,kr)!==-1}hasSomethingToRedo(){return p(this,kr)<p(this,Zr).length-1}cleanType(e){if(p(this,kr)!==-1){for(let r=p(this,kr);r>=0;r--)if(p(this,Zr)[r].type!==e){p(this,Zr).splice(r+1,p(this,kr)-r),k(this,kr,r);return}p(this,Zr).length=0,k(this,kr,-1)}}destroy(){k(this,Zr,null)}}Zr=new WeakMap,Rd=new WeakMap,vS=new WeakMap,kr=new WeakMap;var Bk,Voe;class VA{constructor(e){M(this,Bk);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:r}=Nn.platform;for(const[n,i,s={}]of e)for(const a of n){const o=a.startsWith("mac+");r&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!r&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,r){if(!this.allKeys.has(r.key))return;const n=this.callbacks.get($(this,Bk,Voe).call(this,r));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,r)||(i.bind(e,...a,r)(),s||Xr(r))}}Bk=new WeakSet,Voe=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const r=this.buffer.join("+");return this.buffer.length=0,r};const Uk=class Uk{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Tet(e),Qe(this,"_colors",e)}convert(e){const r=UA(e);if(!window.matchMedia("(forced-colors: active)").matches)return r;for(const[n,i]of this._colors)if(i.every((s,a)=>s===r[a]))return Uk._colorsMapping.get(n);return r}getHexCode(e){const r=this._colors.get(e);return r?we.makeHexColor(...r):e}};ie(Uk,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let M$=Uk;var Jv,Is,ey,jr,Jr,ty,Ma,ry,Ia,Ei,Md,Id,ny,Dd,yl,Da,cp,yS,bS,iy,xS,bl,$d,sy,Ld,xl,Vk,Fd,ay,wS,Bd,up,oy,Ud,SS,un,$t,Ic,Vd,zd,_S,ly,AS,Hd,wl,Dc,ES,CS,$a,xe,RC,I$,zoe,Hoe,Ux,Woe,Goe,qoe,D$,Koe,Xoe,Yoe,Qoe,$i,Ac,Zoe,Joe,$$,ele,Vx,L$;const vv=class vv{constructor(e,r,n,i,s,a,o,l,c,u,d,h,f,g,v,y){M(this,xe);M(this,Jv,new AbortController);M(this,Is,null);M(this,ey,null);M(this,jr,new Map);M(this,Jr,new Map);M(this,ty,null);M(this,Ma,null);M(this,ry,null);M(this,Ia,new Met);M(this,Ei,null);M(this,Md,null);M(this,Id,null);M(this,ny,0);M(this,Dd,new Set);M(this,yl,null);M(this,Da,null);M(this,cp,new Set);ie(this,"_editorUndoBar",null);M(this,yS,!1);M(this,bS,!1);M(this,iy,!1);M(this,xS,null);M(this,bl,null);M(this,$d,null);M(this,sy,null);M(this,Ld,!1);M(this,xl,null);M(this,Vk,new Ret);M(this,Fd,!1);M(this,ay,!1);M(this,wS,!1);M(this,Bd,null);M(this,up,null);M(this,oy,null);M(this,Ud,null);M(this,SS,null);M(this,un,nt.NONE);M(this,$t,new Set);M(this,Ic,null);M(this,Vd,null);M(this,zd,null);M(this,_S,null);M(this,ly,null);M(this,AS,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});M(this,Hd,[0,0]);M(this,wl,null);M(this,Dc,null);M(this,ES,null);M(this,CS,null);M(this,$a,null);const b=this._signal=p(this,Jv).signal;k(this,Dc,e),k(this,ES,r),k(this,CS,n),k(this,ty,i),k(this,Ei,s),k(this,Vd,a),k(this,ly,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:b}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),o._on("setpreference",this.onSetPreference.bind(this),{signal:b}),o._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:b}),o._on("pagesedited",this.onPagesEdited.bind(this),{signal:b}),window.addEventListener("pointerdown",()=>{k(this,ay,!0)},{capture:!0,signal:b}),window.addEventListener("pointerup",()=>{k(this,ay,!1)},{capture:!0,signal:b}),$(this,xe,Woe).call(this),$(this,xe,Qoe).call(this),$(this,xe,D$).call(this),k(this,Ma,l.annotationStorage),k(this,xS,l.filterFactory),k(this,zd,c),k(this,sy,u||null),k(this,yS,d),k(this,bS,h),k(this,iy,f),k(this,SS,g||null),this.viewParameters={realScale:rf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=y!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=vv.prototype,r=a=>p(a,Dc).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Qe(this,"_keyboardManager",new VA([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&p(a,Dc).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&p(a,Dc).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:r}]]))}destroy(){var e,r,n,i,s,a,o,l,c;(e=p(this,$a))==null||e.resolve(),k(this,$a,null),(r=p(this,Jv))==null||r.abort(),k(this,Jv,null),this._signal=null;for(const u of p(this,Jr).values())u.destroy();p(this,Jr).clear(),p(this,jr).clear(),p(this,cp).clear(),(n=p(this,Ud))==null||n.clear(),k(this,Is,null),p(this,$t).clear(),p(this,Ia).destroy(),(i=p(this,ty))==null||i.destroy(),(s=p(this,Ei))==null||s.destroy(),(a=p(this,Vd))==null||a.destroy(),(o=p(this,xl))==null||o.hide(),k(this,xl,null),(l=p(this,oy))==null||l.destroy(),k(this,oy,null),k(this,ey,null),p(this,bl)&&(clearTimeout(p(this,bl)),k(this,bl,null)),p(this,wl)&&(clearTimeout(p(this,wl)),k(this,wl,null)),(c=this._editorUndoBar)==null||c.destroy(),k(this,ly,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return p(this,SS)}get useNewAltTextFlow(){return p(this,bS)}get useNewAltTextWhenAddingImage(){return p(this,iy)}get hcmFilter(){return Qe(this,"hcmFilter",p(this,zd)?p(this,xS).addHCMFilter(p(this,zd).foreground,p(this,zd).background):"none")}get direction(){return Qe(this,"direction",getComputedStyle(p(this,Dc)).direction)}get _highlightColors(){return Qe(this,"_highlightColors",p(this,sy)?new Map(p(this,sy).split(",").map(e=>(e=e.split("=").map(r=>r.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Qe(this,"highlightColors",null);const r=new Map,n=!!p(this,zd);for(const[i,s]of e){const a=i.endsWith("_HCM");if(n&&a){r.set(i.replace("_HCM",""),s);continue}!n&&!a&&r.set(i,s)}return Qe(this,"highlightColors",r)}get highlightColorNames(){return Qe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const r=this.highlightColorNames.get(e);return this._highlightColors.get(r)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),k(this,Id,e)}setMainHighlightColorPicker(e){k(this,oy,e)}editAltText(e,r=!1){var n;(n=p(this,ty))==null||n.editAltText(this,e,r)}hasCommentManager(){return!!p(this,Ei)}editComment(e,r,n,i){var s;(s=p(this,Ei))==null||s.showDialog(this,e,r,n,i)}selectComment(e,r){const n=p(this,Jr).get(e),i=n==null?void 0:n.getEditorByUID(r);i==null||i.toggleComment(!0,!0)}updateComment(e){var r;(r=p(this,Ei))==null||r.updateComment(e.getData())}updatePopupColor(e){var r;(r=p(this,Ei))==null||r.updatePopupColor(e)}removeComment(e){var r;(r=p(this,Ei))==null||r.removeComments([e.uid])}deleteComment(e,r){const n=()=>{e.comment=r},i=()=>{var s;(s=this._editorUndoBar)==null||s.show(n,"comment"),this.toggleComment(null),e.comment=null};this.addCommands({cmd:i,undo:n,mustExec:!0})}toggleComment(e,r,n=void 0){var i;(i=p(this,Ei))==null||i.toggleCommentPopup(e,r,n)}makeCommentColor(e,r){var n;return e&&((n=p(this,Ei))==null?void 0:n.makeCommentColor(e,r))||null}getCommentDialogElement(){var e;return((e=p(this,Ei))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(p(this,Jr).has(e-1))return;const{resolve:r,promise:n}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),r())};this._eventBus.on("editorsrendered",i),await n}getSignature(e){var r;(r=p(this,Vd))==null||r.getSignature({uiManager:this,editor:e})}get signatureManager(){return p(this,Vd)}switchToMode(e,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,r){this._eventBus.dispatch("setpreference",{source:this,name:e,value:r})}onSetPreference({name:e,value:r}){switch(e){case"enableNewAltTextWhenAddingImage":k(this,iy,r);break}}onPagesEdited({pagesMapper:e}){for(const i of p(this,jr).values())i.updatePageIndex(e.getPrevPageNumber(i.pageIndex+1)-1);const r=p(this,Jr),n=k(this,Jr,new Map);for(const[i,s]of r){const a=e.getPrevPageNumber(i+1)-1;if(a===-1){s.destroy();continue}n.set(a,s),s.updatePageIndex(a)}}onPageChanging({pageNumber:e}){k(this,ny,e-1)}focusMainContainer(){p(this,Dc).focus()}findParent(e,r){for(const n of p(this,Jr).values()){const{x:i,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&r>=s&&r<=s+o)return n}return null}disableUserSelect(e=!1){p(this,ES).classList.toggle("noUserSelect",e)}addShouldRescale(e){p(this,cp).add(e)}removeShouldRescale(e){p(this,cp).delete(e)}onScaleChanging({scale:e}){var r;this.commitOrRemove(),this.viewParameters.realScale=e*rf.PDF_TO_CSS_UNITS;for(const n of p(this,cp))n.onScaleChanging();(r=p(this,Id))==null||r.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",r=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=n,l=n.toString(),u=$(this,xe,RC).call(this,n).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;n.empty();const h=$(this,xe,I$).call(this,u),f=p(this,un)===nt.NONE,g=()=>{const v=h==null?void 0:h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});f&&this.showAllEditors("highlight",!0,!0),r&&(v==null||v.editComment())};if(f){this.switchToMode(nt.HIGHLIGHT,g);return}g()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!p(this,Ma))return null;const r=`${tS}${e}`,n=p(this,Ma).getRawValue(r);return n&&p(this,Ma).remove(r),n}addToAnnotationStorage(e){!e.isEmpty()&&p(this,Ma)&&!p(this,Ma).has(e.id)&&p(this,Ma).setValue(e.id,e)}a11yAlert(e,r=null){const n=p(this,CS);n&&(n.setAttribute("data-l10n-id",e),r?n.setAttribute("data-l10n-args",JSON.stringify(r)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,p(this,Ld)&&(k(this,Ld,!1),$(this,xe,Ux).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const r of p(this,$t))if(r.div.contains(e)){k(this,up,[r,e]),r._focusEventsAllowed=!1;break}}focus(){if(!p(this,up))return;const[e,r]=p(this,up);k(this,up,null),r.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}addEditListeners(){$(this,xe,D$).call(this),this.setEditingState(!0)}removeEditListeners(){$(this,xe,Koe).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:r}of e.dataTransfer.items)for(const n of p(this,Da))if(n.isHandlingMimeForPasting(r)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const r of e.dataTransfer.items)for(const n of p(this,Da))if(n.isHandlingMimeForPasting(r.type)){n.paste(r,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=p(this,Is))==null||n.commitOrRemove(),!this.hasSelection)return;const r=[];for(const i of p(this,$t)){const s=i.serialize(!0);s&&r.push(s)}r.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:r}=e;for(const s of r.items)for(const a of p(this,Da))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=r.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Ye(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of n){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)$(this,xe,$$).call(this,l);$(this,xe,L$).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Ye(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),p(this,un)!==nt.NONE&&!this.isEditorHandlingKeyboard&&vv._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,p(this,Ld)&&(k(this,Ld,!1),$(this,xe,Ux).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?($(this,xe,Goe).call(this),$(this,xe,Xoe).call(this),$(this,xe,$i).call(this,{isEditing:p(this,un)!==nt.NONE,isEmpty:$(this,xe,Vx).call(this),hasSomethingToUndo:p(this,Ia).hasSomethingToUndo(),hasSomethingToRedo:p(this,Ia).hasSomethingToRedo(),hasSelectedEditor:!1})):($(this,xe,qoe).call(this),$(this,xe,Yoe).call(this),$(this,xe,$i).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!p(this,Da)){k(this,Da,e);for(const r of p(this,Da))$(this,xe,Ac).call(this,r.defaultPropertiesToUpdate)}}getId(){return p(this,Vk).id}get currentLayer(){return p(this,Jr).get(p(this,ny))}getLayer(e){return p(this,Jr).get(e)}get currentPageIndex(){return p(this,ny)}addLayer(e){p(this,Jr).set(e.pageIndex,e),p(this,Fd)?e.enable():e.disable()}removeLayer(e){p(this,Jr).delete(e.pageIndex)}async updateMode(e,r=null,n=!1,i=!1,s=!1,a=!1){var o,l,c,u,d,h;if(p(this,un)!==e&&!(p(this,$a)&&(await p(this,$a).promise,!p(this,$a)))){if(k(this,$a,Promise.withResolvers()),(o=p(this,Id))==null||o.commitOrRemove(),p(this,un)===nt.POPUP&&((l=p(this,Ei))==null||l.hideSidebar()),(c=p(this,Ei))==null||c.destroyPopup(),k(this,un,e),e===nt.NONE){this.setEditingState(!1),$(this,xe,Joe).call(this);for(const f of p(this,jr).values())f.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),p(this,$a).resolve();return}for(const f of p(this,jr).values())f.addStandaloneCommentButton();e===nt.SIGNATURE&&await((d=p(this,Vd))==null?void 0:d.loadSignatures()),n&&Si.clearPointerType(),this.setEditingState(!0),await $(this,xe,Zoe).call(this),this.unselectAll();for(const f of p(this,Jr).values())f.updateMode(e);if(e===nt.POPUP){p(this,ey)||k(this,ey,await p(this,ly).getAnnotationsByType(new Set(p(this,Da).map(v=>v._editorType))));const f=new Set,g=[];for(const v of p(this,jr).values()){const{annotationElementId:y,hasComment:b,deleted:x}=v;y&&f.add(y),b&&!x&&g.push(v.getData())}for(const v of p(this,ey)){const{id:y,popupRef:b,contentsObj:x}=v;b&&(x!=null&&x.str)&&!f.has(y)&&!p(this,Dd).has(y)&&g.push(v)}(h=p(this,Ei))==null||h.showSidebar(g)}if(!r){i&&this.addNewEditorFromKeyboard(),p(this,$a).resolve();return}for(const f of p(this,jr).values())f.uid===r?(this.setSelected(f),a?f.editComment():s?f.enterInEditMode():f.focus()):f.unselect();p(this,$a).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==p(this,un)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,r){if(p(this,Da)){switch(e){case gt.CREATE:this.currentLayer.addNewEditor(r);return;case gt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(p(this,_S)||k(this,_S,new Map)).set(e,r),this.showAllEditors("highlight",r);break}if(this.hasSelection)for(const n of p(this,$t))n.updateParams(e,r);else for(const n of p(this,Da))n.updateDefaultParams(e,r)}}showAllEditors(e,r,n=!1){var s;for(const a of p(this,jr).values())a.editorType===e&&a.show(r);(((s=p(this,_S))==null?void 0:s.get(gt.HIGHLIGHT_SHOW_ALL))??!0)!==r&&$(this,xe,Ac).call(this,[[gt.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(e=!1){if(p(this,wS)!==e){k(this,wS,e);for(const r of p(this,Jr).values())e?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",e)}}*getEditors(e){for(const r of p(this,jr).values())r.pageIndex===e&&(yield r)}getEditor(e){return p(this,jr).get(e)}addEditor(e){p(this,jr).set(e.id,e)}removeEditor(e){var r,n;e.div.contains(document.activeElement)&&(p(this,bl)&&clearTimeout(p(this,bl)),k(this,bl,setTimeout(()=>{this.focusMainContainer(),k(this,bl,null)},0))),p(this,jr).delete(e.id),e.annotationElementId&&((r=p(this,Ud))==null||r.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!p(this,Dd).has(e.annotationElementId))&&((n=p(this,Ma))==null||n.remove(e.id))}addDeletedAnnotationElement(e){p(this,Dd).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return p(this,Dd).has(e)}removeDeletedAnnotationElement(e){p(this,Dd).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){p(this,Is)!==e&&(k(this,Is,e),e&&$(this,xe,Ac).call(this,e.propertiesToUpdate))}updateUI(e){p(this,xe,ele)===e&&$(this,xe,Ac).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){$(this,xe,Ac).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(p(this,$t).has(e)){p(this,$t).delete(e),e.unselect(),$(this,xe,$i).call(this,{hasSelectedEditor:this.hasSelection});return}p(this,$t).add(e),e.select(),$(this,xe,Ac).call(this,e.propertiesToUpdate),$(this,xe,$i).call(this,{hasSelectedEditor:!0})}setSelected(e){var r;this.updateToolbar({mode:e.mode,editId:e.uid}),(r=p(this,Id))==null||r.commitOrRemove();for(const n of p(this,$t))n!==e&&n.unselect();p(this,$t).clear(),p(this,$t).add(e),e.select(),$(this,xe,Ac).call(this,e.propertiesToUpdate),$(this,xe,$i).call(this,{hasSelectedEditor:!0})}isSelected(e){return p(this,$t).has(e)}get firstSelectedEditor(){return p(this,$t).values().next().value}unselect(e){e.unselect(),p(this,$t).delete(e),$(this,xe,$i).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return p(this,$t).size!==0}get isEnterHandled(){return p(this,$t).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;p(this,Ia).undo(),$(this,xe,$i).call(this,{hasSomethingToUndo:p(this,Ia).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:$(this,xe,Vx).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){p(this,Ia).redo(),$(this,xe,$i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:p(this,Ia).hasSomethingToRedo(),isEmpty:$(this,xe,Vx).call(this)})}addCommands(e){p(this,Ia).add(e),$(this,xe,$i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:$(this,xe,Vx).call(this)})}cleanUndoStack(e){p(this,Ia).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const r=e?[e]:[...p(this,$t)],n=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,r.length===1?r[0].editorType:r.length);for(const o of r)o.remove()},i=()=>{for(const a of r)$(this,xe,$$).call(this,a)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=p(this,Is))==null||e.commitOrRemove()}hasSomethingToControl(){return p(this,Is)||this.hasSelection}selectAll(){for(const e of p(this,$t))e.commit();$(this,xe,L$).call(this,p(this,jr).values())}unselectAll(){var e;if(!(p(this,Is)&&(p(this,Is).commitOrRemove(),p(this,un)!==nt.NONE))&&!((e=p(this,Id))!=null&&e.commitOrRemove())&&this.hasSelection){for(const r of p(this,$t))r.unselect();p(this,$t).clear(),$(this,xe,$i).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,r,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;p(this,Hd)[0]+=e,p(this,Hd)[1]+=r;const[i,s]=p(this,Hd),a=[...p(this,$t)],o=1e3;p(this,wl)&&clearTimeout(p(this,wl)),k(this,wl,setTimeout(()=>{k(this,wl,null),p(this,Hd)[0]=p(this,Hd)[1]=0,this.addCommands({cmd:()=>{for(const l of a)p(this,jr).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)p(this,jr).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,r),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),k(this,yl,new Map);for(const e of p(this,$t))p(this,yl).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!p(this,yl))return!1;this.disableUserSelect(!1);const e=p(this,yl);k(this,yl,null);let r=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,r||(r=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!r)return!1;const n=(i,s,a,o)=>{if(p(this,jr).has(i.id)){const l=p(this,Jr).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)n(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,r){if(p(this,yl))for(const n of p(this,yl).keys())n.drag(e,r)}rebuild(e){if(e.parent===null){const r=this.getLayer(e.pageIndex);r?(r.changeParent(e),r.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||p(this,$t).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return p(this,Is)===e}getActive(){return p(this,Is)}getMode(){return p(this,un)}isEditingMode(){return p(this,un)!==nt.NONE}get imageManager(){return Qe(this,"imageManager",new R$)}getSelectionBoxes(e){if(!e)return null;const r=document.getSelection();for(let c=0,u=r.rangeCount;c<u;c++)if(!e.contains(r.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,u,d,h)=>({x:(u-i)/a,y:1-(c+d-n)/s,width:h/a,height:d/s});break;case"180":o=(c,u,d,h)=>({x:1-(c+d-n)/s,y:1-(u+h-i)/a,width:d/s,height:h/a});break;case"270":o=(c,u,d,h)=>({x:1-(u+h-i)/a,y:(c-n)/s,width:h/a,height:d/s});break;default:o=(c,u,d,h)=>({x:(c-n)/s,y:(u-i)/a,width:d/s,height:h/a});break}const l=[];for(let c=0,u=r.rangeCount;c<u;c++){const d=r.getRangeAt(c);if(!d.collapsed)for(const{x:h,y:f,width:g,height:v}of d.getClientRects())g===0||v===0||l.push(o(h,f,g,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:r}){(p(this,ry)||k(this,ry,new Map)).set(e,r)}removeChangedExistingAnnotation({annotationElementId:e}){var r;(r=p(this,ry))==null||r.delete(e)}renderAnnotationElement(e){var i;const r=(i=p(this,ry))==null?void 0:i.get(e.data.id);if(!r)return;const n=p(this,Ma).getRawValue(r);n&&(p(this,un)===nt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,r,n){var s;const i=(s=p(this,Ud))==null?void 0:s.get(e);i&&(i.setCanvas(r,n),p(this,Ud).delete(e))}addMissingCanvas(e,r){(p(this,Ud)||k(this,Ud,new Map)).set(e,r)}};Jv=new WeakMap,Is=new WeakMap,ey=new WeakMap,jr=new WeakMap,Jr=new WeakMap,ty=new WeakMap,Ma=new WeakMap,ry=new WeakMap,Ia=new WeakMap,Ei=new WeakMap,Md=new WeakMap,Id=new WeakMap,ny=new WeakMap,Dd=new WeakMap,yl=new WeakMap,Da=new WeakMap,cp=new WeakMap,yS=new WeakMap,bS=new WeakMap,iy=new WeakMap,xS=new WeakMap,bl=new WeakMap,$d=new WeakMap,sy=new WeakMap,Ld=new WeakMap,xl=new WeakMap,Vk=new WeakMap,Fd=new WeakMap,ay=new WeakMap,wS=new WeakMap,Bd=new WeakMap,up=new WeakMap,oy=new WeakMap,Ud=new WeakMap,SS=new WeakMap,un=new WeakMap,$t=new WeakMap,Ic=new WeakMap,Vd=new WeakMap,zd=new WeakMap,_S=new WeakMap,ly=new WeakMap,AS=new WeakMap,Hd=new WeakMap,wl=new WeakMap,Dc=new WeakMap,ES=new WeakMap,CS=new WeakMap,$a=new WeakMap,xe=new WeakSet,RC=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},I$=function(e){const{currentLayer:r}=this;if(r.hasTextLayer(e))return r;for(const n of p(this,Jr).values())if(n.hasTextLayer(e))return n;return null},zoe=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=$(this,xe,RC).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(p(this,xl)||k(this,xl,new Net(this)),p(this,xl).show(n,i,this.direction==="ltr"))},Hoe=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){p(this,Ic)&&((s=p(this,xl))==null||s.hide(),k(this,Ic,null),$(this,xe,$i).call(this,{hasSelectedText:!1}));return}const{anchorNode:r}=e;if(r===p(this,Ic))return;const i=$(this,xe,RC).call(this,e).closest(".textLayer");if(!i){p(this,Ic)&&((a=p(this,xl))==null||a.hide(),k(this,Ic,null),$(this,xe,$i).call(this,{hasSelectedText:!1}));return}if((o=p(this,xl))==null||o.hide(),k(this,Ic,r),$(this,xe,$i).call(this,{hasSelectedText:!0}),!(p(this,un)!==nt.HIGHLIGHT&&p(this,un)!==nt.NONE)&&(p(this,un)===nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),k(this,Ld,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=p(this,un)===nt.HIGHLIGHT?$(this,xe,I$).call(this,i):null;if(l==null||l.toggleDrawing(),p(this,ay)){const c=new AbortController,u=this.combinedSignal(c),d=h=>{h.type==="pointerup"&&h.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),h.type==="pointerup"&&$(this,xe,Ux).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else l==null||l.toggleDrawing(!0),$(this,xe,Ux).call(this,"main_toolbar")}},Ux=function(e=""){p(this,un)===nt.HIGHLIGHT?this.highlightSelection(e):p(this,yS)&&$(this,xe,zoe).call(this)},Woe=function(){document.addEventListener("selectionchange",$(this,xe,Hoe).bind(this),{signal:this._signal})},Goe=function(){if(p(this,$d))return;k(this,$d,new AbortController);const e=this.combinedSignal(p(this,$d));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},qoe=function(){var e;(e=p(this,$d))==null||e.abort(),k(this,$d,null)},D$=function(){if(p(this,Bd))return;k(this,Bd,new AbortController);const e=this.combinedSignal(p(this,Bd));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Koe=function(){var e;(e=p(this,Bd))==null||e.abort(),k(this,Bd,null)},Xoe=function(){if(p(this,Md))return;k(this,Md,new AbortController);const e=this.combinedSignal(p(this,Md));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Yoe=function(){var e;(e=p(this,Md))==null||e.abort(),k(this,Md,null)},Qoe=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},$i=function(e){Object.entries(e).some(([n,i])=>p(this,AS)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(p(this,AS),e)}),p(this,un)===nt.HIGHLIGHT&&e.hasSelectedEditor===!1&&$(this,xe,Ac).call(this,[[gt.HIGHLIGHT_FREE,!0]]))},Ac=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Zoe=async function(){if(!p(this,Fd)){k(this,Fd,!0);const e=[];for(const r of p(this,Jr).values())e.push(r.enable());await Promise.all(e);for(const r of p(this,jr).values())r.enable()}},Joe=function(){if(this.unselectAll(),p(this,Fd)){k(this,Fd,!1);for(const e of p(this,Jr).values())e.disable();for(const e of p(this,jr).values())e.disable()}},$$=function(e){const r=p(this,Jr).get(e.pageIndex);r?r.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},ele=function(){let e=null;for(e of p(this,$t));return e},Vx=function(){if(p(this,jr).size===0)return!0;if(p(this,jr).size===1)for(const e of p(this,jr).values())return e.isEmpty();return!1},L$=function(e){for(const r of p(this,$t))r.unselect();p(this,$t).clear();for(const r of e)r.isEmpty()||(p(this,$t).add(r),r.select());$(this,xe,$i).call(this,{hasSelectedEditor:this.hasSelection})},ie(vv,"TRANSLATE_SMALL",1),ie(vv,"TRANSLATE_BIG",10);let qm=vv;var Dn,Sl,No,cy,_l,Ds,uy,Al,ls,$c,dp,El,Wd,Qo,zx,MC;const Li=class Li{constructor(e){M(this,Qo);M(this,Dn,null);M(this,Sl,!1);M(this,No,null);M(this,cy,null);M(this,_l,null);M(this,Ds,null);M(this,uy,!1);M(this,Al,null);M(this,ls,null);M(this,$c,null);M(this,dp,null);M(this,El,!1);k(this,ls,e),k(this,El,e._uiManager.useNewAltTextFlow),p(Li,Wd)||k(Li,Wd,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Li._l10n??(Li._l10n=e)}async render(){const e=k(this,No,document.createElement("button"));e.className="altText",e.tabIndex="0";const r=k(this,cy,document.createElement("span"));e.append(r),p(this,El)?(e.classList.add("new"),e.setAttribute("data-l10n-id",p(Li,Wd).missing),r.setAttribute("data-l10n-id",p(Li,Wd)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=p(this,ls)._uiManager._signal;e.addEventListener("contextmenu",lo,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),p(this,ls)._uiManager.editAltText(p(this,ls)),p(this,El)&&p(this,ls)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:p(this,Qo,zx)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(k(this,uy,!0),i(s))},{signal:n}),await $(this,Qo,MC).call(this),e}finish(){p(this,No)&&(p(this,No).focus({focusVisible:p(this,uy)}),k(this,uy,!1))}isEmpty(){return p(this,El)?p(this,Dn)===null:!p(this,Dn)&&!p(this,Sl)}hasData(){return p(this,El)?p(this,Dn)!==null||!!p(this,$c):this.isEmpty()}get guessedText(){return p(this,$c)}async setGuessedText(e){p(this,Dn)===null&&(k(this,$c,e),k(this,dp,await Li._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),$(this,Qo,MC).call(this))}toggleAltTextBadge(e=!1){var r;if(!p(this,El)||p(this,Dn)){(r=p(this,Al))==null||r.remove(),k(this,Al,null);return}if(!p(this,Al)){const n=k(this,Al,document.createElement("div"));n.className="noAltTextBadge",p(this,ls).div.append(n)}p(this,Al).classList.toggle("hidden",!e)}serialize(e){let r=p(this,Dn);return!e&&p(this,$c)===r&&(r=p(this,dp)),{altText:r,decorative:p(this,Sl),guessedText:p(this,$c),textWithDisclaimer:p(this,dp)}}get data(){return{altText:p(this,Dn),decorative:p(this,Sl)}}set data({altText:e,decorative:r,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(k(this,$c,n),k(this,dp,i)),!(p(this,Dn)===e&&p(this,Sl)===r)&&(s||(k(this,Dn,e),k(this,Sl,r)),$(this,Qo,MC).call(this))}toggle(e=!1){p(this,No)&&(!e&&p(this,Ds)&&(clearTimeout(p(this,Ds)),k(this,Ds,null)),p(this,No).disabled=!e)}shown(){p(this,ls)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:p(this,Qo,zx)}})}destroy(){var e,r;(e=p(this,No))==null||e.remove(),k(this,No,null),k(this,cy,null),k(this,_l,null),(r=p(this,Al))==null||r.remove(),k(this,Al,null)}};Dn=new WeakMap,Sl=new WeakMap,No=new WeakMap,cy=new WeakMap,_l=new WeakMap,Ds=new WeakMap,uy=new WeakMap,Al=new WeakMap,ls=new WeakMap,$c=new WeakMap,dp=new WeakMap,El=new WeakMap,Wd=new WeakMap,Qo=new WeakSet,zx=function(){return p(this,Dn)&&"added"||p(this,Dn)===null&&this.guessedText&&"review"||"missing"},MC=async function(){var i,s,a;const e=p(this,No);if(!e)return;if(p(this,El)){if(e.classList.toggle("done",!!p(this,Dn)),e.setAttribute("data-l10n-id",p(Li,Wd)[p(this,Qo,zx)]),(i=p(this,cy))==null||i.setAttribute("data-l10n-id",p(Li,Wd)[`${p(this,Qo,zx)}-label`]),!p(this,Dn)){(s=p(this,_l))==null||s.remove();return}}else{if(!p(this,Dn)&&!p(this,Sl)){e.classList.remove("done"),(a=p(this,_l))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=p(this,_l);if(!r){k(this,_l,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${p(this,ls).id}`;const o=100,l=p(this,ls)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(p(this,Ds)),k(this,Ds,null)},{once:!0}),e.addEventListener("mouseenter",()=>{k(this,Ds,setTimeout(()=>{k(this,Ds,null),p(this,_l).classList.add("show"),p(this,ls)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;p(this,Ds)&&(clearTimeout(p(this,Ds)),k(this,Ds,null)),(c=p(this,_l))==null||c.classList.remove("show")},{signal:l})}p(this,Sl)?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=p(this,Dn)),r.parentNode||e.append(r);const n=p(this,ls).getElementForAltText();n==null||n.setAttribute("aria-describedby",r.id)},M(Li,Wd,null),ie(Li,"_l10n",null);let _k=Li;var ei,La,hp,or,TS,Gd,Fa,qd,Kd,fp,PS,F$;class WE{constructor(e){M(this,PS);M(this,ei,null);M(this,La,null);M(this,hp,!1);M(this,or,null);M(this,TS,null);M(this,Gd,null);M(this,Fa,null);M(this,qd,null);M(this,Kd,!1);M(this,fp,null);k(this,or,e)}renderForToolbar(){const e=k(this,La,document.createElement("button"));return e.className="comment",$(this,PS,F$).call(this,e,!1)}renderForStandalone(){const e=k(this,ei,document.createElement("button"));e.className="annotationCommentButton";const r=p(this,or).commentButtonPosition;if(r){const{style:n}=e;n.insetInlineEnd=`calc(${100*(p(this,or)._uiManager.direction==="ltr"?1-r[0]:r[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*r[1]}% - var(--comment-button-dim))`;const i=p(this,or).commentButtonColor;i&&(n.backgroundColor=i)}return $(this,PS,F$).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=p(this,ei)??p(this,La))==null||e.focus()},0)}onUpdatedColor(){if(!p(this,ei))return;const e=p(this,or).commentButtonColor;e&&(p(this,ei).style.backgroundColor=e),p(this,or)._uiManager.updatePopupColor(p(this,or))}get commentButtonWidth(){var e;return(((e=p(this,ei))==null?void 0:e.getBoundingClientRect().width)??0)/p(this,or).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(p(this,fp))return p(this,fp);if(!p(this,ei))return null;const{x:e,y:r,height:n}=p(this,ei).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=p(this,or).parent.boundingClientRect;return[(e-i)/a,(r+n-s)/o]}set commentPopupPositionInLayer(e){k(this,fp,e)}hasDefaultPopupPosition(){return p(this,fp)===null}removeStandaloneCommentButton(){var e;(e=p(this,ei))==null||e.remove(),k(this,ei,null)}removeToolbarCommentButton(){var e;(e=p(this,La))==null||e.remove(),k(this,La,null)}setCommentButtonStates({selected:e,hasPopup:r}){p(this,ei)&&(p(this,ei).classList.toggle("selected",e),p(this,ei).ariaExpanded=r)}edit(e){const r=this.commentPopupPositionInLayer;let n,i;if(r)[n,i]=r;else{[n,i]=p(this,or).commentButtonPosition;const{width:u,height:d,x:h,y:f}=p(this,or);n=h+n*u,i=f+i*d}const s=p(this,or).parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;p(this,or)._uiManager.editComment(p(this,or),a+n*l,o+i*c,{...e,parentDimensions:s})}finish(){p(this,La)&&(p(this,La).focus({focusVisible:p(this,hp)}),k(this,hp,!1))}isDeleted(){return p(this,Kd)||p(this,Fa)===""}isEmpty(){return p(this,Fa)===null}hasBeenEdited(){return this.isDeleted()||p(this,Fa)!==p(this,TS)}serialize(){return this.data}get data(){return{text:p(this,Fa),richText:p(this,Gd),date:p(this,qd),deleted:this.isDeleted()}}set data(e){if(e!==p(this,Fa)&&k(this,Gd,null),e===null){k(this,Fa,""),k(this,Kd,!0);return}k(this,Fa,e),k(this,qd,new Date),k(this,Kd,!1)}restoreData({text:e,richText:r,date:n}){k(this,Fa,e),k(this,Gd,r),k(this,qd,n),k(this,Kd,!1)}setInitialText(e,r=null){k(this,TS,e),this.data=e,k(this,qd,null),k(this,Gd,r)}shown(){}destroy(){var e,r;(e=p(this,La))==null||e.remove(),k(this,La,null),(r=p(this,ei))==null||r.remove(),k(this,ei,null),k(this,Fa,""),k(this,Gd,null),k(this,qd,null),k(this,or,null),k(this,hp,!1),k(this,Kd,!1)}}ei=new WeakMap,La=new WeakMap,hp=new WeakMap,or=new WeakMap,TS=new WeakMap,Gd=new WeakMap,Fa=new WeakMap,qd=new WeakMap,Kd=new WeakMap,fp=new WeakMap,PS=new WeakSet,F$=function(e,r){if(!p(this,or)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",r?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[p(this,or)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=p(this,or)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",lo,{signal:n}),r&&(e.addEventListener("focusin",s=>{p(this,or)._focusEventsAllowed=!1,Xr(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{p(this,or)._focusEventsAllowed=!0,Xr(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),e===p(this,La)?this.edit():p(this,or).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(k(this,hp,!0),i(s))},{signal:n}),e.addEventListener("pointerenter",()=>{p(this,or).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{p(this,or).toggleComment(!1,!1)},{signal:n}),e};var dy,pp,kS,jS,OS,NS,RS,Lc,mp,Fc,gp,Bc,nf,tle,rle,nle;const R5=class R5{constructor({container:e,isPinchingDisabled:r=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){M(this,nf);M(this,dy);M(this,pp,!1);M(this,kS,null);M(this,jS);M(this,OS);M(this,NS);M(this,RS);M(this,Lc,null);M(this,mp);M(this,Fc,null);M(this,gp);M(this,Bc,null);k(this,dy,e),k(this,kS,n),k(this,jS,r),k(this,OS,i),k(this,NS,s),k(this,RS,a),k(this,gp,new AbortController),k(this,mp,AbortSignal.any([o,p(this,gp).signal])),e.addEventListener("touchstart",$(this,nf,tle).bind(this),{passive:!1,signal:p(this,mp)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/hc.pixelRatio}destroy(){var e,r;(e=p(this,gp))==null||e.abort(),k(this,gp,null),(r=p(this,Lc))==null||r.abort(),k(this,Lc,null)}};dy=new WeakMap,pp=new WeakMap,kS=new WeakMap,jS=new WeakMap,OS=new WeakMap,NS=new WeakMap,RS=new WeakMap,Lc=new WeakMap,mp=new WeakMap,Fc=new WeakMap,gp=new WeakMap,Bc=new WeakMap,nf=new WeakSet,tle=function(e){var i,s,a;if((i=p(this,jS))!=null&&i.call(this))return;if(e.touches.length===1){if(p(this,Lc))return;const o=k(this,Lc,new AbortController),l=AbortSignal.any([p(this,mp),o.signal]),c=p(this,dy),u={capture:!0,signal:l,passive:!1},d=h=>{var f;h.pointerType==="touch"&&((f=p(this,Lc))==null||f.abort(),k(this,Lc,null))};c.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(Xr(h),d(h))},u),c.addEventListener("pointerup",d,u),c.addEventListener("pointercancel",d,u);return}if(!p(this,Bc)){k(this,Bc,new AbortController);const o=AbortSignal.any([p(this,mp),p(this,Bc).signal]),l=p(this,dy),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",$(this,nf,rle).bind(this),c);const u=$(this,nf,nle).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",Xr,c),l.addEventListener("pointermove",Xr,c),l.addEventListener("pointercancel",Xr,c),l.addEventListener("pointerup",Xr,c),(s=p(this,OS))==null||s.call(this)}if(Xr(e),e.touches.length!==2||(a=p(this,kS))!=null&&a.call(this)){k(this,Fc,null);return}let[r,n]=e.touches;r.identifier>n.identifier&&([r,n]=[n,r]),k(this,Fc,{touch0X:r.screenX,touch0Y:r.screenY,touch1X:n.screenX,touch1Y:n.screenY})},rle=function(e){var S;if(!p(this,Fc)||e.touches.length!==2)return;Xr(e);let[r,n]=e.touches;r.identifier>n.identifier&&([r,n]=[n,r]);const{screenX:i,screenY:s}=r,{screenX:a,screenY:o}=n,l=p(this,Fc),{touch0X:c,touch0Y:u,touch1X:d,touch1Y:h}=l,f=d-c,g=h-u,v=a-i,y=o-s,b=Math.hypot(v,y)||1,x=Math.hypot(f,g)||1;if(!p(this,pp)&&Math.abs(x-b)<=R5.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!p(this,pp)){k(this,pp,!0);return}const w=[(i+a)/2,(s+o)/2];(S=p(this,NS))==null||S.call(this,w,x,b)},nle=function(e){var r;e.touches.length>=2||(p(this,Bc)&&(p(this,Bc).abort(),k(this,Bc,null),(r=p(this,RS))==null||r.call(this)),p(this,Fc)&&(Xr(e),k(this,Fc,null),k(this,pp,!1)))};let Ak=R5;var vp,Ro,Sr,Lt,Uc,hy,Xd,MS,ti,yp,Vc,Ba,Yd,IS,bp,$s,DS,xp,zc,Cl,fy,py,Ua,wp,$S,zk,Be,B$,LS,U$,IC,ile,sle,V$,DC,z$,ale,ole,lle,H$,cle,W$,ule,dle,hle,G$,Hx;const rt=class rt{constructor(e){M(this,Be);M(this,vp,null);M(this,Ro,null);M(this,Sr,null);M(this,Lt,null);M(this,Uc,null);M(this,hy,!1);M(this,Xd,null);M(this,MS,"");M(this,ti,null);M(this,yp,null);M(this,Vc,null);M(this,Ba,null);M(this,Yd,null);M(this,IS,"");M(this,bp,!1);M(this,$s,null);M(this,DS,!1);M(this,xp,!1);M(this,zc,!1);M(this,Cl,null);M(this,fy,0);M(this,py,0);M(this,Ua,null);M(this,wp,null);ie(this,"isSelected",!1);ie(this,"_isCopy",!1);ie(this,"_editToolbar",null);ie(this,"_initialOptions",Object.create(null));ie(this,"_initialData",null);ie(this,"_isVisible",!0);ie(this,"_uiManager",null);ie(this,"_focusEventsAllowed",!0);M(this,$S,!1);M(this,zk,rt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:r,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=rt.prototype._resizeWithKeyboard,r=qm.TRANSLATE_SMALL,n=qm.TRANSLATE_BIG;return Qe(this,"_resizerKeyboardManager",new VA([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],rt.prototype._stopResizingWithKeyboard]]))}updatePageIndex(e){this.pageIndex=e}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Qe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const r=new Iet({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});r.annotationElementId=e.annotationElementId,r.deleted=!0,r._uiManager.addToAnnotationStorage(r)}static initialize(e,r){if(rt._l10n??(rt._l10n=e),rt._l10nResizer||(rt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),rt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);rt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,r){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,r){Ot("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return p(this,$S)}set _isDraggable(e){var r;k(this,$S,e),(r=this.div)==null||r.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,r]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*r/(e*2),this.y+=this.width*e/(r*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*r/(e*2),this.y-=this.width*e/(r*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=p(this,zk)}setParent(e){var r;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):($(this,Be,Hx).call(this),(r=p(this,Ba))==null||r.remove(),k(this,Ba,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(p(this,bp)?k(this,bp,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const r=e.relatedTarget;r!=null&&r.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,r,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(r+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,r){const[n,i]=this.parentDimensions;this.setAt(e*n,r*i,this.width*n,this.height*i),this._onTranslated()}translate(e,r){$(this,Be,B$).call(this,this.parentDimensions,e,r)}translateInPage(e,r){p(this,$s)||k(this,$s,[this.x,this.y,this.width,this.height]),$(this,Be,B$).call(this,this.pageDimensions,e,r),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,r){p(this,$s)||k(this,$s,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=r/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:u}=n;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,r){}_onTranslated(e,r){}get _hasBeenMoved(){return!!p(this,$s)&&(p(this,$s)[0]!==this.x||p(this,$s)[1]!==this.y)}get _hasBeenResized(){return!!p(this,$s)&&(p(this,$s)[2]!==this.width||p(this,$s)[3]!==this.height)}getBaseTranslation(){const[e,r]=this.parentDimensions,{_borderLineWidth:n}=rt,i=n/e,s=n/r;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:r},pageDimensions:[n,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=n,l*=i,s*=n,a*=i,this._mustFixPosition)switch(e){case 0:s=li(s,0,n-o),a=li(a,0,i-l);break;case 90:s=li(s,0,n-l),a=li(a,o,i);break;case 180:s=li(s,o,n),a=li(a,l,i);break;case 270:s=li(s,l,n),a=li(a,0,i-o);break}this.x=s/=n,this.y=a/=i;const[c,u]=this.getBaseTranslation();s+=c,a+=u,r.left=`${(100*s).toFixed(2)}%`,r.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,r){var n;return $(n=rt,LS,U$).call(n,e,r,this.parentRotation)}pageTranslationToScreen(e,r){var n;return $(n=rt,LS,U$).call(n,e,r,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[r,n]}=this;return[r*e,n*e]}setDims(){const{div:{style:e},width:r,height:n}=this;e.width=`${(100*r).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=p(this,Sr))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||p(this,xp))return this._editToolbar;this._editToolbar=new O$(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[r,n]of e)await this._editToolbar.addButton(r,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,r;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(r=p(this,Sr))==null||r.destroy()}addContainer(e){var n;const r=(n=this._editToolbar)==null?void 0:n.div;r?r.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return p(this,Sr)||(_k.initialize(rt._l10n),k(this,Sr,new _k(this)),p(this,vp)&&(p(this,Sr).data=p(this,vp),k(this,vp,null))),p(this,Sr)}get altTextData(){var e;return(e=p(this,Sr))==null?void 0:e.data}set altTextData(e){p(this,Sr)&&(p(this,Sr).data=e)}get guessedAltText(){var e;return(e=p(this,Sr))==null?void 0:e.guessedText}async setGuessedAltText(e){var r;await((r=p(this,Sr))==null?void 0:r.setGuessedText(e))}serializeAltText(e){var r;return(r=p(this,Sr))==null?void 0:r.serialize(e)}hasAltText(){return!!p(this,Sr)&&!p(this,Sr).isEmpty()}hasAltTextData(){var e;return((e=p(this,Sr))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=p(this,Lt))==null||e.focusButton()}addCommentButton(){return this.canAddComment?p(this,Lt)||k(this,Lt,new WE(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(p(this,Uc)){this._uiManager.isEditingMode()&&p(this,Uc).classList.remove("hidden");return}this.hasComment&&(k(this,Uc,p(this,Lt).renderForStandalone()),this.div.append(p(this,Uc)))}}removeStandaloneCommentButton(){p(this,Lt).removeStandaloneCommentButton(),k(this,Uc,null)}hideStandaloneCommentButton(){var e;(e=p(this,Uc))==null||e.classList.add("hidden")}get comment(){if(!p(this,Lt))return null;const{data:{richText:e,text:r,date:n,deleted:i}}=p(this,Lt);return{text:r,richText:e,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){p(this,Lt)||k(this,Lt,new WE(this)),typeof e=="object"&&e!==null?p(this,Lt).restoreData(e):p(this,Lt).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:r,richText:n}){if(!r||(p(this,Lt)||k(this,Lt,new WE(this)),p(this,Lt).setInitialText(e,n),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=p(this,Lt))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=p(this,Lt))==null?void 0:e.isDeleted()}get hasComment(){return!!p(this,Lt)&&!p(this,Lt).isEmpty()&&!p(this,Lt).isDeleted()}async editComment(e){p(this,Lt)||k(this,Lt,new WE(this)),p(this,Lt).edit(e)}toggleComment(e,r=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,r)}setSelectedCommentButton(e){p(this,Lt).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:r}}){p(this,Lt).data=r?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=p(this,hy)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),$(this,Be,W$).call(this);const[r,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/r).toFixed(2)}%`,e.style.maxHeight=`${(100*r/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Uoe(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(p(this,wp)||k(this,wp,new Ak({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:$(this,Be,ale).bind(this),onPinching:$(this,Be,ole).bind(this),onPinchEnd:$(this,Be,lle).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:r}=Nn.platform;if(e.button!==0||e.ctrlKey&&r){e.preventDefault();return}if(k(this,bp,!0),this._isDraggable){$(this,Be,cle).call(this,e);return}$(this,Be,H$).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){p(this,Cl)&&clearTimeout(p(this,Cl)),k(this,Cl,setTimeout(()=>{var e;k(this,Cl,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,r,n){e.changeParent(this),this.x=r,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,r,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,u=r/i,d=this.x*s,h=this.y*a,f=this.width*s,g=this.height*a;switch(n){case 0:return[d+c+o,a-h-u-g+l,d+c+f+o,a-h-u+l];case 90:return[d+u+o,a-h+c+l,d+u+g+o,a-h+c+f+l];case 180:return[d-c-f+o,a-h+u+l,d-c+o,a-h+u+g+l];case 270:return[d-u-g+o,a-h-c-f+l,d-u+o,a-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,r){const[n,i,s,a]=e,o=s-n,l=a-i;switch(this.rotation){case 0:return[n,r-a,o,l];case 90:return[n,r-i,l,o];case 180:return[s,r-i,o,l];case 270:return[s,r-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&rt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=p(this,Lt))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:r,date:n,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:u}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:n||u,popupRef:!s,color:r,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),k(this,xp,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),k(this,xp,!1),!0):!1}isInEditMode(){return p(this,xp)}shouldGetKeyboardEvents(){return p(this,zc)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:r,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return r<a&&i>0&&e<s&&n>0}rebuild(){$(this,Be,W$).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,r=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}static async deserialize(e,r,n){const i=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,k(i,vp,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,u]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=u/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,r,n;if((e=p(this,Yd))==null||e.abort(),k(this,Yd,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),p(this,Cl)&&(clearTimeout(p(this,Cl)),k(this,Cl,null)),$(this,Be,Hx).call(this),this.removeEditToolbar(),p(this,Ua)){for(const i of p(this,Ua).values())clearTimeout(i);k(this,Ua,null)}this.parent=null,(r=p(this,wp))==null||r.destroy(),k(this,wp,null),(n=p(this,Ba))==null||n.remove(),k(this,Ba,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&($(this,Be,ile).call(this),p(this,ti).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,r]}=this,[n,i,s,a]=this.getPDFRect();return[rt._round(n+(s-n)*e),rt._round(i+(a-i)*(1-r))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return p(this,Lt).commentPopupPositionInLayer}set commentPopupPosition(e){p(this,Lt).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return p(this,Lt).hasDefaultPopupPosition()}get commentButtonWidth(){return p(this,Lt).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var r;(r=p(this,Lt))==null||r.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),k(this,Vc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const r=p(this,ti).children;if(!p(this,Ro)){k(this,Ro,Array.from(r));const a=$(this,Be,ule).bind(this),o=$(this,Be,dle).bind(this),l=this._uiManager._signal;for(const c of p(this,Ro)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",$(this,Be,hle).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",rt._l10nResizer[u])}}const n=p(this,Ro)[0];let i=0;for(const a of r){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(p(this,Ro).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)p(this,ti).append(p(this,ti).firstElementChild);else if(s>i)for(let o=0;o<s-i;o++)p(this,ti).firstElementChild.before(p(this,ti).lastElementChild);let a=0;for(const o of r){const c=p(this,Ro)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",rt._l10nResizer[c])}}$(this,Be,G$).call(this,0),k(this,zc,!0),p(this,ti).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,r){p(this,zc)&&$(this,Be,z$).call(this,p(this,IS),{deltaX:e,deltaY:r,fromKeyboard:!0})}_stopResizingWithKeyboard(){$(this,Be,Hx).call(this),this.div.focus()}select(){var e,r,n;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(r=this._editToolbar)==null||r.show(),(n=p(this,Sr))==null||n.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,r,n,i,s;this.isSelected&&(this.isSelected=!1,(e=p(this,ti))==null||e.classList.add("hidden"),(r=this.div)==null||r.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=p(this,Sr))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,r){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return p(this,DS)}set isEditing(e){k(this,DS,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,r=!1){if(r){p(this,Ua)||k(this,Ua,new Map);const{action:n}=e;let i=p(this,Ua).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),p(this,Ua).delete(n),p(this,Ua).size===0&&k(this,Ua,null)},rt._telemetryTimeout),p(this,Ua).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),k(this,hy,!1)}disable(){this.div&&(this.div.tabIndex=-1),k(this,hy,!0)}updateFakeAnnotationElement(e){if(!p(this,Ba)&&!this.deleted){k(this,Ba,e.addFakeAnnotation(this));return}if(this.deleted){p(this,Ba).remove(),k(this,Ba,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&p(this,Ba).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let r=e.container.querySelector(".annotationContent");if(!r)r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),e.container.prepend(r);else if(r.nodeName==="CANVAS"){const n=r;r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),n.before(r)}return r}resetAnnotationElement(e){const{firstElementChild:r}=e.container;(r==null?void 0:r.nodeName)==="DIV"&&r.classList.contains("annotationContent")&&r.remove()}};vp=new WeakMap,Ro=new WeakMap,Sr=new WeakMap,Lt=new WeakMap,Uc=new WeakMap,hy=new WeakMap,Xd=new WeakMap,MS=new WeakMap,ti=new WeakMap,yp=new WeakMap,Vc=new WeakMap,Ba=new WeakMap,Yd=new WeakMap,IS=new WeakMap,bp=new WeakMap,$s=new WeakMap,DS=new WeakMap,xp=new WeakMap,zc=new WeakMap,Cl=new WeakMap,fy=new WeakMap,py=new WeakMap,Ua=new WeakMap,wp=new WeakMap,$S=new WeakMap,zk=new WeakMap,Be=new WeakSet,B$=function([e,r],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/r,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},LS=new WeakSet,U$=function(e,r,n){switch(n){case 90:return[r,-e];case 180:return[-e,-r];case 270:return[-r,e];default:return[e,r]}},IC=function(e){switch(e){case 90:{const[r,n]=this.pageDimensions;return[0,-r/n,n/r,0]}case 180:return[-1,0,0,-1];case 270:{const[r,n]=this.pageDimensions;return[0,r/n,-n/r,0]}default:return[1,0,0,1]}},ile=function(){if(p(this,ti))return;k(this,ti,document.createElement("div")),p(this,ti).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(const n of e){const i=document.createElement("div");p(this,ti).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",$(this,Be,sle).bind(this,n),{signal:r}),i.addEventListener("contextmenu",lo,{signal:r}),i.tabIndex=-1}this.div.prepend(p(this,ti))},sle=function(e,r){var u;r.preventDefault();const{isMac:n}=Nn.platform;if(r.button!==0||r.ctrlKey&&n)return;(u=p(this,Sr))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,k(this,yp,[r.screenX,r.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",$(this,Be,z$).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Xr,{passive:!1,signal:a}),window.addEventListener("contextmenu",lo,{signal:a}),k(this,Vc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(r.target).cursor;const c=()=>{var d;s.abort(),this.parent.togglePointerEvents(!0),(d=p(this,Sr))==null||d.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,$(this,Be,DC).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},V$=function(e,r,n,i){this.width=n,this.height=i,this.x=e,this.y=r,this.setDims(),this.fixAndSetPosition(),this._onResized()},DC=function(){if(!p(this,Vc))return;const{savedX:e,savedY:r,savedWidth:n,savedHeight:i}=p(this,Vc);k(this,Vc,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===r&&o===n&&l===i||this.addCommands({cmd:$(this,Be,V$).bind(this,s,a,o,l),undo:$(this,Be,V$).bind(this,e,r,n,i),mustExec:!0})},z$=function(e,r){const[n,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=rt.MIN_SIZE/n,u=rt.MIN_SIZE/i,d=$(this,Be,IC).call(this,this.rotation),h=(N,j)=>[d[0]*N+d[2]*j,d[1]*N+d[3]*j],f=$(this,Be,IC).call(this,360-this.rotation),g=(N,j)=>[f[0]*N+f[2]*j,f[1]*N+f[3]*j];let v,y,b=!1,x=!1;switch(e){case"topLeft":b=!0,v=(N,j)=>[0,0],y=(N,j)=>[N,j];break;case"topMiddle":v=(N,j)=>[N/2,0],y=(N,j)=>[N/2,j];break;case"topRight":b=!0,v=(N,j)=>[N,0],y=(N,j)=>[0,j];break;case"middleRight":x=!0,v=(N,j)=>[N,j/2],y=(N,j)=>[0,j/2];break;case"bottomRight":b=!0,v=(N,j)=>[N,j],y=(N,j)=>[0,0];break;case"bottomMiddle":v=(N,j)=>[N/2,j],y=(N,j)=>[N/2,0];break;case"bottomLeft":b=!0,v=(N,j)=>[0,j],y=(N,j)=>[N,0];break;case"middleLeft":x=!0,v=(N,j)=>[0,j/2],y=(N,j)=>[N,j/2];break}const w=v(o,l),S=y(o,l);let _=h(...S);const A=rt._round(s+_[0]),C=rt._round(a+_[1]);let T=1,P=1,O,I;if(r.fromKeyboard)({deltaX:O,deltaY:I}=r);else{const{screenX:N,screenY:j}=r,[L,F]=p(this,yp);[O,I]=this.screenToPageTranslation(N-L,j-F),p(this,yp)[0]=N,p(this,yp)[1]=j}if([O,I]=g(O/n,I/i),b){const N=Math.hypot(o,l);T=P=Math.max(Math.min(Math.hypot(S[0]-w[0]-O,S[1]-w[1]-I)/N,1/o,1/l),c/o,u/l)}else x?T=li(Math.abs(S[0]-w[0]-O),c,1)/o:P=li(Math.abs(S[1]-w[1]-I),u,1)/l;const R=rt._round(o*T),B=rt._round(l*P);_=h(...y(R,B));const D=A-_[0],U=C-_[1];p(this,$s)||k(this,$s,[this.x,this.y,this.width,this.height]),this.width=R,this.height=B,this.x=D,this.y=U,this.setDims(),this.fixAndSetPosition(),this._onResizing()},ale=function(){var e;k(this,Vc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=p(this,Sr))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},ole=function(e,r,n){let s=.7*(n/r)+1-.7;if(s===1)return;const a=$(this,Be,IC).call(this,this.rotation),o=(A,C)=>[a[0]*A+a[2]*C,a[1]*A+a[3]*C],[l,c]=this.parentDimensions,u=this.x,d=this.y,h=this.width,f=this.height,g=rt.MIN_SIZE/l,v=rt.MIN_SIZE/c;s=Math.max(Math.min(s,1/h,1/f),g/h,v/f);const y=rt._round(h*s),b=rt._round(f*s);if(y===h&&b===f)return;p(this,$s)||k(this,$s,[u,d,h,f]);const x=o(h/2,f/2),w=rt._round(u+x[0]),S=rt._round(d+x[1]),_=o(y/2,b/2);this.x=w-_[0],this.y=S-_[1],this.width=y,this.height=b,this.setDims(),this.fixAndSetPosition(),this._onResizing()},lle=function(){var e;(e=p(this,Sr))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),$(this,Be,DC).call(this)},H$=function(e){const{isMac:r}=Nn.platform;e.ctrlKey&&!r||e.shiftKey||e.metaKey&&r?this.parent.toggleSelected(this):this.parent.setSelected(this)},cle=function(e){const{isSelected:r}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),k(this,Xd,null),k(this,bp,!1),this._uiManager.endDragSession()||$(this,Be,H$).call(this,c),n&&this._onStopDragging()};r&&(k(this,fy,e.clientX),k(this,py,e.clientY),k(this,Xd,e.pointerId),k(this,MS,e.pointerType),window.addEventListener("pointermove",c=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:d,pointerId:h}=c;if(h!==p(this,Xd)){Xr(c);return}const[f,g]=this.screenToPageTranslation(u-p(this,fy),d-p(this,py));k(this,fy,u),k(this,py,d),this._uiManager.dragSelectedEditors(f,g)},a),window.addEventListener("touchmove",Xr,a),window.addEventListener("pointerdown",c=>{c.pointerType===p(this,MS)&&(p(this,wp)||c.isPrimary)&&o(c),Xr(c)},a));const l=c=>{if(!p(this,Xd)||p(this,Xd)===c.pointerId){o(c);return}Xr(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},W$=function(){if(p(this,Yd)||!this.div)return;k(this,Yd,new AbortController);const e=this._uiManager.combinedSignal(p(this,Yd));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},ule=function(e){rt._resizerKeyboardManager.exec(this,e)},dle=function(e){var r;p(this,zc)&&((r=e.relatedTarget)==null?void 0:r.parentNode)!==p(this,ti)&&$(this,Be,Hx).call(this)},hle=function(e){k(this,IS,p(this,zc)?e:"")},G$=function(e){if(p(this,Ro))for(const r of p(this,Ro))r.tabIndex=e},Hx=function(){k(this,zc,!1),$(this,Be,G$).call(this,-1),$(this,Be,DC).call(this)},M(rt,LS),ie(rt,"_l10n",null),ie(rt,"_l10nResizer",null),ie(rt,"_borderLineWidth",-1),ie(rt,"_colorManager",new M$),ie(rt,"_zIndex",1),ie(rt,"_telemetryTimeout",1e3);let dr=rt;class Iet extends dr{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Tq=3285377520,ka=4294901760,ul=65535;class fle{constructor(e){this.h1=e?e&4294967295:Tq,this.h2=e?e&4294967295:Tq}update(e){let r,n;if(typeof e=="string"){r=new Uint8Array(e.length*2),n=0;for(let v=0,y=e.length;v<y;v++){const b=e.charCodeAt(v);b<=255?r[n++]=b:(r[n++]=b>>>8,r[n++]=b&255)}}else if(ArrayBuffer.isView(e))r=e.slice(),n=r.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(r.buffer,0,i);let o=0,l=0,c=this.h1,u=this.h2;const d=3432918353,h=461845907,f=d&ul,g=h&ul;for(let v=0;v<i;v++)v&1?(o=a[v],o=o*d&ka|o*f&ul,o=o<<15|o>>>17,o=o*h&ka|o*g&ul,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[v],l=l*d&ka|l*f&ul,l=l<<15|l>>>17,l=l*h&ka|l*g&ul,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=r[i*4+2]<<16;case 2:o^=r[i*4+1]<<8;case 1:o^=r[i*4],o=o*d&ka|o*f&ul,o=o<<15|o>>>17,o=o*h&ka|o*g&ul,i&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,r=this.h2;return e^=r>>>1,e=e*3981806797&ka|e*36045&ul,r=r*4283543511&ka|((r<<16|e>>>16)*2950163797&ka)>>>16,e^=r>>>1,e=e*444984403&ka|e*60499&ul,r=r*3301882366&ka|((r<<16|e>>>16)*3120437893&ka)>>>16,e^=r>>>1,(e>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}const q$=Object.freeze({map:null,hash:"",transfer:void 0});var Sp,_p,Hc,ri,Hk,ple;class E5{constructor(){M(this,Hk);M(this,Sp,!1);M(this,_p,null);M(this,Hc,null);M(this,ri,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,r){const n=p(this,ri).get(e);return n===void 0?r:Object.assign(r,n)}getRawValue(e){return p(this,ri).get(e)}remove(e){const r=p(this,ri).get(e);if(r!==void 0&&(r instanceof dr&&p(this,Hc).delete(r.annotationElementId),p(this,ri).delete(e),p(this,ri).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of p(this,ri).values())if(n instanceof dr)return;this.onAnnotationEditor(null)}}setValue(e,r){const n=p(this,ri).get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(r))n[s]!==a&&(i=!0,n[s]=a);else i=!0,p(this,ri).set(e,r);i&&$(this,Hk,ple).call(this),r instanceof dr&&((p(this,Hc)||k(this,Hc,new Map)).set(r.annotationElementId,r),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(r.constructor._type))}has(e){return p(this,ri).has(e)}get size(){return p(this,ri).size}resetModified(){p(this,Sp)&&(k(this,Sp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new mle(this)}get serializable(){if(p(this,ri).size===0)return q$;const e=new Map,r=new fle,n=[],i=Object.create(null);let s=!1;for(const[a,o]of p(this,ri)){const l=o instanceof dr?o.serialize(!1,i):o;o.page&&(o.pageIndex=o.page._pageIndex,delete o.page),l&&(e.set(a,l),r.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:r.hexdigest(),transfer:n}:q$}get editorStats(){let e=null;const r=new Map;let n=0,i=0;for(const s of p(this,ri).values()){if(!(s instanceof dr)){s.popup&&(s.popup.deleted?i+=1:n+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(n+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;r.has(o)||r.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[c,u]of Object.entries(a)){if(c==="type")continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const h=d.get(u)??0;d.set(u,h+1)}}if((i>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:n}),!e)return null;for(const[s,a]of r)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){k(this,_p,null)}updateEditor(e,r){var i;const n=(i=p(this,Hc))==null?void 0:i.get(e);return n?(n.updateFromAnnotationLayer(r),!0):!1}getEditor(e){var r;return((r=p(this,Hc))==null?void 0:r.get(e))||null}get modifiedIds(){if(p(this,_p))return p(this,_p);const e=[];if(p(this,Hc))for(const r of p(this,Hc).values())r.serialize()&&e.push(r.annotationElementId);return k(this,_p,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return p(this,ri).entries()}}Sp=new WeakMap,_p=new WeakMap,Hc=new WeakMap,ri=new WeakMap,Hk=new WeakSet,ple=function(){p(this,Sp)||(k(this,Sp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var FS;class mle extends E5{constructor(r){super();M(this,FS);const{map:n,hash:i,transfer:s}=r.serializable,a=structuredClone(n,s?{transfer:s}:null);k(this,FS,{map:a,hash:i,transfer:s})}get print(){Ot("Should not call PrintAnnotationStorage.print")}get serializable(){return p(this,FS)}get modifiedIds(){return Qe(this,"modifiedIds",{ids:new Set,hash:""})}}FS=new WeakMap;var my;class Det{constructor({ownerDocument:e=globalThis.document,styleElement:r=null}){M(this,my,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const r=this.styleElement.sheet;r.insertRule(e,r.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),p(this,my).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:r,_inspectFont:n}){if(!(!e||p(this,my).has(e.loadedName))){if(jt(!r,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),p(this,my).add(i),n==null||n(e)}catch{Ye(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ot("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Ye(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const r=e.createFontFaceRule();if(r){if(this.insertRule(r),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var r;const e=!!((r=this._document)!=null&&r.fonts);return Qe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Qe(this,"isSyncFontLoadingSupported",zi||Nn.platform.isFirefox)}_queueLoadingCallback(e){function r(){for(jt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:r,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Qe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,r){function n(S,_){return S.charCodeAt(_)<<24|S.charCodeAt(_+1)<<16|S.charCodeAt(_+2)<<8|S.charCodeAt(_+3)&255}function i(S,_,A,C){const T=S.substring(0,_),P=S.substring(_+A);return T+C+P}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(S,_){if(++c>30){Ye("Load test font never loaded."),_();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(u.bind(null,S,_))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const g=16,v=1482184792;let y=n(h,g);for(s=0,a=d.length-3;s<a;s+=4)y=y-v+n(d,s)|0;s<d.length&&(y=y-v+n(d+"XXX",s)|0),h=i(h,g,4,get(y));const b=`url(data:font/opentype;base64,${btoa(h)});`,x=`@font-face {font-family:"${d}";src:${b}}`;this.insertRule(x);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const S of[e.loadedName,d]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=S,w.append(_)}this._document.body.append(w),u(d,()=>{w.remove(),r.complete()})}}my=new WeakMap;var Kt;class $et{constructor(e,r=null,n,i){M(this,Kt);this.compiledGlyphs=Object.create(null),k(this,Kt,e),this._inspectFont=r,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var r;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(r=this._inspectFont)==null||r.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${this.data.toBase64()});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),r}getPathGenerator(e,r){if(this.compiledGlyphs[r]!==void 0)return this.compiledGlyphs[r];const n=this.loadedName+"_path_"+r;let i;try{i=e.get(n)}catch(a){Ye(`getPathGenerator - ignoring character: "${a}".`)}const s=Roe(i==null?void 0:i.path);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[r]=s}get black(){return p(this,Kt).black}get bold(){return p(this,Kt).bold}get disableFontFace(){return p(this,Kt).disableFontFace??!1}set disableFontFace(e){Qe(this,"disableFontFace",!!e)}get fontExtraProperties(){return p(this,Kt).fontExtraProperties??!1}get isInvalidPDFjsFont(){return p(this,Kt).isInvalidPDFjsFont}get isType3Font(){return p(this,Kt).isType3Font}get italic(){return p(this,Kt).italic}get missingFile(){return p(this,Kt).missingFile}get remeasure(){return p(this,Kt).remeasure}get vertical(){return p(this,Kt).vertical}get ascent(){return p(this,Kt).ascent}get defaultWidth(){return p(this,Kt).defaultWidth}get descent(){return p(this,Kt).descent}get bbox(){return p(this,Kt).bbox}set bbox(e){Qe(this,"bbox",e)}get fontMatrix(){return p(this,Kt).fontMatrix}get fallbackName(){return p(this,Kt).fallbackName}get loadedName(){return p(this,Kt).loadedName}get mimetype(){return p(this,Kt).mimetype}get name(){return p(this,Kt).name}get data(){return p(this,Kt).data}clearData(){p(this,Kt).clearData()}get cssFontInfo(){return p(this,Kt).cssFontInfo}get systemFontInfo(){return p(this,Kt).systemFontInfo}get defaultVMetrics(){return p(this,Kt).defaultVMetrics}}Kt=new WeakMap;var gy,vy,BS,yy,$C;const yv=class yv{constructor(e){M(this,yy);M(this,gy);M(this,vy);M(this,BS);k(this,gy,e),k(this,vy,new DataView(p(this,gy))),k(this,BS,new TextDecoder)}static write(e){const r=new TextEncoder,n={};let i=0;for(const c of yv.strings){const u=r.encode(e[c]);n[c]=u,i+=4+u.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of yv.strings){const u=n[c],d=u.length;o.setUint32(l,d),a.set(u,l+4),l+=4+d}return jt(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return $(this,yy,$C).call(this,0)}get fontWeight(){return $(this,yy,$C).call(this,1)}get italicAngle(){return $(this,yy,$C).call(this,2)}};gy=new WeakMap,vy=new WeakMap,BS=new WeakMap,yy=new WeakSet,$C=function(e){jt(e<yv.strings.length,"Invalid string index");let r=0;for(let i=0;i<e;i++)r+=p(this,vy).getUint32(r)+4;const n=p(this,vy).getUint32(r);return p(this,BS).decode(new Uint8Array(p(this,gy),r+4,n))},ie(yv,"strings",["fontFamily","fontWeight","italicAngle"]);let Ek=yv;var Qd,Tl,Ap,Ep,Wx;const bv=class bv{constructor(e){M(this,Ep);M(this,Qd);M(this,Tl);M(this,Ap);k(this,Qd,e),k(this,Tl,new DataView(p(this,Qd))),k(this,Ap,new TextDecoder)}static write(e){const r=new TextEncoder,n={};let i=0;for(const h of bv.strings){const f=r.encode(e[h]);n[h]=f,i+=4+f.length}i+=4;let s,a,o=1+i;e.style&&(s=r.encode(e.style.style),a=r.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let d=0;u.setUint8(d++,e.guessFallback?1:0),u.setUint32(d,0),d+=4,i=0;for(const h of bv.strings){const f=n[h],g=f.length;i+=4+g,u.setUint32(d,g),c.set(f,d+4),d+=4+g}return u.setUint32(d-i-4,i),e.style&&(u.setUint32(d,s.length),c.set(s,d+4),d+=4+s.length,u.setUint32(d,a.length),c.set(a,d+4),d+=4+a.length),jt(d<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(d)}get guessFallback(){return p(this,Tl).getUint8(0)!==0}get css(){return $(this,Ep,Wx).call(this,0)}get loadedName(){return $(this,Ep,Wx).call(this,1)}get baseFontName(){return $(this,Ep,Wx).call(this,2)}get src(){return $(this,Ep,Wx).call(this,3)}get style(){let e=1;e+=4+p(this,Tl).getUint32(e);const r=p(this,Tl).getUint32(e),n=p(this,Ap).decode(new Uint8Array(p(this,Qd),e+4,r));e+=4+r;const i=p(this,Tl).getUint32(e),s=p(this,Ap).decode(new Uint8Array(p(this,Qd),e+4,i));return{style:n,weight:s}}};Qd=new WeakMap,Tl=new WeakMap,Ap=new WeakMap,Ep=new WeakSet,Wx=function(e){jt(e<bv.strings.length,"Invalid string index");let r=5;for(let i=0;i<e;i++)r+=p(this,Tl).getUint32(r)+4;const n=p(this,Tl).getUint32(r);return p(this,Ap).decode(new Uint8Array(p(this,Qd),r+4,n))},ie(bv,"strings",["css","loadedName","baseFontName","src"]);let Ck=bv;var by,xy,wy,Sy,Ls,Pl,US,Xt,Gr,So,LC,Gx;const it=class it{constructor({data:e,extra:r}){M(this,Gr);M(this,Pl);M(this,US);M(this,Xt);k(this,Pl,e),k(this,US,new TextDecoder),k(this,Xt,new DataView(p(this,Pl))),r&&Object.assign(this,r)}get black(){return $(this,Gr,So).call(this,0)}get bold(){return $(this,Gr,So).call(this,1)}get disableFontFace(){return $(this,Gr,So).call(this,2)}get fontExtraProperties(){return $(this,Gr,So).call(this,3)}get isInvalidPDFjsFont(){return $(this,Gr,So).call(this,4)}get isType3Font(){return $(this,Gr,So).call(this,5)}get italic(){return $(this,Gr,So).call(this,6)}get missingFile(){return $(this,Gr,So).call(this,7)}get remeasure(){return $(this,Gr,So).call(this,8)}get vertical(){return $(this,Gr,So).call(this,9)}get ascent(){return $(this,Gr,LC).call(this,0)}get defaultWidth(){return $(this,Gr,LC).call(this,1)}get descent(){return $(this,Gr,LC).call(this,2)}get bbox(){let e=p(it,xy);if(p(this,Xt).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<4;i++)n.push(p(this,Xt).getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=p(it,wy);if(p(this,Xt).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<6;i++)n.push(p(this,Xt).getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=p(it,Sy);if(p(this,Xt).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<3;i++)n.push(p(this,Xt).getInt16(e,!0)),e+=2;return n}get fallbackName(){return $(this,Gr,Gx).call(this,0)}get loadedName(){return $(this,Gr,Gx).call(this,1)}get mimetype(){return $(this,Gr,Gx).call(this,2)}get name(){return $(this,Gr,Gx).call(this,3)}get data(){let e=p(it,Ls);const r=p(this,Xt).getUint32(e);e+=4+r;const n=p(this,Xt).getUint32(e);e+=4+n;const i=p(this,Xt).getUint32(e);e+=4+i;const s=p(this,Xt).getUint32(e);if(s!==0)return new Uint8Array(p(this,Pl),e+4,s)}clearData(){let e=p(it,Ls);const r=p(this,Xt).getUint32(e);e+=4+r;const n=p(this,Xt).getUint32(e);e+=4+n;const i=p(this,Xt).getUint32(e);e+=4+i;const s=p(this,Xt).getUint32(e);new Uint8Array(p(this,Pl),e+4,s).fill(0),p(this,Xt).setUint32(e,0)}get cssFontInfo(){let e=p(it,Ls);const r=p(this,Xt).getUint32(e);e+=4+r;const n=p(this,Xt).getUint32(e);e+=4+n;const i=p(this,Xt).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(p(this,Pl),e+4,i)),new Ek(s.buffer)}get systemFontInfo(){let e=p(it,Ls);const r=p(this,Xt).getUint32(e);e+=4+r;const n=p(this,Xt).getUint32(e);if(n===0)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(p(this,Pl),e+4,n)),new Ck(i.buffer)}static write(e){const r=e.systemFontInfo?Ck.write(e.systemFontInfo):null,n=e.cssFontInfo?Ek.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const v of it.strings)s[v]=i.encode(e[v]),a+=4+s[v].length;const o=p(it,Ls)+4+a+4+(r?r.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let d=0;const h=it.bools.length;let f=0,g=0;for(let v=0;v<h;v++){const y=e[it.bools[v]];f|=(y===void 0?0:y?2:1)<<g,g+=2,(g===8||v===h-1)&&(u.setUint8(d++,f),f=0,g=0)}jt(d===p(it,by),"FontInfo.write: Boolean properties offset mismatch");for(const v of it.numbers)u.setFloat64(d,e[v]),d+=8;if(jt(d===p(it,xy),"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(d++,4);for(const v of e.bbox)u.setInt16(d,v,!0),d+=2}else u.setUint8(d++,0),d+=2*4;if(jt(d===p(it,wy),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(d++,6);for(const v of e.fontMatrix)u.setFloat64(d,v,!0),d+=8}else u.setUint8(d++,0),d+=8*6;if(jt(d===p(it,Sy),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(d++,1);for(const v of e.defaultVMetrics)u.setInt16(d,v,!0),d+=2}else u.setUint8(d++,0),d+=3*2;jt(d===p(it,Ls),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(p(it,Ls),0),d+=4;for(const v of it.strings){const y=s[v],b=y.length;u.setUint32(d,b),c.set(y,d+4),d+=4+b}if(u.setUint32(p(it,Ls),d-p(it,Ls)-4),!r)u.setUint32(d,0),d+=4;else{const v=r.byteLength;u.setUint32(d,v),jt(d+4+v<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(r),d+4),d+=4+v}if(!n)u.setUint32(d,0),d+=4;else{const v=n.byteLength;u.setUint32(d,v),jt(d+4+v<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(n),d+4),d+=4+v}return e.data===void 0?(u.setUint32(d,0),d+=4):(u.setUint32(d,e.data.length),c.set(e.data,d+4),d+=4+e.data.length),jt(d<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(d)}};by=new WeakMap,xy=new WeakMap,wy=new WeakMap,Sy=new WeakMap,Ls=new WeakMap,Pl=new WeakMap,US=new WeakMap,Xt=new WeakMap,Gr=new WeakSet,So=function(e){jt(e<it.bools.length,"Invalid boolean index");const r=Math.floor(e/4),n=e*2%8,i=p(this,Xt).getUint8(r)>>n&3;return i===0?void 0:i===2},LC=function(e){return jt(e<it.numbers.length,"Invalid number index"),p(this,Xt).getFloat64(p(it,by)+e*8)},Gx=function(e){jt(e<it.strings.length,"Invalid string index");let r=p(it,Ls)+4;for(let s=0;s<e;s++)r+=p(this,Xt).getUint32(r)+4;const n=p(this,Xt).getUint32(r),i=new Uint8Array(n);return i.set(new Uint8Array(p(this,Pl),r+4,n)),p(this,US).decode(i)},ie(it,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),ie(it,"numbers",["ascent","defaultWidth","descent"]),ie(it,"strings",["fallbackName","loadedName","mimetype","name"]),M(it,by,Math.ceil(it.bools.length*2/8)),M(it,xy,p(it,by)+it.numbers.length*8),M(it,wy,p(it,xy)+1+2*4),M(it,Sy,p(it,wy)+1+8*6),M(it,Ls,p(it,Sy)+1+2*3);let K$=it;var VS,zS,HS,WS,GS,qS,KS,XS;const ar=class ar{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let r,n=null,i=[],s=[],a=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":r=e[1]==="axial"?1:2,n=e[2],a=e[3],r===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":r=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],n=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const u=Math.floor(i.length/2),d=Math.floor(s.length/3),h=a.length,f=o.length;let g=0;for(const _ of o)g+=1,g=Math.ceil(g/4)*4,g+=4+_.coords.length*4,g+=4+_.colors.length*4,_.verticesPerRow!==void 0&&(g+=4);const v=20+u*8+d*3+h*8+(n?16:0)+(c?3:0)+g,y=new ArrayBuffer(v),b=new DataView(y),x=new Uint8Array(y);b.setUint8(p(ar,VS),r),b.setUint8(p(ar,zS),n?1:0),b.setUint8(p(ar,HS),c?1:0),b.setUint8(p(ar,WS),l),b.setUint32(p(ar,GS),u,!0),b.setUint32(p(ar,qS),d,!0),b.setUint32(p(ar,KS),h,!0),b.setUint32(p(ar,XS),f,!0);let w=20;new Float32Array(y,w,u*2).set(i),w+=u*8,x.set(s,w),w+=d*3;for(const[_,A]of a)b.setFloat32(w,_,!0),w+=4,b.setUint32(w,parseInt(A.slice(1),16),!0),w+=4;if(n)for(const _ of n)b.setFloat32(w,_,!0),w+=4;c&&(x.set(c,w),w+=3);for(let _=0;_<o.length;_++){const A=o[_];b.setUint8(w,A.type),w+=1,w=Math.ceil(w/4)*4,b.setUint32(w,A.coords.length,!0),w+=4,new Int32Array(y,w,A.coords.length).set(A.coords),w+=A.coords.length*4,b.setUint32(w,A.colors.length,!0),w+=4,new Int32Array(y,w,A.colors.length).set(A.colors),w+=A.colors.length*4,A.verticesPerRow!==void 0&&(b.setUint32(w,A.verticesPerRow,!0),w+=4)}return y}getIR(){const e=this.view,r=this.data[p(ar,VS)],n=!!this.data[p(ar,zS)],i=!!this.data[p(ar,HS)],s=e.getUint32(p(ar,GS),!0),a=e.getUint32(p(ar,qS),!0),o=e.getUint32(p(ar,KS),!0),l=e.getUint32(p(ar,XS),!0);let c=20;const u=new Float32Array(this.buffer,c,s*2);c+=s*8;const d=new Uint8Array(this.buffer,c,a*3);c+=a*3;const h=[];for(let y=0;y<o;++y){const b=e.getFloat32(c,!0);c+=4;const x=e.getUint32(c,!0);c+=4,h.push([b,`#${x.toString(16).padStart(6,"0")}`])}let f=null;if(n){f=[];for(let y=0;y<4;++y)f.push(e.getFloat32(c,!0)),c+=4}let g=null;i&&(g=new Uint8Array(this.buffer,c,3),c+=3);const v=[];for(let y=0;y<l;++y){const b=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const x=e.getUint32(c,!0);c+=4;const w=new Int32Array(this.buffer,c,x);c+=x*4;const S=e.getUint32(c,!0);c+=4;const _=new Int32Array(this.buffer,c,S);c+=S*4;const A={type:b,coords:w,colors:_};b===C$.LATTICE&&(A.verticesPerRow=e.getUint32(c,!0),c+=4),v.push(A)}if(r===1)return["RadialAxial","axial",f,h,Array.from(u.slice(0,2)),Array.from(u.slice(2,4)),null,null];if(r===2)return["RadialAxial","radial",f,h,[u[0],u[1]],[u[3],u[4]],u[2],u[5]];if(r===3){const y=this.data[p(ar,WS)];let b=null;if(u.length>0){let x=u[0],w=u[0],S=u[1],_=u[1];for(let A=0;A<u.length;A+=2){const C=u[A],T=u[A+1];x=x>C?C:x,S=S>T?T:S,w=w<C?C:w,_=_<T?T:_}b=[x,S,w,_]}return["Mesh",y,u,d,v,b,f,g]}throw new Error(`Unsupported pattern kind: ${r}`)}};VS=new WeakMap,zS=new WeakMap,HS=new WeakMap,WS=new WeakMap,GS=new WeakMap,qS=new WeakMap,KS=new WeakMap,XS=new WeakMap,M(ar,VS,0),M(ar,zS,1),M(ar,HS,2),M(ar,WS,3),M(ar,GS,4),M(ar,qS,8),M(ar,KS,12),M(ar,XS,16);let X$=ar;var _y;class Let{constructor(e){M(this,_y);k(this,_y,e)}static write(e){let r,n;return Nn.isFloat16ArraySupported?(n=new ArrayBuffer(e.length*2),r=new Float16Array(n)):(n=new ArrayBuffer(e.length*4),r=new Float32Array(n)),r.set(e),n}get path(){return Nn.isFloat16ArraySupported?new Float16Array(p(this,_y)):new Float32Array(p(this,_y))}}_y=new WeakMap;function Fet(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(zi)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Bet(t){if(zi&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return dN(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function GE(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const Y$=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,Uet=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",Vet=wet.bind(null,Y$,Uet);var Wc,Wk;class zet{constructor(){M(this,Wc,new Map);M(this,Wk,Promise.resolve())}postMessage(e,r){const n={data:structuredClone(e,r?{transfer:r}:null)};p(this,Wk).then(()=>{for(const[i]of p(this,Wc))i.call(this,n)})}addEventListener(e,r,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Ye("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,r);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}p(this,Wc).set(r,i)}removeEventListener(e,r){const n=p(this,Wc).get(r);n==null||n(),p(this,Wc).delete(r)}terminate(){for(const[,e]of p(this,Wc))e==null||e();p(this,Wc).clear()}}Wc=new WeakMap,Wk=new WeakMap;const qE={DATA:1,ERROR:2},an={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Pq(){}function as(t){if(t instanceof tf||t instanceof T$||t instanceof xq||t instanceof wk||t instanceof xR)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Ot('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new tf(t.message);case"InvalidPDFException":return new T$(t.message);case"PasswordException":return new xq(t.message,t.code);case"ResponseException":return new wk(t.message,t.status,t.missing);case"UnknownErrorException":return new xR(t.message,t.details)}return new xR(t.message,t.toString())}var Ay,no,gle,vle,yle,FC;class qx{constructor(e,r,n){M(this,no);M(this,Ay,new AbortController);this.sourceName=e,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",$(this,no,gle).bind(this),{signal:p(this,Ay).signal})}on(e,r){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=r}send(e,r,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:r},n)}sendWithPromise(e,r,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:r},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,r,n,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:r,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:a,targetName:o,stream:an.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{jt(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:an.CANCEL,streamId:s,reason:as(c)}),u.promise}},n)}destroy(){var e;(e=p(this,Ay))==null||e.abort(),k(this,Ay,null)}}Ay=new WeakMap,no=new WeakSet,gle=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){$(this,no,yle).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===qE.DATA)i.resolve(e.data);else if(e.callback===qE.ERROR)i.reject(as(e.reason));else throw new Error("Unexpected callback case");return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(r,e.data).then(function(a){s.postMessage({sourceName:n,targetName:i,callback:qE.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:i,callback:qE.ERROR,callbackId:e.callbackId,reason:as(a)})});return}if(e.streamId){$(this,no,vle).call(this,e);return}r(e.data)},vle=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:an.ENQUEUE,streamId:r,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:an.CLOSE,streamId:r}),delete a.streamSinks[r])},error(c){jt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:an.ERROR,streamId:r,reason:as(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[r]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:an.START_COMPLETE,streamId:r,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:an.START_COMPLETE,streamId:r,reason:as(c)})})},yle=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[r],o=this.streamSinks[r];switch(e.stream){case an.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(as(e.reason));break;case an.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(as(e.reason));break;case an.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:an.PULL_COMPLETE,streamId:r,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||Pq).then(function(){s.postMessage({sourceName:n,targetName:i,stream:an.PULL_COMPLETE,streamId:r,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:an.PULL_COMPLETE,streamId:r,reason:as(c)})});break;case an.ENQUEUE:if(jt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case an.CLOSE:if(jt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),$(this,no,FC).call(this,a,r);break;case an.ERROR:jt(a,"error should have stream controller"),a.controller.error(as(e.reason)),$(this,no,FC).call(this,a,r);break;case an.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(as(e.reason)),$(this,no,FC).call(this,a,r);break;case an.CANCEL:if(!o)break;const l=as(e.reason);Promise.try(o.onCancel||Pq,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:an.CANCEL_COMPLETE,streamId:r,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:an.CANCEL_COMPLETE,streamId:r,reason:as(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}},FC=async function(e,r){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[r]};var YS;class ble{constructor({enableHWA:e=!1}){M(this,YS,!1);k(this,YS,e)}create(e,r){if(e<=0||r<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,r);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!p(this,YS)})}}reset(e,r,n){if(!e.canvas)throw new Error("Canvas is not specified");if(r<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=r,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,r){Ot("Abstract method `_createCanvas` called.")}}YS=new WeakMap;class Het extends ble{constructor({ownerDocument:e=globalThis.document,enableHWA:r=!1}){super({enableHWA:r}),this._document=e}_createCanvas(e,r){const n=this._document.createElement("canvas");return n.width=e,n.height=r,n}}class xle{constructor({baseUrl:e=null,isCompressed:r=!0}){this.baseUrl=e,this.isCompressed=r}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const r=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(r).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})}async _fetch(e){Ot("Abstract method `_fetch` called.")}}class kq extends xle{async _fetch(e){const r=await FA(e,this.isCompressed?"arraybuffer":"text");return r instanceof ArrayBuffer?new Uint8Array(r):dN(r)}}class wle{addFilter(e){return"none"}addHCMFilter(e,r){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,r,n,i,s){return"none"}destroy(e=!1){}}var Cp,Ey,Gc,qc,Ci,Tp,Pp,Ae,wi,Kx,$g,BC,Lg,Sle,Q$,Fg,Xx,Yx,Z$,Qx;class Wet extends wle{constructor({docId:r,ownerDocument:n=globalThis.document}){super();M(this,Ae);M(this,Cp);M(this,Ey);M(this,Gc);M(this,qc);M(this,Ci);M(this,Tp);M(this,Pp,0);k(this,qc,r),k(this,Ci,n)}addFilter(r){if(!r)return"none";let n=p(this,Ae,wi).get(r);if(n)return n;const[i,s,a]=$(this,Ae,BC).call(this,r),o=r.length===1?i:`${i}${s}${a}`;if(n=p(this,Ae,wi).get(o),n)return p(this,Ae,wi).set(r,n),n;const l=`g_${p(this,qc)}_transfer_map_${Fr(this,Pp)._++}`,c=$(this,Ae,Lg).call(this,l);p(this,Ae,wi).set(r,c),p(this,Ae,wi).set(o,c);const u=$(this,Ae,Fg).call(this,l);return $(this,Ae,Yx).call(this,i,s,a,u),c}addHCMFilter(r,n){var g;const i=`${r}-${n}`,s="base";let a=p(this,Ae,Kx).get(s);if((a==null?void 0:a.key)===i||(a?((g=a.filter)==null||g.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},p(this,Ae,Kx).set(s,a)),!r||!n))return a.url;const o=$(this,Ae,Qx).call(this,r);r=we.makeHexColor(...o);const l=$(this,Ae,Qx).call(this,n);if(n=we.makeHexColor(...l),p(this,Ae,$g).style.color="",r==="#000000"&&n==="#ffffff"||r===n)return a.url;const c=new Array(256);for(let v=0;v<=255;v++){const y=v/255;c[v]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const u=c.join(","),d=`g_${p(this,qc)}_hcm_filter`,h=a.filter=$(this,Ae,Fg).call(this,d);$(this,Ae,Yx).call(this,u,u,u,h),$(this,Ae,Q$).call(this,h);const f=(v,y)=>{const b=o[v]/255,x=l[v]/255,w=new Array(y+1);for(let S=0;S<=y;S++)w[S]=b+S/y*(x-b);return w.join(",")};return $(this,Ae,Yx).call(this,f(0,5),f(1,5),f(2,5),h),a.url=$(this,Ae,Lg).call(this,d),a.url}addAlphaFilter(r){let n=p(this,Ae,wi).get(r);if(n)return n;const[i]=$(this,Ae,BC).call(this,[r]),s=`alpha_${i}`;if(n=p(this,Ae,wi).get(s),n)return p(this,Ae,wi).set(r,n),n;const a=`g_${p(this,qc)}_alpha_map_${Fr(this,Pp)._++}`,o=$(this,Ae,Lg).call(this,a);p(this,Ae,wi).set(r,o),p(this,Ae,wi).set(s,o);const l=$(this,Ae,Fg).call(this,a);return $(this,Ae,Z$).call(this,i,l),o}addLuminosityFilter(r){let n=p(this,Ae,wi).get(r||"luminosity");if(n)return n;let i,s;if(r?([i]=$(this,Ae,BC).call(this,[r]),s=`luminosity_${i}`):s="luminosity",n=p(this,Ae,wi).get(s),n)return p(this,Ae,wi).set(r,n),n;const a=`g_${p(this,qc)}_luminosity_map_${Fr(this,Pp)._++}`,o=$(this,Ae,Lg).call(this,a);p(this,Ae,wi).set(r,o),p(this,Ae,wi).set(s,o);const l=$(this,Ae,Fg).call(this,a);return $(this,Ae,Sle).call(this,l),r&&$(this,Ae,Z$).call(this,i,l),o}addHighlightHCMFilter(r,n,i,s,a){var x;const o=`${n}-${i}-${s}-${a}`;let l=p(this,Ae,Kx).get(r);if((l==null?void 0:l.key)===o||(l?((x=l.filter)==null||x.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},p(this,Ae,Kx).set(r,l)),!n||!i))return l.url;const[c,u]=[n,i].map($(this,Ae,Qx).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,g]=[s,a].map($(this,Ae,Qx).bind(this));h<d&&([d,h,f,g]=[h,d,g,f]),p(this,Ae,$g).style.color="";const v=(w,S,_)=>{const A=new Array(256),C=(h-d)/_,T=w/255,P=(S-w)/(255*_);let O=0;for(let I=0;I<=_;I++){const R=Math.round(d+I*C),B=T+I*P;for(let D=O;D<=R;D++)A[D]=B;O=R+1}for(let I=O;I<256;I++)A[I]=A[O-1];return A.join(",")},y=`g_${p(this,qc)}_hcm_${r}_filter`,b=l.filter=$(this,Ae,Fg).call(this,y);return $(this,Ae,Q$).call(this,b),$(this,Ae,Yx).call(this,v(f[0],g[0],5),v(f[1],g[1],5),v(f[2],g[2],5),b),l.url=$(this,Ae,Lg).call(this,y),l.url}destroy(r=!1){var n,i,s,a;r&&((n=p(this,Tp))!=null&&n.size)||((i=p(this,Gc))==null||i.parentNode.parentNode.remove(),k(this,Gc,null),(s=p(this,Ey))==null||s.clear(),k(this,Ey,null),(a=p(this,Tp))==null||a.clear(),k(this,Tp,null),k(this,Pp,0))}}Cp=new WeakMap,Ey=new WeakMap,Gc=new WeakMap,qc=new WeakMap,Ci=new WeakMap,Tp=new WeakMap,Pp=new WeakMap,Ae=new WeakSet,wi=function(){return p(this,Ey)||k(this,Ey,new Map)},Kx=function(){return p(this,Tp)||k(this,Tp,new Map)},$g=function(){if(!p(this,Gc)){const r=p(this,Ci).createElement("div"),{style:n}=r;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=p(this,Ci).createElementNS(_c,"svg");i.setAttribute("width",0),i.setAttribute("height",0),k(this,Gc,p(this,Ci).createElementNS(_c,"defs")),r.append(i),i.append(p(this,Gc)),p(this,Ci).body.append(r)}return p(this,Gc)},BC=function(r){if(r.length===1){const c=r[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=c[h]/255;const d=u.join(",");return[d,d,d]}const[n,i,s]=r,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=n[c]/255,o[c]=i[c]/255,l[c]=s[c]/255;return[a.join(","),o.join(","),l.join(",")]},Lg=function(r){if(p(this,Cp)===void 0){k(this,Cp,"");const n=p(this,Ci).URL;n!==p(this,Ci).baseURI&&(hN(n)?Ye('#createUrl: ignore "data:"-URL for performance reasons.'):k(this,Cp,koe(n,"")))}return`url(${p(this,Cp)}#${r})`},Sle=function(r){const n=p(this,Ci).createElementNS(_c,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),r.append(n)},Q$=function(r){const n=p(this,Ci).createElementNS(_c,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),r.append(n)},Fg=function(r){const n=p(this,Ci).createElementNS(_c,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",r),p(this,Ae,$g).append(n),n},Xx=function(r,n,i){const s=p(this,Ci).createElementNS(_c,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),r.append(s)},Yx=function(r,n,i,s){const a=p(this,Ci).createElementNS(_c,"feComponentTransfer");s.append(a),$(this,Ae,Xx).call(this,a,"feFuncR",r),$(this,Ae,Xx).call(this,a,"feFuncG",n),$(this,Ae,Xx).call(this,a,"feFuncB",i)},Z$=function(r,n){const i=p(this,Ci).createElementNS(_c,"feComponentTransfer");n.append(i),$(this,Ae,Xx).call(this,i,"feFuncA",r)},Qx=function(r){return p(this,Ae,$g).style.color=r,UA(getComputedStyle(p(this,Ae,$g)).getPropertyValue("color"))};class _le{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load font data at: ${r}`)})}async _fetch(e){Ot("Abstract method `_fetch` called.")}}class jq extends _le{async _fetch(e){const r=await FA(e,"arraybuffer");return new Uint8Array(r)}}class Ale{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load wasm data at: ${r}`)})}async _fetch(e){Ot("Abstract method `_fetch` called.")}}class Oq extends Ale{async _fetch(e){const r=await FA(e,"arraybuffer");return new Uint8Array(r)}}zi&&Ye("Please use the `legacy` build in Node.js environments.");async function C5(t){const r=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(r)}class Get extends wle{}class qet extends ble{_createCanvas(e,r){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,r)}}class Ket extends xle{async _fetch(e){return C5(e)}}class Xet extends _le{async _fetch(e){return C5(e)}}class Yet extends Ale{async _fetch(e){return C5(e)}}const Ag="__forcedDependency",{floor:Nq,ceil:Rq}=Math;function KE(t,e,r,n,i,s){t[e*4+0]=Math.min(t[e*4+0],r),t[e*4+1]=Math.min(t[e*4+1],n),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],s)}const J$=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Cy,Zd;class Qet{constructor(e,r){M(this,Cy);M(this,Zd);k(this,Cy,e),k(this,Zd,r)}get length(){return p(this,Cy).length}isEmpty(e){return p(this,Cy)[e]===J$}minX(e){return p(this,Zd)[e*4+0]/256}minY(e){return p(this,Zd)[e*4+1]/256}maxX(e){return(p(this,Zd)[e*4+2]+1)/256}maxY(e){return(p(this,Zd)[e*4+3]+1)/256}}Cy=new WeakMap,Zd=new WeakMap;const XE=(t,e)=>{if(!t)return;let r=t.get(e);return r||(r={dependencies:new Set,isRenderingOperation:!1},t.set(e,r)),r};var cs,us,kp,Mo,jp,Kc,Ft,Yt,Xc,ds,QS,Ty,Op,Np,Yc,Ti,kl,ZS,eL;class Zet{constructor(e,r,n=!1){M(this,ZS);M(this,cs,{__proto__:null});M(this,us,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Ag]:[]});M(this,kp,new Map);M(this,Mo,[]);M(this,jp,[]);M(this,Kc,[[1,0,0,1,0,0]]);M(this,Ft,[-1/0,-1/0,1/0,1/0]);M(this,Yt,new Float64Array([1/0,1/0,-1/0,-1/0]));M(this,Xc,-1);M(this,ds,new Set);M(this,QS,new Map);M(this,Ty,new Map);M(this,Op);M(this,Np);M(this,Yc);M(this,Ti);M(this,kl);k(this,Op,e.width),k(this,Np,e.height),$(this,ZS,eL).call(this,r),n&&k(this,kl,new Map)}growOperationsCount(e){e>=p(this,Ti).length&&$(this,ZS,eL).call(this,e,p(this,Ti))}save(e){return k(this,cs,{__proto__:p(this,cs)}),k(this,us,{__proto__:p(this,us),transform:{__proto__:p(this,us).transform},moveText:{__proto__:p(this,us).moveText},sameLineText:{__proto__:p(this,us).sameLineText},[Ag]:{__proto__:p(this,us)[Ag]}}),k(this,Ft,{__proto__:p(this,Ft)}),p(this,Mo).push(e),this}restore(e){var i;const r=Object.getPrototypeOf(p(this,cs));if(r===null)return this;k(this,cs,r),k(this,us,Object.getPrototypeOf(p(this,us))),k(this,Ft,Object.getPrototypeOf(p(this,Ft)));const n=p(this,Mo).pop();return n!==void 0&&((i=XE(p(this,kl),e))==null||i.dependencies.add(n),p(this,Ti)[e]=p(this,Ti)[n]),this}recordOpenMarker(e){return p(this,Mo).push(e),this}getOpenMarker(){return p(this,Mo).length===0?null:p(this,Mo).at(-1)}recordCloseMarker(e){var n;const r=p(this,Mo).pop();return r!==void 0&&((n=XE(p(this,kl),e))==null||n.dependencies.add(r),p(this,Ti)[e]=p(this,Ti)[r]),this}beginMarkedContent(e){return p(this,jp).push(e),this}endMarkedContent(e){var n;const r=p(this,jp).pop();return r!==void 0&&((n=XE(p(this,kl),e))==null||n.dependencies.add(r),p(this,Ti)[e]=p(this,Ti)[r]),this}pushBaseTransform(e){return p(this,Kc).push(we.multiplyByDOMMatrix(p(this,Kc).at(-1),e.getTransform())),this}popBaseTransform(){return p(this,Kc).length>1&&p(this,Kc).pop(),this}recordSimpleData(e,r){return p(this,cs)[e]=r,this}recordIncrementalData(e,r){return p(this,us)[e].push(r),this}resetIncrementalData(e,r){return p(this,us)[e].length=0,this}recordNamedData(e,r){return p(this,kp).set(e,r),this}recordSimpleDataFromNamed(e,r,n){p(this,cs)[e]=p(this,kp).get(r)??n}recordFutureForcedDependency(e,r){return this.recordIncrementalData(Ag,r),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const r of e)r in p(this,cs)&&this.recordFutureForcedDependency(r,p(this,cs)[r]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of p(this,ds))this.recordFutureForcedDependency(Ag,e);return this}resetBBox(e){return p(this,Xc)!==e&&(k(this,Xc,e),p(this,Yt)[0]=1/0,p(this,Yt)[1]=1/0,p(this,Yt)[2]=-1/0,p(this,Yt)[3]=-1/0),this}recordClipBox(e,r,n,i,s,a){const o=we.multiplyByDOMMatrix(p(this,Kc).at(-1),r.getTransform()),l=[1/0,1/0,-1/0,-1/0];we.axialAlignedBoundingBox([n,s,i,a],o,l);const c=we.intersect(p(this,Ft),l);return c?(p(this,Ft)[0]=c[0],p(this,Ft)[1]=c[1],p(this,Ft)[2]=c[2],p(this,Ft)[3]=c[3]):(p(this,Ft)[0]=p(this,Ft)[1]=1/0,p(this,Ft)[2]=p(this,Ft)[3]=-1/0),this}recordBBox(e,r,n,i,s,a){const o=p(this,Ft);if(o[0]===1/0)return this;const l=we.multiplyByDOMMatrix(p(this,Kc).at(-1),r.getTransform());if(o[0]===-1/0)return we.axialAlignedBoundingBox([n,s,i,a],l,p(this,Yt)),this;const c=[1/0,1/0,-1/0,-1/0];return we.axialAlignedBoundingBox([n,s,i,a],l,c),p(this,Yt)[0]=Math.min(p(this,Yt)[0],Math.max(c[0],o[0])),p(this,Yt)[1]=Math.min(p(this,Yt)[1],Math.max(c[1],o[1])),p(this,Yt)[2]=Math.max(p(this,Yt)[2],Math.min(c[2],o[2])),p(this,Yt)[3]=Math.max(p(this,Yt)[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,r,n,i=1,s=0,a=0,o){const l=n.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&p(this,Ty).get(n),c!==!1&&(u=[0,0,0,0],we.axialAlignedBoundingBox(l,n.fontMatrix,u),(i!==1||s!==0||a!==0)&&we.scaleMinMax([i,0,0,-i,s,a],u),c)))return this.recordBBox(e,r,u[0],u[2],u[1],u[3]);if(!o)return this.recordFullPageBBox(e);const d=o();return l&&u&&c===void 0&&(c=u[0]<=s-d.actualBoundingBoxLeft&&u[2]>=s+d.actualBoundingBoxRight&&u[1]<=a-d.actualBoundingBoxAscent&&u[3]>=a+d.actualBoundingBoxDescent,p(this,Ty).set(n,c),c)?this.recordBBox(e,r,u[0],u[2],u[1],u[3]):this.recordBBox(e,r,s-d.actualBoundingBoxLeft,s+d.actualBoundingBoxRight,a-d.actualBoundingBoxAscent,a+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return p(this,Yt)[0]=Math.max(0,p(this,Ft)[0]),p(this,Yt)[1]=Math.max(0,p(this,Ft)[1]),p(this,Yt)[2]=Math.min(p(this,Op),p(this,Ft)[2]),p(this,Yt)[3]=Math.min(p(this,Np),p(this,Ft)[3]),this}getSimpleIndex(e){return p(this,cs)[e]}recordDependencies(e,r){const n=p(this,ds),i=p(this,cs),s=p(this,us);for(const a of r)a in p(this,cs)?n.add(i[a]):a in s&&s[a].forEach(n.add,n);return this}recordNamedDependency(e,r){return p(this,kp).has(r)&&p(this,ds).add(p(this,kp).get(r)),this}recordOperation(e,r=!1){if(this.recordDependencies(e,[Ag]),p(this,kl)){const n=XE(p(this,kl),e),{dependencies:i}=n;p(this,ds).forEach(i.add,i),p(this,Mo).forEach(i.add,i),p(this,jp).forEach(i.add,i),i.delete(e),n.isRenderingOperation=!0}if(p(this,Xc)===e){const n=Nq(p(this,Yt)[0]*256/p(this,Op)),i=Nq(p(this,Yt)[1]*256/p(this,Np)),s=Rq(p(this,Yt)[2]*256/p(this,Op)),a=Rq(p(this,Yt)[3]*256/p(this,Np));KE(p(this,Yc),e,n,i,s,a);for(const o of p(this,ds))o!==e&&KE(p(this,Yc),o,n,i,s,a);for(const o of p(this,Mo))o!==e&&KE(p(this,Yc),o,n,i,s,a);for(const o of p(this,jp))o!==e&&KE(p(this,Yc),o,n,i,s,a);r||(p(this,ds).clear(),k(this,Xc,-1))}return this}recordShowTextOperation(e,r=!1){const n=Array.from(p(this,ds));this.recordOperation(e,r),this.recordIncrementalData("sameLineText",e);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,r=!1){return p(this,Xc)===e&&(k(this,Xc,-1),p(this,Ft)[0]=Math.max(p(this,Ft)[0],p(this,Yt)[0]),p(this,Ft)[1]=Math.max(p(this,Ft)[1],p(this,Yt)[1]),p(this,Ft)[2]=Math.min(p(this,Ft)[2],p(this,Yt)[2]),p(this,Ft)[3]=Math.min(p(this,Ft)[3],p(this,Yt)[3]),r||p(this,ds).clear()),this}_takePendingDependencies(){const e=p(this,ds);return k(this,ds,new Set),e}_extractOperation(e){const r=p(this,QS).get(e);return p(this,QS).delete(e),r}_pushPendingDependencies(e){for(const r of e)p(this,ds).add(r)}take(){return p(this,Ty).clear(),new Qet(p(this,Ti),p(this,Yc))}takeDebugMetadata(){return p(this,kl)}}cs=new WeakMap,us=new WeakMap,kp=new WeakMap,Mo=new WeakMap,jp=new WeakMap,Kc=new WeakMap,Ft=new WeakMap,Yt=new WeakMap,Xc=new WeakMap,ds=new WeakMap,QS=new WeakMap,Ty=new WeakMap,Op=new WeakMap,Np=new WeakMap,Yc=new WeakMap,Ti=new WeakMap,kl=new WeakMap,ZS=new WeakSet,eL=function(e,r){const n=new ArrayBuffer(e*4);k(this,Yc,new Uint8ClampedArray(n)),k(this,Ti,new Uint32Array(n)),r&&r.length>0?(p(this,Ti).set(r),p(this,Ti).fill(J$,r.length)):p(this,Ti).fill(J$)};var rr,Ur,Io,Py,ky;const M5=class M5{constructor(e,r,n){M(this,rr);M(this,Ur);M(this,Io);M(this,Py,0);M(this,ky,0);if(e instanceof M5&&p(e,Io)===!!n)return e;k(this,rr,e),k(this,Ur,r),k(this,Io,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Fr(this,ky)._++,p(this,rr).save(p(this,Ur)),this}restore(e){return p(this,ky)>0&&(p(this,rr).restore(p(this,Ur)),Fr(this,ky)._--),this}recordOpenMarker(e){return Fr(this,Py)._++,this}getOpenMarker(){return p(this,Py)>0?p(this,Ur):p(this,rr).getOpenMarker()}recordCloseMarker(e){return Fr(this,Py)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return p(this,rr).pushBaseTransform(e),this}popBaseTransform(){return p(this,rr).popBaseTransform(),this}recordSimpleData(e,r){return p(this,rr).recordSimpleData(e,p(this,Ur)),this}recordIncrementalData(e,r){return p(this,rr).recordIncrementalData(e,p(this,Ur)),this}resetIncrementalData(e,r){return p(this,rr).resetIncrementalData(e,p(this,Ur)),this}recordNamedData(e,r){return this}recordSimpleDataFromNamed(e,r,n){return p(this,rr).recordSimpleDataFromNamed(e,r,p(this,Ur)),this}recordFutureForcedDependency(e,r){return p(this,rr).recordFutureForcedDependency(e,p(this,Ur)),this}inheritSimpleDataAsFutureForcedDependencies(e){return p(this,rr).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return p(this,rr).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return p(this,Io)||p(this,rr).resetBBox(p(this,Ur)),this}recordClipBox(e,r,n,i,s,a){return p(this,Io)||p(this,rr).recordClipBox(p(this,Ur),r,n,i,s,a),this}recordBBox(e,r,n,i,s,a){return p(this,Io)||p(this,rr).recordBBox(p(this,Ur),r,n,i,s,a),this}recordCharacterBBox(e,r,n,i,s,a,o){return p(this,Io)||p(this,rr).recordCharacterBBox(p(this,Ur),r,n,i,s,a,o),this}recordFullPageBBox(e){return p(this,Io)||p(this,rr).recordFullPageBBox(p(this,Ur)),this}getSimpleIndex(e){return p(this,rr).getSimpleIndex(e)}recordDependencies(e,r){return p(this,rr).recordDependencies(p(this,Ur),r),this}recordNamedDependency(e,r){return p(this,rr).recordNamedDependency(p(this,Ur),r),this}recordOperation(e){return p(this,rr).recordOperation(p(this,Ur),!0),this}recordShowTextOperation(e){return p(this,rr).recordShowTextOperation(p(this,Ur),!0),this}bboxToClipBoxDropOperation(e){return p(this,Io)||p(this,rr).bboxToClipBoxDropOperation(p(this,Ur),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};rr=new WeakMap,Ur=new WeakMap,Io=new WeakMap,Py=new WeakMap,ky=new WeakMap;let Tk=M5;const ja={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},ci={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function tL(t,e){if(!e)return;const r=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],r,n),t.clip(i)}class T5{isModifyingCurrentTransform(){return!1}getPattern(){Ot("Abstract method `getPattern` called.")}}class Jet extends T5{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,r=null){let n,i=this._p0,s=this._p1;if(r&&(i=i.slice(),s=s.slice(),we.applyTransform(i,r),we.applyTransform(s,r)),this._type==="axial")n=e.createLinearGradient(i[0],i[1],s[0],s[1]);else if(this._type==="radial"){let a=this._r0,o=this._r1;if(r){const l=new Float32Array(2);we.singularValueDecompose2dScale(r,l),a*=l[0],o*=l[0]}n=e.createRadialGradient(i[0],i[1],a,s[0],s[1],o)}for(const a of this._colorStops)n.addColorStop(a[0],a[1]);return n}getPattern(e,r,n,i){let s;if(i===ci.STROKE||i===ci.FILL){if(this.isOriginBased()){let h=we.transform(n,r.baseTransform);this.matrix&&(h=we.transform(h,this.matrix));const f=.001,g=Math.hypot(h[0],h[1]),v=Math.hypot(h[2],h[3]),y=(h[0]*h[2]+h[1]*h[3])/(g*v);if(Math.abs(y)<f)if(this.isRadial()){if(Math.abs(g-v)<f)return this._createGradient(e,h)}else return this._createGradient(e,h)}const a=r.current.getClippedPathBoundingBox(i,Or(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=r.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),n=we.transform(n,[1,0,0,1,a[0],a[1]]),u.transform(...r.baseTransform),this.matrix&&u.transform(...this.matrix),tL(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(n);s.setTransform(d)}else tL(e,this._bbox),s=this._createGradient(e);return s}}function _R(t,e,r,n,i,s,a,o){const l=e.coords,c=e.colors,u=t.data,d=t.width*4;let h;l[r+1]>l[n+1]&&(h=r,r=n,n=h,h=s,s=a,a=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=a,a=o,o=h),l[r+1]>l[n+1]&&(h=r,r=n,n=h,h=s,s=a,a=h);const f=(l[r]+e.offsetX)*e.scaleX,g=(l[r+1]+e.offsetY)*e.scaleY,v=(l[n]+e.offsetX)*e.scaleX,y=(l[n+1]+e.offsetY)*e.scaleY,b=(l[i]+e.offsetX)*e.scaleX,x=(l[i+1]+e.offsetY)*e.scaleY;if(g>=x)return;const w=c[s],S=c[s+1],_=c[s+2],A=c[a],C=c[a+1],T=c[a+2],P=c[o],O=c[o+1],I=c[o+2],R=Math.round(g),B=Math.round(x);let D,U,N,j,L,F,z,K;for(let V=R;V<=B;V++){if(V<y){const J=V<g?0:(g-V)/(g-y);D=f-(f-v)*J,U=w-(w-A)*J,N=S-(S-C)*J,j=_-(_-T)*J}else{let J;V>x?J=1:y===x?J=0:J=(y-V)/(y-x),D=v-(v-b)*J,U=A-(A-P)*J,N=C-(C-O)*J,j=T-(T-I)*J}let G;V<g?G=0:V>x?G=1:G=(g-V)/(g-x),L=f-(f-b)*G,F=w-(w-P)*G,z=S-(S-O)*G,K=_-(_-I)*G;const X=Math.round(Math.min(D,L)),H=Math.round(Math.max(D,L));let Z=d*V+X*4;for(let J=X;J<=H;J++)G=(D-J)/(D-L),G<0?G=0:G>1&&(G=1),u[Z++]=U-(U-F)*G|0,u[Z++]=N-(N-z)*G|0,u[Z++]=j-(j-K)*G|0,u[Z++]=255}}function ett(t,e,r){const n=e.coords,i=e.colors;let s,a;switch(e.type){case C$.LATTICE:const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(s=0;s<l;s++){let u=s*o;for(let d=0;d<c;d++,u++)_R(t,r,n[u],n[u+1],n[u+o],i[u],i[u+1],i[u+o]),_R(t,r,n[u+o+1],n[u+1],n[u+o],i[u+o+1],i[u+1],i[u+o])}break;case C$.TRIANGLES:for(s=0,a=n.length;s<a;s+=3)_R(t,r,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class ttt extends T5{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,r,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/d,g=u/h,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/f,scaleY:1/g},y=d+2*2,b=h+2*2,x=n.getCanvas("mesh",y,b),w=x.context,S=w.createImageData(d,h);if(r){const A=S.data;for(let C=0,T=A.length;C<T;C+=4)A[C]=r[0],A[C+1]=r[1],A[C+2]=r[2],A[C+3]=255}for(const A of this._figures)ett(S,A,v);return w.putImageData(S,2,2),{canvas:x.canvas,offsetX:o-2*f,offsetY:l-2*g,scaleX:f,scaleY:g}}isModifyingCurrentTransform(){return!0}getPattern(e,r,n,i){tL(e,this._bbox);const s=new Float32Array(2);if(i===ci.SHADING)we.singularValueDecompose2dScale(Or(e),s);else if(this.matrix){we.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;we.singularValueDecompose2dScale(r.baseTransform,s),s[0]*=o,s[1]*=l}else we.singularValueDecompose2dScale(r.baseTransform,s);const a=this._createMeshCanvas(s,i===ci.SHADING?null:this._background,r.cachedCanvases);return i!==ci.SHADING&&(e.setTransform(...r.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class rtt extends T5{getPattern(){return"hotpink"}}function ntt(t){switch(t[0]){case"RadialAxial":return new Jet(t);case"Mesh":return new ttt(t);case"Dummy":return new rtt}throw new Error(`Unknown IR type: ${t[0]}`)}const Mq={COLORED:1,UNCOLORED:2},Gk=class Gk{constructor(e,r,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=r,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e,r){var F,z;const{bbox:n,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),uN("TilingType: "+a);const d=n[0],h=n[1],f=n[2],g=n[3],v=f-d,y=g-h,b=new Float32Array(2);we.singularValueDecompose2dScale(this.matrix,b);const[x,w]=b;we.singularValueDecompose2dScale(this.baseTransform,b);const S=x*b[0],_=w*b[1];let A=v,C=y,T=!1,P=!1;const O=Math.ceil(c*S),I=Math.ceil(u*_),R=Math.ceil(v*S),B=Math.ceil(y*_);O>=R?A=c:T=!0,I>=B?C=u:P=!0;const D=this.getSizeAndScale(A,this.ctx.canvas.width,S),U=this.getSizeAndScale(C,this.ctx.canvas.height,_),N=e.cachedCanvases.getCanvas("pattern",D.size,U.size),j=N.context,L=l.createCanvasGraphics(j,r);if(L.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(L,s,o),j.translate(-D.scale*d,-U.scale*h),L.transform(0,D.scale,0,0,U.scale,0,0),j.save(),(F=L.dependencyTracker)==null||F.save(),this.clipBbox(L,d,h,f,g),L.baseTransform=Or(L.ctx),L.executeOperatorList(i),L.endDrawing(),(z=L.dependencyTracker)==null||z.restore(),j.restore(),T||P){const K=N.canvas;T&&(A=c),P&&(C=u);const V=this.getSizeAndScale(A,this.ctx.canvas.width,S),G=this.getSizeAndScale(C,this.ctx.canvas.height,_),X=V.size,H=G.size,Z=e.cachedCanvases.getCanvas("pattern-workaround",X,H),J=Z.context,ce=T?Math.floor(v/c):0,ee=P?Math.floor(y/u):0;for(let oe=0;oe<=ce;oe++)for(let ue=0;ue<=ee;ue++)J.drawImage(K,X*oe,H*ue,X,H,0,0,X,H);return{canvas:Z.canvas,scaleX:V.scale,scaleY:G.scale,offsetX:d,offsetY:h}}return{canvas:N.canvas,scaleX:D.scale,scaleY:U.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,r,n){const i=Math.max(Gk.MAX_PATTERN_SIZE,r);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,r,n,i,s){const a=i-r,o=s-n;e.ctx.rect(r,n,a,o),we.axialAlignedBoundingBox([r,n,i,s],Or(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,r,n){const i=e.ctx,s=e.current;switch(r){case Mq.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case Mq.UNCOLORED:i.fillStyle=i.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new pet(`Unsupported paint type: ${r}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,r,n,i,s){let a=n;i!==ci.SHADING&&(a=we.transform(a,r.baseTransform),this.matrix&&(a=we.transform(a,this.matrix)));const o=this.createPatternCanvas(r,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};ie(Gk,"MAX_PATTERN_SIZE",3e3);let rL=Gk;function itt({src:t,srcPos:e=0,dest:r,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Nn.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],u=n>>3,d=n&7,h=t.length;r=new Uint32Array(r.buffer);let f=0;for(let g=0;g<i;g++){for(const y=e+u;e<y;e++){const b=e<h?t[e]:255;r[f++]=b&128?c:l,r[f++]=b&64?c:l,r[f++]=b&32?c:l,r[f++]=b&16?c:l,r[f++]=b&8?c:l,r[f++]=b&4?c:l,r[f++]=b&2?c:l,r[f++]=b&1?c:l}if(d===0)continue;const v=e<h?t[e++]:255;for(let y=0;y<d;y++)r[f++]=v&1<<7-y?c:l}return{srcPos:e,destPos:f}}const Iq=16,Dq=100,stt=15,$q=10,vs=16,AR=new DOMMatrix,sa=new Float32Array(2),gv=new Float32Array([1/0,1/0,-1/0,-1/0]);function att(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,n){e.translate(r,n),this.__originalTranslate(r,n)},t.scale=function(r,n){e.scale(r,n),this.__originalScale(r,n)},t.transform=function(r,n,i,s,a,o){e.transform(r,n,i,s,a,o),this.__originalTransform(r,n,i,s,a,o)},t.setTransform=function(r,n,i,s,a,o){e.setTransform(r,n,i,s,a,o),this.__originalSetTransform(r,n,i,s,a,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(r,n){e.moveTo(r,n),this.__originalMoveTo(r,n)},t.lineTo=function(r,n){e.lineTo(r,n),this.__originalLineTo(r,n)},t.bezierCurveTo=function(r,n,i,s,a,o){e.bezierCurveTo(r,n,i,s,a,o),this.__originalBezierCurveTo(r,n,i,s,a,o)},t.rect=function(r,n,i,s){e.rect(r,n,i,s),this.__originalRect(r,n,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class ott{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,r,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,r,n)):(i=this.canvasFactory.create(r,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const r=this.cache[e];this.canvasFactory.destroy(r),delete this.cache[e]}}}function YE(t,e,r,n,i,s,a,o,l,c){const[u,d,h,f,g,v]=Or(t);if(d===0&&h===0){const x=a*u+g,w=Math.round(x),S=o*f+v,_=Math.round(S),A=(a+l)*u+g,C=Math.abs(Math.round(A)-w)||1,T=(o+c)*f+v,P=Math.abs(Math.round(T)-_)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(f),w,_),t.drawImage(e,r,n,i,s,0,0,C,P),t.setTransform(u,d,h,f,g,v),[C,P]}if(u===0&&f===0){const x=o*h+g,w=Math.round(x),S=a*d+v,_=Math.round(S),A=(o+c)*h+g,C=Math.abs(Math.round(A)-w)||1,T=(a+l)*d+v,P=Math.abs(Math.round(T)-_)||1;return t.setTransform(0,Math.sign(d),Math.sign(h),0,w,_),t.drawImage(e,r,n,i,s,0,0,P,C),t.setTransform(u,d,h,f,g,v),[P,C]}t.drawImage(e,r,n,i,s,a,o,l,c);const y=Math.hypot(u,d),b=Math.hypot(h,f);return[y*l,b*c]}class Lq{constructor(e,r,n){ie(this,"alphaIsShape",!1);ie(this,"fontSize",0);ie(this,"fontSizeScale",1);ie(this,"textMatrix",null);ie(this,"textMatrixScale",1);ie(this,"fontMatrix",E$);ie(this,"leading",0);ie(this,"x",0);ie(this,"y",0);ie(this,"lineX",0);ie(this,"lineY",0);ie(this,"charSpacing",0);ie(this,"wordSpacing",0);ie(this,"textHScale",1);ie(this,"textRenderingMode",Sn.FILL);ie(this,"textRise",0);ie(this,"fillColor","#000000");ie(this,"strokeColor","#000000");ie(this,"patternFill",!1);ie(this,"patternStroke",!1);ie(this,"fillAlpha",1);ie(this,"strokeAlpha",1);ie(this,"lineWidth",1);ie(this,"activeSMask",null);ie(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,e,r]),this.minMax=gv.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=ci.FILL,r=null){const n=this.minMax.slice();if(e===ci.STROKE){r||Ot("Stroke bounding box must include transform."),we.singularValueDecompose2dScale(r,sa);const i=sa[0]*this.lineWidth/2,s=sa[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=we.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(gv,0)}getClippedPathBoundingBox(e=ci.FILL,r=null){return we.intersect(this.clipBox,this.getPathBoundingBox(e,r))}}function Fq(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const r=e.height,n=e.width,i=r%vs,s=(r-i)/vs,a=i===0?s:s+1,o=t.createImageData(n,vs);let l=0,c;const u=e.data,d=o.data;let h,f,g,v;if(e.kind===jC.GRAYSCALE_1BPP){const y=u.byteLength,b=new Uint32Array(d.buffer,0,d.byteLength>>2),x=b.length,w=n+7>>3,S=4294967295,_=Nn.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(g=h<s?vs:i,c=0,f=0;f<g;f++){const A=y-l;let C=0;const T=A>w?n:A*8-7,P=T&-8;let O=0,I=0;for(;C<P;C+=8)I=u[l++],b[c++]=I&128?S:_,b[c++]=I&64?S:_,b[c++]=I&32?S:_,b[c++]=I&16?S:_,b[c++]=I&8?S:_,b[c++]=I&4?S:_,b[c++]=I&2?S:_,b[c++]=I&1?S:_;for(;C<T;C++)O===0&&(I=u[l++],O=128),b[c++]=I&O?S:_,O>>=1}for(;c<x;)b[c++]=0;t.putImageData(o,0,h*vs)}}else if(e.kind===jC.RGBA_32BPP){for(f=0,v=n*vs*4,h=0;h<s;h++)d.set(u.subarray(l,l+v)),l+=v,t.putImageData(o,0,f),f+=vs;h<a&&(v=n*i*4,d.set(u.subarray(l,l+v)),t.putImageData(o,0,f))}else if(e.kind===jC.RGB_24BPP)for(g=vs,v=n*g,h=0;h<a;h++){for(h>=s&&(g=i,v=n*g),c=0,f=v;f--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;t.putImageData(o,0,h*vs)}else throw new Error(`bad image kind: ${e.kind}`)}function Bq(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const r=e.height,n=e.width,i=r%vs,s=(r-i)/vs,a=i===0?s:s+1,o=t.createImageData(n,vs);let l=0;const c=e.data,u=o.data;for(let d=0;d<a;d++){const h=d<s?vs:i;({srcPos:l}=itt({src:c,srcPos:l,dest:u,width:n,height:h,nonBlackColor:0})),t.putImageData(o,0,d*vs)}}function yx(t,e){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of r)t[n]!==void 0&&(e[n]=t[n]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function QE(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function Uq(t,e){if(e)return!0;we.singularValueDecompose2dScale(t,sa);const r=Math.fround(hc.pixelRatio*rf.PDF_TO_CSS_UNITS);return sa[0]<=r&&sa[1]<=r}const ltt=["butt","round","square"],ctt=["miter","round","bevel"],utt={},Vq={};var sl,nL,iL,sL;const I5=class I5{constructor(e,r,n,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,u){M(this,sl);this.ctx=e,this.current=new Lq(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new ott(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,r,n=null){var i;return typeof r=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,r),r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r)):n}beginDrawing({transform:e,viewport:r,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Or(this.compositeCtx))}this.ctx.save(),QE(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...r.transform),this.viewportScale=r.scale,this.baseTransform=Or(this.ctx)}executeOperatorList(e,r,n,i,s){var b;const a=e.argsArray,o=e.fnArray;let l=r||0;const c=a.length;if(c===l)return l;const u=c-l>$q&&typeof n=="function",d=u?Date.now()+stt:0;let h=0;const f=this.commonObjs,g=this.objs;let v,y;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if(!s||s(l))if(v=o[l],y=a[l]??null,v!==rS.dependency)y===null?this[v](l):this[v](l,...y);else for(const x of y){(b=this.dependencyTracker)==null||b.recordNamedData(x,l);const w=x.startsWith("g_")?f:g;if(!w.has(x))return w.get(x,n),l}if(l++,l===c)return l;if(u&&++h>$q){if(Date.now()>d)return n(),l;h=0}}}endDrawing(){$(this,sl,nL).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const r of e.values())typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&(r.width=r.height=0);e.clear()}this._cachedBitmapsMap.clear(),$(this,sl,iL).call(this)}_scaleImage(e,r){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(r[0],r[1]),1),a=Math.max(Math.hypot(r[2],r[3]),1),o=n,l=i,c="prescale1",u,d;for(;s>2&&o>1||a>2&&l>1;){let h=o,f=l;s>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/h),a>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/f),u=this.cachedCanvases.getCanvas(c,h,f),d=u.context,d.clearRect(0,0,h,f),d.drawImage(e,0,0,o,l,0,0,h,f),e=u.canvas,o=h,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,r){var O,I;const n=this.ctx,{width:i,height:s}=r,a=this.current.fillColor,o=this.current.patternFill,l=Or(n);let c,u,d,h;if((r.bitmap||r.data)&&r.count>1){const R=r.bitmap||r.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(R),c||(c=new Map,this._cachedBitmapsMap.set(R,c));const B=c.get(u);if(B&&!o){const D=Math.round(Math.min(l[0],l[2])+l[4]),U=Math.round(Math.min(l[1],l[3])+l[5]);return(O=this.dependencyTracker)==null||O.recordDependencies(e,ja.transformAndFill),{canvas:B,offsetX:D,offsetY:U}}d=B}d||(h=this.cachedCanvases.getCanvas("maskCanvas",i,s),Bq(h.context,r));let f=we.transform(l,[1/i,0,0,-1/s,0,0]);f=we.transform(f,[1,0,0,1,0,-s]);const g=gv.slice();we.axialAlignedBoundingBox([0,0,i,s],f,g);const[v,y,b,x]=g,w=Math.round(b-v)||1,S=Math.round(x-y)||1,_=this.cachedCanvases.getCanvas("fillCanvas",w,S),A=_.context,C=v,T=y;A.translate(-C,-T),A.transform(...f),d||(d=this._scaleImage(h.canvas,cl(A)),d=d.img,c&&o&&c.set(u,d)),A.imageSmoothingEnabled=Uq(Or(A),r.interpolate),YE(A,d,0,0,d.width,d.height,0,0,i,s),A.globalCompositeOperation="source-in";const P=we.transform(cl(A),[1,0,0,1,-C,-T]);return A.fillStyle=o?a.getPattern(n,this,P,ci.FILL,e):a,A.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,_.canvas)),(I=this.dependencyTracker)==null||I.recordDependencies(e,ja.transformAndFill),{canvas:_.canvas,offsetX:Math.round(C),offsetY:Math.round(T)}}setLineWidth(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",e),r!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=r,this.ctx.lineWidth=r}setLineCap(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",e),this.ctx.lineCap=ltt[r]}setLineJoin(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=ctt[r]}setMiterLimit(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=r}setDash(e,r,n){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(r),i.lineDashOffset=n)}setRenderingIntent(e,r){}setFlatness(e,r){}setGState(e,r){var n,i,s,a,o;for(const[l,c]of r)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const r=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,r,n);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),yx(this.suspendedCtx,a),att(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),yx(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const r=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,r,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,r,n,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(r.context,n,o,l,r.subtype,r.backdrop,r.transferMap,s,a,r.offsetX,r.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,r,n,i,s,a,o,l,c,u,d){let h=e.canvas,f=l-u,g=c-d;if(a)if(f<0||g<0||f+n>h.width||g+i>h.height){const y=this.cachedCanvases.getCanvas("maskExtension",n,i),b=y.context;b.drawImage(h,-f,-g),b.globalCompositeOperation="destination-atop",b.fillStyle=a,b.fillRect(0,0,n,i),b.globalCompositeOperation="source-over",h=y.canvas,f=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(f,g,n,i),e.clip(y),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(f,g,n,i),e.restore()}r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?r.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(r.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(l,c,n,i),r.clip(v),r.globalCompositeOperation="destination-in",r.drawImage(h,f,g,n,i,l,c,n,i),r.restore()}save(e){var n;this.inSMaskMode&&yx(this.ctx,this.suspendedCtx),this.ctx.save();const r=this.current;this.stateStack.push(r),this.current=r.clone(),(n=this.dependencyTracker)==null||n.save(e)}restore(e){var r;if((r=this.dependencyTracker)==null||r.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&yx(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,r,n,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(r,n,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,r,n,i){let[s]=n;if(!i){s||(s=n[0]=new Path2D),this[r](e,s);return}if(this.dependencyTracker!==null){const a=r===rS.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=n[0]=Roe(s)),we.axialAlignedBoundingBox(i,Or(this.ctx),this.current.minMax),this[r](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,r,n=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,cl(i),ci.STROKE,e),o){const l=new Path2D;l.addPath(r,i.getTransform().invertSelf().multiplySelf(o)),r=l}this.rescaleAndStroke(r,!1),i.restore()}else this.rescaleAndStroke(r,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,ja.stroke),n&&this.consumePath(e,r,this.current.getClippedPathBoundingBox(ci.STROKE,Or(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,r){this.stroke(e,r)}fill(e,r,n=!0){var c,u,d;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const h=s.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=s.getPattern(i,this,cl(i),ci.FILL,e),h){const f=new Path2D;f.addPath(r,i.getTransform().invertSelf().multiplySelf(h)),r=f}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(r,"evenodd"),this.pendingEOFill=!1):i.fill(r)),(u=this.dependencyTracker)==null||u.recordDependencies(e,ja.fill),o&&(i.restore(),(d=this.dependencyTracker)==null||d.restore(e)),n&&this.consumePath(e,r,l)}eoFill(e,r){this.pendingEOFill=!0,this.fill(e,r)}fillStroke(e,r){this.fill(e,r,!1),this.stroke(e,r,!1),this.consumePath(e,r)}eoFillStroke(e,r){this.pendingEOFill=!0,this.fillStroke(e,r)}closeFillStroke(e,r){this.fillStroke(e,r)}closeEOFillStroke(e,r){this.pendingEOFill=!0,this.fillStroke(e,r)}endPath(e,r){this.consumePath(e,r)}rawFillPath(e,r){var n;this.ctx.fill(r),(n=this.dependencyTracker)==null||n.recordDependencies(e,ja.rawFillPath).recordOperation(e)}clip(e){var r;(r=this.dependencyTracker)==null||r.recordFutureForcedDependency("clipMode",e),this.pendingClip=utt}eoClip(e){var r;(r=this.dependencyTracker)==null||r.recordFutureForcedDependency("clipMode",e),this.pendingClip=Vq}beginText(e){var r;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(r=this.dependencyTracker)==null||r.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const r=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;r!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(r!==void 0){const i=new Path2D,s=n.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:u}of r)u&&i.addPath(u,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",e),this.current.charSpacing=r}setWordSpacing(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=r}setHScale(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",e),this.current.textHScale=r/100}setLeading(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",e),this.current.leading=-r}setFont(e,r,n){var d,h;(d=this.dependencyTracker)==null||d.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",r,e);const i=this.commonObjs.get(r),s=this.current;if(!i)throw new Error(`Can't find font for ${r}`);if(s.fontMatrix=i.fontMatrix||E$,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ye("Invalid font matrix for font "+r),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((h=i.systemFontInfo)==null?void 0:h.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let u=n;n<Iq?u=Iq:n>Dq&&(u=Dq),this.current.fontSizeScale=n/u,this.ctx.font=`${c} ${l} ${u}px ${o}`}setTextRenderingMode(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=r}setTextRise(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",e),this.current.textRise=r}moveText(e,r,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=r,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,r,n){this.setLeading(e,-n),this.moveText(e,r,n)}setTextMatrix(e,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=r,n.textMatrixScale=Math.hypot(r[0],r[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){var r;this.moveText(e,0,this.current.leading),(r=this.dependencyTracker)==null||r.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,r,n,i,s,a){var b,x,w,S;const o=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,h=u&Sn.FILL_STROKE_MASK,f=!!(u&Sn.ADD_TO_PATH_FLAG),g=l.patternFill&&!c.missingFile,v=l.patternStroke&&!c.missingFile;let y;if((c.disableFontFace||f||g||v)&&!c.missingFile&&(y=c.getPathGenerator(this.commonObjs,r)),y&&(c.disableFontFace||g||v)){o.save(),o.translate(n,i),o.scale(d,-d),(b=this.dependencyTracker)==null||b.recordCharacterBBox(e,o,c);let _;if(h===Sn.FILL||h===Sn.FILL_STROKE)if(s){_=o.getTransform(),o.setTransform(...s);const A=$(this,sl,sL).call(this,y,_,s);o.fill(A)}else o.fill(y);if(h===Sn.STROKE||h===Sn.FILL_STROKE)if(a){_||(_=o.getTransform()),o.setTransform(...a);const{a:A,b:C,c:T,d:P}=_,O=we.inverseTransform(a),I=we.transform([A,C,T,P,0,0],O);we.singularValueDecompose2dScale(I,sa),o.lineWidth*=Math.max(sa[0],sa[1])/d,o.stroke($(this,sl,sL).call(this,y,_,a))}else o.lineWidth/=d,o.stroke(y);o.restore()}else(h===Sn.FILL||h===Sn.FILL_STROKE)&&(o.fillText(r,n,i),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,c,d,n,i,()=>o.measureText(r))),(h===Sn.STROKE||h===Sn.FILL_STROKE)&&(this.dependencyTracker&&((w=this.dependencyTracker)==null||w.recordCharacterBBox(e,o,c,d,n,i,()=>o.measureText(r)).recordDependencies(e,ja.stroke)),o.strokeText(r,n,i));f&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Or(o),x:n,y:i,fontSize:d,path:y}),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,c,d,n,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const r=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<r.length;i+=4)if(r[i]>0&&r[i]<255){n=!0;break}return Qe(this,"isFontSubpixelAAEnabled",n)}showText(e,r){var I,R,B,D;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ja.showText).resetBBox(e),this.current.textRenderingMode&Sn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(e,r),(I=this.dependencyTracker)==null||I.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){(R=this.dependencyTracker)==null||R.recordOperation(e);return}const a=this.ctx,o=n.fontSizeScale,l=n.charSpacing,c=n.wordSpacing,u=n.fontDirection,d=n.textHScale*u,h=r.length,f=i.vertical,g=f?1:-1,v=i.defaultVMetrics,y=s*n.fontMatrix[0],b=n.textRenderingMode===Sn.FILL&&!i.disableFontFace&&!n.patternFill;a.save(),n.textMatrix&&a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),u>0?a.scale(d,-1):a.scale(d,1);let x,w;const S=n.textRenderingMode&Sn.FILL_STROKE_MASK,_=S===Sn.FILL||S===Sn.FILL_STROKE,A=S===Sn.STROKE||S===Sn.FILL_STROKE;if(_&&n.patternFill){a.save();const U=n.fillColor.getPattern(a,this,cl(a),ci.FILL,e);x=Or(a),a.restore(),a.fillStyle=U}if(A&&n.patternStroke){a.save();const U=n.strokeColor.getPattern(a,this,cl(a),ci.STROKE,e);w=Or(a),a.restore(),a.strokeStyle=U}let C=n.lineWidth;const T=n.textMatrixScale;if(T===0||C===0?A&&(C=this.getSinglePixelWidth()):C/=T,o!==1&&(a.scale(o,o),C/=o),a.lineWidth=C,i.isInvalidPDFjsFont){const U=[];let N=0;for(const L of r)U.push(L.unicode),N+=L.width;const j=U.join("");if(a.fillText(j,0,0),this.dependencyTracker!==null){const L=a.measureText(j);this.dependencyTracker.recordBBox(e,this.ctx,-L.actualBoundingBoxLeft,L.actualBoundingBoxRight,-L.actualBoundingBoxAscent,L.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=N*y*d,a.restore(),this.compose();return}let P=0,O;for(O=0;O<h;++O){const U=r[O];if(typeof U=="number"){P+=g*U*s/1e3;continue}let N=!1;const j=(U.isSpace?c:0)+l,L=U.fontChar,F=U.accent;let z,K,V=U.width;if(f){const H=U.vmetric||v,Z=-(U.vmetric?H[1]:V*.5)*y,J=H[2]*y;V=H?-H[0]:V,z=Z/o,K=(P+J)/o}else z=P/o,K=0;let G;if(i.remeasure&&V>0){G=a.measureText(L);const H=G.width*1e3/s*o;if(V<H&&this.isFontSubpixelAAEnabled){const Z=V/H;N=!0,a.save(),a.scale(Z,1),z/=Z}else V!==H&&(z+=(V-H)/2e3*s/o)}if(this.contentVisible&&(U.isInFont||i.missingFile)){if(b&&!F)a.fillText(L,z,K),(B=this.dependencyTracker)==null||B.recordCharacterBBox(e,a,G?{bbox:null}:i,s/o,z,K,()=>G??a.measureText(L));else if(this.paintChar(e,L,z,K,x,w),F){const H=z+s*F.offset.x/o,Z=K-s*F.offset.y/o;this.paintChar(e,F.fontChar,H,Z,x,w)}}const X=f?V*y-j*u:V*y+j*u;P+=X,N&&a.restore()}f?n.y-=P:n.x+=P*d,a.restore(),this.compose(),(D=this.dependencyTracker)==null||D.recordShowTextOperation(e)}showType3Text(e,r){const n=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,u=i.wordSpacing,d=i.textHScale*o,h=i.fontMatrix||E$,f=r.length,g=i.textRenderingMode===Sn.INVISIBLE;let v,y,b,x;if(g||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(d,o);const w=this.dependencyTracker;for(this.dependencyTracker=w?new Tk(w,e):null,v=0;v<f;++v){if(y=r[v],typeof y=="number"){x=l*y*a/1e3,this.ctx.translate(x,0),i.x+=x*d;continue}const S=(y.isSpace?u:0)+c,_=s.charProcOperatorList[y.operatorListId];_?this.contentVisible&&(this.save(),n.scale(a,a),n.transform(...h),this.executeOperatorList(_),this.restore()):Ye(`Type3 character "${y.operatorListId}" is not available.`);const A=[y.width,0];we.applyTransform(A,h),b=A[0]*a+S,n.translate(b,0),i.x+=b*d}n.restore(),w&&(this.dependencyTracker=w)}setCharWidth(e,r,n){}setCharWidthAndBounds(e,r,n,i,s,a,o){var c;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,r){let n;if(r[0]==="TilingPattern"){const i=this.baseTransform||Or(this.ctx),s={createCanvasGraphics:(a,o)=>new I5(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Tk(this.dependencyTracker,o,!0):null)};n=new rL(r,this.ctx,s,i)}else n=this._getPattern(e,r[1],r[2]);return n}setStrokeColorN(e,...r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,r),this.current.patternStroke=!0}setFillColorN(e,...r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,r),this.current.patternFill=!0}setStrokeRGBColor(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=r,this.current.patternStroke=!1}setStrokeTransparent(e){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=r,this.current.patternFill=!1}setFillTransparent(e){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,r,n=null){let i;return this.cachedPatterns.has(r)?i=this.cachedPatterns.get(r):(i=ntt(this.getObject(e,r)),this.cachedPatterns.set(r,i)),n&&(i.matrix=n),i}shadingFill(e,r){var a;if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,r);n.fillStyle=i.getPattern(n,this,cl(n),ci.SHADING,e);const s=cl(n);if(s){const{width:o,height:l}=n.canvas,c=gv.slice();we.axialAlignedBoundingBox([0,0,o,l],s,c);const[u,d,h,f]=c;this.ctx.fillRect(u,d,h-u,f-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ja.transform).recordDependencies(e,ja.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Ot("Should not call beginInlineImage")}beginImageData(){Ot("Should not call beginImageData")}paintFormXObjectBegin(e,r,n){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),r&&this.transform(e,...r),this.baseTransform=Or(this.ctx),n)){we.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[s,a,o,l]=n,c=new Path2D;c.rect(s,a,o-s,l-a),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,r){var w;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;r.isolated||uN("TODO: Support non-isolated groups."),r.knockout&&Ye("Knockout groups not supported.");const i=Or(n);if(r.matrix&&n.transform(...r.matrix),!r.bbox)throw new Error("Bounding box is required.");let s=gv.slice();we.axialAlignedBoundingBox(r.bbox,Or(n),s);const a=[0,0,n.canvas.width,n.canvas.height];s=we.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;r.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,c,u),f=h.context;f.translate(-o,-l),f.transform(...i);let g=new Path2D;const[v,y,b,x]=r.bbox;if(g.rect(v,y,b-v,x-y),r.matrix){const S=new Path2D;S.addPath(g,new DOMMatrix(r.matrix)),g=S}f.clip(g),r.smask&&this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:l,subtype:r.smask.subtype,backdrop:r.smask.backdrop,transferMap:r.smask.transferMap||null,startTransformInverse:null}),(!r.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(o,l),n.save()),yx(n,f),this.ctx=f,(w=this.dependencyTracker)==null||w.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,r){var s;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),r.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Or(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=gv.slice();we.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],a,o),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,r,n,i,s,a){if($(this,sl,nL).call(this),QE(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],l=n[3]-n[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=l,we.singularValueDecompose2dScale(Or(this.ctx),sa);const{viewportScale:c}=this,u=Math.ceil(o*this.outputScaleX*c),d=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(r,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(sa[0],0,0,-sa[1],0,l*sa[1]),QE(this.ctx)}else{QE(this.ctx),this.endPath(e);const c=new Path2D;c.rect(n[0],n[1],o,l),this.ctx.clip(c)}}this.current=new Lq(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),$(this,sl,iL).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,r){var o;if(!this.contentVisible)return;const n=r.count;r=this.getObject(e,r.data,r),r.count=n;const i=this.ctx,s=this._createMaskCanvas(e,r),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,r,n,i=0,s=0,a,o){var d,h,f;if(!this.contentVisible)return;r=this.getObject(e,r.data,r);const l=this.ctx;l.save();const c=Or(l);l.transform(n,i,s,a,0,0);const u=this._createMaskCanvas(e,r);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),(d=this.dependencyTracker)==null||d.resetBBox(e);for(let g=0,v=o.length;g<v;g+=2){const y=we.transform(c,[n,i,s,a,o[g],o[g+1]]);l.drawImage(u.canvas,y[4],y[5]),(h=this.dependencyTracker)==null||h.recordBBox(e,this.ctx,y[4],y[4]+u.canvas.width,y[5],y[5]+u.canvas.height)}l.restore(),this.compose(),(f=this.dependencyTracker)==null||f.recordOperation(e)}paintImageMaskXObjectGroup(e,r){var a,o,l;if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,ja.transformAndFill);for(const c of r){const{data:u,width:d,height:h,transform:f}=c,g=this.cachedCanvases.getCanvas("maskCanvas",d,h),v=g.context;v.save();const y=this.getObject(e,u,c);Bq(v,y),v.globalCompositeOperation="source-in",v.fillStyle=s?i.getPattern(v,this,cl(n),ci.FILL,e):i,v.fillRect(0,0,d,h),v.restore(),n.save(),n.transform(...f),n.scale(1,-1),YE(n,g.canvas,0,0,d,h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,n,0,d,0,h),n.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,r){if(!this.contentVisible)return;const n=this.getObject(e,r);if(!n){Ye("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,r,n,i,s){if(!this.contentVisible)return;const a=this.getObject(e,r);if(!a){Ye("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let u=0,d=s.length;u<d;u+=2)c.push({transform:[n,0,0,i,s[u],s[u+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:r,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(r,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,r){var c;if(!this.contentVisible)return;const n=r.width,i=r.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/n,-1/i);let o;if(r.bitmap)o=this.applyTransferMapsToBitmap(r);else if(typeof HTMLElement=="function"&&r instanceof HTMLElement||!r.data)o=r;else{const d=this.cachedCanvases.getCanvas("inlineImage",n,i).context;Fq(d,r),o=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(o,cl(s));s.imageSmoothingEnabled=Uq(Or(s),r.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,s,0,n,-i,0).recordDependencies(e,ja.imageXObject).recordOperation(e),YE(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,r,n){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(r.bitmap)s=r.bitmap;else{const c=r.width,u=r.height,h=this.cachedCanvases.getCanvas("inlineImage",c,u).context;Fq(h,r),s=this.applyTransferMapsToCanvas(h)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const c of n)i.save(),i.transform(...c.transform),i.scale(1,-1),YE(i,s,c.x,c.y,c.w,c.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var r;this.contentVisible&&((r=this.dependencyTracker)==null||r.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ja.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,r){}markPointProps(e,r,n){}beginMarkedContent(e,r){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,r,n){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),r==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var r;(r=this.dependencyTracker)==null||r.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,r,n){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===Vq?s.clip(r,"evenodd"):s.clip(r)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Or(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const r=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:r,b:n,c:i,d:s}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const l=Math.abs(r),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const u=l*e;a=o=u<1?1/u:1}else if(e===0)a=1/l,o=1/c;else{const u=l*e,d=c*e;a=u<1?1/u:1,o=d<1?1/d:1}}else{const l=Math.abs(r*s-n*i),c=Math.hypot(r,n),u=Math.hypot(i,s);if(e===0)a=u/l,o=c/l;else{const d=e*l;a=u>d?u/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,r){const{ctx:n,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){n.lineWidth=(i||1)*s,n.stroke(e);return}const o=n.getLineDash();r&&n.save(),n.scale(s,a),AR.a=1/s,AR.d=1/a;const l=new Path2D;if(l.addPath(e,AR),o.length>0){const c=Math.max(s,a);n.setLineDash(o.map(u=>u/c)),n.lineDashOffset/=c}n.lineWidth=i||1,n.stroke(l),r&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};sl=new WeakSet,nL=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},iL=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const r=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=r}}},sL=function(e,r,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(r)),i};let Lv=I5;for(const t in rS)Lv.prototype[t]!==void 0&&(Lv.prototype[rS[t]]=Lv.prototype[t]);var JS,e_;class Xl{static get workerPort(){return p(this,JS)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");k(this,JS,e)}static get workerSrc(){return p(this,e_)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");k(this,e_,e)}}JS=new WeakMap,e_=new WeakMap,M(Xl,JS,null),M(Xl,e_,"");var jy,t_;class dtt{constructor({parsedData:e,rawData:r}){M(this,jy);M(this,t_);k(this,jy,e),k(this,t_,r)}getRaw(){return p(this,t_)}get(e){return p(this,jy).get(e)??null}[Symbol.iterator](){return p(this,jy).entries()}}jy=new WeakMap,t_=new WeakMap;const Bg=Symbol("INTERNAL");var r_,n_,i_,Oy;class htt{constructor(e,{name:r,intent:n,usage:i,rbGroups:s}){M(this,r_,!1);M(this,n_,!1);M(this,i_,!1);M(this,Oy,!0);k(this,r_,!!(e&ea.DISPLAY)),k(this,n_,!!(e&ea.PRINT)),this.name=r,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(p(this,i_))return p(this,Oy);if(!p(this,Oy))return!1;const{print:e,view:r}=this.usage;return p(this,r_)?(r==null?void 0:r.viewState)!=="OFF":p(this,n_)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,r,n=!1){e!==Bg&&Ot("Internal method `_setVisible` called."),k(this,i_,n),k(this,Oy,r)}}r_=new WeakMap,n_=new WeakMap,i_=new WeakMap,Oy=new WeakMap;var Jd,Qt,Ny,Ry,s_,aL;class ftt{constructor(e,r=ea.DISPLAY){M(this,s_);M(this,Jd,null);M(this,Qt,new Map);M(this,Ny,null);M(this,Ry,null);if(this.renderingIntent=r,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,k(this,Ry,e.order);for(const n of e.groups)p(this,Qt).set(n.id,new htt(r,n));if(e.baseState==="OFF")for(const n of p(this,Qt).values())n._setVisible(Bg,!1);for(const n of e.on)p(this,Qt).get(n)._setVisible(Bg,!0);for(const n of e.off)p(this,Qt).get(n)._setVisible(Bg,!1);k(this,Ny,this.getHash())}}isVisible(e){if(p(this,Qt).size===0)return!0;if(!e)return uN("Optional content group not defined."),!0;if(e.type==="OCG")return p(this,Qt).has(e.id)?p(this,Qt).get(e.id).visible:(Ye(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return $(this,s_,aL).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const r of e.ids){if(!p(this,Qt).has(r))return Ye(`Optional content group not found: ${r}`),!0;if(p(this,Qt).get(r).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const r of e.ids){if(!p(this,Qt).has(r))return Ye(`Optional content group not found: ${r}`),!0;if(!p(this,Qt).get(r).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const r of e.ids){if(!p(this,Qt).has(r))return Ye(`Optional content group not found: ${r}`),!0;if(!p(this,Qt).get(r).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const r of e.ids){if(!p(this,Qt).has(r))return Ye(`Optional content group not found: ${r}`),!0;if(p(this,Qt).get(r).visible)return!1}return!0}return Ye(`Unknown optional content policy ${e.policy}.`),!0}return Ye(`Unknown group type ${e.type}.`),!0}setVisibility(e,r=!0,n=!0){var s;const i=p(this,Qt).get(e);if(!i){Ye(`Optional content group not found: ${e}`);return}if(n&&r&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=p(this,Qt).get(o))==null||s._setVisible(Bg,!1,!0));i._setVisible(Bg,!!r,!0),k(this,Jd,null)}setOCGState({state:e,preserveRB:r}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=p(this,Qt).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,r);break;case"OFF":this.setVisibility(i,!1,r);break;case"Toggle":this.setVisibility(i,!s.visible,r);break}}k(this,Jd,null)}get hasInitialVisibility(){return p(this,Ny)===null||this.getHash()===p(this,Ny)}getOrder(){return p(this,Qt).size?p(this,Ry)?p(this,Ry).slice():[...p(this,Qt).keys()]:null}getGroup(e){return p(this,Qt).get(e)||null}getHash(){if(p(this,Jd)!==null)return p(this,Jd);const e=new fle;for(const[r,n]of p(this,Qt))e.update(`${r}:${n.visible}`);return k(this,Jd,e.hexdigest())}[Symbol.iterator](){return p(this,Qt).entries()}}Jd=new WeakMap,Qt=new WeakMap,Ny=new WeakMap,Ry=new WeakMap,s_=new WeakSet,aL=function(e){const r=e.length;if(r<2)return!0;const n=e[0];for(let i=1;i<r;i++){const s=e[i];let a;if(Array.isArray(s))a=$(this,s_,aL).call(this,s);else if(p(this,Qt).has(s))a=p(this,Qt).get(s).visible;else return Ye(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};var a_,o_;class fN{constructor(e,r,n){M(this,a_,null);M(this,o_,null);ie(this,"_fullReader",null);ie(this,"_rangeReaders",new Set);ie(this,"_source",null);this._source=e,k(this,a_,r),k(this,o_,n)}get _progressiveDataLength(){var e;return((e=this._fullReader)==null?void 0:e._loaded)??0}getFullReader(){return jt(!this._fullReader,"BasePDFStream.getFullReader can only be called once."),this._fullReader=new(p(this,a_))(this)}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new(p(this,o_))(this,e,r);return this._rangeReaders.add(n),n}cancelAllRequests(e){var r;(r=this._fullReader)==null||r.cancel(e);for(const n of new Set(this._rangeReaders))n.cancel(e)}}a_=new WeakMap,o_=new WeakMap;class pN{constructor(e){ie(this,"onProgress",null);ie(this,"_contentLength",0);ie(this,"_filename",null);ie(this,"_headersCapability",Promise.withResolvers());ie(this,"_isRangeSupported",!1);ie(this,"_isStreamingSupported",!1);ie(this,"_loaded",0);ie(this,"_stream",null);this._stream=e}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){Ot("Abstract method `read` called")}cancel(e){Ot("Abstract method `cancel` called")}}class mN{constructor(e,r,n){ie(this,"_stream",null);this._stream=e}async read(){Ot("Abstract method `read` called")}cancel(e){Ot("Abstract method `cancel` called")}}function zq(t){return t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}var l_,oL;class ptt extends fN{constructor(r){super(r,mtt,gtt);M(this,l_);ie(this,"_progressiveDone",!1);ie(this,"_queuedChunks",[]);const{pdfDataRangeTransport:n}=r,{initialData:i,progressiveDone:s}=n;if((i==null?void 0:i.length)>0){const a=zq(i);this._queuedChunks.push(a)}this._progressiveDone=s,n.addRangeListener((a,o)=>{$(this,l_,oL).call(this,a,o)}),n.addProgressListener((a,o)=>{var l,c;o!==void 0&&((c=(l=this._fullReader)==null?void 0:l.onProgress)==null||c.call(l,{loaded:a,total:o}))}),n.addProgressiveReadListener(a=>{$(this,l_,oL).call(this,void 0,a)}),n.addProgressiveDoneListener(()=>{var a;(a=this._fullReader)==null||a.progressiveDone(),this._progressiveDone=!0}),n.transportReady()}getFullReader(){const r=super.getFullReader();return this._queuedChunks=null,r}getRangeReader(r,n){const i=super.getRangeReader(r,n);return i&&(i.onDone=()=>this._rangeReaders.delete(i),this._source.pdfDataRangeTransport.requestDataRange(r,n)),i}cancelAllRequests(r){super.cancelAllRequests(r),this._source.pdfDataRangeTransport.abort()}}l_=new WeakSet,oL=function(r,n){const i=zq(n);if(r===void 0)this._fullReader?this._fullReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.keys().find(a=>a._begin===r);jt(s,"#onReceiveData - no `PDFDataTransportStreamRangeReader` instance found."),s._enqueue(i)}};class mtt extends pN{constructor(r){super(r);ie(this,"_done",!1);ie(this,"_queuedChunks",null);ie(this,"_requests",[]);const{pdfDataRangeTransport:n,disableRange:i,disableStream:s}=r._source,{length:a,contentDispositionFilename:o}=n;this._queuedChunks=r._queuedChunks||[];for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._done=r._progressiveDone,this._contentLength=a,this._isStreamingSupported=!s,this._isRangeSupported=!i,A5(o)&&(this._filename=o),this._headersCapability.resolve()}_enqueue(r){this._done||(this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunks.push(r),this._loaded+=r.byteLength)}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class gtt extends mN{constructor(r,n,i){super(r,n,i);ie(this,"onDone",null);ie(this,"_begin",-1);ie(this,"_done",!1);ie(this,"_queuedChunk",null);ie(this,"_requests",[]);this._begin=n}_enqueue(r){var n;if(!this._done){if(this._requests.length===0)this._queuedChunk=r;else{this._requests.shift().resolve({value:r,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,(n=this.onDone)==null||n.call(this)}}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){var n;this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,(n=this.onDone)==null||n.call(this)}}function vtt(t){let e=!0,r=n("filename\\*","i").exec(t);if(r){r=r[1];let u=o(r);return u=unescape(u),u=l(u),u=c(u),s(u)}if(r=a(t),r){const u=c(r);return s(u)}if(r=n("filename","i").exec(t),r){r=r[1];let u=o(r);return u=c(u),s(u)}function n(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),f=dN(d);d=h.decode(f),e=!1}catch{}}return d}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function a(u){const d=[];let h;const f=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(u))!==null;){let[,v,y,b]=h;if(v=parseInt(v,10),v in d){if(v===0)break;continue}d[v]=[y,b]}const g=[];for(let v=0;v<d.length&&v in d;++v){let[y,b]=d[v];b=o(b),y&&(b=unescape(b),v===0&&(b=l(b))),g.push(b)}return g.join("")}function o(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const f=d[h].indexOf('"');f!==-1&&(d[h]=d[h].slice(0,f),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const h=u.slice(0,d),g=u.slice(d+1).replace(/^[^']*'/,"");return i(h,g)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,f,g){if(f==="q"||f==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,y){return String.fromCharCode(parseInt(y,16))}),i(h,g);try{g=atob(g)}catch{}return i(h,g)})}return""}function Ele(t,e){const r=new Headers;if(!t||!e||typeof e!="object")return r;for(const n in e){const i=e[n];i!==void 0&&r.append(n,i)}return r}function gN(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function Cle({responseHeaders:t,isHttp:e,rangeChunkSize:r,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*r)||n||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Tle(t){const e=t.get("Content-Disposition");if(e){let r=vtt(e);if(r.includes("%"))try{r=decodeURIComponent(r)}catch{}if(A5(r))return r}return null}function vN(t,e){return new wk(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function Ple(t,e){if(t!==e)throw new Error(`Expected range response-origin "${t}" to match "${e}".`)}function kle(t,e,r,n){return fetch(t,{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:r?"include":"same-origin",redirect:"follow"})}function jle(t,e){if(t!==200&&t!==206)throw vN(t,e)}function Ole(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ye(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class ytt extends fN{constructor(r){super(r,btt,xtt);ie(this,"_responseOrigin",null);this.isHttp=/^https?:/i.test(r.url),this.headers=Ele(this.isHttp,r.httpHeaders)}}class btt extends pN{constructor(r){super(r);ie(this,"_abortController",new AbortController);ie(this,"_reader",null);const{disableRange:n,disableStream:i,length:s,rangeChunkSize:a,url:o,withCredentials:l}=r._source;this._contentLength=s,this._isStreamingSupported=!i,this._isRangeSupported=!n;const c=new Headers(r.headers);kle(o,c,l,this._abortController).then(u=>{r._responseOrigin=gN(u.url),jle(u.status,o),this._reader=u.body.getReader();const d=u.headers,{allowRangeRequests:h,suggestedLength:f}=Cle({responseHeaders:d,isHttp:r.isHttp,rangeChunkSize:a,disableRange:n});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=Tle(d),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tf("Streaming is disabled.")),this._headersCapability.resolve()}).catch(this._headersCapability.reject)}async read(){var i;await this._headersCapability.promise;const{value:r,done:n}=await this._reader.read();return n?{value:r,done:n}:(this._loaded+=r.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ole(r),done:!1})}cancel(r){var n;(n=this._reader)==null||n.cancel(r),this._abortController.abort()}}class xtt extends mN{constructor(r,n,i){super(r,n,i);ie(this,"_abortController",new AbortController);ie(this,"_readCapability",Promise.withResolvers());ie(this,"_reader",null);const{url:s,withCredentials:a}=r._source,o=new Headers(r.headers);o.append("Range",`bytes=${n}-${i-1}`),kle(s,o,a,this._abortController).then(l=>{const c=gN(l.url);Ple(c,r._responseOrigin),jle(l.status,s),this._reader=l.body.getReader(),this._readCapability.resolve()}).catch(this._readCapability.reject)}async read(){await this._readCapability.promise;const{value:r,done:n}=await this._reader.read();return n?{value:r,done:n}:{value:Ole(r),done:!1}}cancel(r){var n;(n=this._reader)==null||n.cancel(r),this._abortController.abort()}}const ER=200,Hq=206;function wtt(t){return typeof t!="string"?t:dN(t).buffer}var jl,h0,Nle,Rle;class Stt extends fN{constructor(r){super(r,_tt,Att);M(this,h0);M(this,jl,new WeakMap);ie(this,"_responseOrigin",null);this.url=r.url,this.isHttp=/^https?:/i.test(this.url),this.headers=Ele(this.isHttp,r.httpHeaders)}_request(r){const n=new XMLHttpRequest,i={validateStatus:null,onHeadersReceived:r.onHeadersReceived,onDone:r.onDone,onError:r.onError,onProgress:r.onProgress};p(this,jl).set(n,i),n.open("GET",this.url),n.withCredentials=this._source.withCredentials;for(const[s,a]of this.headers)n.setRequestHeader(s,a);return this.isHttp&&"begin"in r&&"end"in r?(n.setRequestHeader("Range",`bytes=${r.begin}-${r.end-1}`),i.validateStatus=s=>s===Hq||s===ER):i.validateStatus=s=>s===ER,n.responseType="arraybuffer",jt(r.onError,"Expected `onError` callback to be provided."),n.onerror=()=>r.onError(n.status),n.onreadystatechange=$(this,h0,Rle).bind(this,n),n.onprogress=$(this,h0,Nle).bind(this,n),n.send(null),n}_abortRequest(r){p(this,jl).has(r)&&(p(this,jl).delete(r),r.abort())}getRangeReader(r,n){const i=super.getRangeReader(r,n);return i&&(i.onClosed=()=>this._rangeReaders.delete(i)),i}}jl=new WeakMap,h0=new WeakSet,Nle=function(r,n){var s;const i=p(this,jl).get(r);(s=i==null?void 0:i.onProgress)==null||s.call(i,n)},Rle=function(r,n){const i=p(this,jl).get(r);if(!i||(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4)||!p(this,jl).has(r))return;if(p(this,jl).delete(r),r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||ER;if(!i.validateStatus(s)){i.onError(r.status);return}const a=wtt(r.response);if(s===Hq){const o=r.getResponseHeader("Content-Range");/bytes (\d+)-(\d+)\/(\d+)/.test(o)?i.onDone(a):(Ye('Missing or invalid "Content-Range" header.'),i.onError(0))}else a?i.onDone(a):i.onError(r.status)};var fc,Mle,Ile,Dle,$le;class _tt extends pN{constructor(r){super(r);M(this,fc);ie(this,"_cachedChunks",[]);ie(this,"_done",!1);ie(this,"_requests",[]);ie(this,"_storedError",null);const{length:n}=r._source;this._contentLength=n,this._fullRequestXhr=r._request({onHeadersReceived:$(this,fc,Mle).bind(this),onDone:$(this,fc,Ile).bind(this),onError:$(this,fc,Dle).bind(this),onProgress:$(this,fc,$le).bind(this)})}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0,this._headersCapability.reject(r);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._fullRequestXhr),this._fullRequestXhr=null}}fc=new WeakSet,Mle=function(){const r=this._stream,{disableRange:n,rangeChunkSize:i}=r._source,s=this._fullRequestXhr;r._responseOrigin=gN(s.responseURL);const a=s.getAllResponseHeaders(),o=new Headers(a?a.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...h]=u.split(": ");return[d,h.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=Cle({responseHeaders:o,isHttp:r.isHttp,rangeChunkSize:i,disableRange:n});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=Tle(o),this._isRangeSupported&&r._abortRequest(s),this._headersCapability.resolve()},Ile=function(r){if(this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._cachedChunks.push(r),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}},Dle=function(r){this._storedError=vN(r,this._stream.url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0},$le=function(r){var n;(n=this.onProgress)==null||n.call(this,{loaded:r.loaded,total:r.lengthComputable?r.total:this._contentLength})};var Hu,Lle,Fle,lL;class Att extends mN{constructor(r,n,i){super(r,n,i);M(this,Hu);ie(this,"onClosed",null);ie(this,"_done",!1);ie(this,"_queuedChunk",null);ie(this,"_requests",[]);ie(this,"_storedError",null);this._requestXhr=r._request({begin:n,end:i,onHeadersReceived:$(this,Hu,Lle).bind(this),onDone:$(this,Hu,Fle).bind(this),onError:$(this,Hu,lL).bind(this),onProgress:null})}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){var n;this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._requestXhr),(n=this.onClosed)==null||n.call(this)}}Hu=new WeakSet,Lle=function(){var n;const r=gN((n=this._requestXhr)==null?void 0:n.responseURL);try{Ple(r,this._stream._responseOrigin)}catch(i){this._storedError=i,$(this,Hu,lL).call(this,0)}},Fle=function(r){var n;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,(n=this.onClosed)==null||n.call(this)},lL=function(r){this._storedError??(this._storedError=vN(r,this._stream.url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null};const Ett=/^[a-z][a-z0-9\-+.]+:/i;function Ctt(t){if(Ett.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}function Ble(t){const{Readable:e}=process.getBuiltinModule("stream");return typeof e.toWeb=="function"?e.toWeb(t):process.getBuiltinModule("module").createRequire(import.meta.url)("node-readable-to-web-readable-stream").makeDefaultReadableStreamFromNodeReadable(t)}function Ule(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ye(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class Ttt extends fN{constructor(e){super(e,Ptt,ktt),this.url=Ctt(e.url),jt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs.")}}class Ptt extends pN{constructor(r){super(r);ie(this,"_reader",null);const{disableRange:n,disableStream:i,length:s,rangeChunkSize:a}=r._source;this._contentLength=s,this._isStreamingSupported=!i,this._isRangeSupported=!n;const o=r.url,l=process.getBuiltinModule("fs");l.promises.lstat(o).then(c=>{const u=l.createReadStream(o),d=Ble(u);this._reader=d.getReader();const{size:h}=c;h<=2*a&&(this._isRangeSupported=!1),this._contentLength=h,!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tf("Streaming is disabled.")),this._headersCapability.resolve()}).catch(c=>{c.code==="ENOENT"&&(c=vN(0,o.href)),this._headersCapability.reject(c)})}async read(){var i;await this._headersCapability.promise;const{value:r,done:n}=await this._reader.read();return n?{value:r,done:n}:(this._loaded+=r.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ule(r),done:!1})}cancel(r){var n;(n=this._reader)==null||n.cancel(r)}}class ktt extends mN{constructor(r,n,i){super(r,n,i);ie(this,"_readCapability",Promise.withResolvers());ie(this,"_reader",null);const s=r.url,a=process.getBuiltinModule("fs");try{const o=a.createReadStream(s,{start:n,end:i-1}),l=Ble(o);this._reader=l.getReader(),this._readCapability.resolve()}catch(o){this._readCapability.reject(o)}}async read(){await this._readCapability.promise;const{value:r,done:n}=await this._reader.read();return n?{value:r,done:n}:{value:Ule(r),done:!1}}cancel(r){var n;(n=this._reader)==null||n.cancel(r)}}const bx=Symbol("INITIAL_DATA");var Fs,c_,cL;class Vle{constructor(){M(this,c_);M(this,Fs,Object.create(null))}get(e,r=null){if(r){const i=$(this,c_,cL).call(this,e);return i.promise.then(()=>r(i.data)),null}const n=p(this,Fs)[e];if(!n||n.data===bx)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const r=p(this,Fs)[e];return!!r&&r.data!==bx}delete(e){const r=p(this,Fs)[e];return!r||r.data===bx?!1:(delete p(this,Fs)[e],!0)}resolve(e,r=null){const n=$(this,c_,cL).call(this,e);n.data=r,n.resolve()}clear(){var e;for(const r in p(this,Fs)){const{data:n}=p(this,Fs)[r];(e=n==null?void 0:n.bitmap)==null||e.close()}k(this,Fs,Object.create(null))}*[Symbol.iterator](){for(const e in p(this,Fs)){const{data:r}=p(this,Fs)[e];r!==bx&&(yield[e,r])}}}Fs=new WeakMap,c_=new WeakSet,cL=function(e){var r;return(r=p(this,Fs))[e]||(r[e]={...Promise.withResolvers(),data:bx})};const jtt=1e5,Wq=30;var y9,eh,hs,u_,d_,Rp,Qc,h_,f_,Mp,p_,My,th,Iy,m_,Dy,Ip,g_,v_,$y,Dp,y_,Ly,Fy,Wu,zle,Hle,uL,ba,UC,dL,Wle,Gle;const Jn=class Jn{constructor({textContentSource:e,container:r,viewport:n}){M(this,Wu);M(this,eh,Promise.withResolvers());M(this,hs,null);M(this,u_,!1);M(this,d_,!!((y9=globalThis.FontInspector)!=null&&y9.enabled));M(this,Rp,null);M(this,Qc,null);M(this,h_,0);M(this,f_,0);M(this,Mp,null);M(this,p_,null);M(this,My,0);M(this,th,0);M(this,Iy,Object.create(null));M(this,m_,[]);M(this,Dy,null);M(this,Ip,[]);M(this,g_,new WeakMap);M(this,v_,null);var l;if(e instanceof ReadableStream)k(this,Dy,e);else if(typeof e=="object")k(this,Dy,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');k(this,hs,k(this,p_,r)),k(this,th,n.scale*hc.pixelRatio),k(this,My,n.rotation),k(this,Qc,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=n.rawDims;k(this,v_,[1,0,0,-1,-a,o+s]),k(this,f_,i),k(this,h_,s),$(l=Jn,ba,Wle).call(l),r.style.setProperty("--min-font-size",p(Jn,Ly)),Gm(r,n),p(this,eh).promise.finally(()=>{p(Jn,Fy).delete(this),k(this,Qc,null),k(this,Iy,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:r}=Nn.platform;return Qe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&r?"Calibri, ":""}sans-serif`],["monospace",`${e&&r?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{p(this,Mp).read().then(({value:r,done:n})=>{if(n){p(this,eh).resolve();return}p(this,Rp)??k(this,Rp,r.lang),Object.assign(p(this,Iy),r.styles),$(this,Wu,zle).call(this,r.items),e()},p(this,eh).reject)};return k(this,Mp,p(this,Dy).getReader()),p(Jn,Fy).add(this),e(),p(this,eh).promise}update({viewport:e,onBefore:r=null}){var s;const n=e.scale*hc.pixelRatio,i=e.rotation;if(i!==p(this,My)&&(r==null||r(),k(this,My,i),Gm(p(this,p_),{rotation:i})),n!==p(this,th)){r==null||r(),k(this,th,n);const a={div:null,properties:null,ctx:$(s=Jn,ba,UC).call(s,p(this,Rp))};for(const o of p(this,Ip))a.properties=p(this,g_).get(o),a.div=o,$(this,Wu,uL).call(this,a)}}cancel(){var r;const e=new tf("TextLayer task cancelled.");(r=p(this,Mp))==null||r.cancel(e).catch(()=>{}),k(this,Mp,null),p(this,eh).reject(e)}get textDivs(){return p(this,Ip)}get textContentItemsStr(){return p(this,m_)}static cleanup(){if(!(p(this,Fy).size>0)){p(this,$y).clear();for(const{canvas:e}of p(this,Dp).values())e.remove();p(this,Dp).clear()}}};eh=new WeakMap,hs=new WeakMap,u_=new WeakMap,d_=new WeakMap,Rp=new WeakMap,Qc=new WeakMap,h_=new WeakMap,f_=new WeakMap,Mp=new WeakMap,p_=new WeakMap,My=new WeakMap,th=new WeakMap,Iy=new WeakMap,m_=new WeakMap,Dy=new WeakMap,Ip=new WeakMap,g_=new WeakMap,v_=new WeakMap,$y=new WeakMap,Dp=new WeakMap,y_=new WeakMap,Ly=new WeakMap,Fy=new WeakMap,Wu=new WeakSet,zle=function(e){var i,s;if(p(this,u_))return;(s=p(this,Qc)).ctx??(s.ctx=$(i=Jn,ba,UC).call(i,p(this,Rp)));const r=p(this,Ip),n=p(this,m_);for(const a of e){if(r.length>jtt){Ye("Ignoring additional textDivs for performance reasons."),k(this,u_,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=p(this,hs);k(this,hs,document.createElement("span")),p(this,hs).classList.add("markedContent"),a.id&&p(this,hs).setAttribute("id",`${a.id}`),a.tag==="Artifact"&&(p(this,hs).ariaHidden=!0),o.append(p(this,hs))}else a.type==="endMarkedContent"&&k(this,hs,p(this,hs).parentNode);continue}n.push(a.str),$(this,Wu,Hle).call(this,a)}},Hle=function(e){var g;const r=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};p(this,Ip).push(r);const i=we.transform(p(this,v_),e.transform);let s=Math.atan2(i[1],i[0]);const a=p(this,Iy)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=p(this,d_)&&a.fontSubstitution||a.fontFamily;o=Jn.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*$(g=Jn,ba,Gle).call(g,o,a,p(this,Rp));let u,d;s===0?(u=i[4],d=i[5]-c):(u=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const h=r.style;h.left=`${(100*u/p(this,f_)).toFixed(2)}%`,h.top=`${(100*d/p(this,h_)).toFixed(2)}%`,h.setProperty("--font-height",`${l.toFixed(2)}px`),h.fontFamily=o,n.fontSize=l,r.setAttribute("role","presentation"),r.textContent=e.str,r.dir=e.dir,p(this,d_)&&(r.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let f=!1;if(e.str.length>1)f=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);v!==y&&Math.max(v,y)/Math.min(v,y)>1.5&&(f=!0)}if(f&&(n.canvasWidth=a.vertical?e.height:e.width),p(this,g_).set(r,n),p(this,Qc).div=r,p(this,Qc).properties=n,$(this,Wu,uL).call(this,p(this,Qc)),n.hasText&&p(this,hs).append(r),n.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),p(this,hs).append(v)}},uL=function(e){var a;const{div:r,properties:n,ctx:i}=e,{style:s}=r;if(n.canvasWidth!==0&&n.hasText){const{fontFamily:o}=s,{canvasWidth:l,fontSize:c}=n;$(a=Jn,ba,dL).call(a,i,c*p(this,th),o);const{width:u}=i.measureText(r.textContent);u>0&&s.setProperty("--scale-x",l*p(this,th)/u)}n.angle!==0&&s.setProperty("--rotate",`${n.angle}deg`)},ba=new WeakSet,UC=function(e=null){let r=p(this,Dp).get(e||(e=""));if(!r){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),r=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),p(this,Dp).set(e,r),p(this,y_).set(r,{size:0,family:""})}return r},dL=function(e,r,n){const i=p(this,y_).get(e);r===i.size&&n===i.family||(e.font=`${r}px ${n}`,i.size=r,i.family=n)},Wle=function(){if(p(this,Ly)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),k(this,Ly,e.getBoundingClientRect().height),e.remove()},Gle=function(e,r,n){const i=p(this,$y).get(e);if(i)return i;const s=$(this,ba,UC).call(this,n);s.canvas.width=s.canvas.height=Wq,$(this,ba,dL).call(this,s,Wq,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(Nn.platform.isFirefox&&Ye("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),r.ascent?c=r.ascent:r.descent&&(c=1+r.descent)),p(this,$y).set(e,c),c},M(Jn,ba),M(Jn,$y,new Map),M(Jn,Dp,new Map),M(Jn,y_,new WeakMap),M(Jn,Ly,null),M(Jn,Fy,new Set);let sS=Jn;const Ott=100;function qle(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new hL,{docId:r}=e,n=t.url?Fet(t.url):null,i=t.data?Bet(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof Kle?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let u=t.worker instanceof aS?t.worker:null;const d=t.verbosity,h=typeof t.docBaseUrl=="string"&&!hN(t.docBaseUrl)?t.docBaseUrl:null,f=GE(t.cMapUrl),g=t.cMapPacked!==!1,v=t.CMapReaderFactory||(zi?Ket:kq),y=GE(t.iccUrl),b=GE(t.standardFontDataUrl),x=t.StandardFontDataFactory||(zi?Xet:jq),w=GE(t.wasmUrl),S=t.WasmFactory||(zi?Yet:Oq),_=t.stopAtErrors!==!0,A=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,C=t.isEvalSupported!==!1,T=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!zi,P=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!zi&&(Nn.platform.isFirefox||!globalThis.chrome),O=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,I=typeof t.disableFontFace=="boolean"?t.disableFontFace:zi,R=t.fontExtraProperties===!0,B=t.enableXfa===!0,D=t.ownerDocument||globalThis.document,U=t.disableRange===!0,N=t.disableStream===!0,j=t.disableAutoFetch===!0,L=t.pdfBug===!0,F=t.CanvasFactory||(zi?qet:Het),z=t.FilterFactory||(zi?Get:Wet),K=t.enableHWA===!0,V=t.useWasm!==!1,G=l?l.length:t.length??NaN,X=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!zi&&!I,H=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(v===kq&&x===jq&&S===Oq&&f&&b&&w&&Fx(f,document.baseURI)&&Fx(b,document.baseURI)&&Fx(w,document.baseURI)),Z=null;det(d);const J={canvasFactory:new F({ownerDocument:D,enableHWA:K}),filterFactory:new z({docId:r,ownerDocument:D}),cMapReaderFactory:H?null:new v({baseUrl:f,isCompressed:g}),standardFontDataFactory:H?null:new x({baseUrl:b}),wasmFactory:H?null:new S({baseUrl:w})};u||(u=aS.create({verbosity:d,port:Xl.workerPort}),e._worker=u);const ce={docId:r,apiVersion:"5.4.624",data:i,password:o,disableAutoFetch:j,rangeChunkSize:c,length:G,docBaseUrl:h,enableXfa:B,evaluatorOptions:{maxImageSize:A,disableFontFace:I,ignoreErrors:_,isEvalSupported:C,isOffscreenCanvasSupported:T,isImageDecoderSupported:P,canvasMaxAreaInBytes:O,fontExtraProperties:R,useSystemFonts:X,useWasm:V,useWorkerFetch:H,cMapUrl:f,iccUrl:y,standardFontDataUrl:b,wasmUrl:w}},ee={ownerDocument:D,pdfBug:L,styleElement:Z,enableHWA:K,loadingParams:{disableAutoFetch:j,enableXfa:B}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const oe=u.messageHandler.sendWithPromise("GetDocRequest",ce,i?[i.buffer]:null);let ue;if(l)ue=new ptt({pdfDataRangeTransport:l,disableRange:U,disableStream:N});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const te=Fx(n)?ytt:zi?Ttt:Stt;ue=new te({url:n,length:G,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:U,disableStream:N})}return oe.then(te=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const De=new qx(r,te,u.port),je=new Mtt(De,e,ue,ee,J);e._transport=je,De.send("Ready",null)})}).catch(e._capability.reject),e}var qk;const Kk=class Kk{constructor(){ie(this,"_capability",Promise.withResolvers());ie(this,"_transport",null);ie(this,"_worker",null);ie(this,"docId",`d${Fr(Kk,qk)._++}`);ie(this,"destroyed",!1);ie(this,"onPassword",null);ie(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,r,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((r=this._transport)==null?void 0:r.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};qk=new WeakMap,M(Kk,qk,0);let hL=Kk;var $p,b_,x_,w_,S_;class Kle{constructor(e,r,n=!1,i=null){M(this,$p,Promise.withResolvers());M(this,b_,[]);M(this,x_,[]);M(this,w_,[]);M(this,S_,[]);this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){p(this,S_).push(e)}addProgressListener(e){p(this,w_).push(e)}addProgressiveReadListener(e){p(this,x_).push(e)}addProgressiveDoneListener(e){p(this,b_).push(e)}onDataRange(e,r){for(const n of p(this,S_))n(e,r)}onDataProgress(e,r){p(this,$p).promise.then(()=>{for(const n of p(this,w_))n(e,r)})}onDataProgressiveRead(e){p(this,$p).promise.then(()=>{for(const r of p(this,x_))r(e)})}onDataProgressiveDone(){p(this,$p).promise.then(()=>{for(const e of p(this,b_))e()})}transportReady(){p(this,$p).resolve()}requestDataRange(e,r){Ot("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}$p=new WeakMap,b_=new WeakMap,x_=new WeakMap,w_=new WeakMap,S_=new WeakMap;class Ntt{constructor(e,r){this._pdfInfo=e,this._transport=r}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Qe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,r){return this._transport.getAnnotationsByType(e,r)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(r)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Zc,__,Lp,Zx;class Rtt{constructor(e,r,n,i=!1){M(this,Lp);M(this,Zc,!1);M(this,__,iS.instance);this._pageIndex=e,this._pageInfo=r,this._transport=n,this._stats=i?new Sq:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Vle,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}set pageNumber(e){this._pageIndex=e-1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new BA({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Qe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:r=e.canvas,viewport:n,intent:i="display",annotationMode:s=Sd.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1,recordOperations:f=!1,operationsFilter:g=null}){var P,O,I;(P=this._stats)==null||P.time("Overall");const v=this._transport.getRenderingIntent(i,s,d,h),{renderingIntent:y,cacheKey:b}=v;k(this,Zc,!1),l||(l=this._transport.getOptionalContentConfig(y));let x=this._intentStates.get(b);x||(x=Object.create(null),this._intentStates.set(b,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const w=!!(y&ea.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(O=this._stats)==null||O.time("Page Request"),this._pumpOperatorList(v));const S=!!(this._pdfBug&&((I=globalThis.StepperManager)!=null&&I.enabled)),_=!this.recordedBBoxes&&(f||S),A=R=>{var B,D;if(x.renderTasks.delete(C),_){const U=(B=C.gfx)==null?void 0:B.dependencyTracker.take();U&&(C.stepper&&C.stepper.setOperatorBBoxes(U,C.gfx.dependencyTracker.takeDebugMetadata()),f&&(this.recordedBBoxes=U))}w&&k(this,Zc,!0),$(this,Lp,Zx).call(this),R?(C.capability.reject(R),this._abortOperatorList({intentState:x,reason:R instanceof Error?R:new Error(R)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(D=globalThis.Stats)!=null&&D.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new fL({callback:A,params:{canvas:r,canvasContext:e,dependencyTracker:_?new Zet(r,x.operatorList.length,S):null,viewport:n,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:g});(x.renderTasks||(x.renderTasks=new Set)).add(C);const T=C.task;return Promise.all([x.displayReadyCapability.promise,l]).then(([R,B])=>{var D;if(this.destroyed){A();return}if((D=this._stats)==null||D.time("Rendering"),!(B.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:R,optionalContentConfig:B}),C.operatorListChanged()}).catch(A),T}getOperatorList({intent:e="display",annotationMode:r=Sd.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var c;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,r,n,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageId:p(this,__).getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>nS.textContent(n));const r=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:l,done:c}){if(c){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=r.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const n of r.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),k(this,Zc,!1),Promise.all(e)}cleanup(e=!1){k(this,Zc,!0);const r=$(this,Lp,Zx).call(this);return e&&r&&this._stats&&(this._stats=new Sq),r}_startRenderPage(e,r){var i,s;const n=this._intentStates.get(r);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,r){for(let n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(const n of r.renderTasks)n.operatorListChanged();e.lastChunk&&$(this,Lp,Zx).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:a}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageId:p(this,__).getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(r);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:h})=>{if(h){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const h of c.renderTasks)h.operatorListChanged();$(this,Lp,Zx).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(r instanceof _5){let i=Ott;r.extraDelay>0&&r.extraDelay<1e3&&(i+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},i);return}}if(e.streamReader.cancel(new tf(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Zc=new WeakMap,__=new WeakMap,Lp=new WeakSet,Zx=function(){if(!p(this,Zc)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:r}of this._intentStates.values())if(e.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),k(this,Zc,!1),!0};var rh,Do,Jc,Fp,Xk,Bp,Up,Zi,VC,Xle,Yle,Jx,By,zC;const wr=class wr{constructor({name:e=null,port:r=null,verbosity:n=het()}={}){M(this,Zi);M(this,rh,Promise.withResolvers());M(this,Do,null);M(this,Jc,null);M(this,Fp,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,r){if(p(wr,Up).has(r))throw new Error("Cannot use more than one PDFWorker per port.");p(wr,Up).set(r,this),$(this,Zi,Xle).call(this,r)}else $(this,Zi,Yle).call(this)}get promise(){return p(this,rh).promise}get port(){return p(this,Jc)}get messageHandler(){return p(this,Do)}destroy(){var e,r;this.destroyed=!0,(e=p(this,Fp))==null||e.terminate(),k(this,Fp,null),p(wr,Up).delete(p(this,Jc)),k(this,Jc,null),(r=p(this,Do))==null||r.destroy(),k(this,Do,null)}static create(e){const r=p(this,Up).get(e==null?void 0:e.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new wr(e)}static get workerSrc(){if(Xl.workerSrc)return Xl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Qe(this,"_setupFakeWorkerGlobal",(async()=>p(this,By,zC)?p(this,By,zC):(await import(this.workerSrc)).WorkerMessageHandler)())}};rh=new WeakMap,Do=new WeakMap,Jc=new WeakMap,Fp=new WeakMap,Xk=new WeakMap,Bp=new WeakMap,Up=new WeakMap,Zi=new WeakSet,VC=function(){p(this,rh).resolve(),p(this,Do).send("configure",{verbosity:this.verbosity})},Xle=function(e){k(this,Jc,e),k(this,Do,new qx("main","worker",e)),p(this,Do).on("ready",()=>{}),$(this,Zi,VC).call(this)},Yle=function(){if(p(wr,Bp)||p(wr,By,zC)){$(this,Zi,Jx).call(this);return}let{workerSrc:e}=wr;try{wr._isSameOrigin(window.location,e)||(e=wr._createCDNWrapper(new URL(e,window.location).href));const r=new Worker(e,{type:"module"}),n=new qx("main","worker",r),i=()=>{s.abort(),n.destroy(),r.terminate(),this.destroyed?p(this,rh).reject(new Error("Worker was destroyed")):$(this,Zi,Jx).call(this)},s=new AbortController;r.addEventListener("error",()=>{p(this,Fp)||i()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}k(this,Do,n),k(this,Jc,r),k(this,Fp,r),$(this,Zi,VC).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{$(this,Zi,Jx).call(this)}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{uN("The worker has been disabled.")}$(this,Zi,Jx).call(this)},Jx=function(){p(wr,Bp)||(Ye("Setting up fake worker."),k(wr,Bp,!0)),wr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){p(this,rh).reject(new Error("Worker was destroyed"));return}const r=new zet;k(this,Jc,r);const n=`fake${Fr(wr,Xk)._++}`,i=new qx(n+"_worker",n,r);e.setup(i,r),k(this,Do,new qx(n,n+"_worker",r)),$(this,Zi,VC).call(this)}).catch(e=>{p(this,rh).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},By=new WeakSet,zC=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},M(wr,By),M(wr,Xk,0),M(wr,Bp,!1),M(wr,Up,new WeakMap),zi&&(k(wr,Bp,!0),Xl.workerSrc||(Xl.workerSrc="./pdf.worker.mjs")),wr._isSameOrigin=(e,r)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(r,n);return n.origin===i.origin},wr._createCDNWrapper=e=>{const r=`await import("${e}");`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))},wr.fromPort=e=>{if(Eet("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return wr.create(e)};let aS=wr;var Bs,eu,tu,Va,nh,Uy,ru,fs,pa,Qle,ew,HC;class Mtt{constructor(e,r,n,i,s){M(this,pa);ie(this,"downloadInfoCapability",Promise.withResolvers());M(this,Bs,null);M(this,eu,new Map);M(this,tu,null);M(this,Va,new Map);M(this,nh,new Map);M(this,Uy,new Map);M(this,ru,null);M(this,fs,iS.instance);this.messageHandler=e,this.loadingTask=r,k(this,tu,n),this.commonObjs=new Vle,this.fontLoader=new Det({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.enableHWA=i.enableHWA,this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this.setupMessageHandler(),p(this,fs).addListener($(this,pa,Qle).bind(this))}get annotationStorage(){return Qe(this,"annotationStorage",new E5)}getRenderingIntent(e,r=Sd.ENABLE,n=null,i=!1,s=!1){let a=ea.DISPLAY,o=q$;switch(e){case"any":a=ea.ANY;break;case"display":break;case"print":a=ea.PRINT;break;default:Ye(`getRenderingIntent - invalid intent: ${e}`)}const l=a&ea.PRINT&&n instanceof mle?n:this.annotationStorage;switch(r){case Sd.DISABLE:a+=ea.ANNOTATIONS_DISABLE;break;case Sd.ENABLE:break;case Sd.ENABLE_FORMS:a+=ea.ANNOTATIONS_FORMS;break;case Sd.ENABLE_STORAGE:a+=ea.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Ye(`getRenderingIntent - invalid annotationMode: ${r}`)}i&&(a+=ea.IS_EDITING),s&&(a+=ea.OPLIST);const{ids:c,hash:u}=l.modifiedIds,d=[a,o.hash,u];return{renderingIntent:a,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=p(this,ru))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of p(this,Va).values())e.push(i._destroy());p(this,Va).clear(),p(this,nh).clear(),p(this,Uy).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),p(this,eu).clear(),this.filterFactory.destroy(),sS.cleanup(),(i=p(this,tu))==null||i.cancelAllRequests(new tf("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,i)=>{jt(p(this,tu),"GetReader - no `BasePDFStream` instance available."),k(this,Bs,p(this,tu).getFullReader()),p(this,Bs).onProgress=s=>$(this,pa,HC).call(this,s),i.onPull=()=>{p(this,Bs).read().then(function({value:s,done:a}){if(a){i.close();return}jt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{p(this,Bs).cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{await p(this,Bs).headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=p(this,Bs);return i&&s&&(p(this,Bs).onProgress=null),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,i)=>{jt(p(this,tu),"GetRangeReader - no `BasePDFStream` instance available.");const s=p(this,tu).getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}jt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{p(this,fs).pagesNumber=n.numPages,this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new Ntt(n,this))}),e.on("DocException",n=>{r._capability.reject(as(n))}),e.on("PasswordRequest",n=>{k(this,ru,Promise.withResolvers());try{if(!r.onPassword)throw as(n);const i=s=>{s instanceof Error?p(this,ru).reject(s):p(this,ru).resolve({password:s})};r.onPassword(i,n.code)}catch(i){p(this,ru).reject(i)}return p(this,ru).promise}),e.on("DataLoaded",n=>{$(this,pa,HC).call(this,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;p(this,Va).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in s){const h=s.error;Ye(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}const o=new K$(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,c=new $et(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:u}=s;jt(u,"The imageRef must be defined.");for(const h of p(this,Va).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===u)return f.dataLen?(this.commonObjs.resolve(n,structuredClone(f)),f.dataLen):null;break;case"FontPath":this.commonObjs.resolve(n,new Let(s));break;case"Image":this.commonObjs.resolve(n,s);break;case"Pattern":const d=new X$(s);this.commonObjs.resolve(n,d.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{var l;if(this.destroyed)return;const o=p(this,Va).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{this.destroyed||$(this,pa,HC).call(this,n)}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ye("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=p(this,Bs))==null?void 0:n.filename)??null},r).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>p(this,fs).pagesNumber)return Promise.reject(new Error("Invalid page request."));const r=e-1,n=p(this,fs).getPageId(e)-1,i=p(this,nh).get(r);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&p(this,Uy).set(a.refStr,n);const o=new Rtt(r,a,this,this._params.pdfBug);return p(this,Va).set(r,o),o});return p(this,nh).set(r,s),s}async getPageIndex(e){if(!Y$(e))throw new Error("Invalid pageIndex request.");const r=await this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen});return p(this,fs).getPageNumber(r+1)-1}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:p(this,fs).getPageId(e+1)-1,intent:r})}getFieldObjects(){return $(this,pa,ew).call(this,"GetFieldObjects")}hasJSActions(){return $(this,pa,ew).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,r){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:r})}getDocJSActions(){return $(this,pa,ew).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:p(this,fs).getPageId(e+1)-1})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:p(this,fs).getPageId(e+1)-1})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return $(this,pa,ew).call(this,"GetOptionalContentConfig").then(r=>new ftt(r,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",r=p(this,eu).get(e);if(r)return r;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new dtt(i[1]):null,contentDispositionFilename:((s=p(this,Bs))==null?void 0:s.filename)??null,contentLength:((a=p(this,Bs))==null?void 0:a.contentLength)??null,hasStructTree:i[2]}});return p(this,eu).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of p(this,Va).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),p(this,eu).clear(),this.filterFactory.destroy(!0),sS.cleanup()}}cachedPageNumber(e){if(!Y$(e))return null;const r=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`,n=p(this,Uy).get(r);return n>=0?p(this,fs).getPageNumber(n+1):null}}Bs=new WeakMap,eu=new WeakMap,tu=new WeakMap,Va=new WeakMap,nh=new WeakMap,Uy=new WeakMap,ru=new WeakMap,fs=new WeakMap,pa=new WeakSet,Qle=function(){const e=new Map,r=new Map;for(let n=0,i=p(this,fs).pagesNumber;n<i;n++){const s=p(this,fs).getPrevPageNumber(n+1)-1,a=p(this,Va).get(s);a&&e.set(n,a);const o=p(this,nh).get(s);o&&r.set(n,o)}k(this,Va,e),k(this,nh,r)},ew=function(e,r=null){const n=p(this,eu).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,r);return p(this,eu).set(e,i),i},HC=function({loaded:e,total:r}){var n,i;(i=(n=this.loadingTask).onProgress)==null||i.call(n,{loaded:e,total:r,percent:li(Math.round(e/r*100),0,100)})};class Itt{constructor(e){ie(this,"_internalRenderTask",null);ie(this,"onContinue",null);ie(this,"onError",null);this._internalRenderTask=e}get promise(){return this._internalRenderTask.capability.promise}cancel(e=0){this._internalRenderTask.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this._internalRenderTask.operatorList;if(!e)return!1;const{annotationCanvasMap:r}=this._internalRenderTask;return e.form||e.canvas&&(r==null?void 0:r.size)>0}}var ih,Vp;const Lf=class Lf{constructor({callback:e,params:r,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null,enableHWA:f=!1,operationsFilter:g=null}){M(this,ih,null);this.callback=e,this.params=r,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Itt(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvas,this._canvasContext=r.canvas?null:r.canvasContext,this._enableHWA=f,this._dependencyTracker=r.dependencyTracker,this._operationsFilter=g}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){var l,c;if(this.cancelled)return;if(this._canvas){if(p(Lf,Vp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");p(Lf,Vp).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Lv(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,r=0){var n,i,s;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),p(this,ih)&&(window.cancelAnimationFrame(p(this,ih)),k(this,ih,null)),p(Lf,Vp).delete(this._canvas),e||(e=new _5(`Rendering cancelled, page ${this._pageIndex+1}`,r)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,r;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(r=this.stepper)==null||r.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?k(this,ih,window.requestAnimationFrame(()=>{k(this,ih,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),p(Lf,Vp).delete(this._canvas),this.callback())))}};ih=new WeakMap,Vp=new WeakMap,M(Lf,Vp,new WeakSet);let fL=Lf;const Zle="5.4.624",Dtt="384c6208b";var Us,zp,Vy,En,A_,zy,nu,E_,sh,$o,C_,Jt,pL,mL,gL,Of,Jle,dd;const os=class os{constructor({editor:e=null,uiManager:r=null}){M(this,Jt);M(this,Us,null);M(this,zp,null);M(this,Vy);M(this,En,null);M(this,A_,!1);M(this,zy,!1);M(this,nu,null);M(this,E_);M(this,sh,null);M(this,$o,null);var n,i;e?(k(this,zy,!1),k(this,nu,e)):k(this,zy,!0),k(this,$o,(e==null?void 0:e._uiManager)||r),k(this,E_,p(this,$o)._eventBus),k(this,Vy,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((i=p(this,$o))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),p(os,C_)||k(os,C_,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Qe(this,"_keyboardManager",new VA([[["Escape","mac+Escape"],os.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],os.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],os.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],os.prototype._moveToPrevious],[["Home","mac+Home"],os.prototype._moveToBeginning],[["End","mac+End"],os.prototype._moveToEnd]]))}renderButton(){const e=k(this,Us,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",p(this,nu)&&(e.ariaControls=`${p(this,nu).id}_colorpicker_dropdown`);const r=p(this,$o)._signal;e.addEventListener("click",$(this,Jt,Of).bind(this),{signal:r}),e.addEventListener("keydown",$(this,Jt,gL).bind(this),{signal:r});const n=k(this,zp,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=p(this,Vy),e.append(n),e}renderMainDropdown(){const e=k(this,En,$(this,Jt,pL).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===p(this,Us)){$(this,Jt,Of).call(this,e);return}const r=e.target.getAttribute("data-color");r&&$(this,Jt,mL).call(this,r,e)}_moveToNext(e){var r,n;if(!p(this,Jt,dd)){$(this,Jt,Of).call(this,e);return}if(e.target===p(this,Us)){(r=p(this,En).firstElementChild)==null||r.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var r,n;if(e.target===((r=p(this,En))==null?void 0:r.firstElementChild)||e.target===p(this,Us)){p(this,Jt,dd)&&this._hideDropdownFromKeyboard();return}p(this,Jt,dd)||$(this,Jt,Of).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var r;if(!p(this,Jt,dd)){$(this,Jt,Of).call(this,e);return}(r=p(this,En).firstElementChild)==null||r.focus()}_moveToEnd(e){var r;if(!p(this,Jt,dd)){$(this,Jt,Of).call(this,e);return}(r=p(this,En).lastElementChild)==null||r.focus()}hideDropdown(){var e,r;(e=p(this,En))==null||e.classList.add("hidden"),p(this,Us).ariaExpanded="false",(r=p(this,sh))==null||r.abort(),k(this,sh,null)}_hideDropdownFromKeyboard(){var e;if(!p(this,zy)){if(!p(this,Jt,dd)){(e=p(this,nu))==null||e.unselect();return}this.hideDropdown(),p(this,Us).focus({preventScroll:!0,focusVisible:p(this,A_)})}}updateColor(e){if(p(this,zp)&&(p(this,zp).style.backgroundColor=e),!p(this,En))return;const r=p(this,$o).highlightColors.values();for(const n of p(this,En).children)n.ariaSelected=r.next().value===e.toUpperCase()}destroy(){var e,r;(e=p(this,Us))==null||e.remove(),k(this,Us,null),k(this,zp,null),(r=p(this,En))==null||r.remove(),k(this,En,null)}};Us=new WeakMap,zp=new WeakMap,Vy=new WeakMap,En=new WeakMap,A_=new WeakMap,zy=new WeakMap,nu=new WeakMap,E_=new WeakMap,sh=new WeakMap,$o=new WeakMap,C_=new WeakMap,Jt=new WeakSet,pL=function(){const e=document.createElement("div"),r=p(this,$o)._signal;e.addEventListener("contextmenu",lo,{signal:r}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),p(this,nu)&&(e.id=`${p(this,nu).id}_colorpicker_dropdown`);for(const[n,i]of p(this,$o).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",p(os,C_)[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===p(this,Vy),s.addEventListener("click",$(this,Jt,mL).bind(this,i),{signal:r}),e.append(s)}return e.addEventListener("keydown",$(this,Jt,gL).bind(this),{signal:r}),e},mL=function(e,r){r.stopPropagation(),p(this,E_).dispatch("switchannotationeditorparams",{source:this,type:gt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},gL=function(e){os._keyboardManager.exec(this,e)},Of=function(e){if(p(this,Jt,dd)){this.hideDropdown();return}if(k(this,A_,e.detail===0),p(this,sh)||(k(this,sh,new AbortController),window.addEventListener("pointerdown",$(this,Jt,Jle).bind(this),{signal:p(this,$o).combinedSignal(p(this,sh))})),p(this,Us).ariaExpanded="true",p(this,En)){p(this,En).classList.remove("hidden");return}const r=k(this,En,$(this,Jt,pL).call(this));p(this,Us).append(r)},Jle=function(e){var r;(r=p(this,En))!=null&&r.contains(e.target)||this.hideDropdown()},dd=function(){return p(this,En)&&!p(this,En).classList.contains("hidden")},M(os,C_,null);let Pk=os;var Ol,T_,Hy,P_;const Ff=class Ff{constructor(e){M(this,Ol,null);M(this,T_,null);M(this,Hy,null);k(this,T_,e),k(this,Hy,e._uiManager),p(Ff,P_)||k(Ff,P_,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(p(this,Ol))return p(this,Ol);const{editorType:e,colorType:r,color:n}=p(this,T_),i=k(this,Ol,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",p(Ff,P_)[e]),i.addEventListener("input",()=>{p(this,Hy).updateParams(r,i.value)},{signal:p(this,Hy)._signal}),i}update(e){p(this,Ol)&&(p(this,Ol).value=e)}destroy(){var e;(e=p(this,Ol))==null||e.remove(),k(this,Ol,null)}hideDropdown(){}};Ol=new WeakMap,T_=new WeakMap,Hy=new WeakMap,P_=new WeakMap,M(Ff,P_,null);let kk=Ff;function Gq(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function xx(t){return Math.max(0,Math.min(255,255*t))}class qq{static CMYK_G([e,r,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*r+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=xx(e),[e,e,e]}static G_HTML([e]){const r=Gq(e);return`#${r}${r}${r}`}static RGB_G([e,r,n]){return["G",.3*e+.59*r+.11*n]}static RGB_rgb(e){return e.map(xx)}static RGB_HTML(e){return`#${e.map(Gq).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,r,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,r+i)]}static CMYK_rgb([e,r,n,i]){return[xx(1-Math.min(1,e+i)),xx(1-Math.min(1,n+i)),xx(1-Math.min(1,r+i))]}static CMYK_HTML(e){const r=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(r)}static RGB_CMYK([e,r,n]){const i=1-e,s=1-r,a=1-n,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class $tt{create(e,r,n=!1){if(e<=0||r<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${r}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${r}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ot("Abstract method `_createSVG` called.")}}class jk extends $tt{_createSVG(e){return document.createElementNS(_c,e)}}const Ltt=9,Km=new WeakSet,Ftt=new Date().getTimezoneOffset()*60*1e3;class CR{static create(e){switch(e.data.annotationType){case cn.LINK:return new P5(e);case cn.TEXT:return new Utt(e);case cn.WIDGET:switch(e.data.fieldType){case"Tx":return new Vtt(e);case"Btn":return e.data.radioButton?new rce(e):e.data.checkBox?new Htt(e):new Wtt(e);case"Ch":return new Gtt(e);case"Sig":return new ztt(e)}return new og(e);case cn.POPUP:return new yL(e);case cn.FREETEXT:return new oce(e);case cn.LINE:return new Ktt(e);case cn.SQUARE:return new Xtt(e);case cn.CIRCLE:return new Ytt(e);case cn.POLYLINE:return new lce(e);case cn.CARET:return new Ztt(e);case cn.INK:return new k5(e);case cn.POLYGON:return new Qtt(e);case cn.HIGHLIGHT:return new cce(e);case cn.UNDERLINE:return new Jtt(e);case cn.SQUIGGLY:return new ert(e);case cn.STRIKEOUT:return new trt(e);case cn.STAMP:return new uce(e);case cn.FILEATTACHMENT:return new rrt(e);default:return new Dr(e)}}}var Hp,Wy,za,k_,vL;const D5=class D5{constructor(e,{isRenderable:r=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){M(this,k_);M(this,Hp,null);M(this,Wy,!1);M(this,za,null);this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,r&&(this.contentElement=this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:r}){return!!(e!=null&&e.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return D5._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var n;const{data:e}=this,r=(n=this.annotationStorage)==null?void 0:n.getEditor(e.id);return r?r.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:r,inkLists:n,rect:i}=this.data;let s=-1/0,a=-1/0;if((r==null?void 0:r.length)>=8){for(let l=0;l<r.length;l+=8)r[l+1]>a?(a=r[l+1],s=r[l+2]):r[l+1]===a&&(s=Math.max(s,r[l+2]));return[s,a]}if((n==null?void 0:n.length)>=1){for(const l of n)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>a?(a=l[c+1],s=l[c]):l[c+1]===a&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:r},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=r[3]-e[1]+r[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-a)/i,e}get commentText(){var r,n,i;const{data:e}=this;return((n=(r=this.annotationStorage.getRawValue(`${tS}${e.id}`))==null?void 0:r.popup)==null?void 0:n.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:r}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(r.id,{popup:n})||this.annotationStorage.setValue(`${tS}${r.id}`,{id:r.id,annotationType:r.annotationType,page:this.parent.page,popup:n,popupRef:r.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,r;(r=((e=p(this,za))==null?void 0:e.popup)||this.popup)==null||r.remove(),k(this,za,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(p(this,Hp)||k(this,Hp,{rect:this.data.rect.slice(0)}));const{rect:r,popup:n}=e;r&&$(this,k_,vL).call(this,r);let i=((s=p(this,za))==null?void 0:s.popup)||this.popup;!i&&(n!=null&&n.text)&&(this._createPopup(n),i=p(this,za).popup),i&&(i.updateEdited(e),n!=null&&n.deleted&&(i.remove(),k(this,za,null),this.popup=null))}resetEdited(){var e;p(this,Hp)&&($(this,k_,vL).call(this,p(this,Hp).rect),(e=p(this,za))==null||e.popup.resetEdited(),k(this,Hp,null))}_createContainer(e){const{data:r,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",r.id),!(this instanceof og)&&!(this instanceof P5)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,r.alternativeText&&(s.title=r.alternativeText),r.noRotate&&s.classList.add("norotate"),!r.rect||this instanceof yL){const{rotation:v}=r;return!r.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:o,height:l}=this;if(!e&&r.borderStyle.width>0){a.borderWidth=`${r.borderStyle.width}px`;const v=r.borderStyle.horizontalCornerRadius,y=r.borderStyle.verticalCornerRadius;if(v>0||y>0){const x=`calc(${v}px * var(--total-scale-factor)) / calc(${y}px * var(--total-scale-factor))`;a.borderRadius=x}else if(this instanceof rce){const x=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=x}switch(r.borderStyle.style){case Ig.SOLID:a.borderStyle="solid";break;case Ig.DASHED:a.borderStyle="dashed";break;case Ig.BEVELED:Ye("Unimplemented border style: beveled");break;case Ig.INSET:Ye("Unimplemented border style: inset");break;case Ig.UNDERLINE:a.borderBottomStyle="solid";break}const b=r.borderColor||null;b?(k(this,Wy,!0),a.borderColor=we.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):a.borderWidth=0}const c=we.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:f}=i.rawDims;a.left=`${100*(c[0]-h)/u}%`,a.top=`${100*(c[1]-f)/d}%`;const{rotation:g}=r;return r.hasOwnCanvas||g===0?(a.width=`${100*o/u}%`,a.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,r=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),r.style.width=`${100*s/n}%`,r.style.height=`${100*a/i}%`,r.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(r,n,i)=>{const s=i.detail[r],a=s[0],o=s.slice(1);i.target.style[n]=qq[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:qq[`${a}_rgb`](o)})};return Qe(this,"_commonActions",{display:r=>{const{display:n}=r.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:r=>{this.annotationStorage.setValue(this.data.id,{noPrint:!r.detail.print})},hidden:r=>{const{hidden:n}=r.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.target.disabled=r.detail.readonly},required:r=>{this._setRequired(r.target,r.detail.required)},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)},rotation:r=>{const n=r.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,r){const n=this._commonActions;for(const i of Object.keys(r.detail)){const s=e[i]||n[i];s==null||s(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const n=this._commonActions;for(const[i,s]of Object.entries(r)){const a=n[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete r[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[r,n,i,s]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,y,b,x]=e.subarray(2,6);if(i===v&&s===y&&r===b&&n===x)return}const{style:a}=this.container;let o;if(p(this,Wy)){const{borderColor:v,borderWidth:y}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}const l=i-r,c=s-n,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const h=u.createElement("defs");d.append(h);const f=u.createElement("clipPath"),g=`clippath_${this.data.id}`;f.setAttribute("id",g),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let v=2,y=e.length;v<y;v+=8){const b=e[v],x=e[v+1],w=e[v+2],S=e[v+3],_=u.createElement("rect"),A=(w-r)/l,C=(s-x)/c,T=(b-w)/l,P=(x-S)/c;_.setAttribute("x",A),_.setAttribute("y",C),_.setAttribute("width",T),_.setAttribute("height",P),f.append(_),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${A}" y="${C}" width="${T}" height="${P}"/>`)}p(this,Wy)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(e=null){const{data:r}=this;let n,i;e?(n={str:e.text},i=e.date):(n=r.contentsObj,i=r.modificationDate),k(this,za,new yL({data:{color:r.color,titleObj:r.titleObj,modificationDate:i,contentsObj:n,richText:r.richText,parentRect:r.rect,borderStyle:0,id:`popup_${r.id}`,rotation:r.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(p(this,za)||this.popup||this.data.popupRef)}get extraPopupElement(){return p(this,za)}render(){Ot("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===r)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!Km.has(c)){Ye(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:c})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==r&&Km.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const r of e)r.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:r}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:r,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Hp=new WeakMap,Wy=new WeakMap,za=new WeakMap,k_=new WeakSet,vL=function(e){const{container:{style:r},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e),r.left=`${100*(e[0]-o)/s}%`,r.top=`${100*(a-e[3]+l)/a}%`,i===0?(r.width=`${100*(e[2]-e[0])/s}%`,r.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let Dr=D5;class Btt extends Dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var la,Nf,ece,tce;class P5 extends Dr{constructor(r,n=null){super(r,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});M(this,la);this.isTooltipOnly=r.data.isTooltipOnly}render(){const{data:r,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",r.id);let s=!1;return r.url?(n.addLinkAttributes(i,r.url,r.newWindow),s=!0):r.action?(this._bindNamedAction(i,r.action,r.overlaidText),s=!0):r.attachment?($(this,la,ece).call(this,i,r.attachment,r.overlaidText,r.attachmentDest),s=!0):r.setOCGState?($(this,la,tce).call(this,i,r.setOCGState,r.overlaidText),s=!0):r.dest?(this._bindLink(i,r.dest,r.overlaidText),s=!0):(r.actions&&(r.actions.Action||r.actions["Mouse Up"]||r.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,r),s=!0),r.resetForm?(this._bindResetFormAction(i,r.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(r,n,i=""){r.href=this.linkService.getDestinationHash(n),r.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&$(this,la,Nf).call(this),i&&(r.title=i)}_bindNamedAction(r,n,i=""){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(r.title=i),$(this,la,Nf).call(this)}_bindJSAction(r,n){r.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=i.get(s);a&&(r[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}n.overlaidText&&(r.title=n.overlaidText),r.onclick||(r.onclick=()=>!1),$(this,la,Nf).call(this)}_bindResetFormAction(r,n){const i=r.onclick;if(i||(r.href=this.linkService.getAnchorUrl("")),$(this,la,Nf).call(this),!this._fieldObjects){Ye('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(r.onclick=()=>!1);return}r.onclick=()=>{var d;i==null||i();const{fields:s,refs:a,include:o}=n,l=[];if(s.length!==0||a.length!==0){const h=new Set(a);for(const f of s){const g=this._fieldObjects[f]||[];for(const{id:v}of g)h.add(v)}for(const f of Object.values(this._fieldObjects))for(const g of f)h.has(g.id)===o&&l.push(g)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const c=this.annotationStorage,u=[];for(const h of l){const{id:f}=h;switch(u.push(f),h.type){case"text":{const v=h.defaultValue||"";c.setValue(f,{value:v});break}case"checkbox":case"radiobutton":{const v=h.defaultValue===h.exportValues;c.setValue(f,{value:v});break}case"combobox":case"listbox":{const v=h.defaultValue||"";c.setValue(f,{value:v});break}default:continue}const g=document.querySelector(`[data-element-id="${f}"]`);if(g){if(!Km.has(g)){Ye(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}la=new WeakSet,Nf=function(){this.container.setAttribute("data-internal-link","")},ece=function(r,n,i="",s=null){r.href=this.linkService.getAnchorUrl(""),n.description?r.title=n.description:i&&(r.title=i),r.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,s),!1},$(this,la,Nf).call(this)},tce=function(r,n,i=""){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(r.title=i),$(this,la,Nf).call(this)};class Utt extends Dr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class og extends Dr{render(){return this.container}showElementAndHideCanvas(e){var r;this.data.hasOwnCanvas&&(((r=e.previousSibling)==null?void 0:r.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Nn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,r,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!r.focused||!a.relatedTarget)return;r.focused=!1}else if(n==="focus"){if(r.focused)return;r.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,r,n,i){var s,a,o;for(const[l,c]of n)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(r||(r={focused:!1})),this._setEventListener(e,r,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,r,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,r,"focus","Focus",null))}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=r===null?"transparent":we.makeHexColor(r[0],r[1],r[2])}_setTextStyle(e){const r=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Ltt,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(bR*i))||1,d=c/u;a=Math.min(i,l(d/bR))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/bR))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=we.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=r[this.data.textAlignment])}_setRequired(e,r){r?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",r)}}class Vtt extends og{constructor(e){const r=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:r})}setPropertyOnSiblings(e,r,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[r]=n),s.setValue(a.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(r,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(r,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Km.add(n),this.contentElement=n,n.setAttribute("data-element-id",r),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:d,datetimeType:h,timeStep:f}=this.data,g=!!h&&this.enableScripting;d&&(n.title=d),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",y=>{e.setValue(r,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",y=>{const b=this.data.defaultFieldValue??"";n.value=u.userValue=b,u.formattedValue=null});let v=y=>{const{formattedValue:b}=u;b!=null&&(y.target.value=b),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",b=>{var w;if(u.focused)return;const{target:x}=b;if(g&&(x.type=h,f&&(x.step=f)),u.userValue){const S=u.userValue;if(g)if(h==="time"){const _=new Date(S),A=[_.getHours(),_.getMinutes(),_.getSeconds()];x.value=A.map(C=>C.toString().padStart(2,"0")).join(":")}else x.value=new Date(S-Ftt).toISOString().split(h==="date"?"T":".",1)[0];else x.value=S}u.lastCommittedValue=x.value,u.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const x={value(w){u.userValue=w.detail.value??"",g||e.setValue(r,{value:u.userValue.toString()}),w.target.value=u.userValue},formattedValue(w){const{formattedValue:S}=w.detail;u.formattedValue=S,S!=null&&w.target!==document.activeElement&&(w.target.value=S);const _={formattedValue:S};g&&(_.value=S),e.setValue(r,_)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var C;const{charLimit:S}=w.detail,{target:_}=w;if(S===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",S);let A=u.userValue;!A||A.length<=S||(A=A.slice(0,S),_.value=u.userValue=A,e.setValue(r,{value:A}),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(x,b)}),n.addEventListener("keydown",b=>{var S;u.commitKey=1;let x=-1;if(b.key==="Escape"?x=0:b.key==="Enter"&&!this.data.multiLine?x=2:b.key==="Tab"&&(u.commitKey=3),x===-1)return;const{value:w}=b.target;u.lastCommittedValue!==w&&(u.lastCommittedValue=w,u.userValue=w,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:w,willCommit:!0,commitKey:x,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const y=v;v=null,n.addEventListener("blur",b=>{var S,_;if(!u.focused||!b.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(u.focused=!1);const{target:x}=b;let{value:w}=x;if(g){if(w&&h==="time"){const A=w.split(":").map(C=>parseInt(C,10));w=new Date(2e3,0,1,A[0],A[1],A[2]||0).valueOf(),x.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();x.type="text"}u.userValue=w,u.lastCommittedValue!==w&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:w,willCommit:!0,commitKey:u.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}})),y(b)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",b=>{var P;u.lastCommittedValue=null;const{data:x,target:w}=b,{value:S,selectionStart:_,selectionEnd:A}=w;let C=_,T=A;switch(b.inputType){case"deleteWordBackward":{const O=S.substring(0,_).match(/\w*[^\w]*$/);O&&(C-=O[0].length);break}case"deleteWordForward":{const O=S.substring(_).match(/^[^\w]*\w*/);O&&(T+=O[0].length);break}case"deleteContentBackward":_===A&&(C-=1);break;case"deleteContentForward":_===A&&(T+=1);break}b.preventDefault(),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:S,change:x||"",willCommit:!1,selStart:C,selEnd:T}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class ztt extends og{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Htt extends og{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.exportValue===r.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Km.add(s),s.setAttribute("data-element-id",n),s.disabled=r.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=r.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",r.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n)){const u=l&&c.exportValue===r.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=r.defaultFieldValue||"Off";a.target.checked=o===r.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class rce extends og{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if(typeof i=="string"&&(i=i!==r.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(r.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Km.add(s),s.setAttribute("data-element-id",n),s.disabled=r.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=r.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n))e.setValue(c.id,{value:!1});e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=r.defaultFieldValue;a.target.checked=o!=null&&o===r.buttonValue}),this.enableScripting&&this.hasJSActions){const a=r.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=a===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const h=u&&d.id===n;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Wtt extends P5{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const r=e.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class Gtt extends og{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,r=this.data.id,n=e.getValue(r,{value:this.data.fieldValue}),i=document.createElement("select");Km.add(i),i.setAttribute("data-element-id",r),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,n.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),a=()=>{u.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=u=>{const d=u?"value":"textContent",{options:h,multiple:f}=i;return f?Array.prototype.filter.call(h,g=>g.selected).map(g=>g[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let l=o(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(h){a==null||a();const f=h.detail.value,g=new Set(Array.isArray(f)?f:[f]);for(const v of i.options)v.selected=g.has(v.value);e.setValue(r,{value:o(!0)}),l=o(!1)},multipleSelection(h){i.multiple=!0},remove(h){const f=i.options,g=h.detail.remove;f[g].selected=!1,i.remove(g),f.length>0&&Array.prototype.findIndex.call(f,y=>y.selected)===-1&&(f[0].selected=!0),e.setValue(r,{value:o(!0),items:c(h)}),l=o(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(r,{value:null,items:[]}),l=o(!1)},insert(h){const{index:f,displayValue:g,exportValue:v}=h.detail.insert,y=i.children[f],b=document.createElement("option");b.textContent=g,b.value=v,y?y.before(b):i.append(b),e.setValue(r,{value:o(!0),items:c(h)}),l=o(!1)},items(h){const{items:f}=h.detail;for(;i.length!==0;)i.remove(0);for(const g of f){const{displayValue:v,exportValue:y}=g,b=document.createElement("option");b.textContent=v,b.value=y,i.append(b)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(r,{value:o(!0),items:c(h)}),l=o(!1)},indices(h){const f=new Set(h.detail.indices);for(const g of h.target.options)g.selected=f.has(g.index);e.setValue(r,{value:o(!0)}),l=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var f;const d=o(!0),h=o(!1);e.setValue(r,{value:d}),u.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(r,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var j_,bL;class yL extends Dr{constructor(r){const{data:n,elements:i,parent:s}=r,a=!!s._commentManager;super(r,{isRenderable:!a&&Dr._hasPopupData(n)});M(this,j_);if(this.elements=i,a&&Dr._hasPopupData(n)){const o=this.popup=$(this,j_,bL).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:r}=this;r.classList.add("popupAnnotation"),r.role="comment";const n=this.popup=$(this,j_,bL).call(this),i=[];for(const s of this.elements)s.popup=n,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${mv}${s}`).join(",")),this.container}}j_=new WeakSet,bL=function(){return new qtt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Vs,ah,Yk,Qk,Gy,qy,Vr,Nl,oh,Wp,Ky,Xy,Rl,zs,iu,su,zr,au,lh,O_,ou,Yy,Gp,ch,$n,uh,lt,WC,xL,wL,SL,GC,_L,nce,ice,sce,ace,qC,KC,AL;class qtt{constructor({container:e,color:r,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:d,commentManager:h=null}){M(this,lt);M(this,Vs,null);M(this,ah,$(this,lt,sce).bind(this));M(this,Yk,$(this,lt,AL).bind(this));M(this,Qk,$(this,lt,KC).bind(this));M(this,Gy,$(this,lt,qC).bind(this));M(this,qy,null);M(this,Vr,null);M(this,Nl,null);M(this,oh,null);M(this,Wp,null);M(this,Ky,null);M(this,Xy,null);M(this,Rl,!1);M(this,zs,null);M(this,iu,null);M(this,su,null);M(this,zr,null);M(this,au,null);M(this,lh,null);M(this,O_,null);M(this,ou,null);M(this,Yy,null);M(this,Gp,null);M(this,ch,!1);M(this,$n,null);M(this,uh,null);k(this,Vr,e),k(this,Yy,i),k(this,Nl,a),k(this,ou,o),k(this,Ky,l),k(this,qy,r),k(this,O_,c),k(this,Xy,u),k(this,Wp,n),k(this,Vs,h),k(this,$n,n[0]),k(this,oh,Sk.toDateObject(s)),this.trigger=n.flatMap(f=>f.getElementsToTriggerPopup()),h||($(this,lt,WC).call(this),p(this,Vr).hidden=!0,d&&$(this,lt,qC).call(this))}renderCommentButton(){if(p(this,zr)){p(this,zr).parentNode||p(this,$n).container.after(p(this,zr));return}if(p(this,au)||$(this,lt,xL).call(this),!p(this,au))return;const{signal:e}=k(this,iu,new AbortController),r=p(this,$n).hasOwnCommentButton,n=()=>{p(this,Vs).toggleCommentPopup(this,!0,void 0,!r)},i=()=>{p(this,Vs).toggleCommentPopup(this,!1,!0,!r)},s=()=>{p(this,Vs).toggleCommentPopup(this,!1,!1)};if(r){k(this,zr,p(this,$n).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",p(this,ah),{signal:e}),a.addEventListener("click",n,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=k(this,zr,document.createElement("button"));a.className="annotationCommentButton";const o=p(this,$n).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),$(this,lt,SL).call(this),$(this,lt,wL).call(this),a.addEventListener("keydown",p(this,ah),{signal:e}),a.addEventListener("click",n,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:r}=p(this,$n).commentData;return e?p(this,Ky)._commentManager.makeCommentColor(e,r):null}focusCommentButton(){setTimeout(()=>{var e;(e=p(this,zr))==null||e.focus()},0)}getData(){const{richText:e,color:r,opacity:n,creationDate:i,modificationDate:s}=p(this,$n).commentData;return{contentsObj:{str:this.comment},richText:e,color:r,opacity:n,creationDate:i,modificationDate:s}}get elementBeforePopup(){return p(this,zr)}get comment(){return p(this,uh)||k(this,uh,p(this,$n).commentText),p(this,uh)}set comment(e){e!==this.comment&&(p(this,$n).commentText=k(this,uh,e))}focus(){var e;(e=p(this,$n).container)==null||e.focus()}get parentBoundingClientRect(){return p(this,$n).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:r}){p(this,zr)&&(p(this,zr).classList.toggle("selected",e),p(this,zr).ariaExpanded=r)}setSelectedCommentButton(e){p(this,zr).classList.toggle("selected",e)}get commentPopupPosition(){if(p(this,lh))return p(this,lh);const{x:e,y:r,height:n}=p(this,zr).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=p(this,$n).layer.getBoundingClientRect();return[(e-i)/a,(r+n-s)/o]}set commentPopupPosition(e){k(this,lh,e)}hasDefaultPopupPosition(){return p(this,lh)===null}get commentButtonPosition(){return p(this,au)}get commentButtonWidth(){return p(this,zr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[r,n]=p(this,lh)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;p(this,Vs).showDialog(null,this,s+r*o,a+n*l,{...e,parentDimensions:i})}render(){var n,i;if(p(this,zs))return;const e=k(this,zs,document.createElement("div"));if(e.className="popup",p(this,qy)){const s=e.style.outlineColor=we.makeHexColor(...p(this,qy));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const r=document.createElement("span");if(r.className="header",(n=p(this,Yy))!=null&&n.str){const s=document.createElement("span");s.className="title",r.append(s),{dir:s.dir,str:s.textContent}=p(this,Yy)}if(e.append(r),p(this,oh)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:p(this,oh).valueOf()})),s.dateTime=p(this,oh).toISOString(),r.append(s)}Noe({html:p(this,lt,GC)||p(this,Nl).str,dir:(i=p(this,Nl))==null?void 0:i.dir,className:"popupContent"},e),p(this,Vr).append(e)}updateEdited({rect:e,popup:r,deleted:n}){var i;if(p(this,Vs)){n?(this.remove(),k(this,uh,null)):r&&(r.deleted?this.remove():($(this,lt,SL).call(this),k(this,uh,r.text))),e&&(k(this,au,null),$(this,lt,xL).call(this),$(this,lt,wL).call(this));return}if(n||r!=null&&r.deleted){this.remove();return}$(this,lt,WC).call(this),p(this,Gp)||k(this,Gp,{contentsObj:p(this,Nl),richText:p(this,ou)}),e&&k(this,su,null),r&&r.text&&(k(this,ou,$(this,lt,ice).call(this,r.text)),k(this,oh,Sk.toDateObject(r.date)),k(this,Nl,null)),(i=p(this,zs))==null||i.remove(),k(this,zs,null)}resetEdited(){var e;p(this,Gp)&&({contentsObj:Fr(this,Nl)._,richText:Fr(this,ou)._}=p(this,Gp),k(this,Gp,null),(e=p(this,zs))==null||e.remove(),k(this,zs,null),k(this,su,null))}remove(){var e,r,n;if((e=p(this,iu))==null||e.abort(),k(this,iu,null),(r=p(this,zs))==null||r.remove(),k(this,zs,null),k(this,ch,!1),k(this,Rl,!1),(n=p(this,zr))==null||n.remove(),k(this,zr,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){k(this,ch,this.isVisible),p(this,ch)&&(p(this,Vr).hidden=!0)}maybeShow(){p(this,Vs)||($(this,lt,WC).call(this),p(this,ch)&&(p(this,zs)||$(this,lt,KC).call(this),k(this,ch,!1),p(this,Vr).hidden=!1))}get isVisible(){return p(this,Vs)?!1:p(this,Vr).hidden===!1}}Vs=new WeakMap,ah=new WeakMap,Yk=new WeakMap,Qk=new WeakMap,Gy=new WeakMap,qy=new WeakMap,Vr=new WeakMap,Nl=new WeakMap,oh=new WeakMap,Wp=new WeakMap,Ky=new WeakMap,Xy=new WeakMap,Rl=new WeakMap,zs=new WeakMap,iu=new WeakMap,su=new WeakMap,zr=new WeakMap,au=new WeakMap,lh=new WeakMap,O_=new WeakMap,ou=new WeakMap,Yy=new WeakMap,Gp=new WeakMap,ch=new WeakMap,$n=new WeakMap,uh=new WeakMap,lt=new WeakSet,WC=function(){var r;if(p(this,iu))return;k(this,iu,new AbortController);const{signal:e}=p(this,iu);for(const n of this.trigger)n.addEventListener("click",p(this,Gy),{signal:e}),n.addEventListener("pointerenter",p(this,Qk),{signal:e}),n.addEventListener("pointerleave",p(this,Yk),{signal:e}),n.classList.add("popupTriggerArea");for(const n of p(this,Wp))(r=n.container)==null||r.addEventListener("keydown",p(this,ah),{signal:e})},xL=function(){const e=p(this,Wp).find(r=>r.hasCommentButton);e&&k(this,au,e._normalizePoint(e.commentButtonPosition))},wL=function(){if(p(this,$n).extraPopupElement&&!p(this,$n).editor)return;p(this,zr)||this.renderCommentButton();const[e,r]=p(this,au),{style:n}=p(this,zr);n.left=`calc(${e}%)`,n.top=`calc(${r}% - var(--comment-button-dim))`},SL=function(){p(this,$n).extraPopupElement||(p(this,zr)||this.renderCommentButton(),p(this,zr).style.backgroundColor=this.commentButtonColor||"")},GC=function(){const e=p(this,ou),r=p(this,Nl);return e!=null&&e.str&&(!(r!=null&&r.str)||r.str===e.str)&&p(this,ou).html||null},_L=function(){var e,r,n;return((n=(r=(e=p(this,lt,GC))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.fontSize)||0},nce=function(){var e,r,n;return((n=(r=(e=p(this,lt,GC))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.color)||null},ice=function(e){const r=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},i={style:{color:p(this,lt,nce),fontSize:p(this,lt,_L)?`calc(${p(this,lt,_L)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))r.push({name:"span",value:s,attributes:i});return n},sce=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&p(this,Rl))&&$(this,lt,qC).call(this)},ace=function(){if(p(this,su)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:r,pageHeight:n,pageX:i,pageY:s}}}=p(this,Ky);let a=!!p(this,Xy),o=a?p(this,Xy):p(this,O_);for(const g of p(this,Wp))if(!o||we.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const l=we.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=a?o[2]-o[0]+5:0,d=l[0]+u,h=l[1];k(this,su,[100*(d-i)/r,100*(h-s)/n]);const{style:f}=p(this,Vr);f.left=`${p(this,su)[0]}%`,f.top=`${p(this,su)[1]}%`},qC=function(){if(p(this,Vs)){p(this,Vs).toggleCommentPopup(this,!1);return}k(this,Rl,!p(this,Rl)),p(this,Rl)?($(this,lt,KC).call(this),p(this,Vr).addEventListener("click",p(this,Gy)),p(this,Vr).addEventListener("keydown",p(this,ah))):($(this,lt,AL).call(this),p(this,Vr).removeEventListener("click",p(this,Gy)),p(this,Vr).removeEventListener("keydown",p(this,ah)))},KC=function(){p(this,zs)||this.render(),this.isVisible?p(this,Rl)&&p(this,Vr).classList.add("focused"):($(this,lt,ace).call(this),p(this,Vr).hidden=!1,p(this,Vr).style.zIndex=parseInt(p(this,Vr).style.zIndex)+1e3)},AL=function(){p(this,Vr).classList.remove("focused"),!(p(this,Rl)||!this.isVisible)&&(p(this,Vr).hidden=!0,p(this,Vr).style.zIndex=parseInt(p(this,Vr).style.zIndex)-1e3)};class oce extends Dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const r of this.textContent){const n=document.createElement("span");n.textContent=r,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var N_;class Ktt extends Dr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});M(this,N_,null)}render(){this.container.classList.add("lineAnnotation");const{data:r,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=k(this,N_,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",r.rect[2]-r.lineCoordinates[0]),a.setAttribute("y1",r.rect[3]-r.lineCoordinates[1]),a.setAttribute("x2",r.rect[2]-r.lineCoordinates[2]),a.setAttribute("y2",r.rect[3]-r.lineCoordinates[3]),a.setAttribute("stroke-width",r.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!r.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return p(this,N_)}addHighlightArea(){this.container.classList.add("highlightArea")}}N_=new WeakMap;var R_;class Xtt extends Dr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});M(this,R_,null)}render(){this.container.classList.add("squareAnnotation");const{data:r,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=r.borderStyle.width,o=k(this,R_,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!r.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return p(this,R_)}addHighlightArea(){this.container.classList.add("highlightArea")}}R_=new WeakMap;var M_;class Ytt extends Dr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});M(this,M_,null)}render(){this.container.classList.add("circleAnnotation");const{data:r,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=r.borderStyle.width,o=k(this,M_,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!r.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return p(this,M_)}addHighlightArea(){this.container.classList.add("highlightArea")}}M_=new WeakMap;var I_;class lce extends Dr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});M(this,I_,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,vertices:n,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!n)return this.container;const l=this.svgFactory.create(a,o,!0);let c=[];for(let d=0,h=n.length;d<h;d+=2){const f=n[d]-r[0],g=r[3]-n[d+1];c.push(`${f},${g}`)}c=c.join(" ");const u=k(this,I_,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return p(this,I_)}addHighlightArea(){this.container.classList.add("highlightArea")}}I_=new WeakMap;class Qtt extends lce{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ztt extends Dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var D_,qp,$_,EL;class k5 extends Dr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});M(this,$_);M(this,D_,null);M(this,qp,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?nt.HIGHLIGHT:nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,rotation:n,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:c}=$(this,$_,EL).call(this,n,r),u=this.svgFactory.create(l,c,!0),d=k(this,D_,this.svgFactory.createElement("svg:g"));u.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",o);for(let h=0,f=i.length;h<f;h++){const g=this.svgFactory.createElement(this.svgElementName);p(this,qp).push(g),g.setAttribute("points",i[h].join(",")),d.append(g)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(r){super.updateEdited(r);const{thickness:n,points:i,rect:s}=r,a=p(this,D_);if(n>=0&&a.setAttribute("stroke-width",n||1),i)for(let o=0,l=p(this,qp).length;o<l;o++)p(this,qp)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:c}=$(this,$_,EL).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return p(this,qp)}addHighlightArea(){this.container.classList.add("highlightArea")}}D_=new WeakMap,qp=new WeakMap,$_=new WeakSet,EL=function(r,n){switch(r){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class cce extends Dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=nt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Jtt extends Dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class ert extends Dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class trt extends Dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class uce extends Dr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=nt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var L_,F_,CL;class rrt extends Dr{constructor(r){var i;super(r,{isRenderable:!0});M(this,F_);M(this,L_,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:r,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",$(this,F_,CL).bind(this)),k(this,L_,i);const{isMac:s}=Nn.platform;return r.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&$(this,F_,CL).call(this)}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),r.append(i),r}getElementsToTriggerPopup(){return p(this,L_)}addHighlightArea(){this.container.classList.add("highlightArea")}}L_=new WeakMap,F_=new WeakSet,CL=function(){var r;(r=this.downloadManager)==null||r.openOrDownloadData(this.content,this.filename)};var Kp,Xp,Qy,dh,B_,Yp,Hs,U_,Tu,XC,PL;const $5=class $5{constructor({div:e,accessibilityManager:r,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:u}){M(this,Tu);M(this,Kp,null);M(this,Xp,null);M(this,Qy,null);M(this,dh,new Map);M(this,B_,null);M(this,Yp,null);M(this,Hs,[]);M(this,U_,!1);this.div=e,k(this,Kp,r),k(this,Xp,n),k(this,B_,o||null),k(this,Yp,c||null),k(this,Qy,u||new E5),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return p(this,dh).size>0}async render(e){var o;const{annotations:r}=e,n=this.div;Gm(n,this.viewport);const i=new Map,s=[],a={data:null,layer:n,linkService:p(this,Yp),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new jk,annotationStorage:p(this,Qy),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of r){if(l.noHTML)continue;const c=l.annotationType===cn.POPUP;if(c){const h=i.get(l.id);if(!h)continue;if(!this._commentManager){s.push(l);continue}a.elements=h}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const u=CR.create(a);if(!u.isRenderable)continue;if(!c&&(p(this,Hs).push(u),l.popupRef)){const h=i.get(l.popupRef);h?h.push(u):i.set(l.popupRef,[u])}const d=u.render();l.hidden&&(d.style.visibility="hidden"),u._isEditable&&(p(this,dh).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}await $(this,Tu,XC).call(this);for(const l of s){const c=a.elements=i.get(l.id);a.data=l;const u=CR.create(a);if(!u.isRenderable)continue;const d=u.render();u.contentElement.id=`${mv}${l.id}`,l.hidden&&(d.style.visibility="hidden"),c.at(-1).container.after(d)}$(this,Tu,PL).call(this)}async addLinkAnnotations(e){const r={data:null,layer:this.div,linkService:p(this,Yp),svgFactory:new jk,parent:this};for(const n of e){n.borderStyle||(n.borderStyle=$5._defaultBorderStyle),r.data=n;const i=CR.create(r);i.isRenderable&&(i.render(),i.contentElement.id=`${mv}${n.id}`,p(this,Hs).push(i))}await $(this,Tu,XC).call(this)}update({viewport:e}){const r=this.div;this.viewport=e,Gm(r,{rotation:e.rotation}),$(this,Tu,PL).call(this),r.hidden=!1}getEditableAnnotations(){return Array.from(p(this,dh).values())}getEditableAnnotation(e){return p(this,dh).get(e)}addFakeAnnotation(e){const{div:r}=this,{id:n,rotation:i}=e,s=new Btt({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:r,parent:this,enableComment:!!this._commentManager,linkService:p(this,Yp),annotationStorage:p(this,Qy)});return s.render(),s.contentElement.id=`${mv}${n}`,s.createOrUpdatePopup(),p(this,Hs).push(s),s}removeAnnotation(e){var i;const r=p(this,Hs).findIndex(s=>s.data.id===e);if(r<0)return;const[n]=p(this,Hs).splice(r,1);(i=p(this,Kp))==null||i.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const r of e)r.updateFakeAnnotationElement(this);$(this,Tu,XC).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Qe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ig.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Kp=new WeakMap,Xp=new WeakMap,Qy=new WeakMap,dh=new WeakMap,B_=new WeakMap,Yp=new WeakMap,Hs=new WeakMap,U_=new WeakMap,Tu=new WeakSet,XC=async function(){var n,i,s;if(p(this,Hs).length===0)return;this.div.replaceChildren();const e=[];if(!p(this,U_)){k(this,U_,!0);for(const{contentElement:a,data:{id:o}}of p(this,Hs)){const l=a.id=`${mv}${o}`;e.push((n=p(this,B_))==null?void 0:n.getAriaAttributes(l).then(c=>{if(c)for(const[u,d]of c)a.setAttribute(u,d)}))}}p(this,Hs).sort(({data:{rect:[a,o,l,c]}},{data:{rect:[u,d,h,f]}})=>{if(a===l&&o===c)return 1;if(u===h&&d===f)return-1;const g=c,v=o,y=(o+c)/2,b=f,x=d,w=(d+f)/2;if(y>=b&&w<=v)return-1;if(w>=g&&y<=x)return 1;const S=(a+l)/2,_=(u+h)/2;return S-_});const r=document.createDocumentFragment();for(const a of p(this,Hs))r.append(a.container),this._commentManager?(s=((i=a.extraPopupElement)==null?void 0:i.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&r.append(a.extraPopupElement.render());if(this.div.append(r),await Promise.all(e),p(this,Kp))for(const a of p(this,Hs))p(this,Kp).addPointerInTextLayer(a.contentElement,!1)},PL=function(){var r;if(!p(this,Xp))return;const e=this.div;for(const[n,i]of p(this,Xp)){const s=e.querySelector(`[data-annotation-id="${n}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=p(this,dh).get(n);o&&(o._hasNoCanvas?((r=this._annotationEditorUIManager)==null||r.setMissingCanvas(n,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}p(this,Xp).clear()};let TL=$5;const ZE=/\r\n?|\n/g;var Ws,V_,Qp,Gs,yn,dce,hce,fce,YC,Pu,QC,ZC,pce,jL,mce;const gr=class gr extends dr{constructor(r){super({...r,name:"freeTextEditor"});M(this,yn);M(this,Ws,"");M(this,V_,`${this.id}-editor`);M(this,Qp,null);M(this,Gs);ie(this,"_colorPicker",null);this.color=r.color||gr._defaultColor||dr._defaultLineColor,k(this,Gs,r.fontSize||gr._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const r=gr.prototype,n=a=>a.isEmpty(),i=qm.TRANSLATE_SMALL,s=qm.TRANSLATE_BIG;return Qe(this,"_keyboardManager",new VA([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],r.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],r.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],r._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],r._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],r._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],r._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(r,n){dr.initialize(r,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(r,n){switch(r){case gt.FREETEXT_SIZE:gr._defaultFontSize=n;break;case gt.FREETEXT_COLOR:gr._defaultColor=n;break}}updateParams(r,n){switch(r){case gt.FREETEXT_SIZE:$(this,yn,dce).call(this,n);break;case gt.FREETEXT_COLOR:$(this,yn,hce).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[gt.FREETEXT_SIZE,gr._defaultFontSize],[gt.FREETEXT_COLOR,gr._defaultColor||dr._defaultLineColor]]}get propertiesToUpdate(){return[[gt.FREETEXT_SIZE,p(this,Gs)],[gt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new kk(this)),[["colorPicker",this._colorPicker]]}get colorType(){return gt.FREETEXT_COLOR}onUpdatedColor(){var r;this.editorDiv.style.color=this.color,(r=this._colorPicker)==null||r.update(this.color),super.onUpdatedColor()}_translateEmpty(r,n){this._uiManager.translateSelectedEditors(r,n,!0)}getInitialTranslation(){const r=this.parentScale;return[-gr._internalPadding*r,-(gr._internalPadding+p(this,Gs))*r]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),k(this,Qp,new AbortController);const r=this._uiManager.combinedSignal(p(this,Qp));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:r}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:r}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:r}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:r}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:r}),!0}disableEditMode(){var r;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",p(this,V_)),this._isDraggable=!0,(r=p(this,Qp))==null||r.abort(),k(this,Qp,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(r){this._focusEventsAllowed&&(super.focusin(r),r.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(r){var n;this.width||(this.enableEditMode(),r&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const r=p(this,Ws),n=k(this,Ws,$(this,yn,fce).call(this).trimEnd());if(r===n)return;const i=s=>{if(k(this,Ws,s),!s){this.remove();return}$(this,yn,ZC).call(this),this._uiManager.rebuild(this),$(this,yn,YC).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(r)},mustExec:!1}),$(this,yn,YC).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(r){r.target===this.div&&r.key==="Enter"&&(this.enterInEditMode(),r.preventDefault())}editorDivKeydown(r){gr._keyboardManager.exec(this,r)}editorDivFocus(r){this.isEditing=!0}editorDivBlur(r){this.isEditing=!1}editorDivInput(r){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let r,n;(this._isCopy||this.annotationElementId)&&(r=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",p(this,V_)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${p(this,Gs)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[h,f]=this.pageTranslation;let g,v;switch(this.rotation){case 0:g=r+(o[0]-h)/u,v=n+this.height-(o[1]-f)/d;break;case 90:g=r+(o[0]-h)/u,v=n-(o[1]-f)/d,[l,c]=[c,-l];break;case 180:g=r-this.width+(o[0]-h)/u,v=n-(o[1]-f)/d,[l,c]=[-l,-c];break;case 270:g=r+(o[0]-h-this.height*d)/u,v=n+(o[1]-f-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(g*s,v*a,l,c)}else this._moveAfterPaste(r,n);$(this,yn,ZC).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(r){var g,v,y;const n=r.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;r.preventDefault();const s=$(g=gr,Pu,jL).call(g,n.getData("text")||"").replaceAll(ZE,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const b=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(ZE,"")),b!==this.editorDiv){let x=u;for(const w of this.editorDiv.childNodes){if(w===b){x=d;continue}x.push($(v=gr,Pu,QC).call(v,w))}}u.push(l.nodeValue.slice(0,c).replaceAll(ZE,""))}else if(l===this.editorDiv){let b=u,x=0;for(const w of this.editorDiv.childNodes)x++===c&&(b=d),b.push($(y=gr,Pu,QC).call(y,w))}k(this,Ws,`${u.join(`
`)}${s}${d.join(`
`)}`),$(this,yn,ZC).call(this);const h=new Range;let f=Math.sumPrecise(u.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const x=b.nodeValue.length;if(f<=x){h.setStart(b,f),h.setEnd(b,f);break}f-=x}a.removeAllRanges(),a.addRange(h)}get contentDiv(){return this.editorDiv}getPDFRect(){const r=gr._internalPadding*this.parentScale;return this.getRect(r,r)}static async deserialize(r,n,i){var o;let s=null;if(r instanceof oce){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:d,id:h,popupRef:f,richText:g,contentsObj:v,creationDate:y,modificationDate:b},textContent:x,textPosition:w,parent:{page:{pageNumber:S}}}=r;if(!x||x.length===0)return null;s=r={annotationType:nt.FREETEXT,color:Array.from(c),fontSize:l,value:x.join(`
`),position:w,pageIndex:S-1,rect:u.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:f,comment:(v==null?void 0:v.str)||null,richText:g,creationDate:y,modificationDate:b}}const a=await super.deserialize(r,n,i);return k(a,Gs,r.fontSize),a.color=we.makeHexColor(...r.color),k(a,Ws,$(o=gr,Pu,jL).call(o,r.value)),a._initialData=s,r.comment&&a.setCommentData(r),a}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=dr._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(r),{color:n,fontSize:p(this,Gs),value:$(this,yn,pce).call(this)});return this.addComment(i),r?(i.isCopy=!0,i):this.annotationElementId&&!$(this,yn,mce).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(r){const n=super.renderAnnotationElement(r);if(!n)return null;const{style:i}=n;i.fontSize=`calc(${p(this,Gs)}px * var(--total-scale-factor))`,i.color=this.color,n.replaceChildren();for(const s of p(this,Ws).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),n.append(a)}return r.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:p(this,Ws)}}),n}resetAnnotationElement(r){super.resetAnnotationElement(r),r.resetEdited()}};Ws=new WeakMap,V_=new WeakMap,Qp=new WeakMap,Gs=new WeakMap,yn=new WeakSet,dce=function(r){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-p(this,Gs))*this.parentScale),k(this,Gs,s),$(this,yn,YC).call(this)},i=p(this,Gs);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:gt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},hce=function(r){const n=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:gt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},fce=function(){var i;const r=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(r.push($(i=gr,Pu,QC).call(i,s)),n=s);return r.join(`
`)},YC=function(){const[r,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/r,this.height=i.height/n):(this.width=i.height/r,this.height=i.width/n),this.fixAndSetPosition()},Pu=new WeakSet,QC=function(r){return(r.nodeType===Node.TEXT_NODE?r.nodeValue:r.innerText).replaceAll(ZE,"")},ZC=function(){if(this.editorDiv.replaceChildren(),!!p(this,Ws))for(const r of p(this,Ws).split(`
`)){const n=document.createElement("div");n.append(r?document.createTextNode(r):document.createElement("br")),this.editorDiv.append(n)}},pce=function(){return p(this,Ws).replaceAll(""," ")},jL=function(r){return r.replaceAll(" ","")},mce=function(r){const{value:n,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||r.value!==n||r.fontSize!==i||r.color.some((o,l)=>o!==s[l])||r.pageIndex!==a},M(gr,Pu),ie(gr,"_freeTextDefaultContent",""),ie(gr,"_internalPadding",0),ie(gr,"_defaultColor",null),ie(gr,"_defaultFontSize",10),ie(gr,"_type","freetext"),ie(gr,"_editorType",nt.FREETEXT);let kL=gr;class Ee{toSVGPath(){Ot("Abstract method `toSVGPath` must be implemented.")}get box(){Ot("Abstract getter `box` must be implemented.")}serialize(e,r){Ot("Abstract method `serialize` must be implemented.")}static _rescale(e,r,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=r+e[o]*i,a[o+1]=n+e[o+1]*s;return a}static _rescaleAndSwap(e,r,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=r+e[o+1]*i,a[o+1]=n+e[o]*s;return a}static _translate(e,r,n,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=r+e[s],i[s+1]=n+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,r,n,i,s){switch(s){case 90:return[1-r/n,e/i];case 180:return[1-e/n,1-r/i];case 270:return[r/n,1-e/i];default:return[e/n,r/i]}}static _normalizePagePoint(e,r,n){switch(n){case 90:return[1-r,e];case 180:return[1-e,1-r];case 270:return[r,1-e];default:return[e,r]}}static createBezierPoints(e,r,n,i,s,a){return[(e+5*n)/6,(r+5*i)/6,(5*n+s)/6,(5*i+a)/6,(n+s)/2,(i+a)/2]}}ie(Ee,"PRECISION",1e-4);var qs,Lo,Zy,Jy,Ml,ut,Zp,Jp,z_,H_,eb,tb,hh,W_,Zk,Jk,On,tw,gce,vce,yce,bce,xce,wce;const jc=class jc{constructor({x:e,y:r},n,i,s,a,o=0){M(this,On);M(this,qs);M(this,Lo,[]);M(this,Zy);M(this,Jy);M(this,Ml,[]);M(this,ut,new Float32Array(18));M(this,Zp);M(this,Jp);M(this,z_);M(this,H_);M(this,eb);M(this,tb);M(this,hh,[]);k(this,qs,n),k(this,tb,s*i),k(this,Jy,a),p(this,ut).set([NaN,NaN,NaN,NaN,e,r],6),k(this,Zy,o),k(this,H_,p(jc,W_)*i),k(this,z_,p(jc,Jk)*i),k(this,eb,i),p(this,hh).push(e,r)}isEmpty(){return isNaN(p(this,ut)[8])}add({x:e,y:r}){var P;k(this,Zp,e),k(this,Jp,r);const[n,i,s,a]=p(this,qs);let[o,l,c,u]=p(this,ut).subarray(8,12);const d=e-c,h=r-u,f=Math.hypot(d,h);if(f<p(this,z_))return!1;const g=f-p(this,H_),v=g/f,y=v*d,b=v*h;let x=o,w=l;o=c,l=u,c+=y,u+=b,(P=p(this,hh))==null||P.push(e,r);const S=-b/g,_=y/g,A=S*p(this,tb),C=_*p(this,tb);return p(this,ut).set(p(this,ut).subarray(2,8),0),p(this,ut).set([c+A,u+C],4),p(this,ut).set(p(this,ut).subarray(14,18),12),p(this,ut).set([c-A,u-C],16),isNaN(p(this,ut)[6])?(p(this,Ml).length===0&&(p(this,ut).set([o+A,l+C],2),p(this,Ml).push(NaN,NaN,NaN,NaN,(o+A-n)/s,(l+C-i)/a),p(this,ut).set([o-A,l-C],14),p(this,Lo).push(NaN,NaN,NaN,NaN,(o-A-n)/s,(l-C-i)/a)),p(this,ut).set([x,w,o,l,c,u],6),!this.isEmpty()):(p(this,ut).set([x,w,o,l,c,u],6),Math.abs(Math.atan2(w-l,x-o)-Math.atan2(b,y))<Math.PI/2?([o,l,c,u]=p(this,ut).subarray(2,6),p(this,Ml).push(NaN,NaN,NaN,NaN,((o+c)/2-n)/s,((l+u)/2-i)/a),[o,l,x,w]=p(this,ut).subarray(14,18),p(this,Lo).push(NaN,NaN,NaN,NaN,((x+o)/2-n)/s,((w+l)/2-i)/a),!0):([x,w,o,l,c,u]=p(this,ut).subarray(0,6),p(this,Ml).push(((x+5*o)/6-n)/s,((w+5*l)/6-i)/a,((5*o+c)/6-n)/s,((5*l+u)/6-i)/a,((o+c)/2-n)/s,((l+u)/2-i)/a),[c,u,o,l,x,w]=p(this,ut).subarray(12,18),p(this,Lo).push(((x+5*o)/6-n)/s,((w+5*l)/6-i)/a,((5*o+c)/6-n)/s,((5*l+u)/6-i)/a,((o+c)/2-n)/s,((l+u)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=p(this,Ml),r=p(this,Lo);if(isNaN(p(this,ut)[6])&&!this.isEmpty())return $(this,On,gce).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);$(this,On,yce).call(this,n);for(let i=r.length-6;i>=6;i-=6)isNaN(r[i])?n.push(`L${r[i+4]} ${r[i+5]}`):n.push(`C${r[i]} ${r[i+1]} ${r[i+2]} ${r[i+3]} ${r[i+4]} ${r[i+5]}`);return $(this,On,vce).call(this,n),n.join(" ")}newFreeDrawOutline(e,r,n,i,s,a){return new Sce(e,r,n,i,s,a)}getOutlines(){var d;const e=p(this,Ml),r=p(this,Lo),n=p(this,ut),[i,s,a,o]=p(this,qs),l=new Float32Array((((d=p(this,hh))==null?void 0:d.length)??0)+2);for(let h=0,f=l.length-2;h<f;h+=2)l[h]=(p(this,hh)[h]-i)/a,l[h+1]=(p(this,hh)[h+1]-s)/o;if(l[l.length-2]=(p(this,Zp)-i)/a,l[l.length-1]=(p(this,Jp)-s)/o,isNaN(n[6])&&!this.isEmpty())return $(this,On,bce).call(this,l);const c=new Float32Array(p(this,Ml).length+24+p(this,Lo).length);let u=e.length;for(let h=0;h<u;h+=2){if(isNaN(e[h])){c[h]=c[h+1]=NaN;continue}c[h]=e[h],c[h+1]=e[h+1]}u=$(this,On,wce).call(this,c,u);for(let h=r.length-6;h>=6;h-=6)for(let f=0;f<6;f+=2){if(isNaN(r[h+f])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=r[h+f],c[u+1]=r[h+f+1],u+=2}return $(this,On,xce).call(this,c,u),this.newFreeDrawOutline(c,l,p(this,qs),p(this,eb),p(this,Zy),p(this,Jy))}};qs=new WeakMap,Lo=new WeakMap,Zy=new WeakMap,Jy=new WeakMap,Ml=new WeakMap,ut=new WeakMap,Zp=new WeakMap,Jp=new WeakMap,z_=new WeakMap,H_=new WeakMap,eb=new WeakMap,tb=new WeakMap,hh=new WeakMap,W_=new WeakMap,Zk=new WeakMap,Jk=new WeakMap,On=new WeakSet,tw=function(){const e=p(this,ut).subarray(4,6),r=p(this,ut).subarray(16,18),[n,i,s,a]=p(this,qs);return[(p(this,Zp)+(e[0]-r[0])/2-n)/s,(p(this,Jp)+(e[1]-r[1])/2-i)/a,(p(this,Zp)+(r[0]-e[0])/2-n)/s,(p(this,Jp)+(r[1]-e[1])/2-i)/a]},gce=function(){const[e,r,n,i]=p(this,qs),[s,a,o,l]=$(this,On,tw).call(this);return`M${(p(this,ut)[2]-e)/n} ${(p(this,ut)[3]-r)/i} L${(p(this,ut)[4]-e)/n} ${(p(this,ut)[5]-r)/i} L${s} ${a} L${o} ${l} L${(p(this,ut)[16]-e)/n} ${(p(this,ut)[17]-r)/i} L${(p(this,ut)[14]-e)/n} ${(p(this,ut)[15]-r)/i} Z`},vce=function(e){const r=p(this,Lo);e.push(`L${r[4]} ${r[5]} Z`)},yce=function(e){const[r,n,i,s]=p(this,qs),a=p(this,ut).subarray(4,6),o=p(this,ut).subarray(16,18),[l,c,u,d]=$(this,On,tw).call(this);e.push(`L${(a[0]-r)/i} ${(a[1]-n)/s} L${l} ${c} L${u} ${d} L${(o[0]-r)/i} ${(o[1]-n)/s}`)},bce=function(e){const r=p(this,ut),[n,i,s,a]=p(this,qs),[o,l,c,u]=$(this,On,tw).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(r[2]-n)/s,(r[3]-i)/a,NaN,NaN,NaN,NaN,(r[4]-n)/s,(r[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(r[16]-n)/s,(r[17]-i)/a,NaN,NaN,NaN,NaN,(r[14]-n)/s,(r[15]-i)/a],0),this.newFreeDrawOutline(d,e,p(this,qs),p(this,eb),p(this,Zy),p(this,Jy))},xce=function(e,r){const n=p(this,Lo);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],r),r+=6},wce=function(e,r){const n=p(this,ut).subarray(4,6),i=p(this,ut).subarray(16,18),[s,a,o,l]=p(this,qs),[c,u,d,h]=$(this,On,tw).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],r),r+=24},M(jc,W_,8),M(jc,Zk,2),M(jc,Jk,p(jc,W_)+p(jc,Zk));let Ok=jc;var rb,em,lu,G_,Ks,q_,en,ej,_ce;class Sce extends Ee{constructor(r,n,i,s,a,o){super();M(this,ej);M(this,rb);M(this,em,new Float32Array(4));M(this,lu);M(this,G_);M(this,Ks);M(this,q_);M(this,en);k(this,en,r),k(this,Ks,n),k(this,rb,i),k(this,q_,s),k(this,lu,a),k(this,G_,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],$(this,ej,_ce).call(this,o);const[l,c,u,d]=p(this,em);for(let h=0,f=r.length;h<f;h+=2)r[h]=(r[h]-l)/u,r[h+1]=(r[h+1]-c)/d;for(let h=0,f=n.length;h<f;h+=2)n[h]=(n[h]-l)/u,n[h+1]=(n[h+1]-c)/d}toSVGPath(){const r=[`M${p(this,en)[4]} ${p(this,en)[5]}`];for(let n=6,i=p(this,en).length;n<i;n+=6){if(isNaN(p(this,en)[n])){r.push(`L${p(this,en)[n+4]} ${p(this,en)[n+5]}`);continue}r.push(`C${p(this,en)[n]} ${p(this,en)[n+1]} ${p(this,en)[n+2]} ${p(this,en)[n+3]} ${p(this,en)[n+4]} ${p(this,en)[n+5]}`)}return r.push("Z"),r.join(" ")}serialize([r,n,i,s],a){const o=i-r,l=s-n;let c,u;switch(a){case 0:c=Ee._rescale(p(this,en),r,s,o,-l),u=Ee._rescale(p(this,Ks),r,s,o,-l);break;case 90:c=Ee._rescaleAndSwap(p(this,en),r,n,o,l),u=Ee._rescaleAndSwap(p(this,Ks),r,n,o,l);break;case 180:c=Ee._rescale(p(this,en),i,n,-o,l),u=Ee._rescale(p(this,Ks),i,n,-o,l);break;case 270:c=Ee._rescaleAndSwap(p(this,en),i,s,-o,-l),u=Ee._rescaleAndSwap(p(this,Ks),i,s,-o,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return p(this,em)}newOutliner(r,n,i,s,a,o=0){return new Ok(r,n,i,s,a,o)}getNewOutline(r,n){const[i,s,a,o]=p(this,em),[l,c,u,d]=p(this,rb),h=a*u,f=o*d,g=i*u+l,v=s*d+c,y=this.newOutliner({x:p(this,Ks)[0]*h+g,y:p(this,Ks)[1]*f+v},p(this,rb),p(this,q_),r,p(this,G_),n??p(this,lu));for(let b=2;b<p(this,Ks).length;b+=2)y.add({x:p(this,Ks)[b]*h+g,y:p(this,Ks)[b+1]*f+v});return y.getOutlines()}}rb=new WeakMap,em=new WeakMap,lu=new WeakMap,G_=new WeakMap,Ks=new WeakMap,q_=new WeakMap,en=new WeakMap,ej=new WeakSet,_ce=function(r){const n=p(this,en);let i=n[4],s=n[5];const a=[i,s,i,s];let o=i,l=s,c=i,u=s;const d=r?Math.max:Math.min,h=new Float32Array(4);for(let g=6,v=n.length;g<v;g+=6){const y=n[g+4],b=n[g+5];isNaN(n[g])?(we.pointBoundingBox(y,b,a),l>b?(o=y,l=b):l===b&&(o=d(o,y)),u<b?(c=y,u=b):u===b&&(c=d(c,y))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,we.bezierBoundingBox(i,s,...n.slice(g,g+6),h),we.rectBoundingBox(h[0],h[1],h[2],h[3],a),l>h[1]?(o=h[0],l=h[1]):l===h[1]&&(o=d(o,h[0])),u<h[3]?(c=h[2],u=h[3]):u===h[3]&&(c=d(c,h[2]))),i=y,s=b}const f=p(this,em);f[0]=a[0]-p(this,lu),f[1]=a[1]-p(this,lu),f[2]=a[2]-a[0]+2*p(this,lu),f[3]=a[3]-a[1]+2*p(this,lu),this.firstPoint=[o,l],this.lastPoint=[c,u]};var K_,X_,Y_,fh,Fo,es,Ace,JC,Ece,Cce,NL;class OL{constructor(e,r=0,n=0,i=!0){M(this,es);M(this,K_);M(this,X_);M(this,Y_);M(this,fh,[]);M(this,Fo,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:v,y,width:b,height:x}of e){const w=Math.floor((v-r)/a)*a,S=Math.ceil((v+b+r)/a)*a,_=Math.floor((y-r)/a)*a,A=Math.ceil((y+x+r)/a)*a,C=[w,_,A,!0],T=[S,_,A,!1];p(this,fh).push(C,T),we.rectBoundingBox(w,_,S,A,s)}const o=s[2]-s[0]+2*n,l=s[3]-s[1]+2*n,c=s[0]-n,u=s[1]-n;let d=i?-1/0:1/0,h=1/0;const f=p(this,fh).at(i?-1:-2),g=[f[0],f[2]];for(const v of p(this,fh)){const[y,b,x,w]=v;!w&&i?b<h?(h=b,d=y):b===h&&(d=Math.max(d,y)):w&&!i&&(b<h?(h=b,d=y):b===h&&(d=Math.min(d,y))),v[0]=(y-c)/o,v[1]=(b-u)/l,v[2]=(x-u)/l}k(this,K_,new Float32Array([c,u,o,l])),k(this,X_,[d,h]),k(this,Y_,g)}getOutlines(){p(this,fh).sort((r,n)=>r[0]-n[0]||r[1]-n[1]||r[2]-n[2]);const e=[];for(const r of p(this,fh))r[3]?(e.push(...$(this,es,NL).call(this,r)),$(this,es,Ece).call(this,r)):($(this,es,Cce).call(this,r),e.push(...$(this,es,NL).call(this,r)));return $(this,es,Ace).call(this,e)}}K_=new WeakMap,X_=new WeakMap,Y_=new WeakMap,fh=new WeakMap,Fo=new WeakMap,es=new WeakSet,Ace=function(e){const r=[],n=new Set;for(const a of e){const[o,l,c]=a;r.push([o,l,a],[o,c,a])}r.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=r.length;a<o;a+=2){const l=r[a][2],c=r[a+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,l,c,u,d]=a;n.delete(a);let h=o,f=l;for(s=[o,c],i.push(s);;){let g;if(n.has(u))g=u;else if(n.has(d))g=d;else break;n.delete(g),[o,l,c,u,d]=g,h!==o&&(s.push(h,f,o,f===l?l:c),h=o),f=f===l?c:l}s.push(h,f)}return new nrt(i,p(this,K_),p(this,X_),p(this,Y_))},JC=function(e){const r=p(this,Fo);let n=0,i=r.length-1;for(;n<=i;){const s=n+i>>1,a=r[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1},Ece=function([,e,r]){const n=$(this,es,JC).call(this,e);p(this,Fo).splice(n,0,[e,r])},Cce=function([,e,r]){const n=$(this,es,JC).call(this,e);for(let i=n;i<p(this,Fo).length;i++){const[s,a]=p(this,Fo)[i];if(s!==e)break;if(s===e&&a===r){p(this,Fo).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=p(this,Fo)[i];if(s!==e)break;if(s===e&&a===r){p(this,Fo).splice(i,1);return}}},NL=function(e){const[r,n,i]=e,s=[[r,n,i]],a=$(this,es,JC).call(this,i);for(let o=0;o<a;o++){const[l,c]=p(this,Fo)[o];for(let u=0,d=s.length;u<d;u++){const[,h,f]=s[u];if(!(c<=h||f<=l)){if(h>=l){if(f>c)s[u][1]=c;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,f>c&&s.push([r,c,f])}}}return s};var Q_,nb;class nrt extends Ee{constructor(r,n,i,s){super();M(this,Q_);M(this,nb);k(this,nb,r),k(this,Q_,n),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const r=[];for(const n of p(this,nb)){let[i,s]=n;r.push(`M${i} ${s}`);for(let a=2;a<n.length;a+=2){const o=n[a],l=n[a+1];o===i?(r.push(`V${l}`),s=l):l===s&&(r.push(`H${o}`),i=o)}r.push("Z")}return r.join(" ")}serialize([r,n,i,s],a){const o=[],l=i-r,c=s-n;for(const u of p(this,nb)){const d=new Array(u.length);for(let h=0;h<u.length;h+=2)d[h]=r+u[h]*l,d[h+1]=s-u[h+1]*c;o.push(d)}return o}get box(){return p(this,Q_)}get classNamesForOutlining(){return["highlightOutline"]}}Q_=new WeakMap,nb=new WeakMap;class RL extends Ok{newFreeDrawOutline(e,r,n,i,s,a){return new irt(e,r,n,i,s,a)}}class irt extends Sce{newOutliner(e,r,n,i,s,a=0){return new RL(e,r,n,i,s,a)}}var ib,Z_,cu,tm,J_,ps,eA,tA,rm,Xs,Ys,ni,sb,ab,Pi,ob,Ha,rA,at,ML,eT,Tce,Pce,kce,IL,Rf,Xa,Ug,jce,tT,rT,Oce,Nce,Rce,Mce,Ice;const kt=class kt extends dr{constructor(r){super({...r,name:"highlightEditor"});M(this,at);M(this,ib,null);M(this,Z_,0);M(this,cu);M(this,tm,null);M(this,J_,null);M(this,ps,null);M(this,eA,null);M(this,tA,0);M(this,rm,null);M(this,Xs,null);M(this,Ys,null);M(this,ni,!1);M(this,sb,null);M(this,ab,null);M(this,Pi,null);M(this,ob,"");M(this,Ha);M(this,rA,"");this.color=r.color||kt._defaultColor,k(this,Ha,r.thickness||kt._defaultThickness),this.opacity=r.opacity||kt._defaultOpacity,k(this,cu,r.boxes||null),k(this,rA,r.methodOfCreation||""),k(this,ob,r.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",r.highlightId>-1?(k(this,ni,!0),$(this,at,eT).call(this,r),$(this,at,Rf).call(this)):p(this,cu)&&(k(this,ib,r.anchorNode),k(this,Z_,r.anchorOffset),k(this,eA,r.focusNode),k(this,tA,r.focusOffset),$(this,at,ML).call(this),$(this,at,Rf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const r=kt.prototype;return Qe(this,"_keyboardManager",new VA([[["ArrowLeft","mac+ArrowLeft"],r._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],r._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],r._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],r._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:p(this,ni)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:p(this,Ha),methodOfCreation:p(this,rA)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(r){return{numberOfColors:r.get("color").size}}static initialize(r,n){var i;dr.initialize(r,n),kt._defaultColor||(kt._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(r,n){switch(r){case gt.HIGHLIGHT_COLOR:kt._defaultColor=n;break;case gt.HIGHLIGHT_THICKNESS:kt._defaultThickness=n;break}}translateInPage(r,n){}get toolbarPosition(){return p(this,ab)}get commentButtonPosition(){return p(this,sb)}updateParams(r,n){switch(r){case gt.HIGHLIGHT_COLOR:$(this,at,Tce).call(this,n);break;case gt.HIGHLIGHT_THICKNESS:$(this,at,Pce).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[gt.HIGHLIGHT_COLOR,kt._defaultColor],[gt.HIGHLIGHT_THICKNESS,kt._defaultThickness]]}get propertiesToUpdate(){return[[gt.HIGHLIGHT_COLOR,this.color||kt._defaultColor],[gt.HIGHLIGHT_THICKNESS,p(this,Ha)||kt._defaultThickness],[gt.HIGHLIGHT_FREE,p(this,ni)]]}onUpdatedColor(){var r,n;(r=this.parent)==null||r.drawLayer.updateProperties(p(this,Ys),{root:{fill:this.color,"fill-opacity":this.opacity}}),(n=p(this,J_))==null||n.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",k(this,J_,new Pk({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition($(this,at,rT).call(this))}getBaseTranslation(){return[0,0]}getRect(r,n){return super.getRect(r,n,$(this,at,rT).call(this))}onceAdded(r){this.annotationElementId||this.parent.addUndoableEditor(this),r&&this.div.focus()}remove(){$(this,at,IL).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&($(this,at,Rf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var i;let n=!1;this.parent&&!r?$(this,at,IL).call(this):r&&($(this,at,Rf).call(this,r),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(r),this.show(this._isVisible),n&&this.select()}rotate(r){var s,a,o;const{drawLayer:n}=this.parent;let i;p(this,ni)?(r=(r-this.rotation+360)%360,i=$(s=kt,Xa,Ug).call(s,p(this,Xs).box,r)):i=$(a=kt,Xa,Ug).call(a,[this.x,this.y,this.width,this.height],r),n.updateProperties(p(this,Ys),{bbox:i,root:{"data-main-rotation":r}}),n.updateProperties(p(this,Pi),{bbox:$(o=kt,Xa,Ug).call(o,p(this,ps).box,r),root:{"data-main-rotation":r}})}render(){if(this.div)return this.div;const r=super.render();p(this,ob)&&(r.setAttribute("aria-label",p(this,ob)),r.setAttribute("role","mark")),p(this,ni)?r.classList.add("free"):this.div.addEventListener("keydown",$(this,at,jce).bind(this),{signal:this._uiManager._signal});const n=k(this,rm,document.createElement("div"));return r.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=p(this,tm),this.setDims(),Uoe(this,p(this,rm),["pointerover","pointerleave"]),this.enableEditing(),r}pointerover(){var r;this.isSelected||(r=this.parent)==null||r.drawLayer.updateProperties(p(this,Pi),{rootClass:{hovered:!0}})}pointerleave(){var r;this.isSelected||(r=this.parent)==null||r.drawLayer.updateProperties(p(this,Pi),{rootClass:{hovered:!1}})}_moveCaret(r){switch(this.parent.unselect(this),r){case 0:case 2:$(this,at,tT).call(this,!0);break;case 1:case 3:$(this,at,tT).call(this,!1);break}}select(){var r;super.select(),p(this,Pi)&&((r=this.parent)==null||r.drawLayer.updateProperties(p(this,Pi),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var r;super.unselect(),p(this,Pi)&&((r=this.parent)==null||r.drawLayer.updateProperties(p(this,Pi),{rootClass:{selected:!1}}),p(this,ni)||$(this,at,tT).call(this,!1))}get _mustFixPosition(){return!p(this,ni)}show(r=this._isVisible){super.show(r),this.parent&&(this.parent.drawLayer.updateProperties(p(this,Ys),{rootClass:{hidden:!r}}),this.parent.drawLayer.updateProperties(p(this,Pi),{rootClass:{hidden:!r}}))}static startHighlighting(r,n,{target:i,x:s,y:a}){const{x:o,y:l,width:c,height:u}=i.getBoundingClientRect(),d=new AbortController,h=r.combinedSignal(d),f=g=>{d.abort(),$(this,Xa,Mce).call(this,r,g)};window.addEventListener("blur",f,{signal:h}),window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("pointerdown",Xr,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",lo,{signal:h}),i.addEventListener("pointermove",$(this,Xa,Rce).bind(this,r),{signal:h}),this._freeHighlight=new RL({x:s,y:a},[o,l,c,u],r.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(r,n,i){var v,y,b,x;let s=null;if(r instanceof cce){const{data:{quadPoints:w,rect:S,rotation:_,id:A,color:C,opacity:T,popupRef:P,richText:O,contentsObj:I,creationDate:R,modificationDate:B},parent:{page:{pageNumber:D}}}=r;s=r={annotationType:nt.HIGHLIGHT,color:Array.from(C),opacity:T,quadPoints:w,boxes:null,pageIndex:D-1,rect:S.slice(0),rotation:_,annotationElementId:A,id:A,deleted:!1,popupRef:P,richText:O,comment:(I==null?void 0:I.str)||null,creationDate:R,modificationDate:B}}else if(r instanceof k5){const{data:{inkLists:w,rect:S,rotation:_,id:A,color:C,borderStyle:{rawWidth:T},popupRef:P,richText:O,contentsObj:I,creationDate:R,modificationDate:B},parent:{page:{pageNumber:D}}}=r;s=r={annotationType:nt.HIGHLIGHT,color:Array.from(C),thickness:T,inkLists:w,boxes:null,pageIndex:D-1,rect:S.slice(0),rotation:_,annotationElementId:A,id:A,deleted:!1,popupRef:P,richText:O,comment:(I==null?void 0:I.str)||null,creationDate:R,modificationDate:B}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=r,u=await super.deserialize(r,n,i);u.color=we.makeHexColor(...a),u.opacity=c||1,l&&k(u,Ha,r.thickness),u._initialData=s,r.comment&&u.setCommentData(r);const[d,h]=u.pageDimensions,[f,g]=u.pageTranslation;if(o){const w=k(u,cu,[]);for(let S=0;S<o.length;S+=8)w.push({x:(o[S]-f)/d,y:1-(o[S+1]-g)/h,width:(o[S+2]-o[S])/d,height:(o[S+1]-o[S+5])/h});$(v=u,at,ML).call(v),$(y=u,at,Rf).call(y),u.rotate(u.rotation)}else if(l){k(u,ni,!0);const w=l[0],S={x:w[0]-f,y:h-(w[1]-g)},_=new RL(S,[0,0,d,h],1,p(u,Ha)/2,!0,.001);for(let T=0,P=w.length;T<P;T+=2)S.x=w[T]-f,S.y=h-(w[T+1]-g),_.add(S);const{id:A,clipPathId:C}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:_.toSVGPath()}},!0,!0);$(b=u,at,eT).call(b,{highlightOutlines:_.getOutlines(),highlightId:A,clipPathId:C}),$(x=u,at,Rf).call(x),u.rotate(u.parentRotation)}return u}serialize(r=!1){if(this.isEmpty()||r)return null;if(this.deleted)return this.serializeDeleted();const n=dr._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(r);return Object.assign(i,{color:n,opacity:this.opacity,thickness:p(this,Ha),quadPoints:$(this,at,Oce).call(this),outlines:$(this,at,Nce).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!$(this,at,Ice).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(r){return this.deleted?(r.hide(),null):(r.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};ib=new WeakMap,Z_=new WeakMap,cu=new WeakMap,tm=new WeakMap,J_=new WeakMap,ps=new WeakMap,eA=new WeakMap,tA=new WeakMap,rm=new WeakMap,Xs=new WeakMap,Ys=new WeakMap,ni=new WeakMap,sb=new WeakMap,ab=new WeakMap,Pi=new WeakMap,ob=new WeakMap,Ha=new WeakMap,rA=new WeakMap,at=new WeakSet,ML=function(){const r=new OL(p(this,cu),.001);k(this,Xs,r.getOutlines()),[this.x,this.y,this.width,this.height]=p(this,Xs).box;const n=new OL(p(this,cu),.0025,.001,this._uiManager.direction==="ltr");k(this,ps,n.getOutlines());const{firstPoint:i}=p(this,Xs);k(this,sb,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=p(this,ps);k(this,ab,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},eT=function({highlightOutlines:r,highlightId:n,clipPathId:i}){var h,f;if(k(this,Xs,r),k(this,ps,r.getNewOutline(p(this,Ha)/2+1.5,.0025)),n>=0)k(this,Ys,n),k(this,tm,i),this.parent.drawLayer.finalizeDraw(n,{bbox:r.box,path:{d:r.toSVGPath()}}),k(this,Pi,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:p(this,ps).box,path:{d:p(this,ps).toSVGPath()}},!0));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(p(this,Ys),{bbox:$(h=kt,Xa,Ug).call(h,p(this,Xs).box,(g-this.rotation+360)%360),path:{d:r.toSVGPath()}}),this.parent.drawLayer.updateProperties(p(this,Pi),{bbox:$(f=kt,Xa,Ug).call(f,p(this,ps).box,g),path:{d:p(this,ps).toSVGPath()}})}const[a,o,l,c]=r.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[g,v]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*v/g,this.height=c*g/v;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[g,v]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*v/g,this.height=c*g/v;break}}const{firstPoint:u}=r;k(this,sb,[(u[0]-a)/l,(u[1]-o)/c]);const{lastPoint:d}=p(this,ps);k(this,ab,[(d[0]-a)/l,(d[1]-o)/c])},Tce=function(r){const n=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:n.bind(this,r,kt._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:gt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(r)},!0)},Pce=function(r){const n=p(this,Ha),i=s=>{k(this,Ha,s),$(this,at,kce).call(this,s)};this.addCommands({cmd:i.bind(this,r),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:gt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:r},!0)},kce=function(r){p(this,ni)&&($(this,at,eT).call(this,{highlightOutlines:p(this,Xs).getNewOutline(r/2)}),this.fixAndSetPosition(),this.setDims())},IL=function(){p(this,Ys)===null||!this.parent||(this.parent.drawLayer.remove(p(this,Ys)),k(this,Ys,null),this.parent.drawLayer.remove(p(this,Pi)),k(this,Pi,null))},Rf=function(r=this.parent){p(this,Ys)===null&&({id:Fr(this,Ys)._,clipPathId:Fr(this,tm)._}=r.drawLayer.draw({bbox:p(this,Xs).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:p(this,ni)},path:{d:p(this,Xs).toSVGPath()}},!1,!0),k(this,Pi,r.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:p(this,ni)},bbox:p(this,ps).box,path:{d:p(this,ps).toSVGPath()}},p(this,ni))),p(this,rm)&&(p(this,rm).style.clipPath=p(this,tm)))},Xa=new WeakSet,Ug=function([r,n,i,s],a){switch(a){case 90:return[1-n-s,r,s,i];case 180:return[1-r-i,1-n-s,i,s];case 270:return[n,1-r-i,s,i]}return[r,n,i,s]},jce=function(r){kt._keyboardManager.exec(this,r)},tT=function(r){if(!p(this,ib))return;const n=window.getSelection();r?n.setPosition(p(this,ib),p(this,Z_)):n.setPosition(p(this,eA),p(this,tA))},rT=function(){return p(this,ni)?this.rotation:0},Oce=function(){if(p(this,ni))return null;const[r,n]=this.pageDimensions,[i,s]=this.pageTranslation,a=p(this,cu),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:u,width:d,height:h}of a){const f=c*r+i,g=(1-u)*n+s;o[l]=o[l+4]=f,o[l+1]=o[l+3]=g,o[l+2]=o[l+6]=f+d*r,o[l+5]=o[l+7]=g-h*n,l+=8}return o},Nce=function(r){return p(this,Xs).serialize(r,$(this,at,rT).call(this))},Rce=function(r,n){this._freeHighlight.add(n)&&r.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Mce=function(r,n){this._freeHighlight.isEmpty()?r.drawLayer.remove(this._freeHighlightId):r.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Ice=function(r){const{color:n}=this._initialData;return this.hasEditedComment||r.color.some((i,s)=>i!==n[s])},M(kt,Xa),ie(kt,"_defaultColor",null),ie(kt,"_defaultOpacity",1),ie(kt,"_defaultThickness",12),ie(kt,"_type","highlight"),ie(kt,"_editorType",nt.HIGHLIGHT),ie(kt,"_freeHighlightId",-1),ie(kt,"_freeHighlight",null),ie(kt,"_freeHighlightClipId","");let Nk=kt;var nm;class Dce{constructor(){M(this,nm,Object.create(null))}updateProperty(e,r){this[e]=r,this.updateSVGProperty(e,r)}updateProperties(e){if(e)for(const[r,n]of Object.entries(e))r.startsWith("_")||this.updateProperty(r,n)}updateSVGProperty(e,r){p(this,nm)[e]=r}toSVGProperties(){const e=p(this,nm);return k(this,nm,Object.create(null)),{root:e}}reset(){k(this,nm,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Ot("Not implemented")}}nm=new WeakMap;var Qs,lb,Ln,im,sm,wt,DL,$L,LL,rw,$ce,nT,nw,Vg;const pt=class pt extends dr{constructor(r){super(r);M(this,wt);M(this,Qs,null);M(this,lb);ie(this,"_colorPicker",null);ie(this,"_drawId",null);k(this,lb,r.mustBeCommitted||!1),this._addOutlines(r)}onUpdatedColor(){var r;(r=this._colorPicker)==null||r.update(this.color),super.onUpdatedColor()}_addOutlines(r){r.drawOutlines&&($(this,wt,DL).call(this,r),$(this,wt,rw).call(this))}static _mergeSVGProperties(r,n){const i=new Set(Object.keys(r));for(const[s,a]of Object.entries(n))i.has(s)?Object.assign(r[s],a):r[s]=a;return r}static getDefaultDrawingOptions(r){Ot("Not implemented")}static get typesMap(){Ot("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(r,n){const i=this.typesMap.get(r);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(p(pt,Ln).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(r,n){const i=this.constructor.typesMap.get(r);i&&this._updateProperty(r,i,n)}static get defaultPropertiesToUpdate(){const r=[],n=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)r.push([i,n[s]]);return r}get propertiesToUpdate(){const r=[],{_drawingOptions:n}=this;for(const[i,s]of this.constructor.typesMap)r.push([i,n[s]]);return r}_updateProperty(r,n,i){const s=this._drawingOptions,a=s[n],o=l=>{var u;s.updateProperty(n,l);const c=p(this,Qs).updateProperty(n,l);c&&$(this,wt,nw).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),r===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:r,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,pt._mergeSVGProperties(p(this,Qs).getPathResizingSVGProperties($(this,wt,nT).call(this)),{bbox:$(this,wt,Vg).call(this)}))}_onResized(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,pt._mergeSVGProperties(p(this,Qs).getPathResizedSVGProperties($(this,wt,nT).call(this)),{bbox:$(this,wt,Vg).call(this)}))}_onTranslating(r,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:$(this,wt,Vg).call(this)})}_onTranslated(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,pt._mergeSVGProperties(p(this,Qs).getPathTranslatedSVGProperties($(this,wt,nT).call(this),this.parentDimensions),{bbox:$(this,wt,Vg).call(this)}))}_onStartDragging(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(r){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,p(this,lb)&&(k(this,lb,!1),this.commit(),this.parent.setSelected(this),r&&this.isOnScreen&&this.div.focus())}remove(){$(this,wt,LL).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&($(this,wt,rw).call(this),$(this,wt,nw).call(this,p(this,Qs).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var i;let n=!1;this.parent&&!r?(this._uiManager.removeShouldRescale(this),$(this,wt,LL).call(this)):r&&(this._uiManager.addShouldRescale(this),$(this,wt,rw).call(this,r),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(r),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,pt._mergeSVGProperties({bbox:$(this,wt,Vg).call(this)},p(this,Qs).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&$(this,wt,nw).call(this,p(this,Qs).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let r,n;this._isCopy&&(r=this.x,n=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(r,n),i}static createDrawerInstance(r,n,i,s,a){Ot("Not implemented")}static startDrawing(r,n,i,s){var y;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:u}=s;if(Si.isInitializedAndDifferentPointerType(u))return;const{viewport:{rotation:d}}=r,{width:h,height:f}=a.getBoundingClientRect(),g=k(pt,im,new AbortController),v=r.combinedSignal(g);if(Si.setPointer(u,c),window.addEventListener("pointerup",b=>{Si.isSamePointerIdOrRemove(b.pointerId)&&this._endDraw(b)},{signal:v}),window.addEventListener("pointercancel",b=>{Si.isSamePointerIdOrRemove(b.pointerId)&&this._currentParent.endDrawingSession()},{signal:v}),window.addEventListener("pointerdown",b=>{Si.isSamePointerType(b.pointerType)&&(Si.initializeAndAddPointerId(b.pointerId),p(pt,Ln).isCancellable()&&(p(pt,Ln).removeLastElement(),p(pt,Ln).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",lo,{signal:v}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),a.addEventListener("touchmove",b=>{Si.isSameTimeStamp(b.timeStamp)&&Xr(b)},{signal:v}),r.toggleDrawing(),(y=n._editorUndoBar)==null||y.hide(),p(pt,Ln)){r.drawLayer.updateProperties(this._currentDrawId,p(pt,Ln).startNew(o,l,h,f,d));return}n.updateUIForDefaultProperties(this),k(pt,Ln,this.createDrawerInstance(o,l,h,f,d)),k(pt,sm,this.getDefaultDrawingOptions()),this._currentParent=r,{id:this._currentDrawId}=r.drawLayer.draw(this._mergeSVGProperties(p(pt,sm).toSVGProperties(),p(pt,Ln).defaultSVGProperties),!0,!1)}static _drawMove(r){if(Si.isSameTimeStamp(r.timeStamp),!p(pt,Ln))return;const{offsetX:n,offsetY:i,pointerId:s}=r;if(Si.isSamePointerId(s)){if(Si.isUsingMultiplePointers()){this._endDraw(r);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,p(pt,Ln).add(n,i)),Si.setTimeStamp(r.timeStamp),Xr(r)}}static _cleanup(r){r&&(this._currentDrawId=-1,this._currentParent=null,k(pt,Ln,null),k(pt,sm,null),Si.clearTimeStamp()),p(pt,im)&&(p(pt,im).abort(),k(pt,im,null),Si.clearPointerIds())}static _endDraw(r){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(r==null?void 0:r.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,p(pt,Ln).end(r.offsetX,r.offsetY)),this.supportMultipleDrawings){const i=p(pt,Ln),s=this._currentDrawId,a=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:gt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(r){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(gt.DRAW_STEP),!p(pt,Ln).isEmpty()){const{pageDimensions:[i,s],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:p(pt,Ln).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:p(pt,sm),mustBeCommitted:!r});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(r){}static deserializeDraw(r,n,i,s,a,o){Ot("Not implemented")}static async deserialize(r,n,i){var d,h;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=n.viewport,c=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,r),u=await super.deserialize(r,n,i);return u.createDrawingOptions(r),$(d=u,wt,DL).call(d,{drawOutlines:c}),$(h=u,wt,rw).call(h),u.onScaleChanging(),u.rotate(),u}serializeDraw(r){const[n,i]=this.pageTranslation,[s,a]=this.pageDimensions;return p(this,Qs).serialize([n,i,s,a],r)}renderAnnotationElement(r){return r.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Qs=new WeakMap,lb=new WeakMap,Ln=new WeakMap,im=new WeakMap,sm=new WeakMap,wt=new WeakSet,DL=function({drawOutlines:r,drawId:n,drawingOptions:i}){k(this,Qs,r),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,r.defaultProperties)):this._drawId=$(this,wt,$L).call(this,r,this.parent),$(this,wt,nw).call(this,r.box)},$L=function(r,n){const{id:i}=n.drawLayer.draw(pt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),r.defaultSVGProperties),!1,!1);return i},LL=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},rw=function(r=this.parent){if(!(this._drawId!==null&&this.parent===r)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,r.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=$(this,wt,$L).call(this,p(this,Qs),r)}},$ce=function([r,n,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[n,1-r,i*(o/a),s*(a/o)];case 180:return[1-r,1-n,i,s];case 270:return[1-n,r,i*(o/a),s*(a/o)];default:return[r,n,i,s]}},nT=function(){const{x:r,y:n,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-n,r,i*(a/o),s*(o/a)];case 180:return[1-r,1-n,i,s];case 270:return[n,1-r,i*(a/o),s*(o/a)];default:return[r,n,i,s]}},nw=function(r){[this.x,this.y,this.width,this.height]=$(this,wt,$ce).call(this,r),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Vg=function(){const{x:r,y:n,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,c]}=this;switch((a*4+o)/90){case 1:return[1-n-s,r,s,i];case 2:return[1-r-i,1-n-s,i,s];case 3:return[n,1-r-i,s,i];case 4:return[r,n-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-n,r,i*(l/c),s*(c/l)];case 6:return[1-r-s*(c/l),1-n,s*(c/l),i*(l/c)];case 7:return[n-i*(l/c),1-r-s*(c/l),i*(l/c),s*(c/l)];case 8:return[r-i,n-s,i,s];case 9:return[1-n,r-i,s,i];case 10:return[1-r,1-n,i,s];case 11:return[n-s,1-r,s,i];case 12:return[r-s*(c/l),n,s*(c/l),i*(l/c)];case 13:return[1-n-i*(l/c),r-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-r,1-n-i*(l/c),s*(c/l),i*(l/c)];case 15:return[n,1-r,i*(l/c),s*(c/l)];default:return[r,n,i,s]}},ie(pt,"_currentDrawId",-1),ie(pt,"_currentParent",null),M(pt,Ln,null),M(pt,im,null),M(pt,sm,null),ie(pt,"_INNER_MARGIN",3);let Rk=pt;var Il,Fn,Bn,am,cb,Fi,ii,Wa,om,lm,cm,ub,iT;class srt{constructor(e,r,n,i,s,a){M(this,ub);M(this,Il,new Float64Array(6));M(this,Fn);M(this,Bn);M(this,am);M(this,cb);M(this,Fi);M(this,ii,"");M(this,Wa,0);M(this,om,new zA);M(this,lm);M(this,cm);k(this,lm,n),k(this,cm,i),k(this,am,s),k(this,cb,a),[e,r]=$(this,ub,iT).call(this,e,r);const o=k(this,Fn,[NaN,NaN,NaN,NaN,e,r]);k(this,Fi,[e,r]),k(this,Bn,[{line:o,points:p(this,Fi)}]),p(this,Il).set(o,0)}updateProperty(e,r){e==="stroke-width"&&k(this,cb,r)}isEmpty(){return!p(this,Bn)||p(this,Bn).length===0}isCancellable(){return p(this,Fi).length<=10}add(e,r){[e,r]=$(this,ub,iT).call(this,e,r);const[n,i,s,a]=p(this,Il).subarray(2,6),o=e-s,l=r-a;return Math.hypot(p(this,lm)*o,p(this,cm)*l)<=2?null:(p(this,Fi).push(e,r),isNaN(n)?(p(this,Il).set([s,a,e,r],2),p(this,Fn).push(NaN,NaN,NaN,NaN,e,r),{path:{d:this.toSVGPath()}}):(isNaN(p(this,Il)[0])&&p(this,Fn).splice(6,6),p(this,Il).set([n,i,s,a,e,r],0),p(this,Fn).push(...Ee.createBezierPoints(n,i,s,a,e,r)),{path:{d:this.toSVGPath()}}))}end(e,r){const n=this.add(e,r);return n||(p(this,Fi).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,r,n,i,s){k(this,lm,n),k(this,cm,i),k(this,am,s),[e,r]=$(this,ub,iT).call(this,e,r);const a=k(this,Fn,[NaN,NaN,NaN,NaN,e,r]);k(this,Fi,[e,r]);const o=p(this,Bn).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),p(this,Bn).push({line:a,points:p(this,Fi)}),p(this,Il).set(a,0),k(this,Wa,0),this.toSVGPath(),null}getLastElement(){return p(this,Bn).at(-1)}setLastElement(e){return p(this,Bn)?(p(this,Bn).push(e),k(this,Fn,e.line),k(this,Fi,e.points),k(this,Wa,0),{path:{d:this.toSVGPath()}}):p(this,om).setLastElement(e)}removeLastElement(){if(!p(this,Bn))return p(this,om).removeLastElement();p(this,Bn).pop(),k(this,ii,"");for(let e=0,r=p(this,Bn).length;e<r;e++){const{line:n,points:i}=p(this,Bn)[e];k(this,Fn,n),k(this,Fi,i),k(this,Wa,0),this.toSVGPath()}return{path:{d:p(this,ii)}}}toSVGPath(){const e=Ee.svgRound(p(this,Fn)[4]),r=Ee.svgRound(p(this,Fn)[5]);if(p(this,Fi).length===2)return k(this,ii,`${p(this,ii)} M ${e} ${r} Z`),p(this,ii);if(p(this,Fi).length<=6){const i=p(this,ii).lastIndexOf("M");k(this,ii,`${p(this,ii).slice(0,i)} M ${e} ${r}`),k(this,Wa,6)}if(p(this,Fi).length===4){const i=Ee.svgRound(p(this,Fn)[10]),s=Ee.svgRound(p(this,Fn)[11]);return k(this,ii,`${p(this,ii)} L ${i} ${s}`),k(this,Wa,12),p(this,ii)}const n=[];p(this,Wa)===0&&(n.push(`M ${e} ${r}`),k(this,Wa,6));for(let i=p(this,Wa),s=p(this,Fn).length;i<s;i+=6){const[a,o,l,c,u,d]=p(this,Fn).slice(i,i+6).map(Ee.svgRound);n.push(`C${a} ${o} ${l} ${c} ${u} ${d}`)}return k(this,ii,p(this,ii)+n.join(" ")),k(this,Wa,p(this,Fn).length),p(this,ii)}getOutlines(e,r,n,i){const s=p(this,Bn).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),p(this,om).build(p(this,Bn),e,r,n,p(this,am),p(this,cb),i),k(this,Il,null),k(this,Fn,null),k(this,Bn,null),k(this,ii,null),p(this,om)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Il=new WeakMap,Fn=new WeakMap,Bn=new WeakMap,am=new WeakMap,cb=new WeakMap,Fi=new WeakMap,ii=new WeakMap,Wa=new WeakMap,om=new WeakMap,lm=new WeakMap,cm=new WeakMap,ub=new WeakSet,iT=function(e,r){return Ee._normalizePoint(e,r,p(this,lm),p(this,cm),p(this,am))};var Bi,nA,iA,Zs,Dl,$l,db,hb,um,ui,Ec,Lce,Fce,Bce;class zA extends Ee{constructor(){super(...arguments);M(this,ui);M(this,Bi);M(this,nA,0);M(this,iA);M(this,Zs);M(this,Dl);M(this,$l);M(this,db);M(this,hb);M(this,um)}build(r,n,i,s,a,o,l){k(this,Dl,n),k(this,$l,i),k(this,db,s),k(this,hb,a),k(this,um,o),k(this,iA,l??0),k(this,Zs,r),$(this,ui,Fce).call(this)}get thickness(){return p(this,um)}setLastElement(r){return p(this,Zs).push(r),{path:{d:this.toSVGPath()}}}removeLastElement(){return p(this,Zs).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const r=[];for(const{line:n}of p(this,Zs)){if(r.push(`M${Ee.svgRound(n[4])} ${Ee.svgRound(n[5])}`),n.length===6){r.push("Z");continue}if(n.length===12&&isNaN(n[6])){r.push(`L${Ee.svgRound(n[10])} ${Ee.svgRound(n[11])}`);continue}for(let i=6,s=n.length;i<s;i+=6){const[a,o,l,c,u,d]=n.subarray(i,i+6).map(Ee.svgRound);r.push(`C${a} ${o} ${l} ${c} ${u} ${d}`)}}return r.join("")}serialize([r,n,i,s],a){const o=[],l=[],[c,u,d,h]=$(this,ui,Lce).call(this);let f,g,v,y,b,x,w,S,_;switch(p(this,hb)){case 0:_=Ee._rescale,f=r,g=n+s,v=i,y=-s,b=r+c*i,x=n+(1-u-h)*s,w=r+(c+d)*i,S=n+(1-u)*s;break;case 90:_=Ee._rescaleAndSwap,f=r,g=n,v=i,y=s,b=r+u*i,x=n+c*s,w=r+(u+h)*i,S=n+(c+d)*s;break;case 180:_=Ee._rescale,f=r+i,g=n,v=-i,y=s,b=r+(1-c-d)*i,x=n+u*s,w=r+(1-c)*i,S=n+(u+h)*s;break;case 270:_=Ee._rescaleAndSwap,f=r+i,g=n+s,v=-i,y=-s,b=r+(1-u-h)*i,x=n+(1-c-d)*s,w=r+(1-u)*i,S=n+(1-c)*s;break}for(const{line:A,points:C}of p(this,Zs))o.push(_(A,f,g,v,y,a?new Array(A.length):null)),l.push(_(C,f,g,v,y,a?new Array(C.length):null));return{lines:o,points:l,rect:[b,x,w,S]}}static deserialize(r,n,i,s,a,{paths:{lines:o,points:l},rotation:c,thickness:u}){const d=[];let h,f,g,v,y;switch(c){case 0:y=Ee._rescale,h=-r/i,f=n/s+1,g=1/i,v=-1/s;break;case 90:y=Ee._rescaleAndSwap,h=-n/s,f=-r/i,g=1/s,v=1/i;break;case 180:y=Ee._rescale,h=r/i+1,f=-n/s,g=-1/i,v=1/s;break;case 270:y=Ee._rescaleAndSwap,h=n/s+1,f=r/i+1,g=-1/s,v=-1/i;break}if(!o){o=[];for(const x of l){const w=x.length;if(w===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(w===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const S=new Float32Array(3*(w-2));o.push(S);let[_,A,C,T]=x.subarray(0,4);S.set([NaN,NaN,NaN,NaN,_,A],0);for(let P=4;P<w;P+=2){const O=x[P],I=x[P+1];S.set(Ee.createBezierPoints(_,A,C,T,O,I),(P-2)*3),[_,A,C,T]=[C,T,O,I]}}}for(let x=0,w=o.length;x<w;x++)d.push({line:y(o[x].map(S=>S??NaN),h,f,g,v),points:y(l[x].map(S=>S??NaN),h,f,g,v)});const b=new this.prototype.constructor;return b.build(d,i,s,1,c,u,a),b}get box(){return p(this,Bi)}updateProperty(r,n){return r==="stroke-width"?$(this,ui,Bce).call(this,n):null}updateParentDimensions([r,n],i){const[s,a]=$(this,ui,Ec).call(this);k(this,Dl,r),k(this,$l,n),k(this,db,i);const[o,l]=$(this,ui,Ec).call(this),c=o-s,u=l-a,d=p(this,Bi);return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateRotation(r){return k(this,nA,r),{path:{transform:this.rotationTransform}}}get viewBox(){return p(this,Bi).map(Ee.svgRound).join(" ")}get defaultProperties(){const[r,n]=p(this,Bi);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ee.svgRound(r)} ${Ee.svgRound(n)}`}}}get rotationTransform(){const[,,r,n]=p(this,Bi);let i=0,s=0,a=0,o=0,l=0,c=0;switch(p(this,nA)){case 90:s=n/r,a=-r/n,l=r;break;case 180:i=-1,o=-1,l=r,c=n;break;case 270:s=-n/r,a=r/n,c=n;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${Ee.svgRound(l)} ${Ee.svgRound(c)})`}getPathResizingSVGProperties([r,n,i,s]){const[a,o]=$(this,ui,Ec).call(this),[l,c,u,d]=p(this,Bi);if(Math.abs(u-a)<=Ee.PRECISION||Math.abs(d-o)<=Ee.PRECISION){const y=r+i/2-(l+u/2),b=n+s/2-(c+d/2);return{path:{"transform-origin":`${Ee.svgRound(r)} ${Ee.svgRound(n)}`,transform:`${this.rotationTransform} translate(${y} ${b})`}}}const h=(i-2*a)/(u-2*a),f=(s-2*o)/(d-2*o),g=u/i,v=d/s;return{path:{"transform-origin":`${Ee.svgRound(l)} ${Ee.svgRound(c)}`,transform:`${this.rotationTransform} scale(${g} ${v}) translate(${Ee.svgRound(a)} ${Ee.svgRound(o)}) scale(${h} ${f}) translate(${Ee.svgRound(-a)} ${Ee.svgRound(-o)})`}}}getPathResizedSVGProperties([r,n,i,s]){const[a,o]=$(this,ui,Ec).call(this),l=p(this,Bi),[c,u,d,h]=l;if(l[0]=r,l[1]=n,l[2]=i,l[3]=s,Math.abs(d-a)<=Ee.PRECISION||Math.abs(h-o)<=Ee.PRECISION){const b=r+i/2-(c+d/2),x=n+s/2-(u+h/2);for(const{line:w,points:S}of p(this,Zs))Ee._translate(w,b,x,w),Ee._translate(S,b,x,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ee.svgRound(r)} ${Ee.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const f=(i-2*a)/(d-2*a),g=(s-2*o)/(h-2*o),v=-f*(c+a)+r+a,y=-g*(u+o)+n+o;if(f!==1||g!==1||v!==0||y!==0)for(const{line:b,points:x}of p(this,Zs))Ee._rescale(b,v,y,f,g,b),Ee._rescale(x,v,y,f,g,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ee.svgRound(r)} ${Ee.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([r,n],i){const[s,a]=i,o=p(this,Bi),l=r-o[0],c=n-o[1];if(p(this,Dl)===s&&p(this,$l)===a)for(const{line:u,points:d}of p(this,Zs))Ee._translate(u,l,c,u),Ee._translate(d,l,c,d);else{const u=p(this,Dl)/s,d=p(this,$l)/a;k(this,Dl,s),k(this,$l,a);for(const{line:h,points:f}of p(this,Zs))Ee._rescale(h,l,c,u,d,h),Ee._rescale(f,l,c,u,d,f);o[2]*=u,o[3]*=d}return o[0]=r,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ee.svgRound(r)} ${Ee.svgRound(n)}`}}}get defaultSVGProperties(){const r=p(this,Bi);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ee.svgRound(r[0])} ${Ee.svgRound(r[1])}`,transform:this.rotationTransform||null},bbox:r}}}Bi=new WeakMap,nA=new WeakMap,iA=new WeakMap,Zs=new WeakMap,Dl=new WeakMap,$l=new WeakMap,db=new WeakMap,hb=new WeakMap,um=new WeakMap,ui=new WeakSet,Ec=function(r=p(this,um)){const n=p(this,iA)+r/2*p(this,db);return p(this,hb)%180===0?[n/p(this,Dl),n/p(this,$l)]:[n/p(this,$l),n/p(this,Dl)]},Lce=function(){const[r,n,i,s]=p(this,Bi),[a,o]=$(this,ui,Ec).call(this,0);return[r+a,n+o,i-2*a,s-2*o]},Fce=function(){const r=k(this,Bi,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of p(this,Zs)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)we.pointBoundingBox(s[l],s[l+1],r);continue}let a=s[4],o=s[5];for(let l=6,c=s.length;l<c;l+=6){const[u,d,h,f,g,v]=s.subarray(l,l+6);we.bezierBoundingBox(a,o,u,d,h,f,g,v,r),a=g,o=v}}const[n,i]=$(this,ui,Ec).call(this);r[0]=li(r[0]-n,0,1),r[1]=li(r[1]-i,0,1),r[2]=li(r[2]+n,0,1),r[3]=li(r[3]+i,0,1),r[2]-=r[0],r[3]-=r[1]},Bce=function(r){const[n,i]=$(this,ui,Ec).call(this);k(this,um,r);const[s,a]=$(this,ui,Ec).call(this),[o,l]=[s-n,a-i],c=p(this,Bi);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class yN extends Dce{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:dr._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,r){e==="stroke-width"&&(r??(r=this["stroke-width"]),r*=this._viewParameters.realScale),super.updateSVGProperty(e,r)}clone(){const e=new yN(this._viewParameters);return e.updateAll(this),e}}var tj,Uce;const xv=class xv extends Rk{constructor(r){super({...r,name:"inkEditor"});M(this,tj);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(r,n){dr.initialize(r,n),this._defaultDrawingOptions=new yN(n.viewParameters)}static getDefaultDrawingOptions(r){const n=this._defaultDrawingOptions.clone();return n.updateProperties(r),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Qe(this,"typesMap",new Map([[gt.INK_THICKNESS,"stroke-width"],[gt.INK_COLOR,"stroke"],[gt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(r,n,i,s,a){return new srt(r,n,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(r,n,i,s,a,o){return zA.deserialize(r,n,i,s,a,o)}static async deserialize(r,n,i){let s=null;if(r instanceof k5){const{data:{inkLists:o,rect:l,rotation:c,id:u,color:d,opacity:h,borderStyle:{rawWidth:f},popupRef:g,richText:v,contentsObj:y,creationDate:b,modificationDate:x},parent:{page:{pageNumber:w}}}=r;s=r={annotationType:nt.INK,color:Array.from(d),thickness:f,opacity:h,paths:{points:o},boxes:null,pageIndex:w-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:g,richText:v,comment:(y==null?void 0:y.str)||null,creationDate:b,modificationDate:x}}const a=await super.deserialize(r,n,i);return a._initialData=s,r.comment&&a.setCommentData(r),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new kk(this)),[["colorPicker",this._colorPicker]]}get colorType(){return gt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:r,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(r,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const r=this._currentParent;r&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:r,thickness:n,opacity:i}){this._drawingOptions=xv.getDefaultDrawingOptions({stroke:we.makeHexColor(...r),"stroke-width":n,"stroke-opacity":i})}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i}=this.serializeDraw(r),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(r),{color:dr._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:n,points:i}});return this.addComment(l),r?(l.isCopy=!0,l):this.annotationElementId&&!$(this,tj,Uce).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(r){if(this.deleted)return r.hide(),null;const{points:n,rect:i}=this.serializeDraw(!1);return r.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};tj=new WeakSet,Uce=function(r){const{color:n,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||r.color.some((o,l)=>o!==n[l])||r.thickness!==i||r.opacity!==s||r.pageIndex!==a},ie(xv,"_type","ink"),ie(xv,"_editorType",nt.INK),ie(xv,"_defaultDrawingOptions",null);let FL=xv;class BL extends zA{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const JE=8,wx=3;var dm,Rt,UL,Bo,Vce,zce,VL,sT,Hce,Wce,Gce,zL,HL,qce;class gu{static extractContoursFromText(e,{fontFamily:r,fontStyle:n,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const d=200,h=u.font=`${n} ${i} ${d}px ${r}`,{actualBoundingBoxLeft:f,actualBoundingBoxRight:g,actualBoundingBoxAscent:v,actualBoundingBoxDescent:y,fontBoundingBoxAscent:b,fontBoundingBoxDescent:x,width:w}=u.measureText(e),S=1.5,_=Math.ceil(Math.max(Math.abs(f)+Math.abs(g)||0,w)*S),A=Math.ceil(Math.max(Math.abs(v)+Math.abs(y)||d,Math.abs(b)+Math.abs(x)||d)*S);c=new OffscreenCanvas(_,A),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,_,A),u.fillStyle="black",u.fillText(e,_*(S-1)/2,A*(3-S)/2);const C=$(this,Rt,zL).call(this,u.getImageData(0,0,_,A).data),T=$(this,Rt,Gce).call(this,C),P=$(this,Rt,HL).call(this,T),O=$(this,Rt,VL).call(this,C,_,A,P);return this.processDrawnLines({lines:{curves:O,width:_,height:A},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,r,n,i,s){const[a,o,l]=$(this,Rt,qce).call(this,e),[c,u]=$(this,Rt,Wce).call(this,a,o,l,Math.hypot(o,l)*p(this,dm).sigmaSFactor,p(this,dm).sigmaR,p(this,dm).kernelSize),d=$(this,Rt,HL).call(this,u),h=$(this,Rt,VL).call(this,c,o,l,d);return this.processDrawnLines({lines:{curves:h,width:o,height:l},pageWidth:r,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:r,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([r,n]=[n,r]);const{curves:l,width:c,height:u}=e,d=e.thickness??0,h=[],f=Math.min(r/c,n/u),g=f/r,v=f/n,y=[];for(const{points:x}of l){const w=a?$(this,Rt,Hce).call(this,x):x;if(!w)continue;y.push(w);const S=w.length,_=new Float32Array(S),A=new Float32Array(3*(S===2?2:S-2));if(h.push({line:A,points:_}),S===2){_[0]=w[0]*g,_[1]=w[1]*v,A.set([NaN,NaN,NaN,NaN,_[0],_[1]],0);continue}let[C,T,P,O]=w;C*=g,T*=v,P*=g,O*=v,_.set([C,T,P,O],0),A.set([NaN,NaN,NaN,NaN,C,T],0);for(let I=4;I<S;I+=2){const R=_[I]=w[I]*g,B=_[I+1]=w[I+1]*v;A.set(Ee.createBezierPoints(C,T,P,O,R,B),(I-2)*3),[C,T,P,O]=[P,O,R,B]}}if(h.length===0)return null;const b=o?new BL:new zA;return b.build(h,r,n,1,i,o?0:d,s),{outline:b,newCurves:y,areContours:o,thickness:d,width:c,height:u}}static async compressSignature({outlines:e,areContours:r,thickness:n,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const w of e){l+=w.length;for(let S=2,_=w.length;S<_;S++){const A=w[S]-w[S-2];a=Math.min(a,A),o=Math.max(o,A)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const u=e.length,d=JE+wx*u,h=new Uint32Array(d);let f=0;h[f++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,h[f++]=0,h[f++]=i,h[f++]=s,h[f++]=r?0:1,h[f++]=Math.max(0,Math.floor(n??0)),h[f++]=u,h[f++]=c.BYTES_PER_ELEMENT;for(const w of e)h[f++]=w.length-2,h[f++]=w[0],h[f++]=w[1];const g=new CompressionStream("deflate-raw"),v=g.writable.getWriter();await v.ready,v.write(h);const y=c.prototype.constructor;for(const w of e){const S=new y(w.length-2);for(let _=2,A=w.length;_<A;_++)S[_-2]=w[_]-w[_-2];v.write(S)}v.close();const b=await new Response(g.readable).arrayBuffer();return new Uint8Array(b).toBase64()}static async decompressSignature(e){try{const r=Uint8Array.fromBase64(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(r).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const w of n)a||(a=new Uint8Array(new Uint32Array(w.buffer,0,4)[0])),a.set(w,o),o+=w.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],d=l[3],h=l[4]===0,f=l[5],g=l[6],v=l[7],y=[],b=(JE+wx*g)*Uint32Array.BYTES_PER_ELEMENT;let x;switch(v){case Int8Array.BYTES_PER_ELEMENT:x=new Int8Array(a.buffer,b);break;case Int16Array.BYTES_PER_ELEMENT:x=new Int16Array(a.buffer,b);break;case Int32Array.BYTES_PER_ELEMENT:x=new Int32Array(a.buffer,b);break}o=0;for(let w=0;w<g;w++){const S=l[wx*w+JE],_=new Float32Array(S+2);y.push(_);for(let A=0;A<wx-1;A++)_[A]=l[wx*w+JE+A+1];for(let A=0;A<S;A++)_[A+2]=_[A]+x[o++]}return{areContours:h,thickness:f,outlines:y,width:u,height:d}}catch(r){return Ye(`decompressSignature: ${r}`),null}}}dm=new WeakMap,Rt=new WeakSet,UL=function(e,r,n,i){return n-=e,i-=r,n===0?i>0?0:4:n===1?i+6:2-i},Bo=new WeakMap,Vce=function(e,r,n,i,s,a,o){const l=$(this,Rt,UL).call(this,n,i,s,a);for(let c=0;c<8;c++){const u=(-c+l-o+16)%8,d=p(this,Bo)[2*u],h=p(this,Bo)[2*u+1];if(e[(n+d)*r+(i+h)]!==0)return u}return-1},zce=function(e,r,n,i,s,a,o){const l=$(this,Rt,UL).call(this,n,i,s,a);for(let c=0;c<8;c++){const u=(c+l+o+16)%8,d=p(this,Bo)[2*u],h=p(this,Bo)[2*u+1];if(e[(n+d)*r+(i+h)]!==0)return u}return-1},VL=function(e,r,n,i){const s=e.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=e[u]<=i?1:0;for(let u=1;u<n-1;u++)a[u*r]=a[u*r+r-1]=0;for(let u=0;u<r;u++)a[u]=a[r*n-1-u]=0;let o=1,l;const c=[];for(let u=1;u<n-1;u++){l=1;for(let d=1;d<r-1;d++){const h=u*r+d,f=a[h];if(f===0)continue;let g=u,v=d;if(f===1&&a[h-1]===0)o+=1,v-=1;else if(f>=1&&a[h+1]===0)o+=1,v+=1,f>1&&(l=f);else{f!==1&&(l=Math.abs(f));continue}const y=[d,u],b=v===d+1,x={isHole:b,points:y,id:o,parent:0};c.push(x);let w;for(const I of c)if(I.id===l){w=I;break}w?w.isHole?x.parent=b?w.parent:l:x.parent=b?l:w.parent:x.parent=b?l:0;const S=$(this,Rt,Vce).call(this,a,r,u,d,g,v,0);if(S===-1){a[h]=-o,a[h]!==1&&(l=Math.abs(a[h]));continue}let _=p(this,Bo)[2*S],A=p(this,Bo)[2*S+1];const C=u+_,T=d+A;g=C,v=T;let P=u,O=d;for(;;){const I=$(this,Rt,zce).call(this,a,r,P,O,g,v,1);_=p(this,Bo)[2*I],A=p(this,Bo)[2*I+1];const R=P+_,B=O+A;y.push(B,R);const D=P*r+O;if(a[D+1]===0?a[D]=-o:a[D]===1&&(a[D]=o),R===u&&B===d&&P===C&&O===T){a[h]!==1&&(l=Math.abs(a[h]));break}else g=P,v=O,P=R,O=B}}}return c},sT=function(e,r,n,i){if(n-r<=4){for(let C=r;C<n-2;C+=2)i.push(e[C],e[C+1]);return}const s=e[r],a=e[r+1],o=e[n-4]-s,l=e[n-3]-a,c=Math.hypot(o,l),u=o/c,d=l/c,h=u*a-d*s,f=l/o,g=1/c,v=Math.atan(f),y=Math.cos(v),b=Math.sin(v),x=g*(Math.abs(y)+Math.abs(b)),w=g*(1-x+x**2),S=Math.max(Math.atan(Math.abs(b+y)*w),Math.atan(Math.abs(b-y)*w));let _=0,A=r;for(let C=r+2;C<n-2;C+=2){const T=Math.abs(h-u*e[C+1]+d*e[C]);T>_&&(A=C,_=T)}_>(c*S)**2?($(this,Rt,sT).call(this,e,r,A+2,i),$(this,Rt,sT).call(this,e,A,n,i)):i.push(s,a)},Hce=function(e){const r=[],n=e.length;return $(this,Rt,sT).call(this,e,0,n,r),r.push(e[n-2],e[n-1]),r.length<=4?null:r},Wce=function(e,r,n,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let v=0;v<a;v++){const y=(v-c)**2;for(let b=0;b<a;b++)o[v*a+b]=Math.exp((y+(b-c)**2)/l)}const u=new Float32Array(256),d=-2*s**2;for(let v=0;v<256;v++)u[v]=Math.exp(v**2/d);const h=e.length,f=new Uint8Array(h),g=new Uint32Array(256);for(let v=0;v<n;v++)for(let y=0;y<r;y++){const b=v*r+y,x=e[b];let w=0,S=0;for(let A=0;A<a;A++){const C=v+A-c;if(!(C<0||C>=n))for(let T=0;T<a;T++){const P=y+T-c;if(P<0||P>=r)continue;const O=e[C*r+P],I=o[A*a+T]*u[Math.abs(O-x)];w+=O*I,S+=I}}const _=f[b]=Math.round(w/S);g[_]++}return[f,g]},Gce=function(e){const r=new Uint32Array(256);for(const n of e)r[n]++;return r},zL=function(e){const r=e.length,n=new Uint8ClampedArray(r>>2);let i=-1/0,s=1/0;for(let o=0,l=n.length;o<l;o++){const c=n[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=n.length;o<l;o++)n[o]=(n[o]-s)*a;return n},HL=function(e){let r,n=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(r=s;r<256;r++){const l=e[r];l>n&&(r-a>i&&(i=r-a,o=r-1),n=l,a=r)}for(r=o-1;r>=0&&!(e[r]>e[r+1]);r--);return r},qce=function(e){const r=e,{width:n,height:i}=e,{maxDim:s}=p(this,dm);let a=n,o=i;if(n>s||i>s){let h=n,f=i,g=Math.log2(Math.max(n,i)/s);const v=Math.floor(g);g=g===v?v-1:v;for(let b=0;b<g;b++){a=Math.ceil(h/2),o=Math.ceil(f/2);const x=new OffscreenCanvas(a,o);x.getContext("2d").drawImage(e,0,0,h,f,0,0,a,o),h=a,f=o,e!==r&&e.close(),e=x.transferToImageBitmap()}const y=Math.min(s/a,s/o);a=Math.round(a*y),o=Math.round(o*y)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const u=c.getImageData(0,0,a,o).data;return[$(this,Rt,zL).call(this,u),a,o]},M(gu,Rt),M(gu,dm,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),M(gu,Bo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class j5 extends Dce{constructor(){super(),super.updateProperties({fill:dr._defaultLineColor,"stroke-width":0})}clone(){const e=new j5;return e.updateAll(this),e}}class O5 extends yN{constructor(e){super(e),super.updateProperties({stroke:dr._defaultLineColor,"stroke-width":1})}clone(){const e=new O5(this._viewParameters);return e.updateAll(this),e}}var ph,Ll,mh,hm;const Rs=class Rs extends Rk{constructor(r){super({...r,mustBeCommitted:!0,name:"signatureEditor"});M(this,ph,!1);M(this,Ll,null);M(this,mh,null);M(this,hm,null);this._willKeepAspectRatio=!0,k(this,mh,r.signatureData||null),k(this,Ll,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(r,n){dr.initialize(r,n),this._defaultDrawingOptions=new j5,this._defaultDrawnSignatureOptions=new O5(n.viewParameters)}static getDefaultDrawingOptions(r){const n=this._defaultDrawingOptions.clone();return n.updateProperties(r),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Qe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!p(this,Ll)}}static computeTelemetryFinalData(r){const n=r.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let r,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,r=this.x,n=this.y),super.render(),this._drawId===null)if(p(this,mh)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:c,heightInPage:u}=p(this,mh),{rawDims:{pageWidth:d,pageHeight:h},rotation:f}=this.parent.viewport,g=gu.processDrawnLines({lines:s,pageWidth:d,pageHeight:h,rotation:f,innerMargin:Rs._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(g,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:p(this,Ll)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(r,n)),this.div}setUuid(r){k(this,hm,r),this.addEditToolbar()}getUuid(){return p(this,hm)}get description(){return p(this,Ll)}set description(r){k(this,Ll,r),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:r})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(r)}))}getSignaturePreview(){const{newCurves:r,areContours:n,thickness:i,width:s,height:a}=p(this,mh),o=Math.max(s,a),l=gu.processDrawnLines({lines:{curves:r.map(c=>({points:c})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(r,n,i,s){const{x:a,y:o}=this,{outline:l}=k(this,mh,r);k(this,ph,l instanceof BL),this.description=i;let c;p(this,ph)?c=Rs.getDefaultDrawingOptions():(c=Rs._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let d=n/u;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(r){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return gu.process(r,n,i,s,Rs._INNER_MARGIN)}getFromText(r,n){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return gu.extractContoursFromText(r,n,i,s,a,Rs._INNER_MARGIN)}getDrawnSignature(r){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return gu.processDrawnLines({lines:r,pageWidth:n,pageHeight:i,rotation:s,innerMargin:Rs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:r,thickness:n}){r?this._drawingOptions=Rs.getDefaultDrawingOptions():(this._drawingOptions=Rs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(r=!1){if(this.isEmpty())return null;const{lines:n,points:i}=this.serializeDraw(r),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(r),{isSignature:!0,areContours:p(this,ph),color:[0,0,0],thickness:p(this,ph)?0:s});return this.addComment(a),r?(a.paths={lines:n,points:i},a.uuid=p(this,hm),a.isCopy=!0):a.lines=n,p(this,Ll)&&(a.accessibilityData={type:"Figure",alt:p(this,Ll)}),a}static deserializeDraw(r,n,i,s,a,o){return o.areContours?BL.deserialize(r,n,i,s,a,o):zA.deserialize(r,n,i,s,a,o)}static async deserialize(r,n,i){var a;const s=await super.deserialize(r,n,i);return k(s,ph,r.areContours),s.description=((a=r.accessibilityData)==null?void 0:a.alt)||"",k(s,hm,r.uuid),s}};ph=new WeakMap,Ll=new WeakMap,mh=new WeakMap,hm=new WeakMap,ie(Rs,"_type","signature"),ie(Rs,"_editorType",nt.SIGNATURE),ie(Rs,"_defaultDrawingOptions",null);let WL=Rs;var _r,Un,gh,uu,vh,fb,du,fm,Fl,Js,pb,St,iw,sw,aT,oT,lT,qL,cT,Kce;class GL extends dr{constructor(r){super({...r,name:"stampEditor"});M(this,St);M(this,_r,null);M(this,Un,null);M(this,gh,null);M(this,uu,null);M(this,vh,null);M(this,fb,"");M(this,du,null);M(this,fm,!1);M(this,Fl,null);M(this,Js,!1);M(this,pb,!1);k(this,uu,r.bitmapUrl),k(this,vh,r.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(r,n){dr.initialize(r,n)}static isHandlingMimeForPasting(r){return k$.includes(r)}static paste(r,n){n.pasteEditor({mode:nt.STAMP},{bitmapFile:r.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var r;return{type:"stamp",hasAltText:!!((r=this.altTextData)!=null&&r.altText)}}static computeTelemetryFinalData(r){const n=r.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(r=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=r||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var r;p(this,Un)&&(k(this,_r,null),this._uiManager.imageManager.deleteId(p(this,Un)),(r=p(this,du))==null||r.remove(),k(this,du,null),p(this,Fl)&&(clearTimeout(p(this,Fl)),k(this,Fl,null))),super.remove()}rebuild(){if(!this.parent){p(this,Un)&&$(this,St,aT).call(this);return}super.rebuild(),this.div!==null&&(p(this,Un)&&p(this,du)===null&&$(this,St,aT).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(r){this._isDraggable=!0,r&&this.div.focus()}isEmpty(){return!(p(this,gh)||p(this,_r)||p(this,uu)||p(this,vh)||p(this,Un)||p(this,fm))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let r,n;return this._isCopy&&(r=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),p(this,fm)||(p(this,_r)?$(this,St,oT).call(this):$(this,St,aT).call(this)),this._isCopy&&this._moveAfterPaste(r,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(r,n){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(r,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(k(this,Un,i),s&&k(this,_r,s),k(this,fm,!1),$(this,St,oT).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;p(this,Fl)!==null&&clearTimeout(p(this,Fl)),k(this,Fl,setTimeout(()=>{k(this,Fl,null),$(this,St,qL).call(this)},200))}copyCanvas(r,n,i=!1){r||(r=224);const{width:s,height:a}=p(this,_r),o=new hc;let l=p(this,_r),c=s,u=a,d=null;if(n){if(s>n||a>n){const C=Math.min(n/s,n/a);c=Math.floor(s*C),u=Math.floor(a*C)}d=document.createElement("canvas");const f=d.width=Math.ceil(c*o.sx),g=d.height=Math.ceil(u*o.sy);p(this,Js)||(l=$(this,St,lT).call(this,f,g));const v=d.getContext("2d");v.filter=this._uiManager.hcmFilter;let y="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":Pet.isDarkMode&&(y="#8f8f9d",b="#42414d");const x=15,w=x*o.sx,S=x*o.sy,_=new OffscreenCanvas(w*2,S*2),A=_.getContext("2d");A.fillStyle=y,A.fillRect(0,0,w*2,S*2),A.fillStyle=b,A.fillRect(0,0,w,S),A.fillRect(w,S,w,S),v.fillStyle=v.createPattern(_,"repeat"),v.fillRect(0,0,f,g),v.drawImage(l,0,0,l.width,l.height,0,0,f,g)}let h=null;if(i){let f,g;if(o.symmetric&&l.width<r&&l.height<r)f=l.width,g=l.height;else if(l=p(this,_r),s>r||a>r){const b=Math.min(r/s,r/a);f=Math.floor(s*b),g=Math.floor(a*b),p(this,Js)||(l=$(this,St,lT).call(this,f,g))}const y=new OffscreenCanvas(f,g).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,f,g),h={width:f,height:g,data:y.getImageData(0,0,f,g).data}}return{canvas:d,width:c,height:u,imageData:h}}static async deserialize(r,n,i){var y;let s=null,a=!1;if(r instanceof uce){const{data:{rect:b,rotation:x,id:w,structParent:S,popupRef:_,richText:A,contentsObj:C,creationDate:T,modificationDate:P},container:O,parent:{page:{pageNumber:I}},canvas:R}=r;let B,D;R?(delete r.canvas,{id:B,bitmap:D}=i.imageManager.getFromCanvas(O.id,R),R.remove()):(a=!0,r._hasNoCanvas=!0);const U=((y=await n._structTree.getAriaAttributes(`${mv}${w}`))==null?void 0:y.get("aria-label"))||"";s=r={annotationType:nt.STAMP,bitmapId:B,bitmap:D,pageIndex:I-1,rect:b.slice(0),rotation:x,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:U},isSvg:!1,structParent:S,popupRef:_,richText:A,comment:(C==null?void 0:C.str)||null,creationDate:T,modificationDate:P}}const o=await super.deserialize(r,n,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:h,accessibilityData:f}=r;a?(i.addMissingCanvas(r.id,o),k(o,fm,!0)):d&&i.imageManager.isValidId(d)?(k(o,Un,d),c&&k(o,_r,c)):k(o,uu,u),k(o,Js,h);const[g,v]=o.pageDimensions;return o.width=(l[2]-l[0])/g,o.height=(l[3]-l[1])/v,f&&(o.altTextData=f),o._initialData=s,r.comment&&o.setCommentData(r),k(o,pb,!!s),o}serialize(r=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(r),{bitmapId:p(this,Un),isSvg:p(this,Js)});if(this.addComment(i),r)return i.bitmapUrl=$(this,St,cT).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=$(this,St,Kce).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(n===null)return i;n.stamps||(n.stamps=new Map);const o=p(this,Js)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(p(this,Un)))n.stamps.set(p(this,Un),{area:o,serialized:i}),i.bitmap=$(this,St,cT).call(this,!1);else if(p(this,Js)){const l=n.stamps.get(p(this,Un));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=$(this,St,cT).call(this,!1))}return i}renderAnnotationElement(r){return this.deleted?(r.hide(),null):(r.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}_r=new WeakMap,Un=new WeakMap,gh=new WeakMap,uu=new WeakMap,vh=new WeakMap,fb=new WeakMap,du=new WeakMap,fm=new WeakMap,Fl=new WeakMap,Js=new WeakMap,pb=new WeakMap,St=new WeakSet,iw=function(r,n=!1){if(!r){this.remove();return}k(this,_r,r.bitmap),n||(k(this,Un,r.id),k(this,Js,r.isSvg)),r.file&&k(this,fb,r.file.name),$(this,St,oT).call(this)},sw=function(){if(k(this,gh,null),this._uiManager.enableWaiting(!1),!!p(this,du)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,_r)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&p(this,_r)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},aT=function(){if(p(this,Un)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(p(this,Un)).then(i=>$(this,St,iw).call(this,i,!0)).finally(()=>$(this,St,sw).call(this));return}if(p(this,uu)){const i=p(this,uu);k(this,uu,null),this._uiManager.enableWaiting(!0),k(this,gh,this._uiManager.imageManager.getFromUrl(i).then(s=>$(this,St,iw).call(this,s)).finally(()=>$(this,St,sw).call(this)));return}if(p(this,vh)){const i=p(this,vh);k(this,vh,null),this._uiManager.enableWaiting(!0),k(this,gh,this._uiManager.imageManager.getFromFile(i).then(s=>$(this,St,iw).call(this,s)).finally(()=>$(this,St,sw).call(this)));return}const r=document.createElement("input");r.type="file",r.accept=k$.join(",");const n=this._uiManager._signal;k(this,gh,new Promise(i=>{r.addEventListener("change",async()=>{if(!r.files||r.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(r.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),$(this,St,iw).call(this,s)}i()},{signal:n}),r.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>$(this,St,sw).call(this))),r.click()},oT=function(){var c;const{div:r}=this;let{width:n,height:i}=p(this,_r);const[s,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>o*s||i>o*a){const u=Math.min(o*s/n,o*a/i);n*=u,i*=u}this._uiManager.enableWaiting(!1);const l=k(this,du,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=n/s,this.height=i/a,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(r.hidden=!1),$(this,St,qL).call(this),p(this,pb)||(this.parent.addUndoableEditor(this),k(this,pb,!0)),this._reportTelemetry({action:"inserted_image"}),p(this,fb)&&this.div.setAttribute("aria-description",p(this,fb)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},lT=function(r,n){const{width:i,height:s}=p(this,_r);let a=i,o=s,l=p(this,_r);for(;a>2*r||o>2*n;){const c=a,u=o;a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(l,0,0,c,u,0,0,a,o),l=d.transferToImageBitmap()}return l},qL=function(){const[r,n]=this.parentDimensions,{width:i,height:s}=this,a=new hc,o=Math.ceil(i*r*a.sx),l=Math.ceil(s*n*a.sy),c=p(this,du);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const u=p(this,Js)?p(this,_r):$(this,St,lT).call(this,o,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,o,l)},cT=function(r){if(r){if(p(this,Js)){const s=this._uiManager.imageManager.getSvgUrl(p(this,Un));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=p(this,_r),n.getContext("2d").drawImage(p(this,_r),0,0),n.toDataURL()}if(p(this,Js)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*rf.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*rf.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(p(this,_r),0,0,p(this,_r).width,p(this,_r).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(p(this,_r))},Kce=function(r){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=r.pageIndex===n,a=(((o=r.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},ie(GL,"_type","stamp"),ie(GL,"_editorType",nt.STAMP);var pm,mb,yh,bh,hu,ms,xh,gb,vb,Uo,fu,Vn,pu,wh,yb,Ne,Sh,nr,XL,Xce,dl,YL,QL,uT;const Eo=class Eo{constructor({uiManager:e,pageIndex:r,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}){M(this,nr);M(this,pm);M(this,mb,!1);M(this,yh,null);M(this,bh,null);M(this,hu,null);M(this,ms,new Map);M(this,xh,!1);M(this,gb,!1);M(this,vb,!1);M(this,Uo,null);M(this,fu,null);M(this,Vn,null);M(this,pu,null);M(this,wh,null);M(this,yb,-1);M(this,Ne);const d=[...p(Eo,Sh).values()];if(!Eo._initialized){Eo._initialized=!0;for(const h of d)h.initialize(u,e)}e.registerEditorTypes(d),k(this,Ne,e),this.pageIndex=r,this.div=n,k(this,pm,s),k(this,yh,a),this.viewport=c,k(this,Vn,l),this.drawLayer=o,this._structTree=i,p(this,Ne).addLayer(this)}updatePageIndex(e){this.pageIndex=e}get isEmpty(){return p(this,ms).size===0}get isInvisible(){return this.isEmpty&&p(this,Ne).getMode()===nt.NONE}updateToolbar(e){p(this,Ne).updateToolbar(e)}updateMode(e=p(this,Ne).getMode()){switch($(this,nr,uT).call(this),e){case nt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case nt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;if(r.toggle("nonEditing",!1),e===nt.POPUP)r.toggle("commentEditing",!0);else{r.toggle("commentEditing",!1);for(const n of p(Eo,Sh).values())r.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){var r;return e===((r=p(this,Vn))==null?void 0:r.div)}setEditingState(e){p(this,Ne).setEditingState(e)}addCommands(e){p(this,Ne).addCommands(e)}cleanUndoStack(e){p(this,Ne).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var r;(r=p(this,yh))==null||r.togglePointerEvents(e)}async enable(){var n;k(this,vb,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(n=p(this,wh))==null||n.abort(),k(this,wh,null);const e=new Set;for(const i of p(this,nr,XL))i.enableEditing(),i.show(!0),i.annotationElementId&&(p(this,Ne).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const r=p(this,yh);if(r)for(const i of r.getEditableAnnotations()){if(i.hide(),p(this,Ne).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}k(this,vb,!1),p(this,Ne)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(k(this,gb,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),p(this,Vn)&&!p(this,wh)){k(this,wh,new AbortController);const s=p(this,Ne).combinedSignal(p(this,wh));p(this,Vn).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:c,timeStamp:u}=a,d=p(this,yb);if(u-d>500){k(this,yb,u);return}k(this,yb,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(l,c);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let g;const v=new RegExp(`^${tS}[0-9]+$`);for(const b of f)if(v.test(b.id)){g=b.id;break}if(!g)return;const y=p(this,ms).get(g);(y==null?void 0:y.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),y.dblclick(a))},{signal:s,capture:!0})}const e=p(this,yh),r=[];if(e){const s=new Map,a=new Map;for(const l of p(this,nr,XL)){if(l.disableEditing(),!l.annotationElementId){r.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(p(this,Ne).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let u=a.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=s.get(c),u&&(p(this,Ne).addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}$(this,nr,uT).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of p(Eo,Sh).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(r),k(this,gb,!1)}getEditableAnnotation(e){var r;return((r=p(this,yh))==null?void 0:r.getEditableAnnotation(e))||null}setActiveEditor(e){p(this,Ne).getActive()!==e&&p(this,Ne).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=p(this,Vn))!=null&&e.div&&!p(this,pu)){k(this,pu,new AbortController);const r=p(this,Ne).combinedSignal(p(this,pu));p(this,Vn).div.addEventListener("pointerdown",$(this,nr,Xce).bind(this),{signal:r}),p(this,Vn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=p(this,Vn))!=null&&e.div&&p(this,pu)&&(p(this,pu).abort(),k(this,pu,null),p(this,Vn).div.classList.remove("highlighting"))}enableClick(){if(p(this,bh))return;k(this,bh,new AbortController);const e=p(this,Ne).combinedSignal(p(this,bh));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const r=this.pointerup.bind(this);this.div.addEventListener("pointerup",r,{signal:e}),this.div.addEventListener("pointercancel",r,{signal:e})}disableClick(){var e;(e=p(this,bh))==null||e.abort(),k(this,bh,null)}attach(e){p(this,ms).set(e.id,e);const{annotationElementId:r}=e;r&&p(this,Ne).isDeletedAnnotationElement(r)&&p(this,Ne).removeDeletedAnnotationElement(e)}detach(e){var r;p(this,ms).delete(e.id),(r=p(this,pm))==null||r.removePointerInTextLayer(e.contentDiv),!p(this,gb)&&e.annotationElementId&&p(this,Ne).addDeletedAnnotationElement(e)}remove(e){this.detach(e),p(this,Ne).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var r;e.parent!==this&&(e.parent&&e.annotationElementId&&(p(this,Ne).addDeletedAnnotationElement(e),dr.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(r=e.parent)==null||r.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),p(this,Ne).addEditor(e),this.attach(e),!e.isAttachedToDOM){const r=e.render();this.div.append(r),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!p(this,vb)),p(this,Ne).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!p(this,hu)&&(e._focusEventsAllowed=!1,k(this,hu,setTimeout(()=>{k(this,hu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:p(this,Ne)._signal}),r.focus())},0))),e._structTreeParentId=(n=p(this,pm))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const r=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:r,undo:n,mustExec:!1})}getEditorByUID(e){for(const r of p(this,ms).values())if(r.uid===e)return r;return null}getNextId(){return p(this,Ne).getId()}combinedSignal(e){return p(this,Ne).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=p(this,nr,dl))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,r){this.updateToolbar(e),await p(this,Ne).updateMode(e.mode);const{offsetX:n,offsetY:i}=$(this,nr,QL).call(this),s=this.getNextId(),a=$(this,nr,YL).call(this,{parent:this,id:s,x:n,y:i,uiManager:p(this,Ne),isCentered:!0,...r});a&&this.add(a)}async deserialize(e){var r;return await((r=p(Eo,Sh).get(e.annotationType??e.annotationEditorType))==null?void 0:r.deserialize(e,this,p(this,Ne)))||null}createAndAddNewEditor(e,r,n={}){const i=this.getNextId(),s=$(this,nr,YL).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:p(this,Ne),isCentered:r,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor($(this,nr,QL).call(this),!0,e)}setSelected(e){p(this,Ne).setSelected(e)}toggleSelected(e){p(this,Ne).toggleSelected(e)}unselect(e){p(this,Ne).unselect(e)}pointerup(e){var i;const{isMac:r}=Nn.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div||!p(this,xh)||(k(this,xh,!1),(i=p(this,nr,dl))!=null&&i.isDrawer&&p(this,nr,dl).supportMultipleDrawings))return;if(!p(this,mb)){k(this,mb,!0);return}const n=p(this,Ne).getMode();if(n===nt.STAMP||n===nt.SIGNATURE){p(this,Ne).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(p(this,Ne).getMode()===nt.HIGHLIGHT&&this.enableTextSelection(),p(this,xh)){k(this,xh,!1);return}const{isMac:r}=Nn.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div)return;if(k(this,xh,!0),(i=p(this,nr,dl))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=p(this,Ne).getActive();k(this,mb,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),p(this,Uo)){p(this,nr,dl).startDrawing(this,p(this,Ne),!1,e);return}p(this,Ne).setCurrentDrawingSession(this),k(this,Uo,new AbortController);const r=p(this,Ne).combinedSignal(p(this,Uo));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(k(this,fu,null),this.commitOrRemove())},{signal:r}),p(this,nr,dl).startDrawing(this,p(this,Ne),!1,e)}pause(e){if(e){const{activeElement:r}=document;this.div.contains(r)&&k(this,fu,r);return}p(this,fu)&&setTimeout(()=>{var r;(r=p(this,fu))==null||r.focus(),k(this,fu,null)},0)}endDrawingSession(e=!1){return p(this,Uo)?(p(this,Ne).setCurrentDrawingSession(null),p(this,Uo).abort(),k(this,Uo,null),k(this,fu,null),p(this,nr,dl).endDrawing(e)):null}findNewParent(e,r,n){const i=p(this,Ne).findParent(r,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return p(this,Uo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){p(this,Uo)&&p(this,nr,dl).onScaleChangingWhenDrawing(this)}destroy(){var e,r;this.commitOrRemove(),((e=p(this,Ne).getActive())==null?void 0:e.parent)===this&&(p(this,Ne).commitOrRemove(),p(this,Ne).setActiveEditor(null)),p(this,hu)&&(clearTimeout(p(this,hu)),k(this,hu,null));for(const n of p(this,ms).values())(r=p(this,pm))==null||r.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,p(this,ms).clear(),p(this,Ne).removeLayer(this)}render({viewport:e}){this.viewport=e,Gm(this.div,e);for(const r of p(this,Ne).getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:e}){p(this,Ne).commitOrRemove(),$(this,nr,uT).call(this);const r=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Gm(this.div,{rotation:n}),r!==n)for(const i of p(this,ms).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:r}=this.viewport.rawDims;return[e,r]}get scale(){return p(this,Ne).viewParameters.realScale}};pm=new WeakMap,mb=new WeakMap,yh=new WeakMap,bh=new WeakMap,hu=new WeakMap,ms=new WeakMap,xh=new WeakMap,gb=new WeakMap,vb=new WeakMap,Uo=new WeakMap,fu=new WeakMap,Vn=new WeakMap,pu=new WeakMap,wh=new WeakMap,yb=new WeakMap,Ne=new WeakMap,Sh=new WeakMap,nr=new WeakSet,XL=function(){return p(this,ms).size!==0?p(this,ms).values():p(this,Ne).getEditors(this.pageIndex)},Xce=function(e){p(this,Ne).unselectAll();const{target:r}=e;if(r===p(this,Vn).div||(r.getAttribute("role")==="img"||r.classList.contains("endOfContent"))&&p(this,Vn).div.contains(r)){const{isMac:n}=Nn.platform;if(e.button!==0||e.ctrlKey&&n)return;p(this,Ne).showAllEditors("highlight",!0,!0),p(this,Vn).div.classList.add("free"),this.toggleDrawing(),Nk.startHighlighting(this,p(this,Ne).direction==="ltr",{target:p(this,Vn).div,x:e.x,y:e.y}),p(this,Vn).div.addEventListener("pointerup",()=>{p(this,Vn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:p(this,Ne)._signal}),e.preventDefault()}},dl=function(){return p(Eo,Sh).get(p(this,Ne).getMode())},YL=function(e){const r=p(this,nr,dl);return r?new r.prototype.constructor(e):null},QL=function(){const{x:e,y:r,width:n,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,r),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,r+i),c=(s+o)/2-e,u=(a+l)/2-r,[d,h]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:h}},uT=function(){for(const e of p(this,ms).values())e.isEmpty()&&e.remove()},ie(Eo,"_initialized",!1),M(Eo,Sh,new Map([kL,FL,GL,Nk,WL].map(e=>[e._editorType,e])));let KL=Eo;var Vo,Ui,mm,sA,rj,Yce,pc,JL,Qce,eF;const An=class An{constructor(){M(this,pc);M(this,Vo,null);M(this,Ui,new Map);M(this,mm,new Map)}setParent(e){if(!p(this,Vo)){k(this,Vo,e);return}if(p(this,Vo)!==e){if(p(this,Ui).size>0)for(const r of p(this,Ui).values())r.remove(),e.append(r);k(this,Vo,e)}}static get _svgFactory(){return Qe(this,"_svgFactory",new jk)}draw(e,r=!1,n=!1){const i=Fr(An,sA)._++,s=$(this,pc,JL).call(this),a=An._svgFactory.createElement("defs");s.append(a);const o=An._svgFactory.createElement("path");a.append(o);const l=`path_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),r&&p(this,mm).set(i,o);const c=n?$(this,pc,Qce).call(this,a,l):null,u=An._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,e),p(this,Ui).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,r){const n=Fr(An,sA)._++,i=$(this,pc,JL).call(this),s=An._svgFactory.createElement("defs");i.append(s);const a=An._svgFactory.createElement("path");s.append(a);const o=`path_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(r){const d=An._svgFactory.createElement("mask");s.append(d),l=`mask_${n}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const h=An._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=An._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=An._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),p(this,Ui).set(n,i),n}finalizeDraw(e,r){p(this,mm).delete(e),this.updateProperties(e,r)}updateProperties(e,r){var l;if(!r)return;const{root:n,bbox:i,rootClass:s,path:a}=r,o=typeof e=="number"?p(this,Ui).get(e):e;if(o){if(n&&$(this,pc,eF).call(this,o,n),i&&$(l=An,rj,Yce).call(l,o,i),s){const{classList:c}=o;for(const[u,d]of Object.entries(s))c.toggle(u,d)}if(a){const u=o.firstElementChild.firstElementChild;$(this,pc,eF).call(this,u,a)}}}updateParent(e,r){if(r===this)return;const n=p(this,Ui).get(e);n&&(p(r,Vo).append(n),p(this,Ui).delete(e),p(r,Ui).set(e,n))}remove(e){p(this,mm).delete(e),p(this,Vo)!==null&&(p(this,Ui).get(e).remove(),p(this,Ui).delete(e))}destroy(){k(this,Vo,null);for(const e of p(this,Ui).values())e.remove();p(this,Ui).clear(),p(this,mm).clear()}};Vo=new WeakMap,Ui=new WeakMap,mm=new WeakMap,sA=new WeakMap,rj=new WeakSet,Yce=function(e,[r,n,i,s]){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*r}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},pc=new WeakSet,JL=function(){const e=An._svgFactory.create(1,1,!0);return p(this,Vo).append(e),e.setAttribute("aria-hidden",!0),e},Qce=function(e,r){const n=An._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${r}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=An._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${r}`),s.classList.add("clip"),i},eF=function(e,r){for(const[n,i]of Object.entries(r))i===null?e.removeAttribute(n):e.setAttribute(n,i)},M(An,rj),M(An,sA,0);let ZL=An;globalThis._pdfjsTestingUtils={HighlightOutliner:OL};globalThis.pdfjsLib={AbortException:tf,AnnotationEditorLayer:KL,AnnotationEditorParamsType:gt,AnnotationEditorType:nt,AnnotationEditorUIManager:qm,AnnotationLayer:TL,AnnotationMode:Sd,AnnotationType:cn,applyOpacity:jet,build:Dtt,ColorPicker:Pk,createValidAbsoluteUrl:Poe,CSSConstants:ket,DOMSVGFactory:jk,DrawLayer:ZL,FeatureTest:Nn,fetchData:FA,findContrastColor:Oet,getDocument:qle,getFilenameFromUrl:_et,getPdfFilenameFromUrl:Aet,getRGB:UA,getUuid:joe,getXfaPageViewport:Cet,GlobalWorkerOptions:Xl,ImageKind:jC,InvalidPDFException:T$,isDataScheme:hN,isPdfFile:A5,isValidExplicitDest:Vet,MathClamp:li,noContextMenu:lo,normalizeUnicode:xet,OPS:rS,OutputScale:hc,PagesMapper:iS,PasswordResponses:uet,PDFDataRangeTransport:Kle,PDFDateString:Sk,PDFWorker:aS,PermissionFlag:cet,PixelsPerInch:rf,RenderingCancelledException:_5,renderRichText:Noe,ResponseException:wk,setLayerDimensions:Gm,shadow:Qe,SignatureExtractor:gu,stopEvent:Xr,SupportedImageMimeTypes:k$,TextLayer:sS,TouchManager:Ak,updateUrlHash:koe,Util:we,VerbosityLevel:lN,version:Zle,XfaLayer:Ooe};Xl.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${Zle}/pdf.worker.min.mjs`;const art=()=>{const{t}=Wt(),{user:e}=It(),r=Ii(),[n,i]=E.useState(10),[s,a]=E.useState("medium"),[o,l]=E.useState(!1),[c,u]=E.useState(!1),[d,h]=E.useState(null),[f,g]=E.useState({}),[v,y]=E.useState(!1),[b,x]=E.useState(null),[w,S]=E.useState(""),[_,A]=E.useState(""),[C,T]=E.useState(""),[P,O]=E.useState([{id:"portuguese",name:t("groups.subjects.portuguese"),selected:!1},{id:"math",name:t("groups.subjects.math"),selected:!1},{id:"history",name:t("groups.subjects.history"),selected:!1},{id:"geography",name:t("groups.subjects.geography"),selected:!1},{id:"physics",name:t("groups.subjects.physics"),selected:!1},{id:"chemistry",name:t("groups.subjects.chemistry"),selected:!1},{id:"biology",name:t("groups.subjects.biology"),selected:!1},{id:"literature",name:t("groups.subjects.literature"),selected:!1},{id:"english",name:t("groups.subjects.english"),selected:!1},{id:"essay",name:t("groups.subjects.essay"),selected:!1}]),I=z=>{O(P.map(K=>K.id===z?{...K,selected:!K.selected}:K))},R=(z,K)=>{const V=Number.parseInt(K,10);Number.isNaN(V)||g(G=>({...G,[z]:V}))},B=async z=>{const K=await z.arrayBuffer(),V=await qle({data:K}).promise;let G="";for(let X=1;X<=V.numPages;X++){const J=(await(await V.getPage(X)).getTextContent()).items.map(ce=>ce.str).join(" ");G+=J+`
`}return G},D=async z=>{var H;const K=(H=z.target.files)==null?void 0:H[0];if(!K){A(""),T("");return}const V=K.type==="application/pdf"||K.name.endsWith(".pdf"),G=K.type==="text/plain"||K.name.endsWith(".txt"),X=K.type==="text/markdown"||K.name.endsWith(".md");if(!V&&!G&&!X){de.error("Envie apenas arquivos .pdf, .txt ou .md"),z.target.value="";return}try{let Z="";V?(u(!0),Z=await B(K)):Z=await K.text(),A(Z),T(K.name),de.success("Arquivo carregado com sucesso.")}catch(Z){console.error("Erro ao ler arquivo:",Z),de.error("No foi possvel ler o arquivo enviado.")}finally{u(!1)}},U=()=>{A(""),T("")},N=()=>{if(!d)return;const z=d.length-Object.keys(f).length;if(z>0&&!window.confirm(t("aiTests.unansweredWarning",{count:z})))return;let K=0;const V=d.map(H=>{const Z=f[H.id],J=Z===H.correctAnswer;return J&&K++,{questionId:H.id,isCorrect:J,userAnswer:typeof Z=="number"?Z:null,correctAnswer:H.correctAnswer}}),G=d.length,X=Math.round(K/G*100);x({correctCount:K,totalQuestions:G,score:X,details:V}),y(!0),window.scrollTo({top:0,behavior:"smooth"}),de.success(t("aiTests.correctionSuccess",{correct:K,total:G}))},j=()=>{h(null),g({}),y(!1),x(null)},L=()=>{if(!b)return;const z=b.details.find(K=>!K.isCorrect);if(z){const K=document.querySelector(`[data-question-id="${z.questionId}"]`);K==null||K.scrollIntoView({behavior:"smooth",block:"center"})}};if(E.useEffect(()=>{if(d){const z=d.filter(K=>K.options.length!==4||K.correctAnswer<0||K.correctAnswer>3);z.length>0&&(console.error("Questes invlidas:",z),de.error(t("aiTests.invalidQuestions")))}},[d,t]),(e==null?void 0:e.plan)!=="premium")return m.jsx(Lr,{children:m.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-study-primary mb-4",children:t("aiTests.premiumFeature")}),m.jsx("p",{className:"mb-8 text-gray-600",children:"This feature is only available to premium subscribers."}),m.jsx(ge,{onClick:()=>r("/plans"),className:"bg-study-primary",children:t("aiTests.upgrade")})]})});const F=async()=>{var X;const z=P.filter(H=>H.selected),K=w.trim(),V=z.length>0;if(!(K||_||V)){de.error("Informe um assunto, selecione uma matria ou envie um arquivo");return}l(!0);try{const H=z.map(oe=>oe.name),Z=_.trim(),{data:J,error:ce}=await ne.functions.invoke("generate-test-questions",{body:{numQuestions:n,difficulty:s,subjects:H,topic:K||void 0,subject:K||(H.length>0?H.join(", "):void 0),fileContent:Z||void 0,content:Z||void 0}});if(ce){console.error("Edge function error:",ce);let oe="Erro ao gerar questes. Tente novamente.";throw(X=ce.message)!=null&&X.includes("429")?oe=" Limite de requisies atingido. Aguarde alguns segundos e tente novamente.":ce.message&&(oe=ce.message),new Error(oe)}if(!J||!J.questions)throw new Error("Resposta invlida do servidor");const ee=J.questions;h(ee),de.success(t("aiTests.generatingSuccess"))}catch(H){console.error("Failed to generate test:",H),de.error(H instanceof Error?H.message:t("aiTests.generatingFailed"))}finally{l(!1)}};return m.jsx(Lr,{children:m.jsx("div",{className:"py-8 px-4 max-w-3xl mx-auto",children:d?m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-2xl font-bold text-study-primary",children:t("aiTests.generatedTest")}),m.jsx(ge,{onClick:j,variant:"outline",children:t("aiTests.createAnother")})]}),v&&b&&m.jsx(mt,{className:"border-2 border-primary animate-fade-in",children:m.jsx(Et,{className:"pt-6",children:m.jsxs("div",{className:"text-center space-y-4",children:[m.jsxs("h2",{className:"text-3xl font-bold text-primary",children:[t("aiTests.yourScore"),": ",b.score,"%"]}),m.jsxs("div",{className:"flex justify-center gap-8 text-lg",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Mfe,{className:"w-5 h-5 text-green-600"}),m.jsxs("span",{className:"text-green-600 font-semibold",children:[b.correctCount," ",t("aiTests.correct")]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Dfe,{className:"w-5 h-5 text-red-600"}),m.jsxs("span",{className:"text-red-600 font-semibold",children:[b.totalQuestions-b.correctCount," ",t("aiTests.wrong")]})]})]}),m.jsxs("p",{className:"text-muted-foreground",children:[b.score>=80&&t("aiTests.messages.excellent"),b.score>=60&&b.score<80&&t("aiTests.messages.good"),b.score>=40&&b.score<60&&t("aiTests.messages.improving"),b.score<40&&t("aiTests.messages.keepTrying")]}),b.correctCount<b.totalQuestions&&m.jsx(ge,{variant:"outline",onClick:L,children:t("aiTests.reviewWrong")})]})})}),!v&&m.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[m.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[t("aiTests.progress"),": ",Object.keys(f).length," / ",d.length," ",t("aiTests.questionsAnswered")]}),m.jsx("div",{className:"w-full bg-muted-foreground/20 rounded-full h-2",children:m.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Object.keys(f).length/d.length*100}%`}})})]}),m.jsx("div",{className:"space-y-4",children:d.map(z=>{var X;const K=b==null?void 0:b.details.find(H=>H.questionId===z.id),V=K==null?void 0:K.isCorrect,G=f[z.id];return m.jsx(mt,{"data-question-id":z.id,className:`overflow-hidden transition-all ${v?V?"border-2 border-green-500 bg-green-50 dark:bg-green-950":"border-2 border-red-500 bg-red-50 dark:bg-red-950":""}`,children:m.jsx(Et,{className:"pt-6",children:m.jsxs("div",{className:"space-y-4",children:[z.context&&m.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg mb-4 text-sm border border-blue-200 dark:border-blue-800",children:m.jsx("p",{className:"text-blue-900 dark:text-blue-100 italic leading-relaxed",children:z.context})}),m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsxs("p",{className:"font-medium flex-1",children:[z.id,". ",z.question]}),v&&m.jsx("span",{className:"text-2xl flex-shrink-0",children:V?"":""})]}),z.options&&m.jsx(A$,{value:((X=f[z.id])==null?void 0:X.toString())||"",onValueChange:H=>R(z.id,H),disabled:v,children:m.jsx("div",{className:"space-y-2",children:z.options.map((H,Z)=>{const J=G===Z,ce=z.correctAnswer===Z;return m.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-md transition-colors ${v?ce?"bg-green-100 dark:bg-green-900 border border-green-400":J&&!V?"bg-red-100 dark:bg-red-900 border border-red-400":"":"hover:bg-muted"}`,children:[m.jsx(Lx,{value:Z.toString(),id:`q${z.id}_opt${Z}`}),m.jsxs(ct,{htmlFor:`q${z.id}_opt${Z}`,className:"flex-1 cursor-pointer",children:[H,v&&ce&&m.jsxs("span",{className:"ml-2 text-green-700 dark:text-green-300 font-semibold",children:["(",t("aiTests.correctAnswer"),")"]}),v&&J&&!V&&m.jsxs("span",{className:"ml-2 text-red-700 dark:text-red-300 font-semibold",children:["(",t("aiTests.yourAnswer"),")"]})]})]},Z)})})}),v&&z.explanation&&m.jsx("div",{className:"mt-4 text-sm bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:m.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[m.jsx("strong",{className:"text-primary",children:" Explicao:"})," ",z.explanation]})})]})})},z.id)})}),m.jsx("div",{className:"flex justify-end space-x-4",children:!v&&m.jsx(ge,{className:"bg-primary",onClick:N,disabled:Object.keys(f).length===0,children:t("aiTests.submitAnswers")})})]}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-study-primary text-center",children:t("aiTests.title")}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs(ct,{children:[t("aiTests.questionsNumber"),": ",n]}),m.jsx(foe,{value:[n],min:5,max:50,step:5,onValueChange:z=>i(z[0]),className:"my-4"})]}),m.jsxs("div",{children:[m.jsx(ct,{className:"mb-2 block",children:t("aiTests.selectSubjects")}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:P.map(z=>m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(oO,{id:z.id,checked:z.selected,onCheckedChange:()=>I(z.id)}),m.jsx(ct,{htmlFor:z.id,children:z.name})]},z.id))})]}),m.jsxs("div",{children:[m.jsx(ct,{htmlFor:"topic",className:"mb-2 block",children:"Assunto (opcional)"}),m.jsx("input",{id:"topic",type:"text",value:w,onChange:z=>S(z.target.value),placeholder:"Ex.: Revoluo Francesa, Funes de 2 grau...",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{htmlFor:"source-file",className:"block",children:"Arquivo de base (.pdf, .txt, .md) (opcional)"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{id:"source-file",type:"file",accept:".pdf,.txt,.md,application/pdf,text/plain,text/markdown",onChange:D,className:"hidden"}),m.jsx(ge,{type:"button",variant:"outline",className:"w-full border-dashed border-2 h-24 flex flex-col gap-2",onClick:()=>{var z;return(z=document.getElementById("source-file"))==null?void 0:z.click()},disabled:c,children:c?m.jsxs(m.Fragment,{children:[m.jsx(rV,{className:"h-6 w-6 animate-spin text-study-primary"}),m.jsx("span",{children:"Extraindo texto do PDF..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(CM,{className:"h-6 w-6 text-muted-foreground"}),m.jsx("span",{children:"Clique para selecionar ou arraste um arquivo"}),m.jsx("span",{className:"text-xs text-muted-foreground",children:"PDF, TXT ou Markdown"})]})})]}),C&&m.jsxs("div",{className:"mt-2 flex items-center justify-between p-2 bg-muted rounded-md",children:[m.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[m.jsx(CM,{className:"h-4 w-4 flex-shrink-0 text-study-primary"}),m.jsx("p",{className:"text-sm font-medium truncate",children:C})]}),m.jsx(ge,{type:"button",variant:"ghost",size:"icon",onClick:U,className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:m.jsx(Wh,{className:"h-4 w-4"})})]})]}),m.jsxs("div",{children:[m.jsx(ct,{className:"mb-2 block",children:t("aiTests.difficulty")}),m.jsxs(A$,{value:s,onValueChange:a,className:"flex space-x-4",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Lx,{value:"easy",id:"easy"}),m.jsx(ct,{htmlFor:"easy",children:t("aiTests.difficulties.easy")})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Lx,{value:"medium",id:"medium"}),m.jsx(ct,{htmlFor:"medium",children:t("aiTests.difficulties.medium")})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Lx,{value:"hard",id:"hard"}),m.jsx(ct,{htmlFor:"hard",children:t("aiTests.difficulties.hard")})]})]})]}),m.jsx(ge,{onClick:F,className:"w-full bg-study-primary",disabled:o||c||!w.trim()&&!_&&P.filter(z=>z.selected).length===0,children:o?m.jsxs(m.Fragment,{children:[m.jsx(rV,{className:"mr-2 h-4 w-4 animate-spin"}),t("aiTests.generating")]}):t("aiTests.generate")})]})]})})})},ort=()=>m.jsx(Lr,{children:m.jsxs("div",{className:"container mx-auto py-8 px-4",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6 text-study-primary",children:"Termos de Uso"}),m.jsxs("div",{className:"space-y-6 text-gray-700",children:[m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Aceitao dos Termos"}),m.jsx("p",{children:"Ao acessar e usar o aplicativo Grupo Estuda, voc concorda em cumprir e ficar vinculado aos seguintes termos e condies de uso. Se voc no concordar com qualquer parte destes termos, no poder acessar ou usar nosso aplicativo."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Alteraes nos Termos"}),m.jsx("p",{children:"Reservamo-nos o direito de modificar estes termos a qualquer momento. Voc  responsvel por revisar periodicamente quaisquer alteraes. O uso contnuo do aplicativo aps a publicao de alteraes constitui aceitao dessas alteraes."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Uso do Aplicativo"}),m.jsx("p",{children:"O Grupo Estuda  uma plataforma de estudo em grupo que permite aos usurios criar grupos, definir metas de estudo e acompanhar seu progresso. O uso do aplicativo est sujeito s seguintes condies:"}),m.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[m.jsx("li",{children:"Voc no deve usar o aplicativo para qualquer finalidade ilegal ou no autorizada."}),m.jsx("li",{children:"Voc  responsvel por todas as atividades que ocorrem sob sua conta."}),m.jsx("li",{children:"Voc no deve compartilhar material protegido por direitos autorais sem permisso."}),m.jsx("li",{children:"Voc no deve enviar contedo abusivo, obsceno, ameaador ou prejudicial."})]})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Contas de Usurio"}),m.jsx("p",{children:"Para usar determinadas funcionalidades do aplicativo, voc precisa criar uma conta. Ao criar uma conta, voc concorda em fornecer informaes precisas e completas. Voc  responsvel por manter a confidencialidade de sua senha e por restringir o acesso  sua conta."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Assinaturas Premium"}),m.jsx("p",{children:"O Grupo Estuda oferece planos de assinatura premium que fornecem acesso a recursos adicionais. As assinaturas so renovadas automaticamente, a menos que voc cancele antes do prximo perodo de faturamento. Reembolsos so processados de acordo com as polticas da App Store e Google Play."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Contedo do Usurio"}),m.jsx("p",{children:"Ao enviar contedo para o aplicativo (fotos, mensagens, etc.), voc concede ao Grupo Estuda uma licena mundial, no exclusiva e isenta de royalties para usar, reproduzir e distribuir esse contedo em conexo com o servio."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. Limitao de Responsabilidade"}),m.jsx("p",{children:"O Grupo Estuda no ser responsvel por quaisquer danos diretos, indiretos, incidentais ou consequentes resultantes do uso ou da incapacidade de usar o aplicativo."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"8. Lei Aplicvel"}),m.jsx("p",{children:"Estes termos sero regidos e interpretados de acordo com as leis do Brasil, sem considerar conflitos de princpios legais."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"9. Contato"}),m.jsx("p",{children:"Se voc tiver alguma dvida sobre estes Termos de Uso, entre em contato conosco pelo e-mail: contato@grupoestuda.com.br"})]}),m.jsx("p",{className:"pt-4 text-sm text-gray-500",children:"ltima atualizao: 15 de maio de 2025"})]})]})}),lrt=()=>m.jsx(Lr,{children:m.jsxs("div",{className:"container mx-auto py-8 px-4",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6 text-study-primary",children:"Poltica de Privacidade"}),m.jsxs("div",{className:"space-y-6 text-gray-700",children:[m.jsx("section",{children:m.jsx("p",{className:"mb-4",children:"A sua privacidade  importante para ns. Esta Poltica de Privacidade explica como o Grupo Estuda coleta, usa e protege suas informaes quando voc utiliza nosso aplicativo."})}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Informaes que Coletamos"}),m.jsx("p",{className:"mb-2",children:"Podemos coletar os seguintes tipos de informaes:"}),m.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"Informaes de Registro:"})," Nome, endereo de e-mail e senha quando voc cria uma conta."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Informaes de Perfil:"})," Dados que voc opta por adicionar ao seu perfil, como foto, biografia e interesses de estudo."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Dados de Uso:"})," Informaes sobre como voc usa o aplicativo, incluindo metas de estudo, participao em grupos e interaes."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Contedo do Usurio:"})," Qualquer contedo que voc carrega, como fotos, mensagens e comentrios."]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Dados do Dispositivo:"})," Informaes tcnicas sobre seu dispositivo e conexo de internet."]})]})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Como Usamos Suas Informaes"}),m.jsx("p",{children:"Utilizamos suas informaes para:"}),m.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[m.jsx("li",{children:"Fornecer, manter e melhorar nossos servios"}),m.jsx("li",{children:"Personalizar sua experincia e oferecer recursos relevantes"}),m.jsx("li",{children:"Processar transaes de assinatura e enviar notificaes relacionadas"}),m.jsx("li",{children:"Comunicar-nos com voc sobre atualizaes e novos recursos"}),m.jsx("li",{children:"Analisar tendncias e melhorar o desempenho do aplicativo"}),m.jsx("li",{children:"Detectar, investigar e prevenir atividades fraudulentas e violaes"})]})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Compartilhamento de Informaes"}),m.jsx("p",{children:"No vendemos suas informaes pessoais a terceiros. Podemos compartilhar informaes nas seguintes circunstncias:"}),m.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[m.jsx("li",{children:"Com outros membros dos grupos de estudo conforme necessrio para a funcionalidade do aplicativo"}),m.jsx("li",{children:"Com provedores de servios que nos ajudam a operar o aplicativo"}),m.jsx("li",{children:"Para cumprir obrigaes legais ou responder a solicitaes governamentais"}),m.jsx("li",{children:"Se necessrio para proteger direitos, propriedade ou segurana"})]})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Segurana de Dados"}),m.jsx("p",{children:"Implementamos medidas de segurana para proteger suas informaes contra acesso no autorizado, alterao, divulgao ou destruio. No entanto, nenhum mtodo de transmisso pela internet ou armazenamento eletrnico  100% seguro, e no podemos garantir segurana absoluta."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Seus Direitos"}),m.jsx("p",{children:"De acordo com a LGPD (Lei Geral de Proteo de Dados), voc tem direito a:"}),m.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[m.jsx("li",{children:"Acessar e receber uma cpia de seus dados pessoais"}),m.jsx("li",{children:"Retificar dados incorretos ou incompletos"}),m.jsx("li",{children:"Solicitar a excluso de seus dados pessoais"}),m.jsx("li",{children:"Restringir ou se opor ao processamento de seus dados"}),m.jsx("li",{children:"Transferir seus dados para outro servio (portabilidade)"})]})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Dados de Crianas"}),m.jsx("p",{children:"Nossos servios no so direcionados a menores de 13 anos, e no coletamos intencionalmente informaes pessoais de crianas menores de 13 anos. Se descobrirmos que coletamos informaes pessoais de uma criana menor de 13 anos, excluiremos essas informaes prontamente."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. Alteraes na Poltica de Privacidade"}),m.jsx("p",{children:"Podemos atualizar nossa Poltica de Privacidade periodicamente. Notificaremos voc sobre quaisquer alteraes publicando a nova Poltica de Privacidade nesta pgina e, se as alteraes forem significativas, enviaremos uma notificao por e-mail ou dentro do aplicativo."})]}),m.jsxs("section",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"8. Contato"}),m.jsx("p",{children:"Se voc tiver dvidas ou preocupaes sobre esta Poltica de Privacidade ou sobre nossas prticas de dados, entre em contato conosco pelo e-mail: privacidade@grupoestuda.com.br"})]}),m.jsx("p",{className:"pt-4 text-sm text-gray-500",children:"ltima atualizao: 15 de maio de 2025"})]})]})}),crt=()=>{const{user:t,updateUserPlan:e}=It(),{t:r}=Wt(),[n,i]=E.useState((t==null?void 0:t.name)||""),[s,a]=E.useState((t==null?void 0:t.email)||""),[o,l]=E.useState(""),[c,u]=E.useState(""),[d,h]=E.useState(""),[f,g]=E.useState(!1),[v,y]=E.useState(!1),[b,x]=E.useState("2500");E.useEffect(()=>{t&&w()},[t]);const w=async()=>{var T;if(!t)return;const{data:A,error:C}=await ne.from("profiles").select("name, water_goal_ml").eq("id",t.id).single();if(C){console.error("Error fetching profile:",C);return}A&&(i(A.name||""),x(((T=A.water_goal_ml)==null?void 0:T.toString())||"2500"))},S=async A=>{A.preventDefault(),g(!0);try{if(!t)throw new Error("No user found");const C=parseInt(b);if(C<500||C>5e3){de.error("Meta de gua deve estar entre 500ml e 5000ml"),g(!1);return}const{error:T}=await ne.from("profiles").update({name:n,water_goal_ml:C}).eq("id",t.id);if(T)throw T;de.success(r("profile.settings.profileUpdated"))}catch(C){console.error("Error updating profile:",C),de.error("Erro ao atualizar perfil")}finally{g(!1)}},_=async A=>{if(A.preventDefault(),c!==d){de.error(r("profile.settings.passwordsNotMatch"));return}if(c.length<6){de.error("A senha deve ter pelo menos 6 caracteres");return}g(!0);try{const{error:C}=await ne.auth.updateUser({password:c});if(C)throw C;de.success(r("profile.settings.passwordChanged")),y(!1),l(""),u(""),h("")}catch(C){console.error("Error changing password:",C),de.error("Erro ao alterar senha")}finally{g(!1)}};return m.jsxs(Lr,{children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold",children:r("profile.settings.title","Configuraes")}),m.jsx("p",{className:"text-muted-foreground",children:r("profile.settings.description","Gerencie sua conta e preferncias")})]}),m.jsxs($u,{defaultValue:"profile",className:"w-full",children:[m.jsxs(uc,{className:"grid w-full grid-cols-4",children:[m.jsx(Vt,{value:"profile",children:r("profile.settings.profile")}),m.jsx(Vt,{value:"appearance",children:r("profile.settings.appearance","Aparncia")}),m.jsx(Vt,{value:"security",children:r("profile.settings.security")}),m.jsx(Vt,{value:"subscription",children:r("profile.settings.subscription")})]}),m.jsx(oa,{value:"profile",className:"space-y-4 pt-4",children:m.jsxs("form",{onSubmit:S,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{htmlFor:"name",children:r("profile.settings.name")}),m.jsx(Cr,{id:"name",value:n,onChange:A=>i(A.target.value),placeholder:"Seu nome"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{htmlFor:"email",children:r("profile.settings.email")}),m.jsx(Cr,{id:"email",type:"email",value:s,disabled:!0,className:"bg-muted",placeholder:"seu@email.com"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"O email no pode ser alterado"})]}),m.jsx(x5,{}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs(ct,{htmlFor:"water-goal",className:"flex items-center gap-2",children:[m.jsx(IT,{className:"w-4 h-4 text-blue-500"}),"Meta Diria de gua (ml)"]}),m.jsx(Cr,{id:"water-goal",type:"number",min:"500",max:"5000",step:"100",value:b,onChange:A=>x(A.target.value)}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Recomendado: 2000ml-3500ml dependendo da atividade fsica"})]}),m.jsx(ge,{type:"submit",className:"w-full bg-study-primary",disabled:f,children:r(f?"profile.settings.updating":"profile.settings.updateProfile")})]})}),m.jsx(oa,{value:"appearance",className:"space-y-4 pt-4",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[m.jsx(Wfe,{className:"w-4 h-4"}),r("profile.settings.theme","Tema")]}),m.jsx("p",{className:"text-sm text-muted-foreground",children:r("profile.settings.themeDescription","Escolha o tema da interface")})]}),m.jsx(_Pe,{})]})}),m.jsx(oa,{value:"security",className:"space-y-4 pt-4",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium",children:r("profile.settings.accountSecurity")}),m.jsx("p",{className:"text-sm text-gray-500",children:r("profile.settings.manageSecuritySettings")})]}),m.jsx(ge,{variant:"outline",onClick:()=>y(!0),children:r("profile.settings.changePassword")}),m.jsxs("div",{className:"pt-4",children:[m.jsx("h3",{className:"font-medium",children:r("profile.settings.privacy")}),m.jsx("p",{className:"text-sm text-gray-500",children:r("profile.settings.managePrivacy")}),m.jsx("div",{className:"pt-2",children:m.jsx(Ql,{to:"/privacy",className:"text-study-primary hover:underline text-sm",children:r("profile.settings.viewPrivacyPolicy")})})]})]})}),m.jsx(oa,{value:"subscription",className:"space-y-4 pt-4",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium",children:r("profile.settings.currentPlan")}),m.jsx("p",{className:"text-sm mt-1 capitalize font-semibold text-study-primary",children:(t==null?void 0:t.plan)==="premium"?r("profile.settings.premium"):(t==null?void 0:t.plan)==="basic"?r("profile.settings.basic"):r("profile.settings.free")}),(t==null?void 0:t.plan)!=="premium"&&m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:r("profile.settings.upgradeMessage")})]}),m.jsx(Ql,{to:"/my-plan",children:m.jsx(ge,{className:"w-full bg-study-primary",children:(t==null?void 0:t.plan)==="premium"?r("profile.settings.manageSubscription"):r("profile.settings.managePlans")})})]})})]})]}),m.jsx(va,{open:v,onOpenChange:y,children:m.jsxs(Cs,{children:[m.jsxs(Ts,{children:[m.jsx(Ps,{children:r("profile.settings.changePasswordTitle")}),m.jsx(tg,{children:r("profile.settings.changePasswordDescription")})]}),m.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{htmlFor:"currentPassword",children:r("profile.settings.currentPassword")}),m.jsx(Cr,{id:"currentPassword",type:"password",value:o,onChange:A=>l(A.target.value),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{htmlFor:"newPassword",children:r("profile.settings.newPassword")}),m.jsx(Cr,{id:"newPassword",type:"password",value:c,onChange:A=>u(A.target.value),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ct,{htmlFor:"confirmPassword",children:r("profile.settings.confirmPassword")}),m.jsx(Cr,{id:"confirmPassword",type:"password",value:d,onChange:A=>h(A.target.value),required:!0})]}),m.jsx(j0,{children:m.jsx(ge,{type:"submit",className:"bg-study-primary",disabled:f,children:r(f?"profile.settings.changing":"profile.settings.changePassword")})})]})]})})]})},urt=()=>{const{invitations:t,loading:e,acceptInvitation:r,rejectInvitation:n}=C3(),i=Ii(),s=async(a,o)=>{const{error:l}=await r(a,o);l||i(`/group/${o}`)};return e?m.jsx("div",{className:"flex items-center justify-center p-8",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.length===0?m.jsx(mt,{children:m.jsxs(Et,{className:"flex flex-col items-center justify-center p-8",children:[m.jsx(v0,{className:"h-12 w-12 text-muted-foreground mb-4"}),m.jsx("p",{className:"text-muted-foreground text-center",children:"Voc no tem convites pendentes no momento"})]})}):m.jsx("div",{className:"space-y-4",children:t.map(a=>{var o,l;return m.jsxs(mt,{children:[m.jsx(Gn,{children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx(qn,{className:"text-lg",children:((o=a.groups)==null?void 0:o.name)||"Grupo"}),((l=a.groups)==null?void 0:l.description)&&m.jsx(tO,{className:"mt-1",children:a.groups.description})]}),m.jsxs(Mr,{variant:"secondary",children:[m.jsx(ym,{className:"h-3 w-3 mr-1"}),Wj(new Date(a.created_at),{addSuffix:!0,locale:Gj})]})]})}),m.jsx(Et,{children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx(ge,{onClick:()=>s(a.id,a.group_id),className:"flex-1",disabled:e,children:"Aceitar"}),m.jsx(ge,{variant:"outline",onClick:()=>n(a.id),className:"flex-1",disabled:e,children:"Recusar"})]})})]},a.id)})})},drt=()=>{const{t}=Wt();return m.jsx(Lr,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Convites"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie seus convites para grupos de estudo"})]}),m.jsx(urt,{})]})})},hrt=()=>{const{t}=Wt(),e=Ii(),{notifications:r,loading:n,markAsRead:i,markAllAsRead:s,unreadCount:a}=PZ(),[o,l]=E.useState("all"),c=o==="unread"?r.filter(h=>!h.read):r,u=h=>{switch(h){case"leaderboard":return"";case"invitation":return"";case"achievement":return"";case"water_reminder":return"";case"goal_reminder":return"";default:return""}},d=h=>{h.read||i(h.id),h.link&&e(h.link)};return m.jsx(Lr,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Notificaes"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:a>0?`Voc tem ${a} notificao${a>1?"es":""} no lida${a>1?"s":""}`:"Todas as notificaes foram lidas"})]}),a>0&&m.jsxs(ge,{variant:"outline",size:"sm",onClick:s,className:"gap-2",children:[m.jsx(Ofe,{size:16}),"Marcar todas como lidas"]})]}),m.jsx($u,{value:o,onValueChange:h=>l(h),children:m.jsxs(uc,{className:"grid w-full max-w-md grid-cols-2",children:[m.jsxs(Vt,{value:"all",children:["Todas (",r.length,")"]}),m.jsxs(Vt,{value:"unread",children:["No lidas (",a,")"]})]})}),m.jsx("div",{className:"space-y-3",children:n?Array.from({length:5}).map((h,f)=>m.jsx(mt,{className:"p-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Ut,{className:"h-10 w-10 rounded-full"}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsx(Ut,{className:"h-4 w-3/4"}),m.jsx(Ut,{className:"h-3 w-full"}),m.jsx(Ut,{className:"h-3 w-1/4"})]})]})},f)):c.length===0?m.jsx(mt,{className:"p-12",children:m.jsxs("div",{className:"text-center text-muted-foreground",children:[m.jsx("p",{className:"text-lg mb-2",children:""}),m.jsx("p",{children:o==="unread"?"Nenhuma notificao no lida":"Nenhuma notificao ainda"})]})}):c.map(h=>m.jsx(mt,{className:`p-4 cursor-pointer transition-all hover:shadow-md ${h.read?"":"bg-primary/5 border-primary/20"}`,onClick:()=>d(h),children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"text-3xl",children:u(h.type)}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsx("h3",{className:"font-semibold text-sm",children:h.title}),!h.read&&m.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0 mt-1"})]}),m.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:h.message}),m.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:Wj(new Date(h.created_at),{addSuffix:!0,locale:Gj})})]})]})},h.id))})]})})},frt=({onFinish:t})=>{const[e,r]=E.useState(!0),n=E.useRef(t),i=E.useRef(!1);return E.useEffect(()=>{n.current=t},[t]),E.useEffect(()=>{const s=setTimeout(()=>{r(!1)},1e3),a=setTimeout(()=>{i.current||(i.current=!0,n.current())},1300);return()=>{clearTimeout(s),clearTimeout(a)}},[]),m.jsx(E_e,{children:e&&m.jsxs(ov.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-gradient-to-b from-study-primary to-blue-700",children:[m.jsx(ov.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.5},className:"mb-4 rounded-full bg-white p-5",children:m.jsx(Pm,{size:48,className:"text-study-primary"})}),m.jsx(ov.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},className:"mb-2 text-3xl font-bold text-white",children:"Grupo Estuda"}),m.jsx(ov.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.5},className:"text-white opacity-90",children:"Estude em grupo, alcance seus objetivos"})]})})},ss=({children:t})=>{const{user:e,isLoading:r}=It();return r?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:m.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),m.jsx("div",{className:"text-lg text-foreground",children:"Carregando..."})]})}):e?m.jsx(m.Fragment,{children:t}):m.jsx(xye,{to:"/login",replace:!0})},Xe=t=>typeof t=="string",Sx=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},Kq=t=>t==null?"":""+t,prt=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},mrt=/###/g,Xq=t=>t&&t.indexOf("###")>-1?t.replace(mrt,"."):t,Yq=t=>!t||Xe(t),Ow=(t,e,r)=>{const n=Xe(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(Yq(t))return{};const s=Xq(n[i]);!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return Yq(t)?{}:{obj:t,k:Xq(n[i])}},Qq=(t,e,r)=>{const{obj:n,k:i}=Ow(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=Ow(t,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=Ow(t,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=r},grt=(t,e,r,n)=>{const{obj:i,k:s}=Ow(t,e,Object);i[s]=i[s]||[],i[s].push(r)},Mk=(t,e)=>{const{obj:r,k:n}=Ow(t,e);if(r)return r[n]},vrt=(t,e,r)=>{const n=Mk(t,r);return n!==void 0?n:Mk(e,r)},Zce=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?Xe(t[n])||t[n]instanceof String||Xe(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):Zce(t[n],e[n],r):t[n]=e[n]);return t},Eg=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var yrt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const brt=t=>Xe(t)?t.replace(/[&<>"'\/]/g,e=>yrt[e]):t;class xrt{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const wrt=[" ",",","?","!",";"],Srt=new xrt(20),_rt=(t,e,r)=>{e=e||"",r=r||"";const n=wrt.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const i=Srt.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(t);if(!s){const a=t.indexOf(r);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s},tF=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let i=t;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=s;l<n.length;++l)if(l!==s&&(o+=r),o+=n[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;s+=l-s+1;break}i=a}return i},Ik=t=>t&&t.replace("_","-"),Art={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Dk{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||Art,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(Xe(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Dk(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Dk(this.logger,e)}}var Jl=new Dk;class bN{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,l]=a;for(let c=0;c<l;c++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let c=0;c<l;c++)o.apply(o,[e,...n])})}}class Zq extends bN{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,r],n&&(Array.isArray(n)?o.push(...n):Xe(n)&&s?o.push(...n.split(s)):o.push(n)));const l=Mk(this.data,o);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=o[0],r=o[1],n=o.slice(2).join(".")),l||!a||!Xe(n)?l:tF(this.data&&this.data[e]&&this.data[e][r],n,s)}addResource(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,r];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),i=r,r=o[1]),this.addNamespaces(r),Qq(this.data,o,i),s.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(Xe(n[s])||Array.isArray(n[s]))&&this.addResource(e,r,s,n[s],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,r];e.indexOf(".")>-1&&(o=e.split("."),i=n,n=r,r=o[1]),this.addNamespaces(r);let l=Mk(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Zce(l,n,s):l={...l,...n},Qq(this.data,o,l),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var Jce={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,r,n,i))}),e}};const Jq={};class $k extends bN{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),prt(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Jl.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!_rt(e,n,i);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Xe(s)?[s]:s};const c=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return{key:e,namespaces:Xe(s)?[s]:s}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],r),l=o[o.length-1],c=r.lng||this.language,u=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const S=r.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${S}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${S}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:a}const d=this.resolve(e,r);let h=d&&d.res;const f=d&&d.usedKey||a,g=d&&d.exactUsedKey||a,v=Object.prototype.toString.apply(h),y=["[object Number]","[object Function]","[object RegExp]"],b=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!Xe(h)&&typeof h!="boolean"&&typeof h!="number";if(x&&h&&w&&y.indexOf(v)<0&&!(Xe(b)&&Array.isArray(h))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,h,{...r,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(d.res=S,d.usedParams=this.getUsedParamsDetails(r),d):S}if(s){const S=Array.isArray(h),_=S?[]:{},A=S?g:f;for(const C in h)if(Object.prototype.hasOwnProperty.call(h,C)){const T=`${A}${s}${C}`;_[C]=this.translate(T,{...r,joinArrays:!1,ns:o}),_[C]===T&&(_[C]=h[C])}h=_}}else if(x&&Xe(b)&&Array.isArray(h))h=h.join(b),h&&(h=this.extendTranslation(h,e,r,n));else{let S=!1,_=!1;const A=r.count!==void 0&&!Xe(r.count),C=$k.hasDefaultValue(r),T=A?this.pluralResolver.getSuffix(c,r.count,r):"",P=r.ordinal&&A?this.pluralResolver.getSuffix(c,r.count,{ordinal:!1}):"",O=A&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),I=O&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${T}`]||r[`defaultValue${P}`]||r.defaultValue;!this.isValidLookup(h)&&C&&(S=!0,h=I),this.isValidLookup(h)||(_=!0,h=a);const B=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_?void 0:h,D=C&&I!==h&&this.options.updateMissing;if(_||S||D){if(this.logger.log(D?"updateKey":"missingKey",c,l,a,D?I:h),s){const L=this.resolve(a,{...r,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let U=[];const N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&N&&N[0])for(let L=0;L<N.length;L++)U.push(N[L]);else this.options.saveMissingTo==="all"?U=this.languageUtils.toResolveHierarchy(r.lng||this.language):U.push(r.lng||this.language);const j=(L,F,z)=>{const K=C&&z!==h?z:B;this.options.missingKeyHandler?this.options.missingKeyHandler(L,l,F,K,D,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(L,l,F,K,D,r),this.emit("missingKey",L,l,F,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?U.forEach(L=>{const F=this.pluralResolver.getSuffixes(L,r);O&&r[`defaultValue${this.options.pluralSeparator}zero`]&&F.indexOf(`${this.options.pluralSeparator}zero`)<0&&F.push(`${this.options.pluralSeparator}zero`),F.forEach(z=>{j([L],a+z,r[`defaultValue${z}`]||I)})}):j(U,a,I))}h=this.extendTranslation(h,e,r,d,n),_&&h===a&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${a}`),(_||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,S?h:void 0):h=this.options.parseMissingKeyHandler(h))}return i?(d.res=h,d.usedParams=this.getUsedParamsDetails(r),d):h}extendTranslation(e,r,n,i,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=Xe(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const h=e.match(this.interpolator.nestingRegexp);u=h&&h.length}let d=n.replace&&!Xe(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,n.lng||this.language||i.usedLng,n),c){const h=e.match(this.interpolator.nestingRegexp),f=h&&h.length;u<f&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,f=new Array(h),g=0;g<h;g++)f[g]=arguments[g];return s&&s[0]===f[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):a.translate(...f,r)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=Xe(o)?[o]:o;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=Jce.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,s,a,o;return Xe(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,r),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Xe(r.count),f=h&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),g=r.context!==void 0&&(Xe(r.context)||typeof r.context=="number")&&r.context!=="",v=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);d.forEach(y=>{this.isValidLookup(n)||(o=y,!Jq[`${v[0]}-${y}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Jq[`${v[0]}-${y}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(b=>{if(this.isValidLookup(n))return;a=b;const x=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(x,u,b,y,r);else{let S;h&&(S=this.pluralResolver.getSuffix(b,r.count,r));const _=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(x.push(u+S),r.ordinal&&S.indexOf(A)===0&&x.push(u+S.replace(A,this.options.pluralSeparator)),f&&x.push(u+_)),g){const C=`${u}${this.options.contextSeparator}${r.context}`;x.push(C),h&&(x.push(C+S),r.ordinal&&S.indexOf(A)===0&&x.push(C+S.replace(A,this.options.pluralSeparator)),f&&x.push(C+_))}}let w;for(;w=x.pop();)this.isValidLookup(n)||(s=w,n=this.getResource(b,y,w,r))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Xe(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of r)delete i[s]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}const TR=t=>t.charAt(0).toUpperCase()+t.slice(1);class e9{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Jl.create("languageUtils")}getScriptPartFromCode(e){if(e=Ik(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Ik(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Xe(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=TR(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=TR(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=TR(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Xe(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Xe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Xe(e)&&s(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}let Ert=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Crt={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Trt=["v1","v2","v3"],Prt=["v4"],t9={zero:0,one:1,two:2,few:3,many:4,other:5},krt=()=>{const t={};return Ert.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:Crt[e.fc]}})}),t};class jrt{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Jl.create("pluralResolver"),(!this.options.compatibilityJSON||Prt.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=krt(),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=Ik(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,r)}return this.pluralRulesCache[s]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,s)=>t9[i]-t9[s]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:this.getSuffixRetroCompatible(i,r):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Trt.includes(this.options.compatibilityJSON)}}const r9=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=vrt(t,e,r);return!s&&i&&Xe(r)&&(s=tF(t,r,n),s===void 0&&(s=tF(e,r,n))),s},PR=t=>t.replace(/\$/g,"$$$$");class Ort{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Jl.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:v,nestingOptionsSeparator:y,maxReplaces:b,alwaysFormat:x}=e.interpolation;this.escape=r!==void 0?r:brt,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Eg(s):a||"{{",this.suffix=o?Eg(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?Eg(h):f||Eg("$t("),this.nestingSuffix=g?Eg(g):v||Eg(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=b||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=f=>{if(f.indexOf(this.formatSeparator)<0){const b=r9(r,l,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...i,...r,interpolationkey:f}):b}const g=f.split(this.formatSeparator),v=g.shift().trim(),y=g.join(this.formatSeparator).trim();return this.format(r9(r,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...i,...r,interpolationkey:v})};this.resetRegExp();const u=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>PR(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?PR(this.escape(f)):PR(f)}].forEach(f=>{for(o=0;s=f.regex.exec(e);){const g=s[1].trim();if(a=c(g),a===void 0)if(typeof u=="function"){const y=u(e,s,i);a=Xe(y)?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))a="";else if(d){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),a="";else!Xe(a)&&!this.useRawValueToEscape&&(a=Kq(a));const v=f.safeValue(a);if(e=e.replace(s[0],v),d?(f.regex.lastIndex+=a.length,f.regex.lastIndex-=s[0].length):f.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,a;const o=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,a);const f=h.match(/'/g),g=h.match(/"/g);(f&&f.length%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),c&&(a={...c,...a})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${u}${h}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...n},a=a.replace&&!Xe(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=u.shift(),l=u,c=!0}if(s=r(o.call(this,i[1].trim(),a),a),s&&i[0]===e&&!Xe(s))return s;Xe(s)||(s=Kq(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((u,d)=>this.format(u,d,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const Nrt=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();r[u]||(r[u]=c),c==="false"&&(r[u]=!1),c==="true"&&(r[u]=!0),isNaN(c)||(r[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:r}},Cg=t=>{const e={};return(r,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=n+JSON.stringify(s);let o=e[a];return o||(o=t(Ik(n),i),e[a]=o),o(r)}};class Rrt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Jl.create("formatter"),this.options=e,this.formats={number:Cg((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return s=>i.format(s)}),currency:Cg((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return s=>i.format(s)}),datetime:Cg((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return s=>i.format(s)}),relativetime:Cg((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return s=>i.format(s,n.range||"day")}),list:Cg((r,n)=>{const i=new Intl.ListFormat(r,{...n});return s=>i.format(s)})},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Cg(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{const{formatName:c,formatOptions:u}=Nrt(l);if(this.formats[c]){let d=o;try{const h=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},f=h.locale||h.lng||i.locale||i.lng||n;d=this.formats[c](o,f,{...u,...i,...h})}catch(h){this.logger.warn(h)}return d}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}const Mrt=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Irt extends bN{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Jl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,r,n,i){const s={},a={},o={},l={};return e.forEach(c=>{let u=!0;r.forEach(d=>{const h=`${c}|${d}`;!n.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,u=!1,a[h]===void 0&&(a[h]=!0),s[h]===void 0&&(s[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(o[c]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const i=e.split("|"),s=i[0],a=i[1];r&&this.emit("failedLoading",s,a,r),!r&&n&&this.store.addResourceBundle(s,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const o={};this.queue.forEach(l=>{grt(l.loaded,[s],a),Mrt(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{o[c][d]===void 0&&(o[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:s,callback:a});return}this.readingCalls++;const o=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,s*2,a)},s);return}a(c,u)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const c=l(e,r);c&&typeof c.then=="function"?c.then(u=>o(null,u)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,r,o)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Xe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Xe(r)&&(r=[r]);const s=this.queueLoad(e,r,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${r}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${r}loaded namespace ${s} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,r,n,i,l):u=c(e,r,n,i),u&&typeof u.then=="function"?u.then(d=>o(null,d)).catch(o):o(null,u)}catch(u){o(u)}else c(e,r,n,i,o,l)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const n9=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Xe(t[1])&&(e.defaultValue=t[1]),Xe(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),i9=t=>(Xe(t.ns)&&(t.ns=[t.ns]),Xe(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Xe(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),eC=()=>{},Drt=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class oS extends bN{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=i9(e),this.services={},this.logger=Jl,this.modules={external:[]},Drt(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(Xe(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=n9();this.options={...i,...this.options,...i9(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Jl.init(s(this.modules.logger),this.options):Jl.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=Rrt);const d=new e9(this.options);this.store=new Zq(this.options.resources,this.options);const h=this.services;h.logger=Jl,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new jrt(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=s(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Ort(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Irt(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(f){for(var g=arguments.length,v=new Array(g>1?g-1:0),y=1;y<g;y++)v[y-1]=arguments[y];e.emit(f,...v)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new $k(this.services,this.options),this.translator.on("*",function(f){for(var g=arguments.length,v=new Array(g>1?g-1:0),y=1;y<g;y++)v[y-1]=arguments[y];e.emit(f,...v)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,n||(n=eC),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const l=Sx(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),n(d,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eC;const i=Xe(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,r,n){const i=Sx();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=eC),this.services.backendConnector.reload(e,r,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Jce.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=Sx();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=Xe(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{a(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,r,n){var i=this;const s=function(a,o){let l;if(typeof o!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),d=2;d<c;d++)u[d-2]=arguments[d];l=i.options.overloadTranslationOptionHandler([a,o].concat(u))}else l={...o};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||s.keyPrefix);const h=i.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(a)?f=a.map(g=>`${l.keyPrefix}${h}${g}`):f=l.keyPrefix?`${l.keyPrefix}${h}${a}`:a,i.t(f,l)};return Xe(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(r.precheck){const o=r.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(s,e)))}loadNamespaces(e,r){const n=Sx();return this.options.ns?(Xe(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=Sx();Xe(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new e9(n9());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new oS(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eC;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new oS(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new Zq(this.store.data,i),s.services.resourceStore=s.store),s.translator=new $k(s.services,i),s.translator.on("*",function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];s.emit(o,...c)}),s.init(i,r),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Di=oS.createInstance();Di.createInstance=oS.createInstance;Di.createInstance;Di.dir;Di.init;Di.loadResources;Di.reloadResources;Di.use;Di.changeLanguage;Di.getFixedT;Di.t;Di.exists;Di.setDefaultNamespace;Di.hasLoadedNamespace;Di.loadNamespaces;Di.loadLanguages;function $rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lS(t){"@babel/helpers - typeof";return lS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lS(t)}function Lrt(t,e){if(lS(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lS(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Frt(t){var e=Lrt(t,"string");return lS(e)=="symbol"?e:e+""}function Brt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Frt(n.key),n)}}function Urt(t,e,r){return e&&Brt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var eue=[],Vrt=eue.forEach,zrt=eue.slice;function Hrt(t){return Vrt.call(zrt.call(arguments,1),function(e){if(e)for(var r in e)t[r]===void 0&&(t[r]=e[r])}),t}var s9=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Wrt=function(e,r,n){var i=n||{};i.path=i.path||"/";var s=encodeURIComponent(r),a="".concat(e,"=").concat(s);if(i.maxAge>0){var o=i.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(o))}if(i.domain){if(!s9.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(i.domain)}if(i.path){if(!s9.test(i.path))throw new TypeError("option path is invalid");a+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},a9={create:function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),i&&(s.domain=i),document.cookie=Wrt(e,encodeURIComponent(r),s)},read:function(e){for(var r="".concat(e,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var s=n[i];s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(r)===0)return s.substring(r.length,s.length)}return null},remove:function(e){this.create(e,"",-1)}},Grt={name:"cookie",lookup:function(e){var r;if(e.lookupCookie&&typeof document<"u"){var n=a9.read(e.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupCookie&&typeof document<"u"&&a9.create(r.lookupCookie,e,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},qrt={name:"querystring",lookup:function(e){var r;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1),s=i.split("&"),a=0;a<s.length;a++){var o=s[a].indexOf("=");if(o>0){var l=s[a].substring(0,o);l===e.lookupQuerystring&&(r=s[a].substring(o+1))}}}return r}},_x=null,o9=function(){if(_x!==null)return _x;try{_x=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{_x=!1}return _x},Krt={name:"localStorage",lookup:function(e){var r;if(e.lookupLocalStorage&&o9()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupLocalStorage&&o9()&&window.localStorage.setItem(r.lookupLocalStorage,e)}},Ax=null,l9=function(){if(Ax!==null)return Ax;try{Ax=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Ax=!1}return Ax},Xrt={name:"sessionStorage",lookup:function(e){var r;if(e.lookupSessionStorage&&l9()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupSessionStorage&&l9()&&window.sessionStorage.setItem(r.lookupSessionStorage,e)}},Yrt={name:"navigator",lookup:function(e){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},Qrt={name:"htmlTag",lookup:function(e){var r,n=e.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},Zrt={name:"path",lookup:function(e){var r;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof n[e.lookupFromPathIndex]!="string")return;r=n[e.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},Jrt={name:"subdomain",lookup:function(e){var r=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}},tue=!1;try{document.cookie,tue=!0}catch{}var rue=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];tue||rue.splice(1,1);function ent(){return{order:rue,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var nue=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$rt(this,t),this.type="languageDetector",this.detectors={},this.init(e,r)}return Urt(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=Hrt(n,this.options||{},ent()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(s){return s.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(Grt),this.addDetector(qrt),this.addDetector(Krt),this.addDetector(Xrt),this.addDetector(Yrt),this.addDetector(Qrt),this.addDetector(Zrt),this.addDetector(Jrt)}},{key:"addDetector",value:function(r){return this.detectors[r.name]=r,this}},{key:"detect",value:function(r){var n=this;r||(r=this.options.order);var i=[];return r.forEach(function(s){if(n.detectors[s]){var a=n.detectors[s].lookup(n.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),i=i.map(function(s){return n.options.convertDetectedLanguage(s)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(r,n){var i=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(function(s){i.detectors[s]&&i.detectors[s].cacheUserLanguage(r,i.options)}))}}])}();nue.type="languageDetector";const tnt={name:"Grupo Estuda",slogan:"Achieve your study goals together with friends",share:"Share",shareMessage:"Join me on Grupo Estuda! Let's achieve our study goals together."},rnt="Loading...",nnt={groups:"Groups",progress:"Progress",water:"Water",leaders:"Leaders",profile:"Profile",timer:"Timer"},int={getStarted:"Get Started"},snt={title:"Study Groups",search:"Search groups...",create:"Create New Study Group",noGroups:"No study groups found",createFirst:"Create Your First Group",members:"members",fixedGroups:{vestibularBrasil:"Vestibular Brazil"},addSubjects:"Add Subjects",addVestibular:"Add Vestibular Module",deleteSubject:"Delete Subject",subjects:{portuguese:"Portuguese",math:"Mathematics",history:"History",geography:"Geography",physics:"Physics",chemistry:"Chemistry",biology:"Biology",literature:"Literature",english:"English",essay:"Essay Writing"}},ant={title:"Login",email:"Email",password:"Password",loginButton:"Login",registerPrompt:"Don't have an account?",registerButton:"Register here",forgotPassword:"Forgot password?"},ont={title:"Create Account",name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",registerButton:"Register",loginPrompt:"Already have an account?",loginButton:"Login here"},lnt={title:"Choose Your Plan",free:{name:"Free",price:"Free",features:["Join study groups","Track basic activities","Water tracker","Limited leaderboard access"]},basic:{name:"Basic",price:"$4.99/month",features:["All free features","No ads","Advanced progress tracking","Custom group creation"]},premium:{name:"Premium",price:"$9.99/month",features:["All basic features","AI test generation","Unlimited groups","Advanced analytics"]},subscribe:"Subscribe",current:"Your current plan"},cnt={title:"Generate Test",questionsNumber:"Number of questions",selectSubjects:"Select subjects",difficulty:"Difficulty level",difficulties:{easy:"Easy",medium:"Medium",hard:"Hard"},generate:"Generate Test",premiumFeature:"This is a premium feature",upgrade:"Upgrade to unlock",generatedTest:"Generated Test",createAnother:"Create Another Test",saveTest:"Save Test",submitAnswers:"Submit Answers",generating:"Generating...",selectAtLeastOne:"Please select at least one subject",generatingSuccess:"Test generated successfully!",generatingFailed:"Failed to generate test",apiKeyTitle:"Enter OpenAI API Key",apiKeyDescription:"To generate test questions, you need to provide an OpenAI API key",apiKeyPlaceholder:"Enter your OpenAI API key",saveApiKey:"Save & Continue",apiKeySaved:"API key saved successfully",resetTimer:"Timer reset",progress:"Progress",questionsAnswered:"questions answered",yourScore:"Your Score",correct:"Correct",wrong:"Wrong",reviewWrong:"Review Wrong Questions",unansweredWarning:"You left {{count}} question(s) unanswered! Do you want to submit anyway?",correctionSuccess:"Test corrected! You got {{correct}} out of {{total}} questions right.",correctAnswer:"Correct answer",yourAnswer:"Your answer",invalidQuestions:"Some questions were generated incorrectly. Please try generating again.",messages:{excellent:" Excellent! Keep it up!",good:" Good work! You're on the right track.",improving:" Keep studying, you're improving!",keepTrying:" Don't give up! Practice makes perfect."}},unt={title:"Profile",level:"Level",scholar:"Scholar",points:"points",rank:"Rank",toNextLevel:"points to next level",studyStats:"Study Stats",myGroups:"My Groups",achievements:"Achievements",earned:"Earned",locked:"Locked",notificationSettings:"Notification Settings",goalReminders:"Goal Reminders",dailyReminders:"Get daily reminders for your goals",groupActivity:"Group Activity",groupUpdates:"Updates from your study groups",achievementNotifications:"Achievements",achievementAlerts:"Notifications when you earn achievements",weeklyReport:"Weekly Report",progressSummary:"Weekly summary of your progress",logout:"Logout",settings:{profile:"Profile",security:"Security",subscription:"Subscription",name:"Name",email:"Email",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm Password"},achievementNames:{studyWarrior:"Study Warrior",knowledgeSeeker:"Knowledge Seeker",groupLeader:"Group Leader",problemSolver:"Problem Solver",hydrationMaster:"Hydration Master",dedicationStar:"Dedication Star"},achievementDescriptions:{studyWarrior:"Earn 100 study points",knowledgeSeeker:"Earn 500 study points",groupLeader:"Join at least 1 study group",problemSolver:"Earn 1000 study points",hydrationMaster:"Stay hydrated for 7 days",dedicationStar:"Reach level 10"}},dnt={title:"Language",english:"English",portuguese:"Portuguese"},hnt={title:"Progress",pagesRead:"Pages Read",studyTime:"Study Time",exercises:"Exercises",studyStreak:"Study Streak",minutes:"min",days:"days",studyTimeByDay:"Study Time by Day",pagesReadByDay:"Pages Read by Day",studyBySubject:"Study by Subject",day:"Day",week:"Week",month:"Month",year:"Year",individual:"Individual",group:"Group",updated:"Updated",updateSuccess:"Progress updated successfully",updateError:"Could not update data",groupGoalsProgress:"Group Goals Progress",todaySessions:"Today's Study Sessions",todayTotal:"Today's Total",session:"session",sessions:"sessions",noSessionsToday:"No study sessions recorded today",startSessionHint:"Start a session in the Timer to begin!",complete:"complete",percentage:"Percentage"},fnt={title:"Timer",timeElapsed:"Time Elapsed",points:"points",pointsPerMinute:"point per minute",selectGroup:"Select Group",selectSubject:"Select Subject",start:"Start",resume:"Resume",pause:"Pause",stop:"Stop",reset:"Reset",history:"Study History",subject:"Subject",duration:"Duration",date:"Date",noSessions:"No study sessions yet"},pnt={members:"Group Members",inviteMember:"Invite Member",admin:"Admin",addSubject:"Add Subject"},mnt={mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun"},gnt={sendMessage:"Send message",placeholder:"Type your message...",noMessages:"No messages yet. Start the conversation!"},vnt={title:"Settings",profile:"Profile",notifications:"Notifications",language:"Language",logout:"Logout",save:"Save",cancel:"Cancel",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm Password",passwordChanged:"Password changed successfully!",passwordError:"Error changing password",profileUpdated:"Profile updated successfully!",appearance:"Appearance",security:"Security",subscription:"Subscription",waterGoal:"Water Goal (ml)",waterGoalUpdated:"Water goal updated!",privacyPolicy:"Privacy Policy",termsOfUse:"Terms of Use"},ynt={title:"Group Files",upload:"Upload File",noFiles:"No files uploaded yet",uploadFirst:"Be the first to upload a file!",selectFile:"Select file",uploading:"Uploading...",uploadSuccess:"File uploaded successfully!",uploadError:"Error uploading file",download:"Download",delete:"Delete",confirmDelete:"Are you sure you want to delete this file?",deleteSuccess:"File deleted successfully!",deleteError:"Error deleting file",uploadedBy:"Uploaded by",size:"Size"},bnt={title:"Group Goals",addGoal:"Add Goal",noGoals:"No goals set yet",subject:"Subject",type:"Type",target:"Target",current:"Current",progress:"Progress",updateProgress:"Update Progress",enterAmount:"Enter amount",types:{exercises:"Exercises",pages:"Pages",time:"Time (minutes)"},createGoal:"Create Goal",editGoal:"Edit Goal",deleteGoal:"Delete Goal",goalCreated:"Goal created successfully!",goalUpdated:"Goal updated successfully!",goalDeleted:"Goal deleted successfully!"},xnt={title:"Water Intake",intake:"Today's Intake",goal:"Goal",weeklyIntake:"Weekly Water Intake",addWater:"Add Water",todaysIntake:"Today's Intake",ml:"ml",of:"of",remaining:"remaining",completed:"Goal completed!",cups:"cups"},wnt={title:"Leaderboard",global:"Global",group:"Group",week:"Week",month:"Month",allTime:"All Time",selectGroup:"Select group",you:"You",points:"points",rank:"Rank",noData:"No ranking data yet",loading:"Loading rankings..."},Snt={title:"Achievements",earned:"Earned",locked:"Locked",studyWarrior:"Study Warrior",studyWarriorDesc:"Reach 100 points",knowledgeSeeker:"Knowledge Seeker",knowledgeSeekerDesc:"Reach 500 points",problemSolver:"Problem Solver",problemSolverDesc:"Reach 1000 points",studyMaster:"Study Master",studyMasterDesc:"Reach 2500 points",studyLegend:"Study Legend",studyLegendDesc:"Reach 5000 points",groupLeader:"Group Leader",groupLeaderDesc:"Join 1 group",socialButterfly:"Social Butterfly",socialButterflyDesc:"Join 3 groups",communityBuilder:"Community Builder",communityBuilderDesc:"Join 5 groups",consistent:"Consistent",consistentDesc:"Complete 7 study sessions",dedicated:"Dedicated",dedicatedDesc:"Complete 30 study sessions",unstoppable:"Unstoppable",unstoppableDesc:"Complete 100 study sessions",hydrationMaster:"Hydration Master",hydrationMasterDesc:"Keep water goal for 7 days",waterChampion:"Water Champion",waterChampionDesc:"Keep water goal for 30 days"},_nt={title:"Invitations",pending:"Pending Invitations",noInvitations:"No pending invitations",accept:"Accept",decline:"Decline",accepted:"Invitation accepted!",declined:"Invitation declined",expired:"Expired",inviteByEmail:"Invite by email",enterEmail:"Enter email address",send:"Send Invitation",sent:"Invitation sent!",error:"Error sending invitation"},Ant={title:"Notifications",noNotifications:"No notifications",markAllRead:"Mark all as read",markRead:"Mark as read"},Ent={loading:"Loading...",error:"An error occurred",retry:"Retry",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search",noResults:"No results found",confirm:"Confirm",back:"Back",next:"Next",previous:"Previous"},Cnt={app:tnt,loading:rnt,navigation:nnt,home:int,groups:snt,login:ant,register:ont,plans:lnt,aiTests:cnt,profile:unt,language:dnt,progress:hnt,timer:fnt,group:pnt,days:mnt,chat:gnt,settings:vnt,files:ynt,goals:bnt,water:xnt,leaderboard:wnt,achievements:Snt,invitations:_nt,notifications:Ant,common:Ent},Tnt={name:"Grupo Estuda",slogan:"Alcance suas metas de estudo junto com seus amigos",share:"Compartilhar",shareMessage:"Junte-se a mim no Grupo Estuda! Vamos alcanar nossas metas de estudo juntos."},Pnt="Carregando...",knt={groups:"Grupos",progress:"Progresso",water:"gua",leaders:"Ranking",profile:"Perfil",timer:"Cronmetro"},jnt={getStarted:"Comear"},Ont={title:"Grupos de Estudo",search:"Buscar grupos...",create:"Criar Novo Grupo de Estudo",noGroups:"Nenhum grupo de estudo encontrado",createFirst:"Criar Seu Primeiro Grupo",members:"membros",fixedGroups:{vestibularBrasil:"Vestibular Brasil"},addSubjects:"Adicionar Matrias",addVestibular:"Adicionar Mdulo Vestibular",deleteSubject:"Excluir Matria",subjects:{portuguese:"Portugus",math:"Matemtica",history:"Histria",geography:"Geografia",physics:"Fsica",chemistry:"Qumica",biology:"Biologia",literature:"Literatura",english:"Ingls",essay:"Redao"}},Nnt={title:"Entrar",email:"Email",password:"Senha",loginButton:"Entrar",registerPrompt:"No tem uma conta?",registerButton:"Cadastre-se aqui",forgotPassword:"Esqueceu a senha?"},Rnt={title:"Criar Conta",name:"Nome",email:"Email",password:"Senha",confirmPassword:"Confirmar Senha",registerButton:"Cadastrar",loginPrompt:"J tem uma conta?",loginButton:"Faa login aqui"},Mnt={title:"Escolha Seu Plano",free:{name:"Gratuito",price:"Grtis",features:["Participar de grupos de estudo","Acompanhar atividades bsicas","Controle de gua","Acesso limitado ao ranking"]},basic:{name:"Bsico",price:"R$ 19,90/ms",features:["Todos os recursos gratuitos","Sem anncios","Acompanhamento avanado de progresso","Criao de grupos personalizados"]},premium:{name:"Premium",price:"R$ 39,90/ms",features:["Todos os recursos bsicos","Gerao de testes com IA","Grupos ilimitados","Anlises avanadas"]},subscribe:"Assinar",current:"Seu plano atual"},Int={title:"Gerar Teste",questionsNumber:"Nmero de questes",selectSubjects:"Selecionar matrias",difficulty:"Nvel de dificuldade",difficulties:{easy:"Fcil",medium:"Mdio",hard:"Difcil"},generate:"Gerar Teste",premiumFeature:"Este  um recurso premium",upgrade:"Fazer upgrade para desbloquear",generatedTest:"Teste Gerado",createAnother:"Criar Outro Teste",saveTest:"Salvar Teste",submitAnswers:"Enviar Respostas",generating:"Gerando...",selectAtLeastOne:"Por favor, selecione pelo menos uma matria",generatingSuccess:"Teste gerado com sucesso!",generatingFailed:"Falha ao gerar teste",apiKeyTitle:"Digite a Chave da API OpenAI",apiKeyDescription:"Para gerar questes de teste, voc precisa fornecer uma chave da API OpenAI",apiKeyPlaceholder:"Digite sua chave da API OpenAI",saveApiKey:"Salvar e Continuar",apiKeySaved:"Chave da API salva com sucesso",resetTimer:"Cronmetro reiniciado",progress:"Progresso",questionsAnswered:"questes respondidas",yourScore:"Sua Nota",correct:"Certas",wrong:"Erradas",reviewWrong:"Revisar Questes Erradas",unansweredWarning:"Voc deixou {{count}} questo(es) sem resposta! Deseja submeter mesmo assim?",correctionSuccess:"Teste corrigido! Voc acertou {{correct}} de {{total}} questes.",correctAnswer:"Resposta correta",yourAnswer:"Sua resposta",invalidQuestions:"Algumas questes foram geradas incorretamente. Por favor, tente gerar novamente.",messages:{excellent:" Excelente! Continue assim!",good:" Bom trabalho! Voc est no caminho certo.",improving:" Continue estudando, voc est melhorando!",keepTrying:" No desista! A prtica leva  perfeio."}},Dnt={sendMessage:"Enviar mensagem",placeholder:"Digite sua mensagem...",noMessages:"Nenhuma mensagem ainda. Comece a conversa!"},$nt={title:"Idioma",english:"Ingls",portuguese:"Portugus"},Lnt={title:"Configuraes",profile:"Perfil",notifications:"Notificaes",language:"Idioma",logout:"Sair"},Fnt={title:"Cronmetro de Estudo",start:"Iniciar",pause:"Pausar",stop:"Parar",reset:"Reiniciar",resume:"Continuar",timeElapsed:"Tempo Decorrido",selectSubject:"Selecionar Matria",selectGroup:"Selecionar Grupo",pointsPerMinute:"ponto por minuto",points:"pontos",history:"Histrico de Estudos",subject:"Matria",duration:"Durao",date:"Data",noSessions:"Nenhuma sesso de estudo ainda"},Bnt={title:"Arquivos do Grupo",upload:"Enviar Arquivo",noFiles:"Nenhum arquivo enviado ainda",uploadFirst:"Seja o primeiro a enviar um arquivo!",selectFile:"Selecionar arquivo",uploading:"Enviando...",uploadSuccess:"Arquivo enviado com sucesso!",uploadError:"Erro ao enviar arquivo",download:"Baixar",delete:"Excluir",confirmDelete:"Tem certeza que deseja excluir este arquivo?",deleteSuccess:"Arquivo excludo com sucesso!",deleteError:"Erro ao excluir arquivo"},Unt={title:"Metas do Grupo",addGoal:"Adicionar Meta",noGoals:"Nenhuma meta definida ainda",subject:"Matria",type:"Tipo",target:"Meta",current:"Atual",progress:"Progresso",updateProgress:"Atualizar Progresso",enterAmount:"Digite a quantidade",types:{exercises:"Exerccios",pages:"Pginas",time:"Tempo (minutos)"}},Vnt={studyWarrior:"Guerreiro do Estudo",studyWarriorDesc:"Alcance 100 pontos",knowledgeSeeker:"Buscador de Conhecimento",knowledgeSeekerDesc:"Alcance 500 pontos",problemSolver:"Solucionador de Problemas",problemSolverDesc:"Alcance 1000 pontos",studyMaster:"Mestre dos Estudos",studyMasterDesc:"Alcance 2500 pontos",studyLegend:"Lenda dos Estudos",studyLegendDesc:"Alcance 5000 pontos",groupLeader:"Lder de Grupo",groupLeaderDesc:"Participe de 1 grupo",socialButterfly:"Borboleta Social",socialButterflyDesc:"Participe de 3 grupos",communityBuilder:"Construtor de Comunidade",communityBuilderDesc:"Participe de 5 grupos",consistent:"Consistente",consistentDesc:"Complete 7 sesses de estudo",dedicated:"Dedicado",dedicatedDesc:"Complete 30 sesses de estudo",unstoppable:"Imparvel",unstoppableDesc:"Complete 100 sesses de estudo",hydrationMaster:"Mestre da Hidratao",hydrationMasterDesc:"Mantenha a meta de gua por 7 dias",waterChampion:"Campeo da gua",waterChampionDesc:"Mantenha a meta de gua por 30 dias"},znt={title:"Perfil",level:"Nvel",scholar:"Estudioso",points:"pontos",rank:"Posio",toNextLevel:"pontos para o prximo nvel",studyStats:"Estatsticas de Estudo",myGroups:"Meus Grupos",achievements:"Conquistas",earned:"Conquistadas",locked:"Bloqueadas",notificationSettings:"Configuraes de Notificao",goalReminders:"Lembretes de Metas",dailyReminders:"Receber lembretes dirios de suas metas",groupActivity:"Atividade do Grupo",groupUpdates:"Atualizaes dos seus grupos de estudo",achievementNotifications:"Conquistas",achievementAlerts:"Notificaes quando voc conquistar algo",weeklyReport:"Relatrio Semanal",progressSummary:"Resumo semanal do seu progresso",logout:"Sair",settings:{profile:"Perfil",security:"Segurana",subscription:"Assinatura",name:"Nome",email:"Email",currentPassword:"Senha Atual",newPassword:"Nova Senha",confirmPassword:"Confirmar Senha"},achievementNames:{studyWarrior:"Guerreiro do Estudo",knowledgeSeeker:"Buscador de Conhecimento",groupLeader:"Lder de Grupo",problemSolver:"Solucionador de Problemas",hydrationMaster:"Mestre da Hidratao",dedicationStar:"Estrela da Dedicao"},achievementDescriptions:{studyWarrior:"Conquiste 100 pontos de estudo",knowledgeSeeker:"Conquiste 500 pontos de estudo",groupLeader:"Participe de pelo menos 1 grupo de estudo",problemSolver:"Conquiste 1000 pontos de estudo",hydrationMaster:"Mantenha uma boa hidratao por 7 dias",dedicationStar:"Alcance o nvel 10"}},Hnt={title:"Consumo de gua",intake:"Consumo de Hoje",goal:"Meta",weeklyIntake:"Consumo Semanal de gua",addWater:"Adicionar gua",todaysIntake:"Consumo de Hoje"},Wnt={title:"Ranking",global:"Global",group:"Grupo",week:"Semana",month:"Ms",allTime:"Todo Perodo",selectGroup:"Selecionar grupo",you:"Voc",points:"pontos"},Gnt={title:"Progresso",pagesRead:"Pginas Lidas",studyTime:"Tempo de Estudo",exercises:"Exerccios",studyStreak:"Sequncia de Estudos",minutes:"min",days:"dias",studyTimeByDay:"Tempo de Estudo por Dia",pagesReadByDay:"Pginas Lidas por Dia",studyBySubject:"Estudo por Matria",day:"Dia",week:"Semana",month:"Ms",year:"Ano",individual:"Individual",group:"Grupo",updated:"Atualizado",updateSuccess:"Progresso atualizado com sucesso",updateError:"No foi possvel atualizar os dados",groupGoalsProgress:"Progresso das Metas do Grupo",todaySessions:"Sesses de Estudo de Hoje",todayTotal:"Total de Hoje",session:"sesso",sessions:"sesses",noSessionsToday:"Nenhuma sesso de estudo registrada hoje",startSessionHint:"Inicie uma sesso no Timer para comear!",complete:"completo",percentage:"Percentagem"},qnt={members:"Membros do Grupo",inviteMember:"Convidar Membro",admin:"Admin",addSubject:"Adicionar Matria"},Knt={mon:"Seg",tue:"Ter",wed:"Qua",thu:"Qui",fri:"Sex",sat:"Sb",sun:"Dom"},Xnt={app:Tnt,loading:Pnt,navigation:knt,home:jnt,groups:Ont,login:Nnt,register:Rnt,plans:Mnt,aiTests:Int,chat:Dnt,language:$nt,settings:Lnt,timer:Fnt,files:Bnt,goals:Unt,achievements:Vnt,profile:znt,water:Hnt,leaderboard:Wnt,progress:Gnt,group:qnt,days:Knt};Di.use(nue).use(Mxe).init({resources:{en:{translation:Cnt},pt:{translation:Xnt}},fallbackLng:"pt",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const Ynt=new Tve,Qnt=()=>{const[t,e]=E.useState(!0),r=E.useCallback(()=>{e(!1)},[]);return m.jsx(Bye,{children:m.jsx(Dpe,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:m.jsx(kve,{client:Ynt,children:m.jsx(BY,{children:m.jsx(Uye,{children:m.jsxs(JX,{children:[m.jsx(Rpe,{}),m.jsx(pme,{}),t?m.jsx(frt,{onFinish:r}):m.jsx(kye,{children:m.jsxs(Sye,{children:[m.jsx(Qr,{path:"/",element:m.jsx(IAe,{})}),m.jsx(Qr,{path:"/login",element:m.jsx(EJe,{})}),m.jsx(Qr,{path:"/register",element:m.jsx(TJe,{})}),m.jsx(Qr,{path:"/terms",element:m.jsx(ort,{})}),m.jsx(Qr,{path:"/privacy",element:m.jsx(lrt,{})}),m.jsx(Qr,{path:"/groups",element:m.jsx(ss,{children:m.jsx(oOe,{})})}),m.jsx(Qr,{path:"/group/:groupId",element:m.jsx(ss,{children:m.jsx(kNe,{})})}),m.jsx(Qr,{path:"/invitations",element:m.jsx(ss,{children:m.jsx(drt,{})})}),m.jsx(Qr,{path:"/notifications",element:m.jsx(ss,{children:m.jsx(hrt,{})})}),m.jsx(Qr,{path:"/progress",element:m.jsx(ss,{children:m.jsx(vq,{})})}),m.jsx(Qr,{path:"/group/:groupId/progress",element:m.jsx(ss,{children:m.jsx(vq,{})})}),m.jsx(Qr,{path:"/timer",element:m.jsx(ss,{children:m.jsx(lJe,{})})}),m.jsx(Qr,{path:"/water",element:m.jsx(ss,{children:m.jsx(uJe,{})})}),m.jsx(Qr,{path:"/leaderboard",element:m.jsx(ss,{children:m.jsx(hJe,{})})}),m.jsx(Qr,{path:"/profile",element:m.jsx(ss,{children:m.jsx(SJe,{})})}),m.jsx(Qr,{path:"/profile/settings",element:m.jsx(ss,{children:m.jsx(crt,{})})}),m.jsx(Qr,{path:"/plans",element:m.jsx(ss,{children:m.jsx(PJe,{})})}),m.jsx(Qr,{path:"/my-plan",element:m.jsx(ss,{children:m.jsx(RJe,{})})}),m.jsx(Qr,{path:"/generate-test",element:m.jsx(ss,{children:m.jsx(art,{})})}),m.jsx(Qr,{path:"*",element:m.jsx(_Je,{})})]})})]})})})})})})};N7(document.getElementById("root")).render(m.jsx(BY,{children:m.jsx(Qnt,{})}));
